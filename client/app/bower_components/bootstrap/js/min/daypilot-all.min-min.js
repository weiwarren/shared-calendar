if("undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.$){DayPilot.$=function(e){return document.getElementById(e)},DayPilot.mo=function(e,t){if(t=t||window.event,t.layerX){var i={x:t.layerX,y:t.layerY};return e?i:i}return t.offsetX?{x:t.offsetX,y:t.offsetY}:null},DayPilot.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),DayPilot.isIE=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var e=document.createElement("div");e.innerHTML="<!--[if IE 8]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),DayPilot.browser.ie9=function(){var e=document.createElement("div");e.innerHTML="<!--[if IE 9]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),DayPilot.browser.ielt9=function(){var e=document.createElement("div");e.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(e,t){if(t=t||window.event,"undefined"!=typeof t.offsetX){var i={x:t.offsetX+1,y:t.offsetY+1};if(!e)return i;for(var a=t.srcElement;a&&a!==e;)"SPAN"!==a.tagName&&(i.x+=a.offsetLeft,a.offsetTop>0&&(i.y+=a.offsetTop-a.scrollTop)),a=a.offsetParent;return a?i:null}if("undefined"!=typeof t.layerX){var i={x:t.layerX,y:t.layerY,$f:t.target};if(!e)return i;for(var a=t.target;a&&"absolute"!==a.style.position&&"relative"!==a.style.position;)a=a.parentNode,DayPilot.isKhtml&&(i.y+=a.scrollTop);for(;a&&a!==e;)i.x+=a.offsetLeft,i.y+=a.offsetTop-a.scrollTop,a=a.offsetParent;return a?i:null}return null},DayPilot.mo3=function(e,t){t=t||window.event;var i=DayPilot.page(t);if(i){var a=DayPilot.abs(e);return{x:i.x-a.x,y:i.y-a.y}}return DayPilot.mo2(e,t)},DayPilot.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},DayPilot.Queue=function(){var e=this;this.items=[],this.index=0,this.add=function(t){e.items.push(t),e.testNext()},this.testNext=function(){var t=e.items[e.index];"function"==typeof t?setTimeout(e.doNext):(e.clear(),setTimeout(e.testNext,100))},this.doNext=function(){var t=e.items[e.index];"function"==typeof t&&(t(),e.index+=1),e.testNext()},this.clear=function(){0!==e.items.length&&(e.items=[],e.index=0)}},DayPilot.dynlist=function(e){var t={};return t.each=function(t){if(t)for(var i=0;i<e.length;i++){var a=function(e){return function(){t(e)}};setTimeout(a(e[i]))}},t.seqEach=function(t){function i(a){a>=e.length||(t(e[a]),setTimeout(i(a+1)))}t&&i(0)},t},DayPilot.list=function(e){var t=[];if(t.each=function(e){if(e)for(var i=0;i<this.length;i++)e(t[i])},t.addProps=function(e){var t=DayPilot.list(this);if(e)for(var i in e)t[i]=e[i];return t},t.map=function(e,t){var i,a,n;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),s=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),a=DayPilot.list(),n=0;s>n;){var l,r;n in o&&(l=o[n],r=e.call(i,l,n,o),a[n]=r),n++}return a},DayPilot.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else"object"==typeof e&&t.push(e);return t},DayPilot.line=function(e,t,i,a,n){var o={x:e,y:t},s={x:i,y:a,deg:DayPilot.deg(e,t,i,a)};if(a>t){var l=t;t=a,a=l,l=e,e=i,i=l}var r=DayPilot.deg(e,t,i,a),c=function(){var n=Math.abs(e-i),o=Math.abs(t-a);return Math.sqrt(n*n+o*o)}(),d=function(){var n=Math.abs(e-i),o=Math.abs(t-a),s=(e+i)/2,l=(t+a)/2,r=Math.sqrt(n*n+o*o);return s-r/2}(),h=function(){return(t+a)/2}(),u=document.createElement("div");u.setAttribute("style","border:1px solid black;width:"+c+"px;height:0px;-moz-transform:rotate("+r+"deg);-webkit-transform:rotate("+r+"deg);-ms-transform:rotate("+r+"deg);transform:rotate("+r+"deg);position:absolute;top:"+h+"px;left:"+d+"px;");var f=document.createElement("div");if(f.appendChild(u),n){var c=6,v=s.y-c,p=s.x-c,r=r;s.y>o.y&&(r-=180);var y=document.createElement("div");y.style.borderColor="transparent black transparent transparent",y.style.borderWidth=c+"px",y.style.borderStyle="solid",y.style.position="absolute",y.style.left=p+"px",y.style.top=v+"px",y.style.transform="rotate("+r+"deg)",f.appendChild(y)}return f},DayPilot.deg=function(e,t,i,a){var n=Math.abs(e-i),o=Math.abs(t-a),s,l=(e+i)/2,r=(t+a)/2,c=Math.sqrt(n*n+o*o),d=l-c/2,h=r;n=c/2,s=Math.abs(l-d),o=Math.sqrt(Math.abs(e-d)*Math.abs(e-d)+Math.abs(t-h)*Math.abs(t-h));var u=(o*o-n*n-s*s)/(2*n*s),f=Math.acos(u),v=180*f/Math.PI;return v},DayPilot.complete=function(e){return"complete"===document.readyState?void e():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var e=0;e<DayPilot.complete.list.length;e++){var t=DayPilot.complete.list[e];t()}DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(e))},DayPilot.page=function(e){return e=e||window.event,"undefined"!=typeof e.pageX?{x:e.pageX,y:e.pageY}:"undefined"!=typeof e.clientX?{x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.abs=function(e,t){if(!e)return null;var i={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};if(e.getBoundingClientRect){var a=null;try{a=e.getBoundingClientRect()}catch(n){a={top:e.offsetTop,$x:e.offsetLeft}}i.x=a.left,i.y=a.top;var o=DayPilot.doc();i.x-=o.clientLeft||0,i.y-=o.clientTop||0;var s=DayPilot.pageOffset();if(i.x+=s.x,i.y+=s.y,t){var l=DayPilot.absOffsetBased(e,!1),t=DayPilot.absOffsetBased(e,!0);i.x+=t.x-l.x,i.y+=t.y-l.y,i.w=t.w,i.h=t.h}return i}return DayPilot.absOffsetBased(e,t)},DayPilot.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},DayPilot.absOffsetBased=function(e,t){for(var i={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(e);)e=DayPilot.op(e),i.x-=e.scrollLeft,i.y-=e.scrollTop,t&&(i.x<0&&(i.w+=i.x,i.x=0),i.y<0&&(i.h+=i.y,i.y=0),e.scrollLeft>0&&i.x+i.w>e.clientWidth&&(i.w-=i.x+i.w-e.clientWidth),e.scrollTop&&i.y+i.h>e.clientHeight&&(i.h-=i.y+i.h-e.clientHeight)),i.x+=e.offsetLeft,i.y+=e.offsetTop;var a=DayPilot.pageOffset();return i.x+=a.x,i.y+=a.y,i},DayPilot.wd=function(){var e=DayPilot.isIEQuirks,t=document.documentElement.clientHeight;e&&(t=document.body.clientHeight);var i=document.documentElement.clientWidth;e&&(i=document.body.clientWidth);var a=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,o={};return o.width=i,o.height=t,o.scrollTop=a,o.scrollLeft=n,o},DayPilot.op=function(e){try{return e.offsetParent}catch(t){return document.body}},DayPilot.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},DayPilot.doc=function(){var e=document.documentElement;return e&&e.clientHeight?e:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var e=DayPilot.doc();return{x:e.scrollLeft,y:e.scrollTop}},DayPilot.ac=function(e,t){if(!t)var t=[];for(var i=0;e.children&&i<e.children.length;i++)t.push(e.children[i]),DayPilot.ac(e.children[i],t);return t},DayPilot.indexOf=function(e,t){if(!e||!e.length)return-1;for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},DayPilot.contains=function(e,t){return-1!==DayPilot.indexOf(e,t)},DayPilot.rfa=function(e,t){var i=DayPilot.indexOf(e,t);-1!==i&&e.splice(i,1)},DayPilot.sheet=function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet||e.appendChild(document.createTextNode(""));var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e);var i=!!e.styleSheet,a={};return a.rules=[],a.commit=function(){try{i&&(e.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},a.add=function(t,a,n){if(i)return void this.rules.push(t+"{"+a+"}");if(e.sheet.insertRule)e.sheet.insertRule(t+"{"+a+"}",n);else{if(!e.sheet.addRule)throw"No CSS registration method found";e.sheet.addRule(t,a,n)}},a},DayPilot.Debug=function(e){var t=this;this.printToBrowserConsole=!1,this.messages=[],this.$2N=null,this.clear=function(){this.messages=[],t.$2N&&(t.$2N.innerHTML="")},this.hide=function(){DayPilot.de(t.$2N),t.$2N=null},this.show=function(){t.$2N&&t.hide();var i=e.nav.top,a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.style.backgroundColor="black",a.style.color="#ccc",a.style.overflow="auto",a.style.webkitUserSelect="auto",a.style.MozUserSelect="all",a.onclick=function(){t.hide()};for(var n=0;n<this.messages.length;n++){var o=t.messages[n],s=o.$2O();a.appendChild(s)}this.$2N=a,i.appendChild(a)},this.message=function(e,t){var i={};i.time=new DayPilot.Date,i.level=t||"debug",i.text=e,i.$2O=function(){var e=document.createElement("div");switch(e.innerHTML=i.time+" ("+i.level+"): "+i.text,i.level){case"error":e.style.color="red";break;case"warning":e.style.color="orange";break;case"info":e.style.color="white";break;case"debug":}return e},this.messages.push(i),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(i)}},DayPilot.re=function(e,t,i){if(i)if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent){var a=function(t){i.call(e,t)};e.attachEvent("on"+t,a)}},DayPilot.ue=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},DayPilot.tr=function(e){return e?e.replace(/^\s+|\s+$/g,""):""},DayPilot.ds=function(e){return DayPilot.Date.toStringSortable(e)},DayPilot.gs=function(e,t){var i=e;if(i.currentStyle)var a=i.currentStyle[t];else if(window.getComputedStyle)var a=document.defaultView.getComputedStyle(i,null).getPropertyValue(t);return"undefined"==typeof a&&(a=""),a},DayPilot.ea=function(e){for(var t="",i=0;i<e.length;i++)(e[i]||"number"==typeof e[i])&&(e[i].isDayPilotDate?e[i]=e[i].toStringSortable():e[i].getFullYear&&(e[i]=DayPilot.ds(e[i])),t+=encodeURIComponent(e[i])),i+1<e.length&&(t+="&");return t},DayPilot.he=function(e){var t=e.replace(/&/g,"&amp;");return t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")},DayPilot.ci=function(e){var t=e.cellIndex;if(t&&t>0)return t;var i=e.parentNode,a=i.cells.length;for(t=0;a>t;t++)if(i.cells[t]===e)return t;return null},DayPilot.us=function(e){if(e){e.setAttribute("unselectable","on"),e.style.userSelect="none",e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.webkitUserSelect="none";for(var t=0;t<e.childNodes.length;t++)1===e.childNodes[t].nodeType&&DayPilot.us(e.childNodes[t])}},DayPilot.pu=function(e){var t=e.attributes,i,a,n;if(t)for(a=t.length,i=0;a>i;i+=1)t[i]&&(n=t[i].name,"function"==typeof e[n]&&(e[n]=null));if(t=e.childNodes)for(a=t.length,i=0;a>i;i+=1)var o=DayPilot.pu(e.childNodes[i])},DayPilot.puc=function(e){var t=e.childNodes,i,a;if(t){var a=t.length;for(i=0;a>i;i+=1)DayPilot.pu(e.childNodes[i])}},DayPilot.de=function(e){if(e)if(DayPilot.isArray(e))for(var t=0;t<e.length;t++)DayPilot.de(e[t]);else e.parentNode&&e.parentNode.removeChild(e)},DayPilot.gr=function(e){for(var t=0,i=e.parentNode;i.previousSibling;)i=i.previousSibling,"TR"===i.tagName&&t++;return t},DayPilot.fade=function(e,t,i){if(e){var a=50,n="none"!==e.style.display,o=t>0,s=0>t;if(0!==t){if(o?e.status="in":s&&(e.status="out"),o&&!n)e.target=parseFloat(e.style.opacity),e.opacity=0,e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.display="";else if(s&&!e.target)e.target=e.style.opacity;else{var l=e.opacity,r=Math.floor(10*(l+t))/10;o&&r>e.target&&(r=e.target),s&&0>r&&(r=0);var c=100*r;e.opacity=r,e.style.opacity=r,e.style.filter="alpha(opacity="+c+")"}if(o&&(e.opacity>=e.target||e.opacity>=1)||s&&e.opacity<=0){if(e.target=null,s){e.style.opacity=e.target,e.opacity=e.target;var d=e.target?"alpha(opacity="+100*e.target+")":null;e.style.filter=d,e.style.display="none"}i&&"function"==typeof i&&(delete e.status,i())}else e.messageTimeout=setTimeout(function(){DayPilot.fade(e,t,i)},a)}}},DayPilot.sw=function(e){return e?e.offsetWidth-e.clientWidth:0},DayPilot.swa=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.width="200px",e.style.height="100px",e.style.overflow="auto";var t=document.createElement("div");t.style.width="300px",t.style.height="300px",e.appendChild(t),document.body.appendChild(e);var i=DayPilot.sw(e);return document.body.removeChild(e),i},DayPilot.sh=function(e){return e?e.offsetHeight-e.clientHeight:0},DayPilot.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},DayPilot.ua=function(e){if("string"==typeof e||"number"==typeof e)return[e];for(var t={},i=[],a=0,n=e.length;n>a;++a)e[a]in t||(i.push(e[a]),t[e[a]]=1);return i},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function e(e,a){var n={w:e.offsetWidth,h:e.offsetHeight,x:parseInt(e.style.left),y:parseInt(e.style.top)};n.height=e.style.height,n.width=e.style.width,n.top=e.style.top,n.left=e.style.left,n.toString=function(){return"w: "+this.w+" h:"+this.h};var o={};if(o.finished=null,o.vertical="center",o.horizontal="center",a)for(var s in a)o[s]=a[s];e.style.visibility="hidden",e.style.display="";var l=a.animation||"fast",r=t(l);r.div=e,r.i=0,r.target=n,r.config=o,i(r)}function t(e){var t=function(){var e=[];e.time=10;var t,i=.08;t=.1;for(var a=t;1.2>a;a+=i)e.push(a),t=a;i=.03;for(var a=t;a>.8;a-=i)e.push(a),t=a;for(var a=t;1>=a;a+=i)e.push(a),t=a;return e},i=function(){var e=[];e.time=15;var t,i=.04;t=.1;for(var a=t;1>=a;a+=i)e.push(a),t=a;return e},a=function(){var e=[];e.time=9;var t,i=.04;t=.1;for(var a=t;1>=a;a+=i)e.push(a),t=a;return e},n={fast:a,slow:i,jump:t};return n[e]||(e="fast"),n[e]()}function i(e){var t=e.div,a=e[e.i],n=a*e.target.h,o;switch(e.config.vertical){case"center":o=e.target.y-(n-e.target.h)/2;break;case"top":o=e.target.y;break;case"bottom":o=e.target.y-(n-e.target.h);break;default:throw"Unexpected 'vertical' value."}var s=a*e.target.w,l;switch(e.config.horizontal){case"left":l=e.target.x;break;case"center":l=e.target.x-(s-e.target.w)/2;break;case"right":l=e.target.x-(s-e.target.w);break;default:throw"Unexpected 'horizontal' value."}var r=DayPilot.wd(),c=r.height+r.scrollTop-(o+n);0>c&&(o+=c);var d=r.width-(l+s);0>d&&(l+=d),t.style.height=n+"px",t.style.top=o+"px",t.style.width=s+"px",t.style.left=l+"px",t.style.visibility="visible",e.i++,e.i<e.length-1?setTimeout(function(e){return function(){i(e)}}(e),e.time):(t.style.width=e.target.width,t.style.height=e.target.height,t.style.top=e.target.top,t.style.left=e.target.left,"function"==typeof e.config.finished&&e.config.finished())}DayPilot.pop=e}(),DayPilot.Util={},DayPilot.Util.addClass=function(e,t){if(t&&e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.addClass(e[i],t);else{if(!e.className)return void(e.className=t);var a=new RegExp("(^|\\s)"+t+"($|\\s)");a.test(e.className)||(e.className=e.className+" "+t)}},DayPilot.Util.addClassToString=function(e,t){if(!e)return t;var i=new RegExp("(^|\\s)"+t+"($|\\s)");return i.test(e)?e:e+" "+t},DayPilot.Util.removeClassFromString=function(e,t){if(!e)return"";var i=new RegExp("(^|\\s)"+t+"($|\\s)");return e.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(e,t){if(e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.removeClass(e[i],t);else{var a=new RegExp("(^|\\s)"+t+"($|\\s)");e.className=e.className.replace(a," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(e){var t=[];for(var i in e)t.push(i),t.push(e[i]);return t.join("-")},DayPilot.Util.propArray=function(e,t){var i=[];if(!e||!e.length)return i;for(var a=0;a<e.length;a++)i.push(e[a][t]);return i},DayPilot.Util.updatePropsFromArray=function(e,t,i){for(var a=0;a<i.length;a++)e[a][t]=i[a]},DayPilot.Util.copyProps=function(e,t,i){if(e)if("undefined"==typeof i)for(var a in e)t[a]=e[a];else for(var n=0;n<i.length;n++){var a=i[n];t[a]=e[a]}},DayPilot.Util.createArrayCopy=function(e,t){if(!DayPilot.isArray(e))return[];for(var i=[],a=0;a<e.length;a++){var n={};DayPilot.Util.copyProps(e[a],n,t),i.push(n)}return i},DayPilot.Util.avg=function(e,t){return(e+t)/2},DayPilot.Util.div=function(e,t,i,a,n){var o=document.createElement("div");return(t||i||a||n)&&(0>a&&(t+=a,a*=-1),0>n&&(i+=n,n*=-1),o.style.position="absolute","number"==typeof t&&(o.style.left=t+"px"),"number"==typeof i&&(o.style.top=i+"px"),"number"==typeof a&&(o.style.width=a+"px"),"number"==typeof n&&(o.style.height=n+"px")),e&&e.appendChild(o),o},DayPilot.Util.overlaps=function(e,t,i,a){return e=e.isDayPilotDate?e.getTime():e,i=i.isDayPilotDate?i.getTime():i,t=t.isDayPilotDate?t.getTime():t,a=a.isDayPilotDate?a.getTime():a,!(i>=t||e>=a)},DayPilot.Util.mouseButton=function(e){var t={};if(e=e||window.event,"undefined"==typeof e.which)switch(e.button){case 1:t.left=!0;break;case 4:t.middle=!0;break;case 2:t.right=!0;break;case 0:t.unknown=!0}else switch(e.which){case 1:t.left=!0;break;case 2:t.middle=!0;break;case 3:t.right=!0}return t},DayPilot.Util.membersPlain=function(e){var t=DayPilot.Util.members(e,2),i=function(e){for(var t=0;t<e.length;t++){var i=e[t],a=i.name;i.obsolete&&(a+=" (obsolete)"),i.noCssOnly&&(a+=" (!cssOnly)"),i.aspnet&&(a+=" (ASP.NET)"),i.mvc&&(a+="(MVC)"),e[t]=a}};return i(t.events),i(t.methods),i(t.properties),t},DayPilot.Util.members=function(e,t){var i=[],a=[],n=[],o=e&&e.members?e.members.obsolete:[],s=e&&e.members?e.members.noCssOnly:[],l=e&&e.members?e.members.ignore:[],r=e&&e.members&&e.members.ignoreFilter?e.members.ignoreFilter:function(){return!1};for(var c in e)if(0!==c.indexOf("$")&&0!==c.indexOf("_")&&0!==c.indexOf("number")&&0!==c.indexOf("is")&&"v"!==c&&!DayPilot.contains(l,c)&&!r(c))if(0!==c.indexOf("on"))if("function"!=typeof e[c])if("object"!=typeof e[c])n.push(c);else{var d=e[c];if(0===t){n.push(c);continue}if(d&&d.nodeType>0){n.push(c);continue}if(d instanceof DayPilot.Bubble){n.push(c);continue}if(d instanceof DayPilot.Date){n.push(c);continue}if(d instanceof DayPilot.Menu){n.push(c);continue}if(d instanceof DayPilot.Scheduler){n.push(c);continue}if(DayPilot.isArray(d)){n.push(c);continue}null===d&&n.push(c);var h=null;"number"==typeof t&&(h=t-1);for(var u=DayPilot.Util.members(d,h),f=0;f<u.events.length;f++)i.push(c+"."+u.events[f].name);for(var f=0;f<u.methods.length;f++)a.push(c+"."+u.methods[f].name);for(var f=0;f<u.properties.length;f++)n.push(c+"."+u.properties[f].name)}else a.push(c);else i.push(c);i.sort(),a.sort(),n.sort();var v=function(e){for(var t=0;t<e.length;t++){var i=e[t],a={};a.name=i,e[t]=a,DayPilot.contains(o,i)&&(a.obsolete=!0),DayPilot.contains(s,i)&&(a.noCssOnly=!0),-1!==i.indexOf("CallBack")&&(a.aspnet=!0,a.mvc=!0),-1!==i.indexOf("PostBack")&&(a.aspnet=!0),-1!==i.indexOf("Notify")&&(a.aspnet=!0,a.mvc=!0)}};return v(i),v(a),v(n),{events:i,methods:a,properties:n}},DayPilot.Util.replaceCharAt=function(e,t,i){return e.substr(0,t)+i+e.substr(t+i.length)},DayPilot.Areas={},DayPilot.Areas.attach=function(e,t,i){var a=i.areas,n=i.allowed||function(){return!0};DayPilot.re(e,"mousemove",function(i){!e.active&&n()&&DayPilot.Areas.showAreas(e,t,i,a)}),DayPilot.re(e,"mouseout",function(t){DayPilot.Areas.hideAreas(e,t)}),a=$0J(t,a);for(var o=0;o<a.length;o++){var s=a[o],l=s.v||"Visible";if("Visible"===l){var r=DayPilot.Areas.createArea(e,t,s);e.appendChild(r)}}};var $0J=function(e,t){return DayPilot.isArray(t)||(t=e.areas,t||(e.cache?t=e.cache.areas:e.data&&(t=e.data.areas))),t};DayPilot.Areas.showAreas=function(e,t,i,a){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var n=0;n<DayPilot.Areas.all.length;n++){var o=DayPilot.Areas.all[n];o!==e&&DayPilot.Areas.hideAreas(o,i)}if(!e.active&&(e.active={},DayPilot.isArray(a)||(a=t.areas,a||(t.cache?a=t.cache.areas:t.data&&(a=t.data.areas))),a&&0!==a.length&&!(e.areas&&e.areas.length>0))){e.areas=[];for(var n=0;n<a.length;n++){var s=a[n],l=s.v||"Visible";if("Hover"===l){var r=DayPilot.Areas.createArea(e,t,s);e.areas.push(r),e.appendChild(r),DayPilot.Areas.all.push(e)}}e.active.children=DayPilot.ac(e)}}},DayPilot.Areas.createArea=function($b,e,$0K){var a=document.createElement("div");a.isActiveArea=!0,a.setAttribute("unselectable","on");var w=$0K.w||$0K.width,h=$0K.h||$0K.height,$0L=$0K.css||$0K.className;if("undefined"!=typeof $0K.style&&a.setAttribute("style",$0K.style),a.style.position="absolute","undefined"!=typeof w&&(a.style.width=w+"px"),"undefined"!=typeof h&&(a.style.height=h+"px"),"undefined"!=typeof $0K.right&&(a.style.right=$0K.right+"px"),"undefined"!=typeof $0K.top&&(a.style.top=$0K.top+"px"),"undefined"!=typeof $0K.left&&(a.style.left=$0K.left+"px"),"undefined"!=typeof $0K.bottom&&(a.style.bottom=$0K.bottom+"px"),"undefined"!=typeof $0K.html&&$0K.html&&(a.innerHTML=$0K.html),$0L&&(a.className=$0L),$0K.backColor&&(a.style.background=$0K.backColor),"ResizeEnd"===$0K.action||"ResizeStart"===$0K.action||"Move"===$0K.action){if(e.calendar.isCalendar)switch($0K.action){case"ResizeEnd":$0K.cursor="s-resize",$0K.dpBorder="bottom";break;case"ResizeStart":$0K.cursor="n-resize",$0K.dpBorder="top";break;case"Move":$0K.cursor="move"}if(e.calendar.isScheduler||e.calendar.isMonth)switch($0K.action){case"ResizeEnd":$0K.cursor="e-resize",$0K.dpBorder="right";break;case"ResizeStart":$0K.cursor="w-resize",$0K.dpBorder="left";break;case"Move":$0K.cursor="move"}a.onmousemove=function(e,t,i){return function(t){var t=t||window.event;e.style.cursor=i.cursor,i.dpBorder&&(e.dpBorder=i.dpBorder),t.cancelBubble=!0}}($b,e,$0K),a.onmouseout=function(e,t,i){return function(t){e.style.cursor=""}}($b,e,$0K)}if("Move"===$0K.action&&e.isEvent&&e.calendar.internal.touch){var $0M=function(e,t,i){return function(i){i.cancelBubble=!0;var a=t.calendar.internal.touch,n=i.touches?i.touches[0]:i,o={x:n.pageX,y:n.pageY};t.calendar.coords=a.relativeCoords(i),a.preventEventTap=!0,a.startMoving(e,o)}}($b,e,$0K);DayPilot.re(a,DayPilot.touch.start,$0M)}return"Move"===$0K.action&&e.isRow&&e.calendar.internal.touch,"Bubble"===$0K.action&&e.isEvent&&(a.onmousemove=function(e,t,i){return function(e){t.calendar.bubble&&t.calendar.bubble.showEvent(t)}}($b,e,$0K),a.onmouseout=function(e,t,i){return function(e){"undefined"!=typeof DayPilot.Bubble&&t.calendar.bubble&&t.calendar.bubble.hideOnMouseOut()}}($b,e,$0K)),"HoverMenu"===$0K.action&&(a.onmousemove=function($b,e,$0K){return function(ev){var m=$0K.menu;"string"==typeof m&&(m=eval(m)),m&&m.show&&(m.visible?m.source&&"undefined"!=typeof m.source.id&&m.source.id!==e.id&&m.show(e):m.show(e),m.cancelHideTimeout())}}($b,e,$0K),a.onmouseout=function($b,e,$0K){return function(ev){var m=$0K.menu;"string"==typeof m&&(m=eval(m)),m&&m.hideOnMouseOver&&m.delayedHide()}}($b,e,$0K)),a.onmousedown=function(e,t,i){return function(e){if("function"==typeof i.onmousedown&&i.onmousedown(e),"Move"===i.action&&t.isRow){var a=t.$.row,n=t.calendar.internal.rowtools;n.startMoving(a)}var o=!0;if(o){if("Move"===i.action||"ResizeEnd"===i.action||"ResizeStart"===i.action)return;e=e||window.event,e.cancelBubble=!0}}}($b,e,$0K),a.onclick=function($b,e,$0K){return function(ev){var ev=ev||window.event;switch($0K.action){case"JavaScript":var f=$0K.js;"string"==typeof f&&(f=eval("0, "+$0K.js)),"function"==typeof f&&f.call(this,e);break;case"ContextMenu":var m=$0K.menu;"string"==typeof m&&(m=eval(m)),m&&m.show&&m.show(e);break;case"CallBack":alert("callback not implemented yet, id: "+$0K.id)}ev.cancelBubble=!0}}($b,e,$0K),a},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(e,t){if(e&&e&&e.active){var i=e.active,a=e.areas;if(i&&i.children){var t=t||window.event;if(t){var n=t.toElement||t.relatedTarget;if(~DayPilot.indexOf(i.children,n))return}}if(!a||0===a.length)return void(e.active=null);DayPilot.de(a),e.active=null,e.areas=[],DayPilot.rfa(DayPilot.Areas.all,e),i.children=null}},DayPilot.Areas.hideAll=function(e){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var t=0;t<DayPilot.Areas.all.length;t++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[t],e)},DayPilot.Action=function(e,t,i,a){this.calendar=e,this.isAction=!0,this.action=t,this.params=i,this.data=a,this.notify=function(){e.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){e.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){e.queue.add(this)},this.toJSON=function(){var e={};return e.name=this.action,e.params=this.params,e.data=this.data,e}},DayPilot.Selection=function(e,t,i,a){this.menuType="selection",this.start=e.isDayPilotDate?e:new DayPilot.Date(e),this.end=t.isDayPilotDate?t:new DayPilot.Date(t),this.resource=i,this.root=a,this.toJSON=function(e){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t}},DayPilot.Link=function(e,t){this.isLink=!0,this.data=e,this.calendar=t,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var e={};return e.from=this.data.from,e.to=this.data.to,e.id=this.data.id,e.type=this.data.type,e}},DayPilot.Event=function($0U,$R,$10){var e=this;this.calendar=$R,this.data=$0U?$0U:{},this.part=$10?$10:{},"undefined"==typeof this.data.id&&(this.data.id=this.data.value);var $11={},$12=["id","text","start","end","resource"];this.isEvent=!0,this.temp=function(){if($11.dirty)return $11;for(var t=0;t<$12.length;t++)$11[$12[t]]=e.data[$12[t]];return $11.dirty=!0,$11},this.copy=function(){var t={};return DayPilot.Util.copyProps(e.data,t),t},this.commit=function(){if($11.dirty){for(var t=0;t<$12.length;t++)e.data[$12[t]]=$11[$12[t]];$11.dirty=!1}},this.dirty=function(){return $11.dirty},this.id=function(t){return"undefined"==typeof t?e.data.id:void(this.temp().id=t)},this.value=function(t){return"undefined"==typeof t?e.id():void e.id(t)},this.text=function(t){return"undefined"==typeof t?e.data.text:(this.temp().text=t,void this.client.innerHTML(t))},this.start=function(t){return"undefined"==typeof t?new DayPilot.Date(e.data.start):void(this.temp().start=new DayPilot.Date(t))},this.end=function(t){return"undefined"==typeof t?$R&&"Date"==$R.eventEndSpec?new DayPilot.Date(e.data.end).getDatePart().addDays(1):new DayPilot.Date(e.data.end):void(this.temp().end=new DayPilot.Date(t))},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof $13?e.data.allday:void(this.temp().allday=$13)},this.isAllDay=this.allday,this.resource=function(t){return"undefined"==typeof t?e.data.resource:void(this.temp().resource=t)},this.recurrent=function(){return e.data.recurrent},this.recurrentMasterId=function(){return e.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return e.cache?e.cache.bubbleHtml||e.data.bubbleHtml:e.data.bubbleHtml},this.tag=function(t){var i=e.data.tag;if(!i)return null;if("undefined"==typeof t)return e.data.tag;for(var a=e.calendar.tagFields,n=-1,o=0;o<a.length;o++)t===a[o]&&(n=o);if(-1===n)throw"Field name not found.";return i[n]},this.client={},this.client.innerHTML=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.html?e.cache.html:"undefined"!=typeof e.data.html?e.data.html:e.data.text:void(e.data.html=t)},this.client.html=this.client.innerHTML,this.client.header=function(t){return"undefined"==typeof t?e.data.header:void(e.data.header=t)},this.client.cssClass=function(t){return"undefined"==typeof t?e.data.cssClass:void(e.data.cssClass=t)},this.client.toolTip=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.toolTip?e.cache.toolTip:"undefined"!=typeof e.data.toolTip?e.data.toolTip:e.data.text:void(e.data.toolTip=t)},this.client.backColor=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.backColor?e.cache.backColor:"undefined"!=typeof e.data.backColor?e.data.backColor:e.calendar.eventBackColor:void(e.data.backColor=t)},this.client.borderColor=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.borderColor?e.cache.borderColor:"undefined"!=typeof e.data.borderColor?e.data.borderColor:e.calendar.eventBorderColor:void(e.data.borderColor=t)},this.client.barColor=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.barColor?e.cache.barColor:"undefined"!=typeof e.data.barColor?e.data.barColor:e.calendar.durationBarColor:void(e.data.barColor=t)},this.client.barVisible=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.barHidden?!e.cache.barHidden:e.calendar.durationBarVisible&&!e.data.barHidden:void(e.data.barHidden=!t)},this.client.contextMenu=function($13){return"undefined"==typeof $13?e.oContextMenu?e.oContextMenu:e.data.contextMenu?eval(e.data.contextMenu):null:void(e.oContextMenu=$13)},this.client.moveEnabled=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.moveDisabled?!e.cache.moveDisabled:"Disabled"!==e.calendar.eventMoveHandling&&!e.data.moveDisabled:void(e.data.moveDisabled=!t)},this.client.resizeEnabled=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.resizeDisabled?!e.cache.resizeDisabled:"Disabled"!==e.calendar.eventResizeHandling&&!e.data.resizeDisabled:void(e.data.resizeDisabled=!t)},this.client.rightClickEnabled=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.rightClickDisabled?!e.cache.rightClickDisabled:"Disabled"!==e.calendar.rightClickHandling&&!e.data.rightClickDisabled:void(e.data.rightClickDisabled=!t)},this.client.clickEnabled=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.clickDisabled?!e.cache.clickDisabled:"Disabled"!==e.calendar.clickHandling&&!e.data.clickDisabled:void(e.data.clickDisabled=!t)},this.client.deleteEnabled=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.deleteDisabled?!e.cache.deleteDisabled:"Disabled"!==e.calendar.eventDeleteHandling&&!e.data.deleteDisabled:void(e.data.deleteDisabled=!t)},this.client.doubleClickEnabled=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.doubleClickDisabled?!e.cache.doubleClickDisabled:"Disabled"!==e.calendar.eventDoubleClickHandling&&!e.data.doubleClickDisabled:void(e.data.doubleClickDisabled=!t)},this.client.deleteClickEnabled=function(t){return"undefined"==typeof t?e.cache&&"undefined"!=typeof e.cache.deleteDisabled?!e.cache.deleteDisabled:"Disabled"!==e.calendar.eventDeleteHandling&&!e.data.deleteDisabled:void(e.data.deleteDisabled=!t)},this.toJSON=function(t){var i={};if(i.value=this.id(),i.id=this.id(),i.text=this.text(),i.start=this.start().toJSON(),i.end=this.end().toJSON(),i.resource=this.resource(),i.isAllDay=!1,i.recurrentMasterId=this.recurrentMasterId(),i.tag={},e.calendar.tagFields)for(var a=e.calendar.tagFields,n=0;n<a.length;n++)i.tag[a[n]]=this.tag(a[n]);return i}},DayPilot.Task=function(e,t){if(!e)throw"Trying to initialize DayPilot.Task with null data parameter";
var i=this,a=null;if(e instanceof DayPilot.Event)a=e,this.data=e.data.task;else{if(e instanceof DayPilot.Task)return e;this.data=e.isTaskWrapper?e.data:e}var n={},o=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=t,this.temp=function(){if(n.dirty)return n;for(var e=0;e<o.length;e++)n[o[e]]=i.data[o[e]];return n.dirty=!0,n},this.copy=function(){var e={};return DayPilot.Util.copyProps(i.data,e),e},this.commit=function(){if(n.dirty){for(var e=0;e<o.length;e++)i.data[o[e]]=n[o[e]];n.dirty=!1}},this.dirty=function(){return n.dirty},this.id=function(e){return"undefined"==typeof e?i.data.id:void(this.temp().id=e)},this.text=function(e){return"undefined"==typeof e?i.data.text:(this.temp().text=e,void this.client.innerHTML(e))},this.start=function(e){return"undefined"==typeof e?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(e))},this.end=function(e){return"undefined"==typeof e?t&&"Date"===t.eventEndSpec?new DayPilot.Date(i.data.end).getDatePart().addDays(1):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(e))},this.type=function(e){return"undefined"==typeof e?a?a.data.type:i.data.type:void(this.temp().type=e)},this.complete=function(e){return"undefined"==typeof e?i.data.complete?i.data.complete:0:void(this.temp().complete=e)},this.children=function(){var e=[];e.add=function(e){var t=new DayPilot.Task(e);this.data.children||(this.data.children=[]),this.children.push(t.data)};for(var i=0;this.data.children&&i<this.data.children.length;i++)e.push(new DayPilot.Task(this.data.children[i],t));return e},this.toJSON=function(e){var t={};return t.id=this.id(),t.text=this.text(),t.start=this.start().toJSON(),t.end=this.end().toJSON(),t.type=this.type(),t.tags={},DayPilot.Util.copyProps(this.data.tags,t.tags),t},this.row={};var s=this.row;s.expanded=function(e){return"undefined"==typeof e?i.data.row?!i.data.row.collapsed:!0:(i.data.row||(i.data.row={}),!!i.data.row.collapsed!=!e&&t.internal.rowObjectForTaskData(i.data).toggle(),i.data.row.collapsed=!e,void 0)},s.expand=function(){s.expanded(!0)},s.collapse=function(){s.expanded(!1)},s.toggle=function(){s.expanded(!s.expanded())}},DayPilot.request=function(e,t,i,a){var n=DayPilot.createXmlHttp();n&&(n.open("POST",e,!0),n.setRequestHeader("Content-type","text/plain"),n.onreadystatechange=function(){return 4===n.readyState?200!==n.status&&304!==n.status?void(a?a(n):window.console&&console.log("HTTP error "+n.status)):void t(n):void 0},4!==n.readyState&&("object"==typeof i&&(i=DayPilot.JSON.stringify(i)),n.send(i)))},DayPilot.ajax=function(e){var t=DayPilot.createXmlHttp();if(t){var i=e.method||"GET",a=e.success||function(){},n=e.error||function(){},o=e.data,s=e.url;t.open(i,s,!0),t.setRequestHeader("Content-type","text/plain"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||304===t.status){var e={};e.request=t,a(e)}else if(n){var e={};e.request=t,n(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&("object"==typeof o&&(o=DayPilot.JSON.stringify($18)),t.send(o))}},DayPilot.createXmlHttp=function(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}return e},DayPilot.TimeSpan=function(e){var t=864e5,i=36e5,a=6e4,n=1e3;this.ticks=e,this.toString=function(e){if(!e)return this.days()+"."+this.hours()+":"+this.minutes()+":"+this.seconds()+"."+this.milliseconds();var t=this.minutes();t=(10>t?"0":"")+t;var i=e;return i=i.replace("mm",t),i=i.replace("m",this.minutes()),i=i.replace("H",this.hours()),i=i.replace("h",this.hours()),i=i.replace("d",this.days()),i=i.replace("s",this.seconds())},this.totalHours=function(){return e/i},this.totalDays=function(){return e/t},this.totalHours=function(){return e/i},this.totalMinutes=function(){return e/a},this.totalSeconds=function(){return e/$1n},this.days=function(){return Math.floor(this.totalDays())},this.hours=function(){var a=e-this.days()*t;return Math.floor(a/i)},this.minutes=function(){var t=e-Math.floor(this.totalHours())*i;return Math.floor(t/a)},this.seconds=function(){var t=e-Math.floor(this.totalMinutes())*a;return Math.floor(t/n)},this.milliseconds=function(){return e%n}},DayPilot.Date=function(e,t){if("undefined"==typeof e)return this.isDayPilotDate=!0,this.d=DayPilot.Date.fromLocal(),this.ticks=this.d.getTime(),void(this.value=this.toStringSortable());if(e.isDayPilotDate)return e;var i=DayPilot.Date.Cache.Ctor;if(i[e])return i[e];if("string"==typeof e){var a=DayPilot.Date.fromStringSortable(e);return i[e]=a,a}if("number"==typeof e)return new DayPilot.Date(new Date(e));if(!e.getFullYear)throw"date parameter is not a Date object: "+e;t?(this.isDayPilotDate=!0,this.d=DayPilot.Date.fromLocal(e),this.ticks=this.d.getTime()):(this.isDayPilotDate=!0,this.d=e,this.ticks=this.d.getTime()),this.value=this.toStringSortable()},DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.prototype.addDays=function(e){return new DayPilot.Date(DayPilot.Date.addDays(this.d,e))},DayPilot.Date.prototype.addHours=function(e){return this.addTime(60*e*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(e){return this.addTime(e)},DayPilot.Date.prototype.addMinutes=function(e){return this.addTime(60*e*1e3)},DayPilot.Date.prototype.addMonths=function(e){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,e))},DayPilot.Date.prototype.addSeconds=function(e){return this.addTime(1e3*e)},DayPilot.Date.prototype.addTime=function(e){return new DayPilot.Date(DayPilot.Date.addTime(this.d,e))},DayPilot.Date.prototype.addYears=function(e){var t=this.clone();return t.d.setUTCFullYear(this.getYear()+e),t},DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d))},DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return this.d.getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d)},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(e){if(null===e)return!1;if(e.isDayPilotDate)return DayPilot.Date.equals(this.d,e.d);throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var e=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfYear=function(){var e=this.getYear(),t=new Date;return t.setUTCFullYear(e,0,1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfWeek=function(e){var t=DayPilot.Date.firstDayOfWeek(this.d,e);return new DayPilot.Date(t)},DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d))},DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d)},DayPilot.Date.prototype.lastDayOfMonth=function(){var e=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date(e)},DayPilot.Date.prototype.weekNumber=function(){var e=this.firstDayOfYear(),t=(this.getTime()-e.getTime())/864e5;return Math.ceil((t+e.dayOfWeek()+1)/7)},DayPilot.Date.prototype.local=function(){return"undefined"==typeof this.offset?new DayPilot.Date(this.d):this.addMinutes(this.offset)},DayPilot.Date.prototype.weekNumberISO=function(){var e=!1,t=this.dayOfYear(),i=this.firstDayOfYear().dayOfWeek(),a=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===i&&(i=7),0===a&&(a=7);var n=8-i;(4===i||4===a)&&(e=!0);var o=Math.ceil((t-n)/7),s=o;return n>=4&&(s+=1),s>52&&!e&&(s=1),0===s&&(s=this.firstDayOfYear().addDays(-1).weekNumberISO()),s},DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(e,t){return"undefined"==typeof e?this.toStringSortable():new $1M(e,t).print(this)},DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d)},DayPilot.Date.parse=function(e,t){var i=new $1M(t);return i.parse(e)},DayPilot.Date.fromStringSortable=function(e){var t;if(!e)throw"Can't create DayPilot.Date from empty string";var i=e.length,a=10===i,n=i=19,o=25===i;if(!a&&!n&&!o)throw"Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";if(DayPilot.Date.Cache.Parsing[e])return DayPilot.Date.Cache.Parsing[e];var s=e.substring(0,4),l=e.substring(5,7),r=e.substring(8,10),c=new Date;if(c.setUTCFullYear(s,l-1,r),a)return c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),t=new DayPilot.Date(c),DayPilot.Date.Cache.Parsing[e]=t,t;var d=e.substring(11,13),h=e.substring(14,16),u=e.substring(17,19);c.setUTCHours(d),c.setUTCMinutes(h),c.setUTCSeconds(u),c.setUTCMilliseconds(0);var t=new DayPilot.Date(c);if(n)return DayPilot.Date.Cache.Parsing[e]=t,t;var f=e[20],v=e.substring(21,23),p=e.substring(24),y=60*v+p;return"-"===f&&(y=-y),t=t.addMinutes(-y),t.offset=$1V,DayPilot.Date.Cache.Parsing[e]=t,t},DayPilot.Date.addDays=function(e,t){var i=new Date;return i.setTime(e.getTime()+24*t*60*60*1e3),i},DayPilot.Date.addMinutes=function(e,t){var i=new Date;return i.setTime(e.getTime()+60*t*1e3),i},DayPilot.Date.addMonths=function(e,t){if(0===t)return e;var i=e.getUTCFullYear(),a=e.getUTCMonth()+1;if(t>0){for(;t>=12;)t-=12,i++;t>12-a?(i++,a=t-(12-a)):a+=t}else{for(;-12>=t;)t+=12,i--;t>=a?(i--,a=12-(t+a)):a+=t}var n=DayPilot.Date.clone(e);return n.setUTCFullYear(i),n.setUTCMonth(a-1),n},DayPilot.Date.addTime=function(e,t){var i=new Date;return i.setTime(e.getTime()+t),i},DayPilot.Date.clone=function(e){var t=new Date;return DayPilot.Date.dateFromTicks(e.getTime())},DayPilot.Date.daysDiff=function(e,t){if(e.getTime()>t.getTime())return null;for(var i=0,a=DayPilot.Date.getDate(e),n=DayPilot.Date.getDate(t);n>a;)a=DayPilot.Date.addDays(a,1),i++;return i},DayPilot.Date.daysInMonth=function(e,t){e.getUTCFullYear&&(t=e.getUTCMonth()+1,e=e.getUTCFullYear());var i=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==t?i[t-1]:e%4!==0?i[1]:e%100===0&&e%400!==0?i[1]:i[1]+1},DayPilot.Date.daysSpan=function(e,t){if(e.getTime()===t.getTime())return 0;var i=DayPilot.Date.daysDiff(e,t);return DayPilot.Date.equals(t,DayPilot.Date.getDate(t))&&i--,i},DayPilot.Date.diff=function(e,t){if(!(e&&t&&e.getTime&&t.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return e.getTime()-t.getTime()},DayPilot.Date.equals=function(e,t){return e.getTime()===t.getTime()},DayPilot.Date.fromLocal=function(e){e||(e=new Date);var t=new Date;return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours()),t.setUTCMinutes(e.getMinutes()),t.setUTCSeconds(e.getSeconds()),t.setUTCMilliseconds(e.getMilliseconds()),t},DayPilot.Date.firstDayOfMonth=function(e,t){var i=new Date;return i.setUTCFullYear(e,t-1,1),i.setUTCHours(0),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i},DayPilot.Date.firstDayOfWeek=function(e,t){for(var t=t||0,i=e.getUTCDay();i!==t;)e=DayPilot.Date.addDays(e,-1),i=e.getUTCDay();return e},DayPilot.Date.dateFromTicks=function(e){var t=new Date;return t.setTime(e),t},DayPilot.Date.getDate=function(e){var t=DayPilot.Date.clone(e);return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},DayPilot.Date.getStart=function(e,t,i){var a=DayPilot.Date.firstDayOfMonth(e,t),n=DayPilot.Date.firstDayOfWeek(a,i);return n},DayPilot.Date.getTime=function(e){var t=DayPilot.Date.getDate(e);return DayPilot.Date.diff(e,t)},DayPilot.Date.hours=function(e,t){var i=e.getUTCMinutes();10>i&&(i="0"+i);var a=e.getUTCHours();if(t){var n=12>a,a=a%12;0===a&&(a=12);var o=n?"AM":"PM";return a+":"+i+" "+o}return a+":"+i},DayPilot.Date.lastDayOfMonth=function(e,t){var i=DayPilot.Date.firstDayOfMonth(e,t),a=DayPilot.Date.daysInMonth(e,t);return i.setUTCDate(a),i},DayPilot.Date.max=function(e,t){return e.getTime()>t.getTime()?e:t},DayPilot.Date.min=function(e,t){return e.getTime()<t.getTime()?e:t},DayPilot.Date.today=function(){var e=new Date,t=new Date;return t.setUTCFullYear(e.getFullYear()),t.setUTCMonth(e.getMonth()),t.setUTCDate(e.getDate()),t},DayPilot.Date.toLocal=function(e){e||(e=new Date);var t=new Date;return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours()),t.setMinutes(e.getUTCMinutes()),t.setSeconds(e.getUTCSeconds()),t.setMilliseconds(e.getUTCMilliseconds()),t},DayPilot.Date.toStringSortable=function(e){if(e.isDayPilotDate)return e.toStringSortable();var t=e,i=t.getUTCSeconds();10>i&&(i="0"+i);var a=t.getUTCMinutes();10>a&&(a="0"+a);var n=t.getUTCHours();10>n&&(n="0"+n);var o=t.getUTCDate();10>o&&(o="0"+o);var s=t.getUTCMonth()+1;10>s&&(s="0"+s);var l=t.getUTCFullYear();if(0>=l)throw"The minimum year supported is 1.";return 10>l?l="000"+l:100>l?l="00"+l:1e3>l&&(l="0"+l),l+"-"+s+"-"+o+"T"+n+":"+a+":"+i};var $1M=function(e,t){"string"==typeof t&&(t=DayPilot.Locale.find(t));var t=t||DayPilot.Locale.US,i=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(e){return e.getYear()}},{seq:"MMMM",expr:"[a-z]*",str:function(e){var i=t.monthNames[e.getMonth()];return i}},{seq:"MMM",expr:"[a-z]*",str:function(e){var i=t.monthNamesShort[e.getMonth()];return i}},{seq:"MM",expr:"[0-9]{2,2}",str:function(e){var t=e.getMonth()+1;return 10>t?"0"+t:t}},{seq:"M",expr:"[0-9]{1,2}",str:function(e){var t=e.getMonth()+1;return t}},{seq:"dddd",expr:"[a-z]*",str:function(e){var i=t.dayNames[e.getDayOfWeek()];return i}},{seq:"ddd",expr:"[a-z]*",str:function(e){var i=t.dayNamesShort[e.getDayOfWeek()];return i}},{seq:"dd",expr:"[0-9]{2,2}",str:function(e){var t=e.getDay();return 10>t?"0"+t:t}},{seq:"d",expr:"[0-9]{1,2}",str:function(e){var t=e.getDay();return t}},{seq:"m",expr:"[0-9]{1,2}",str:function(e){var t=e.getMinutes();return t}},{seq:"mm",expr:"[0-9]{2,2}",str:function(e){var t=e.getMinutes();return 10>t?"0"+t:t}},{seq:"H",expr:"[0-9]{1,2}",str:function(e){var t=e.getHours();return t}},{seq:"HH",expr:"[0-9]{2,2}",str:function(e){var t=e.getHours();return 10>t?"0"+t:t}},{seq:"h",expr:"[0-9]{1,2}",str:function(e){var t=e.getHours(),t=t%12;return 0===t&&(t=12),t}},{seq:"hh",expr:"[0-9]{2,2}",str:function(e){var t=e.getHours(),t=t%12;0===t&&(t=12);var i=t;return 10>i?"0"+i:i}},{seq:"tt",expr:"(AM|PM)",str:function(e){var t=e.getHours(),i=12>t;return i?"AM":"PM"}},{seq:"s",expr:"[0-9]{1,2}",str:function(e){var t=e.getSeconds();return t}},{seq:"ss",expr:"[0-9]{2,2}",str:function(e){var t=e.getSeconds();return 10>t?"0"+t:t}}],a=function(e){return e.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s")},this.findSequence=function(t){var n=e.indexOf(t);return-1===n?null:{findValue:function(n){for(var o=a(e),s=0;s<i.length;s++){var l=i[s].length,r=t===i[s].seq,c=i[s].expr;r&&(c="("+c+")"),o=o.replace(i[s].seq,c)}try{var d=new RegExp(o),h=d.exec(n);return h?parseInt(h[1]):null}catch(u){throw"unable to create regex from: "+o}}}},this.print=function(t){for(var a=function(e){for(var t=0;t<i.length;t++)if(i[t].seq===e)return i[t];return null},n=e.length<=0,o=0,s=[];!n;){var l=e.substring(o),r=/(.)\1*/.exec(l);if(r&&r.length>0){var c=r[0],d=a(c);s.push(d?d:c),o+=c.length,n=e.length<=o}else n=!0}for(var h=0;h<s.length;h++){var u=s[h];"string"!=typeof u&&(s[h]=u.str(t))}return s.join("")},this.parse=function(e){var t=this.year.findValue(e);if(!t)return null;var i=this.month.findValue(e),a=this.day.findValue(e),n=this.hours?this.hours.findValue(e):0,o=this.minutes?this.minutes.findValue(e):0,s=this.seconds?this.seconds.findValue(e):0,l=new Date;return l.setUTCFullYear(t,i-1,a),l.setUTCHours(n),l.setUTCMinutes(o),l.setUTCSeconds(s),l.setUTCMilliseconds(0),new DayPilot.Date(l)},this.init()};DayPilot.Action=function(e,t,i,a){this.calendar=e,this.isAction=!0,this.action=t,this.params=i,this.data=a,this.notify=function(){e.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){e.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){e.queue.add(this)},this.toJSON=function(){var e={};return e.name=this.action,e.params=this.params,e.data=this.data,e}},DayPilot.Locale=function(e,t){if(this.id=e,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,t)for(var i in t)this[i]=t[i]},DayPilot.Locale.all={},DayPilot.Locale.find=function(e){if(!e)return null;var t=e.toLowerCase();return t.length>2&&(t=DayPilot.Util.replaceCharAt(t,2,"-")),DayPilot.Locale.all[t]},DayPilot.Locale.register=function(e){DayPilot.Locale.all[e.id]=e},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","sá."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","mércores","xoves","venres","sábado"],dayNamesShort:["do","lu","ma","mé","xo","ve","sá"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["sø","må","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],dayNamesShort:["N","Pn","Wt","Śr","Cz","Pt","So"],monthNames:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","št","pi","so"],monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sö","må","ti","on","to","fr","lö"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(){var e=this;
this.views=[],this.switchers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=new DayPilot.Date,this.navigator.updateMode=function(t){var i=e.navigator.control;i&&(i.selectMode=t,i.select(e.day))},this.addView=function(t,i){var a;if("string"==typeof t){if(a=document.getElementById(t),!a)throw"Element not found: "+t}else a=t;var n=a,o={};return o.isView=!0,o.id=n.id,o.control=n,o.options=i||{},o.hide=function(){n.hide?n.hide():n.nav&&n.nav.top?n.nav.top.style.display="none":n.style.display="none"},o.sendNavigate=function(e){var t=function(){return n.backendUrl?!0:"function"==typeof WebForm_DoCallback&&n.uniqueID?!0:!1}();t&&n.commandCallBack&&n.commandCallBack("navigate",{day:e})},o.show=function(){e.$2P(),n.show?n.show():n.nav&&n.nav.top?n.nav.top.style.display="":n.style.display=""},o.selectMode=function(){if(o.options.navigatorSelectMode)return o.options.navigatorSelectMode;if(n.isCalendar)switch(n.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(n.isMonth)switch(n.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(o),o},this.addButton=function(t,i){var a;if("string"==typeof t){if(a=document.getElementById(t),!a)throw"Element not found: "+t}else a=t;var n=this.$2Q(i);n||(n=this.addView(i));var o={};return o.isSwitcher=!0,o.element=a,o.id=a.id,o.view=n,o.onClick=function(t){e.show(o),e.$2R(o),t=t||window.event,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},DayPilot.re(a,"click",o.onClick),this.switchers.push(o),o},this.select=function(e){var t=this.$2S(e);t?t.onClick():this.switchers.length>0&&this.switchers[0].onClick()},this.$2S=function(e){for(var t=0;t<this.switchers.length;t++){var i=this.switchers[t];if(i.id===e)return i}return null},this.$2R=function(e){if(this.selectedClass){for(var t=0;t<this.switchers.length;t++){var i=this.switchers[t];DayPilot.Util.removeClass(i.element,this.selectedClass)}DayPilot.Util.addClass(e.element,this.selectedClass)}},this.addNavigator=function(t){e.navigator.control=t,t.timeRangeSelectedHandling="JavaScript",t.onTimeRangeSelected=function(){var i,a,n;if(1===t.api)i=arguments[0],a=arguments[1],n=arguments[2];else{var o=arguments[0];i=o.start,a=o.end,n=o.day}if(e.day=n,e.active.sendNavigate(e.day),e.onTimeRangeSelected){var o={};o.start=i,o.end=a,o.day=n,o.target=e.active.control,e.onTimeRangeSelected(o)}}},this.show=function(t){var i,a;if(t.isSwitcher)a=t,i=a.view;else if(i=t.isView?t:this.$2Q(t),this.active===i)return;if(e.onSelect){var n={};n.source=a?a.element:null,n.target=i.control,e.onSelect(n)}this.active=i,i.show();var o=i.selectMode();e.navigator.updateMode(o),e.active.sendNavigate(this.day)},this.$2Q=function(e){for(var t=0;t<this.views.length;t++)if(this.views[t].control===e)return this.views[t];return null},this.$2P=function(){for(var e=0;e<this.views.length;e++)this.views[e].hide()}},function(){if(!DayPilot.Global.defaultCss){var e=DayPilot.sheet();e.add(".bubble_default_main","cursor: default;"),e.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),e.add(".calendar_default_main","border: 1px solid #999; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #666;background: #eee;"),e.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #999;"),e.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),e.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),e.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),e.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),e.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),e.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),e.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),e.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),e.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),e.add(".calendar_default_event","cursor: default;"),e.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),e.add(".calendar_default_shadow_inner","background-color: #666666;	opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),e.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),e.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),e.add(".calendar_default_now","background-color: red;"),e.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),e.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),e.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),e.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),e.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),e.add(".menu_default_main a span","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),e.add(".menu_default_main a:hover",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),e.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),e.add(".month_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #666;"),e.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),e.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),e.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),e.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;"),e.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),e.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),e.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),e.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),e.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");'),e.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;"),e.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".navigator_default_main","border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;"),e.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),e.add(".navigator_default_day","color: black;"),e.add(".navigator_default_weekend","background-color: #f0f0f0;"),e.add(".navigator_default_dayheader","color: black;"),e.add(".navigator_default_line","border-bottom: 1px solid #A0A0A0;"),e.add(".navigator_default_dayother","color: gray;"),e.add(".navigator_default_todaybox","border: 1px solid red;"),e.add(".navigator_default_select, .navigator_default_weekend.navigator_default_select","background-color: #FFE794;"),e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");'),e.add(".navigator_default_busy","font-weight: bold;"),e.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),e.add(".scheduler_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".scheduler_default_timeheader","cursor: default;color: #666;"),e.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #666;background: #eee;"),e.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #666;background: #eee;"),e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),e.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),e.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),e.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),e.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #aaa;"),e.add(".scheduler_default_divider_horizontal","background-color: #aaa;"),e.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),e.add(".scheduler_default_matrix_vertical_break","background-color: #000;"),e.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),e.add(".scheduler_default_resourcedivider","background-color: #aaa;"),e.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".scheduler_default_event","font-size:12px;color:#666;"),e.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".scheduler_default_columnheader_inner","font-weight: bold;"),e.add(".scheduler_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),e.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),e.add(".scheduler_default_cell","background-color: #f9f9f9;"),e.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),e.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),e.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),e.add(".scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),e.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),e.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white;"),e.add(".scheduler_default_rowheader textarea","padding: 3px;"),e.add(".scheduler_default_rowheader_scroll","cursor: default;"),e.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),e.add(".gantt_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".gantt_default_timeheader","cursor: default;color: #666;"),e.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #666;background: #eee;"),e.add(".gantt_default_rowheader,.gantt_default_corner","color: #666;background: #eee;"),e.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),e.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),e.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),e.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),e.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),e.add(".gantt_default_divider_horizontal","background-color: #aaa;"),e.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),e.add(".gantt_default_matrix_vertical_break","background-color: #000;"),e.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),e.add(".gantt_default_resourcedivider","background-color: #aaa;"),e.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),e.add(".gantt_default_event","font-size:12px;color:#666;"),e.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".gantt_default_columnheader_inner","font-weight: bold;"),e.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),e.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),e.add(".gantt_default_cell","background-color: #f9f9f9;"),e.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),e.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;"),e.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),e.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),e.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:$2r.Microsoft.Matrix($2s='auto expand',$2t=0.7071067811865476,$2u=-0.7071067811865475,$2v=0.7071067811865475,$2w=0.7071067811865476);\""),e.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),e.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),e.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),e.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),e.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".gantt_default_header_icon:hover","background-color: #ccc;"),e.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),e.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),e.add(".gantt_default_rowheader textarea","padding: 5px;"),e.add(".gantt_default_rowheader_scroll","cursor: default;"),e.commit(),DayPilot.Global.defaultCss=!0
}}();var $2x=function(e){var t=this;this.id=e,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var i;if(!e)throw"error: id not provided";if("string"==typeof e)i=document.getElementById(e);else{if(!e.appendChild)throw"error: invalid object provided";i=e}this.div=i,this.blocks=[];for(var a=0;a<this.widths.length;a++){var n=document.createElement("div");n.style.display="inline-block",n.style.height=null!==t.height?t.height+"px":"100%",n.style.width=this.widths[a]-this.splitterWidth+"px",n.style.overflow="hidden",n.style.verticalAlign="top",n.style.position="relative",n.setAttribute("unselectable","on"),n.className=this.css.title,i.appendChild(n);var o=document.createElement("div");o.innerHTML=this.titles[a],o.setAttribute("unselectable","on"),o.className=this.css.titleInner,n.appendChild(o);var s=document.createElement("div");s.style.display="inline-block",s.style.height=null!==t.height?t.height+"px":"100%",s.style.width=this.splitterWidth+"px",s.style.position="relative",s.appendChild(document.createElement("div")),s.style.cursor="col-resize",s.setAttribute("unselectable","on"),s.className=this.css.splitter;var l={};l.index=a,l.width=this.widths[a],s.data=l,s.onmousedown=function(e){t.drag.start=DayPilot.page(e),t.drag.data=this.data,t.div.style.cursor="col-resize",e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1},i.appendChild(s);var r={};r.section=n,r.handle=s,this.blocks.push(r)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var e=0;e<this.blocks.length;e++){var t=this.blocks[e],i=this.widths[e];t.handle.data.width=i,this.$2T(e)}},this.$2T=function(e){var t=this.blocks[e],i=this.widths[e];t.section.style.width=i-this.splitterWidth+"px"},this.totalWidth=function(){for(var e=0,t=0;t<this.widths.length;t++)e+=this.widths[t];return e},this.gMouseMove=function(e){if(t.drag.start){var i=t.drag.data,a=DayPilot.page(e),n=a.x-t.drag.start.x,o=i.index;t.widths[o]=Math.max(5,i.width+n),t.$2T(o);var s={};s.widths=this.widths,s.index=i.index,t.updating(s)}},this.gMouseUp=function(e){if(t.drag.start){t.drag.start=null,document.body.style.cursor="",t.div.style.cursor="";var i=t.drag.data;i.width=t.widths[i.index];var a={};a.widths=this.widths,a.index=i.index,t.updated(a)}},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=$2x}}(),DayPilot.JSON={},function(){function e(e){return 10>e?"0"+e:e}function t(e){return n.lastIndex=0,n.test(e)?'"'+e.replace(n,function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,a){var n,l,c,d,h=o,u,f=a[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON2?f=f.toJSON2(e):f&&"object"==typeof f&&"function"==typeof f.toJSON&&!f.ignoreToJSON&&(f=f.toJSON(e)),"function"==typeof r&&(f=r.call(a,e,f)),typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(o+=s,u=[],"number"==typeof f.length&&!f.propertyIsEnumerable("length")){for(d=f.length,n=0;d>n;n+=1)u[n]=i(n,f)||"null";return c=0===u.length?"[]":o?"[\n"+o+u.join(",\n"+o)+"\n"+h+"]":"["+u.join(",")+"]",o=h,c}if(r&&"object"==typeof r)for(d=r.length,n=0;d>n;n+=1)l=r[n],"string"==typeof l&&(c=i(l,f),c&&u.push(t(l)+(o?": ":":")+c));else for(l in f)Object.hasOwnProperty.call(f,l)&&(c=i(l,f),c&&u.push(t(l)+(o?": ":":")+c));return c=0===u.length?"{}":o?"{\n"+o+u.join(",\n"+o)+"\n"+h+"}":"{"+u.join(",")+"}",o=h,c}}"function"!=typeof Date.prototype.toJSON2&&(Date.prototype.toJSON2=function(t){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,s,l={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;"function"!=typeof DayPilot.JSON.stringify&&(DayPilot.JSON.stringify=function(e,t,a){var n;if(o="",s="","number"==typeof a)for(n=0;a>n;n+=1)s+=" ";else"string"==typeof a&&(s=a);if(r=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return i("",{"":e})}),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotBubble)var DayPilotBubble=DayPilot.BubbleVisible={};if(function(){if("undefined"==typeof DayPilot.Bubble){var e={};e.mouseMove=function(t){if("undefined"!=typeof e){e.mouse=e.mousePosition(t);var i=e.active;if(i&&i.showPosition){var a=i.showPosition,n=e.mouse;a.clientX!==n.clientX||a.clientY!==n.clientY}}},e.mousePosition=function(e){var t=DayPilot.page(e);return e&&(t.clientY=e.clientY,t.clientX=e.clientX),t},DayPilot.Bubble=function(t){this.v="1338";var i=this;if(this.backgroundColor="#ffffff",this.border="1px solid #000000",this.corners="Rounded",this.cssOnly=!0,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="EventTop",this.hideOnClick=!0,this.showAfter=500,this.showLoadingLabel=!0,this.useShadow=!0,this.zIndex=10,this.cssClassPrefix="bubble_default",this.elements={},this.callBack=function(e){this.aspnet()?WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify(e),this.updateView,this,this.callbackError,!0):e.calendar.internal.bubbleCallBack?e.calendar.internal.bubbleCallBack(e,this):e.calendar.bubbleCallBack(e,this)},this.callbackError=function(e,t){alert(e)},this.updateView=function(t,a){if(i!==a)throw"Callback object mismatch (internal error)";return t?(e.active=i,void(i&&(i.elements.inner&&(i.elements.inner.innerHTML=t),i.adjustPosition(),i.animated||i.addShadow()))):(i.removeDiv(),void i.removeShadow())},this.init=function(){DayPilot.re(document.body,"mousemove",e.mouseMove)},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.rounded=function(){return"Rounded"===this.corners},this.showEvent=function(t,i){var a=new e.CallBackArgs(t.calendar||t.root,"Event",t,t.bubbleHtml?t.bubbleHtml():null);i?this.show(a):this.showOnMouseOver(a)},this.showCell=function(t){var i=new e.CallBackArgs(t.calendar||t.root,"Cell",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showTime=function(t){var i=new e.CallBackArgs(t.calendar||t.root,"Time",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showResource=function(t){var i=new e.CallBackArgs(t.calendar||t.root,"Resource",t,t.staticBubbleHTML?t.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showHtml=function(t,i){var a=new e.CallBackArgs(null,"Html",null,t);a.div=i,this.show(a)},this.show=function(t){var a=this.animated;this.showPosition=e.mouse;var n;try{n=DayPilot.JSON.stringify(t.object)}catch(o){return}if(!(e.active===this&&this.sourceId===n||"undefined"!=typeof DayPilot.Menu&&DayPilot.Menu.active)){e.hideActive(),e.active=this,this.sourceId=n;var s=document.createElement("div");s.setAttribute("unselectable","on"),this.showLoadingLabel||(s.style.display="none"),document.body.appendChild(s),s.style.position="absolute",this.cssOnly?s.className=this.$Q("_main"):(this.width&&(s.style.width=this.width),s.style.cursor="default"),s.style.top="0px",s.style.left="0px",s.style.zIndex=this.zIndex+1,a&&(s.style.visibility="hidden"),this.hideOnClick&&(s.onclick=function(){e.hideActive()}),s.onmousemove=function(t){e.cancelTimeout();var t=t||window.event;t.cancelBubble=!0},s.oncontextmenu=function(){return!1},s.onmouseout=this.delayedHide;var l=document.createElement("div");s.appendChild(l),this.cssOnly?l.className=this.$Q("_main_inner"):(l.style.padding="4px",this.border&&(l.style.border=this.border),this.rounded()&&(l.style.MozBorderRadius="5px",l.style.webkitBorderRadius="5px",l.style.borderRadius="5px"),l.style.backgroundColor=this.backgroundColor),l.innerHTML=this.loadingText,this.elements.div=s,this.elements.inner=l;var s=this.getDiv(t);if("EventTop"===this.position&&s){var r=2,c=DayPilot.abs(s,!0);this.mouse=e.mouse,this.mouse.x=c.x,this.mouse.y=c.y,this.mouse.h=c.h+r,this.mouse.w=c.w}else this.mouse=e.mouse;if(this.showLoadingLabel&&!a&&(this.adjustPosition(),this.addShadow()),t.staticHTML)this.updateView(t.staticHTML,this);else if("function"==typeof this.onLoad){var d={};d.source=t.object,d.async=!1,d.loaded=function(){this.async&&i.updateView(d.html,i)},this.onLoad(d),d.async||i.updateView(d.html,i)}else this.$R(t)&&this.callBack(t)}},this.getDiv=function(e){return e.div?e.div:"Event"===e.type&&e.calendar&&e.calendar.internal.findEventDiv?e.calendar.internal.findEventDiv(e.object):void 0},this.$Q=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.loadingElement=null,this.loadingStart=function(e){},this.loadingStop=function(){},this.adjustPosition=function(){var t=this.animated,a=this.position,n=10;if(this.elements.div&&this.mouse){if(!this.mouse.x||!this.mouse.y)return void e.hideActive();var o=this.elements.div;o.style.display="";var s=o.offsetHeight,l=o.offsetWidth;o.style.display="none";var r=DayPilot.wd(),c=r.width,d=r.height;if("Mouse"===a){var h=22,u=10,f=0;if(this.mouse.clientY>d-s+n){var v=this.mouse.clientY-(d-s)+n;f=this.mouse.y-s-u}else f=this.mouse.y+h;if("number"==typeof f&&(o.style.top=Math.max(f,0)+"px"),this.mouse.clientX>c-l+n){var p=this.mouse.clientX-(c-l)+n;o.style.left=this.mouse.x-p+"px"}else o.style.left=this.mouse.x+"px"}else if("EventTop"===a){var y=2,f=this.mouse.y-s-y,m=r.scrollTop;m>f&&(f=this.mouse.y+this.mouse.h+y),"number"==typeof f&&(o.style.top=Math.max(f,0)+"px");var g=this.mouse.x;this.mouse.x+l+n>c&&(g=c-l-n),o.style.left=g+"px"}if(o.style.display="",t){o.style.display="";var b={};b.color=o.firstChild.style.color,b.overflow=o.style.overflow,o.firstChild.style.color="transparent",o.style.overflow="hidden",this.removeShadow(),DayPilot.pop(o,{finished:function(){o.firstChild.style.color=b.color,o.style.overflow=b.overflow,i.addShadow()},vertical:"bottom",horizontal:"left",animation:i.animation})}}},this.delayedHide=function(){e.cancelTimeout(),i.hideAfter>0&&(e.timeout=window.setTimeout(e.hideActive,i.hideAfter))},this.showOnMouseOver=function(t){e.cancelTimeout();var a=function(e){return function(){i.show(e)}};e.timeout=window.setTimeout(a(t),this.showAfter)},this.hideOnMouseOut=function(){this.delayedHide()},this.$R=function(e){return e.calendar.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.addShadow=function(){if(this.useShadow&&!this.cssOnly&&this.elements.div){var e=this.elements.div;this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var t=0;5>t;t++){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.width=e.offsetWidth+"px",i.style.height=e.offsetHeight+"px",i.style.top=e.offsetTop+t+"px",i.style.left=e.offsetLeft+t+"px",i.style.zIndex=this.zIndex,i.style.filter="alpha(opacity:10)",i.style.opacity=.1,i.style.backgroundColor="#000000",this.rounded()&&(i.style.MozBorderRadius="5px",i.style.webkitBorderRadius="5px",i.style.borderRadius="5px"),document.body.appendChild(i),this.shadows.push(i)}}},this.removeShadow=function(){if(this.shadows){for(var e=0;e<this.shadows.length;e++)document.body.removeChild(this.shadows[e]);this.shadows=[]}},this.removeDiv=function(){this.elements.div&&(document.body.removeChild(this.elements.div),this.elements.div=null)},t)for(var a in t)this[a]=t[a];this.init()},e.cancelTimeout=function(){e.timeout&&window.clearTimeout(e.timeout)},e.hideActive=function(){e.cancelTimeout();var t=e.active;t&&(t.removeDiv(),t.removeShadow()),e.active=null},e.CallBackArgs=function(e,t,i,a){this.calendar=e,this.type=t,this.object=i,this.staticHTML=a,this.toJSON=function(){var e={};return e.uid=this.calendar.uniqueID,e.type=this.type,e.object=i,e}},DayPilot.BubbleVisible.Bubble=e.Bubble,DayPilot.BubbleVisible.hideActive=e.hideActive,DayPilot.BubbleVisible.cancelTimeout=e.cancelTimeout,DayPilot.Bubble.hideActive=e.hideActive,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotCalendar)var DayPilotCalendar=DayPilot.CalendarVisible={};if(function(){if("undefined"==typeof DayPilot.Calendar){DayPilot.Calendar=function(id,$a){this.v="1338";var $b=!1;if(this instanceof DayPilot.Calendar&&!this.$3R&&($b=!0,this.$3R=!0),!$b)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var $c=this;this.uniqueID=null,this.id=id,this.isCalendar=!0,this.api=2,this.clientName=id,this.clientState={},this.$3S={},this.$3S.pixels={},this.$3S.events=[],this.elements={},this.elements.events=[],this.elements.separators=[],this.nav={},this.events={},this.hideUntilInit=!0,this.$3T=!0,this.allDayEventBorderColor="#000000",this.allDayEventFontFamily="Tahoma",this.allDayEventFontSize="8pt",this.allDayEventFontColor="#000000",this.allDayEventHeight=25,this.allowEventOverlap=!0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.borderColor="#000000",this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#999999",this.cellHeight=20,this.cellDuration=30,this.columnMarginRight=5,this.columnWidth=200,this.columnWidthSpec="Auto",this.cornerBackColor="#ECE9D8",this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.deleteImageUrl=null,this.durationBarColor="blue",this.durationBarVisible=!0,this.durationBarWidth=5,this.durationBarImageUrl=null,this.eventArrangement="SideBySide",this.eventBackColor="#ffffff",this.eventBorderColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventSelectColor="blue",this.headerFontSize="10pt",this.headerFontFamily="Tahoma",this.headerFontColor="#000000",this.headerHeight=20,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.headerDateFormat=null,this.hourHalfBorderColor="#F3E4B1",this.hourBorderColor="#EAD098",this.hourFontColor="#000000",this.hourFontFamily="Tahoma",this.hourFontSize="16pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.hourWidth=45,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.roundedCorners=!1,this.rtl=!1,this.selectedColor="#316AC5",this.shadow="Fill",this.showToolTip=!0,this.showAllDayEvents=!1,this.showAllDayEventStartEnd=!0,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.startDate=(new DayPilot.Date).getDatePart(),this.cssClassPrefix="calendar_default",this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.useEventBoxes="Always",this.useEventSelectionBars=!1,this.viewType="Days",this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Enabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.$3U=!0,this.$3V=!1,this.autoRefreshCount=0,this.doubleClickTimeout=300,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix"],this.members.ignore=["internal","nav","debug","temp","elements","members"],this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","selectedColor","useEventSelectionBars"],this.$3W={},this.$3W.ie=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),this.$3W.ie9=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE 9"),this.$3W.ielt9=function(){var e=document.createElement("div");e.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var t=1===e.getElementsByTagName("i").length;return t}(),this.$3W.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),this.$3W.opera105=function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var e=new Number(RegExp.$1);return e>=10.5}return!1}(),this.$3W.webkit522=function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var e=new Number(RegExp.$1);return e>=522}return!1}(),this.clearSelection=function(){return this.selectedCells?(this.$3X(),void(this.selectedCells=[])):void(this.selectedCells=[])},this.$3X=function(){if(this.selectedCells)for(var e=0;e<this.selectedCells.length;e++){var t=this.selectedCells[e];t&&t.selected&&(t.removeChild(t.selected),t.firstChild.style.display="",t.selected=null)}},this.cleanSelection=this.clearSelection,this.$3Y=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.$3Z();var n="JSON"+DayPilot.JSON.stringify(a);__doPostBack($c.uniqueID,n)},this.$40=function(e,t,i,a){if(!this.$41())return void $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),"undefined"==typeof a&&(a="CallBack"),this.callbackTimeout=window.setTimeout(function(){$c.$42()},100);var n={};n.action=e,n.type=a,n.parameters=t,n.data=i,n.header=this.$3Z();var o="JSON"+DayPilot.JSON.stringify(n);this.backendUrl?DayPilot.request(this.backendUrl,this.$43,o,this.$44):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,o,this.$45,this.clientName,this.onCallbackError,!0)},this.$41=function(){return this.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$44=function(e){if("function"==typeof $c.onAjaxError){var t={};t.request=e,$c.onAjaxError(t)}else"function"==typeof $c.ajaxError&&$c.ajaxError(e)},this.dispose=function(){var e=$c;e.nav.top&&(e.$46(),e.$47(),e.nav.messageClose&&(e.nav.messageClose.onclick=null),e.nav.hourTable&&(e.nav.hourTable.oncontextmenu=null),e.nav.hourTable&&(e.nav.hourTable.onmousemove=null),e.nav.header&&(e.nav.header.oncontextmenu=null),e.nav.corner&&(e.nav.corner.oncontextmenu=null),e.nav.zoom.onmousemove=null,e.nav.scroll.onscroll=null,e.nav.scroll.root=null,DayPilot.pu(e.nav.loading),e.$48(),e.$49(),e.nav.select=null,e.nav.cornerRight=null,e.nav.scrollable=null,e.nav.bottomLeft=null,e.nav.bottomRight=null,e.nav.allday=null,e.nav.zoom=null,e.nav.loading=null,e.nav.events=null,e.nav.header=null,e.nav.hourTable=null,e.nav.scrolltop=null,e.nav.scroll=null,e.nav.vsph=null,e.nav.main=null,e.nav.message=null,e.nav.messageClose=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,DayPilot.ue(window,"resize",e.$4a),DayPilotCalendar.unregister(e))},this.$4b=function(){this.nav.top.dispose=this.dispose},this.$43=function(e){$c.$45(e.responseText)},this.$3Z=function(){var e={};return e.v=this.v,e.control="dpc",e.id=this.id,e.clientState=$c.clientState,e.columns=this.$4c(),e.days=$c.days,e.startDate=$c.startDate,e.cellDuration=$c.cellDuration,e.cssOnly=$c.cssOnly,e.cssClassPrefix=$c.cssClassPrefix,e.heightSpec=$c.heightSpec,e.businessBeginsHour=$c.businessBeginsHour,e.businessEndsHour=$c.businessEndsHour,e.viewType=$c.viewType,e.dayBeginsHour=$c.dayBeginsHour,e.dayEndsHour=$c.dayEndsHour,e.headerLevels=$c.headerLevels,e.backColor=$c.cellBackColor,e.nonBusinessBackColor=$c.cellBackColorNonBusiness,e.eventHeaderVisible=$c.eventHeaderVisible,e.timeFormat=$c.timeFormat,e.timeHeaderCellDuration=$c.timeHeaderCellDuration,e.locale=$c.locale,e.showAllDayEvents=$c.showAllDayEvents,e.tagFields=$c.tagFields,e.hourNameBackColor=$c.hourNameBackColor,e.hourFontFamily=$c.hourFontFamily,e.hourFontSize=$c.hourFontSize,e.hourFontColor=$c.hourFontColor,e.selected=$c.multiselect.events(),e.hashes=$c.hashes,e},this.$4d=function(){this.$4e(),DayPilot.Areas.hideAll()},this.$4c=function(){var e=[];if(e.ignoreToJSON=!0,!this.columns)return e;for(var t=0;t<this.columns.length;t++){var i=this.columns[t],a=this.$4f(i);e.push(a)}return e},this.$4f=function(e){var t={};return t.Value=e.id,t.Name=e.name,t.ToolTip=e.toolTip,t.Date=e.start,t.Children=this.$4g(e.children),t},this.$4g=function(e){var t=[];if(t.ignoreToJSON=!0,!e)return t;for(var i=0;i<e.length;i++)t.push(this.$4f(e[i]));return t},this.$45=function($u,$v){var $u=eval("("+$u+")");if($u.BubbleGuid){var $w=$u.BubbleGuid,$x=this.bubbles[$w];return delete this.bubbles[$w],$c.$4h(),void("undefined"!=typeof $u.Result.BubbleHTML&&$x.updateView($u.Result.BubbleHTML,$x))}if($u.CallBackRedirect)return void(document.location.href=$u.CallBackRedirect);if("undefined"!=typeof $u.ClientState&&($c.clientState=$u.ClientState),"None"===$u.UpdateType)return $c.$4h(),$c.$4i($u.CallBackData,!0),void($u.Message&&$c.message($u.Message));if($u.VsUpdate){var $y=document.createElement("input");$y.type="hidden",$y.name=$c.id+"_vsupdate",$y.id=$y.name,$y.value=$u.VsUpdate,$c.nav.vsph.innerHTML="",$c.nav.vsph.appendChild($y)}if($c.$47(),$c.multiselect.clear(!0),$c.multiselect.$4j=$u.SelectedEvents,"undefined"!=typeof $u.TagFields&&($c.tagFields=$u.TagFields),"undefined"!=typeof $u.SortDirections&&($c.sortDirections=$u.SortDirections),"Full"===$u.UpdateType&&($c.colors=$u.Colors,$c.palette=$u.Palette,$c.dirtyColors=$u.DirtyColors,$c.cellProperties=$u.CellProperties,$c.cellConfig=$u.CellConfig,$c.columns=$u.Columns,$c.days=$u.Days,$c.startDate=new DayPilot.Date($u.StartDate).getDatePart(),$c.cellDuration=$u.CellDuration,$c.heightSpec=$u.HeightSpec?$u.HeightSpec:$c.heightSpec,$c.businessBeginsHour=$u.BusinessBeginsHour?$u.BusinessBeginsHour:$c.businessBeginsHour,$c.businessEndsHour=$u.BusinessEndsHour?$u.BusinessEndsHour:$c.businessEndsHour,$c.viewType=$u.ViewType,$c.headerLevels=$u.HeaderLevels,$c.backColor=$u.BackColor?$u.BackColor:$c.backColor,$c.nonBusinessBackColor=$u.NonBusinessBackColor?$u.NonBusinessBackColor:$c.nonBusinessBackColor,$c.eventHeaderVisible=$u.EventHeaderVisible?$u.EventHeaderVisible:$c.eventHeaderVisible,$c.timeFormat=$u.TimeFormat?$u.TimeFormat:$c.timeFormat,$c.timeHeaderCellDuration="undefined"!=typeof $u.TimeHeaderCellDuration?$u.TimeHeaderCellDuration:$c.timeHeaderCellDuration,$c.locale=$u.Locale?$u.Locale:$c.locale,$c.dayBeginsHour="undefined"!=typeof $u.DayBeginsHour?$u.DayBeginsHour:$c.dayBeginsHour,$c.dayEndsHour="undefined"!=typeof $u.DayEndsHour?$u.DayEndsHour:$c.dayEndsHour,$c.cornerBackColor=$u.CornerBackColor,$c.cornerHtml=$u.CornerHTML,$c.hours=$u.Hours,$c.$4k(),$c.$4l()),$u.Hashes)for(var $z in $u.Hashes)$c.hashes[$z]=$u.Hashes[$z];if($c.$4m($u.Events),$c.$4n(),("Full"===$u.UpdateType||$c.hideFreeCells)&&($c.$4o(),$c.$4p(),$c.$4q(),$c.$4r(),$c.$4s(),$c.$4t(),$c.$4u(),$c.$4v(),$c.clearSelection()),$c.$4w(),$c.$4x(),$c.$4y(),"Parent100Pct"===$c.heightSpec&&$c.$4a(),"HoldForever"!==$c.timeRangeSelectedHandling&&$c.clearSelection(),$c.$4z(),$c.todo&&$c.todo.del){var $A=$c.todo.del;$A.parentNode.removeChild($A),$c.todo.del=null}$c.$4i($u.CallBackData,!0),$c.$4h(),$c.$4A(),$u.Message&&$c.message($u.Message)},this.$4i=function(e,t){var i=function(e,t){return function(){if($c.$4B()){if("function"==typeof $c.onAfterRender){var i={};i.isCallBack=t,i.data=e,$c.onAfterRender(i)}}else $c.afterRender&&$c.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.$4C=function(e,t,i){var a=$c.nav.events,n=a.clientWidth/a.rows[0].cells.length,o=Math.floor($c.coords.x/n);0>o&&(o=0),$c.rtl&&(o=$c.$4D.length-o-1);var s=a.rows[0].cells[o],l=0,r=0,c=0;if("undefined"!=typeof e.duration){var d=e.duration;c=Math.floor(($c.coords.y-l+$c.cellHeight/2)/$c.cellHeight)*$c.cellHeight+l,r=d*$c.cellHeight/(60*$c.cellDuration),r=Math.max(r,$c.cellHeight)}else{var h=e.event;r=h.part.height,c=h.part.top}var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.width="100%",u.style.height=r+"px",u.style.left="0px",u.style.top=c+"px",u.style.zIndex=101,u.exclude=!0;var f=document.createElement("div");return u.appendChild(f),this.cssOnly&&(u.className=$c.$4E("_shadow"),f.className=this.$4E("_shadow_inner")),this.cssOnly||(f.style.position="absolute",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px","Fill"===i?(f.style.backgroundColor="#aaaaaa",f.style.opacity=.5,f.style.filter="alpha(opacity=50)",f.style.border="2px solid #aaaaaa"):f.style.border="2px dotted #666666",this.roundedCorners&&(f.style.MozBorderRadius="5px",f.style.webkitBorderRadius="5px",f.style.borderRadius="5px")),s.events.appendChild(u),u},this.$4F=function(){return this.$4G()/36e5},this.$4H=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.$4I=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.$4G=function(e){var t=0;if("BusinessHoursNoScroll"===this.heightSpec)t=this.$4H();else if(this.hideFreeCells&&!e){var i=(this.$4J-1)*this.cellDuration/this.cellHeight,a=Math.ceil(i/60),n=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;t=Math.max(this.dayBeginsHour+a,n)-this.$4K()}else t=this.$4I();return 60*t*60*1e3},this.message=function(e,t,i,a){if(e){var t=t||this.messageHideAfter||2e3,i=i||"#ffffff",a=a||"#000000",n=.8,o,s=this.$4L(),l=this.showHours?this.hourWidth:0,r=DayPilot.sw($c.nav.scroll);if(this.cssOnly||(s+=1,l+=2,r-=2),$c.rtl){var c=l;l=r,r=c}if(this.nav.message)o=$c.nav.message,this.nav.message.style.top=s+"px";else{o=document.createElement("div"),o.style.position="absolute",o.style.left=l+"px",o.style.top=s+"px",o.style.right="0px",o.style.display="none",o.onmousemove=function(){o.messageTimeout&&!o.status&&clearTimeout(o.messageTimeout)},o.onmouseout=function(){"none"!==$c.nav.message.style.display&&(o.messageTimeout=setTimeout($c.$4M,500))};var d=document.createElement("div");d.onclick=function(){$c.nav.message.style.display="none"},this.cssOnly?d.className=this.$4E("_message"):(d.style.padding="5px",d.style.opacity=n,d.style.filter="alpha(opacity="+100*n+")"),o.appendChild(d);var h=document.createElement("div");h.style.position="absolute",this.cssOnly?h.className=this.$4E("_message_close"):(h.style.top="5px",h.style.right=DayPilot.sw($c.nav.scroll)+5+"px",h.style.color=i,h.style.lineHeight="100%",h.style.cursor="pointer",h.style.fontWeight="bold",h.innerHTML="X"),h.onclick=function(){$c.nav.message.style.display="none"},o.appendChild(h),this.nav.top.insertBefore(o,this.nav.loading),this.nav.message=o,this.nav.messageClose=h}this.nav.message.style.right=this.nav.cornerRight?r+"px":"0px";var u=function(){var s=$c.nav.message.firstChild;$c.cssOnly||(s.style.padding="5px",s.style.opacity=n,s.style.backgroundColor=a,s.style.color=i),s.innerHTML=e;var l=function(){o.messageTimeout=setTimeout($c.$4M,t)};DayPilot.fade($c.nav.message,.2,l)};clearTimeout(o.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade($c.nav.message,-.2,u):u()}},this.message.show=function(e){$c.message(e)},this.message.hide=function(){$c.$4M()},this.$4M=function(){var e=function(){$c.nav.message.style.display="none"};DayPilot.fade($c.nav.message,-.2,e)},this.$4r=function(){this.nav.message&&(this.nav.message.style.top=this.$4L()+"px")},this.$4N=function(){return this.$4G()/(6e4*this.cellDuration)},this.eventClickPostBack=function(e,t){this.$3Y("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.$40("EventClick",e,t)},this.$4O=function(e){var t=this,e=e||window.event,i=e.ctrlKey;if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===$c.eventDoubleClickHandling)return void $c.$4P(t,i);if($c.timeouts){for(var a in $c.timeouts)window.clearTimeout($c.timeouts[a]);$c.timeouts=[]}else $c.timeouts=[];var n=function(e,t){return function(){$c.$4P(e,t)}};$c.timeouts.push(window.setTimeout(n(this,i),$c.doubleClickTimeout))},this.$4P=function(e,t){var i=e.event;if(i.client.clickEnabled())if($c.$4B()){var a={};if(a.e=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventClick&&($c.onEventClick(a),a.preventDefault.value))return;switch($c.eventClickHandling){case"PostBack":$c.eventClickPostBack(i);break;case"CallBack":$c.eventClickCallBack(i);break;case"Edit":$c.$4Q(e);break;case"Select":$c.$4R(e,i,t);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(i);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):$c.contextMenu&&$c.contextMenu.show(i)}"function"==typeof $c.onEventClicked&&$c.onEventClicked(a)}else switch($c.eventClickHandling){case"PostBack":$c.eventClickPostBack(i);break;case"CallBack":$c.eventClickCallBack(i);break;case"JavaScript":$c.onEventClick(i);break;case"Edit":$c.$4Q(e);break;case"Select":$c.$4R(e,i,t);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(i);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):$c.contextMenu&&$c.contextMenu.show(i)}},this.eventDoubleClickPostBack=function(e,t){this.$3Y("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.$40("EventDoubleClick",e,t)},this.$4S=function(e){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),$c.timeouts){for(var t in $c.timeouts)window.clearTimeout($c.timeouts[t]);$c.timeouts=null}var i=this.event,e=e||window.event;if($c.$4B()){var a={};if(a.e=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventDoubleClick&&($c.onEventDoubleClick(a),a.preventDefault.value))return;switch($c.eventDoubleClickHandling){case"PostBack":$c.eventDoubleClickPostBack(i);break;case"CallBack":$c.eventDoubleClickCallBack(i);break;case"Edit":i.allday()||$c.$4Q(this);break;case"Select":i.allday()||$c.$4R(this,i,e.ctrlKey);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(i)}"function"==typeof $c.onEventDoubleClicked&&$c.onEventDoubleClicked(a)}else switch($c.eventDoubleClickHandling){case"PostBack":$c.eventDoubleClickPostBack(i);break;case"CallBack":$c.eventDoubleClickCallBack(i);break;case"JavaScript":$c.onEventDoubleClick(i);break;case"Edit":i.allday()||$c.$4Q(this);break;case"Select":i.allday()||$c.$4R(this,i,e.ctrlKey);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(i)}},this.eventRightClickPostBack=function(e,t){this.$3Y("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.$40("EventRightClick",e,t)
},this.$4T=function(e){var t=this.event;if(!t.client.rightClickEnabled())return!1;if($c.$4B()){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventRightClick&&($c.onEventRightClick(i),i.preventDefault.value))return;switch($c.eventRightClickHandling){case"PostBack":$c.eventRightClickPostBack(t);break;case"CallBack":$c.eventRightClickCallBack(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):$c.contextMenu&&$c.contextMenu.show(this.event);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(t)}"function"==typeof $c.onEventRightClicked&&$c.onEventRightClicked(i)}else switch($c.eventRightClickHandling){case"PostBack":$c.eventRightClickPostBack(t);break;case"CallBack":$c.eventRightClickCallBack(t);break;case"JavaScript":$c.onEventRightClick(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):$c.contextMenu&&$c.contextMenu.show(this.event);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(t)}return!1},this.headerClickPostBack=function(e,t){this.$3Y("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.$40("HeaderClick",e,t)},this.$4U=function(e){var t=this.data,i=new DayPilotCalendar.Column(t.id,t.name,t.start);if($c.$4B()){var a={};if(a.header={},a.header.id=t.id,a.header.name=t.name,a.header.start=t.start,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onHeaderClick&&($c.onHeaderClick(a),a.preventDefault.value))return;switch($c.headerClickHandling){case"PostBack":$c.headerClickPostBack(i);break;case"CallBack":$c.headerClickCallBack(i)}"function"==typeof $c.onHeaderClicked&&$c.onHeaderClicked(a)}else switch($c.headerClickHandling){case"PostBack":$c.headerClickPostBack(i);break;case"CallBack":$c.headerClickCallBack(i);break;case"JavaScript":$c.onHeaderClick(i)}},this.$4V=function(){if("undefined"!=typeof DayPilotBubble&&$c.columnBubble)if("Resources"===$c.viewType){var e={};e.calendar=$c,e.id=this.data.id,e.toJSON=function(){var e={};return e.id=this.id,e},$c.columnBubble.showResource(e)}else{var t=new DayPilot.Date(this.data.start),i=t.addDays(1),a={};a.calendar=$c,a.start=t,a.end=i,a.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e},$c.columnBubble.showTime(a)}var n=this,o=n.firstChild;if(!o.active){var s=n.data,l=new DayPilotCalendar.Column(s.id,s.name,s.start);l.areas=n.data.areas,DayPilot.Areas.showAreas(o,l)}},this.$4W=function(e){"undefined"!=typeof DayPilotBubble&&$c.columnBubble&&$c.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,e)},this.eventDeletePostBack=function(e,t){this.$3Y("EventDelete",t,e)},this.eventDeleteCallBack=function(e,t){this.$40("EventDelete",e,t)},this.$4X=function(e){var t;if(t=e&&e.isEvent?e:e.parentNode.parentNode.event,$c.$4B()){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventDelete&&($c.onEventDelete(i),i.preventDefault.value))return;switch($c.eventDeleteHandling){case"PostBack":$c.eventDeletePostBack(t);break;case"CallBack":$c.eventDeleteCallBack(t);break;case"Update":$c.events.remove(t)}"function"==typeof $c.onEventDeleted&&$c.onEventDeleted(i)}else switch($c.eventDeleteHandling){case"PostBack":$c.eventDeletePostBack(t);break;case"CallBack":$c.eventDeleteCallBack(t);break;case"JavaScript":$c.onEventDelete(t)}},this.eventResizePostBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$3Y("EventResize",a,n)},this.eventResizeCallBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$40("EventResize",n,a)},this.$4Y=function(e,t,i,a){if("PostBack"===e)$c.postBack2(t,i,a);else if("CallBack"===e)$c.$40(t,i,a,"CallBack");else if("Immediate"===e)$c.$40(t,i,a,"Notify");else if("Queue"===e)$c.queue.add(new DayPilot.Action(this,t,i,a));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===$0d.notifyType()?$c.$40(t,i,a,"Notify"):$c.queue.add(new DayPilot.Action($c,t,i,a))}},this.$4K=function(e){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!e){var t=this.$4Z*this.cellDuration/this.cellHeight,i=Math.floor(t/60);return i=Math.max(0,i),Math.min(this.dayBeginsHour+i,this.businessBeginsHour)}return this.dayBeginsHour},this.$4B=function(){return 2===$c.api},this.$50=function(e,t,i,a){if("Disabled"!==this.eventResizeHandling){var n=0,o=new Date,s=new Date,l=e.start(),r=e.end(),c=$c.cellDuration,d=$c.$4D[e.part.dayIndex].start;if("top"===a){var d=l.getDatePart(),h=Math.floor((i-n)/$c.cellHeight),u=h*c,f=60*u*1e3,v=60*$c.$4K()*60*1e3;o=d.addTime(f+v),s=e.end()}else if("bottom"===a){var h=Math.floor((i+t-n)/$c.cellHeight),u=h*c,f=60*u*1e3,v=60*$c.$4K()*60*1e3;o=l,s=d.addTime(f+v)}if($c.$4B()){var p={};if(p.e=e,p.newStart=o,p.newEnd=s,p.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventResize&&($c.onEventResize(p),p.preventDefault.value))return;switch($c.eventResizeHandling){case"PostBack":$c.eventResizePostBack(e,o,s);break;case"CallBack":$c.eventResizeCallBack(e,o,s);break;case"Notify":$c.eventResizeNotify(e,o,s);break;case"Update":e.start(o),e.end(s),$c.events.update(e)}"function"==typeof $c.onEventResized&&$c.onEventResized(p)}else switch($c.eventResizeHandling){case"PostBack":$c.eventResizePostBack(e,o,s);break;case"CallBack":$c.eventResizeCallBack(e,o,s);break;case"JavaScript":$c.onEventResize(e,o,s);break;case"Notify":$c.eventResizeNotify(e,o,s)}}},this.eventResizeNotify=function(e,t,i,a){var n=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),$c.update(),this.$51("Notify",n,t,i,a)},this.$51=function(e,t,i,a,n){var o={};o.e=t,o.newStart=i,o.newEnd=a,this.$4Y(e,"EventResize",o,n)},this.eventMovePostBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=a,this.$3Y("EventMove",n,o)},this.eventMoveCallBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=a,this.$40("EventMove",o,n)},this.$52=function(e,t,i,a,n){if("Disabled"!==$c.eventMoveHandling){var o=0,s=Math.floor((i-o)/$c.cellHeight),l=$c.cellDuration,r=s*l*60*1e3,c=e.start(),d=e.end(),h=new Date;c.isDayPilotDate&&(c=c.d),h.setTime(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()));var u="Never"!==$c.useEventBoxes?c.getTime()-(h.getTime()+3600*c.getUTCHours()*1e3+Math.floor(c.getUTCMinutes()/l)*l*60*1e3):0,f=d.getTime()-c.getTime(),v=3600*$c.$4K()*1e3,p=this.$4D[t],y=p.start.getTime(),m=new Date;m.setTime(y+r+u+v);var g=new DayPilot.Date(m),b=g.addTime(f),D=!!n,w=p.id;if($c.$4B()){var k={};if(k.e=e,k.newStart=g,k.newEnd=b,k.newResource=w,k.external=D,k.ctrl=!1,a&&(k.ctrl=a.ctrlKey),k.shift=!1,a&&(k.shift=a.shiftKey),k.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventMove&&($c.onEventMove(k),k.preventDefault.value))return;switch($c.eventMoveHandling){case"PostBack":$c.eventMovePostBack(e,g,b,w);break;case"CallBack":$c.eventMoveCallBack(e,g,b,w);break;case"Notify":$c.eventMoveNotify(e,g,b,w);break;case"Update":e.start(g),e.end(b),e.resource(w),D?(e.commit(),$c.events.add(e)):$c.events.update(e),$c.$53()}"function"==typeof $c.onEventMoved&&$c.onEventMoved(k)}else switch($c.eventMoveHandling){case"PostBack":$c.eventMovePostBack(e,g,b,w);break;case"CallBack":$c.eventMoveCallBack(e,g,b,w);break;case"JavaScript":$c.onEventMove(e,g,b,w,D,a?a.ctrlKey:!1,a?a.shiftKey:!1);break;case"Notify":$c.eventMoveNotify(e,g,b,w,null)}}},this.eventMoveNotify=function(e,t,i,a,n){var o=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.resource(a),e.commit(),$c.update(),this.$54("Notify",o,t,i,a,n)},this.$54=function(e,t,i,a,n,o){var s={};s.e=t,s.newStart=i,s.newEnd=a,s.newResource=n,this.$4Y(e,"EventMove",s,o)},this.$53=function(){if($c.todo&&$c.todo.del){var e=$c.todo.del;e.parentNode.removeChild(e),$c.todo.del=null}},this.$55=function(e,t){var i=$c.$56(t),a={};a.args=e,a.guid=i,$c.$40("Bubble",a)},this.$56=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$3Y("EventMenuClick",i,a)},this.eventMenuClickCallBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$40("EventMenuClick",a,i)},this.$57=function(e,t,i){switch(i){case"PostBack":$c.eventMenuClickPostBack(t,e);break;case"CallBack":$c.eventMenuClickCallBack(t,e)}},this.timeRangeMenuClickPostBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$3Y("TimeRangeMenuClick",i,a)},this.timeRangeMenuClickCallBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$40("TimeRangeMenuClick",a,i)},this.$58=function(e,t,i){switch(i){case"PostBack":$c.timeRangeMenuClickPostBack(t,e);break;case"CallBack":$c.timeRangeMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$3Y("TimeRangeSelected",a,n)},this.timeRangeSelectedCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$40("TimeRangeSelected",n,a)},this.$59=function(e,t,i){e.isDayPilotDate||(e=new DayPilot.Date(e)),t.isDayPilotDate||(t=new DayPilot.Date(t));var a=i;if($c.$4B()){var n={};if(n.start=e,n.end=t,n.resource=a,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onTimeRangeSelect&&($c.onTimeRangeSelect(n),n.preventDefault.value))return;switch($c.timeRangeSelectedHandling){case"PostBack":$c.timeRangeSelectedPostBack(e,t,a);break;case"CallBack":$c.timeRangeSelectedCallBack(e,t,a)}"function"==typeof $c.onTimeRangeSelected&&$c.onTimeRangeSelected(n)}else switch($c.timeRangeSelectedHandling){case"PostBack":$c.timeRangeSelectedPostBack(e,t,i);break;case"CallBack":$c.timeRangeSelectedCallBack(e,t,i);break;case"JavaScript":$c.onTimeRangeSelected(e,t,i)}},this.timeRangeDoubleClickPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$3Y("TimeRangeDoubleClick",a,n)},this.timeRangeDoubleClickCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$40("TimeRangeDoubleClick",n,a)},this.$5a=function(e,t,i){if($c.$4B()){var a=i,n={};if(n.start=e,n.end=t,n.resource=a,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onTimeRangeDoubleClick&&($c.onTimeRangeDoubleClick(n),n.preventDefault.value))return;switch($c.timeRangeDoubleClickHandling){case"PostBack":$c.timeRangeDoubleClickPostBack(e,t,a);break;case"CallBack":$c.timeRangeDoubleClickCallBack(e,t,a)}"function"==typeof $c.onTimeRangeDoubleClicked&&$c.onTimeRangeDoubleClicked(n)}else switch($c.timeRangeDoubleClickHandling){case"PostBack":$c.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":$c.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":$c.onTimeRangeDoubleClick(e,t,i)}},this.eventEditPostBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$3Y("EventEdit",i,a)},this.eventEditCallBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$40("EventEdit",a,i)},this.$5b=function(e,t){if($c.$4B()){var i={};if(i.e=e,i.newText=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventEdit&&($c.onEventEdit(i),i.preventDefault.value))return;switch($c.eventEditHandling){case"PostBack":$c.eventEditPostBack(e,t);break;case"CallBack":$c.eventEditCallBack(e,t);break;case"Update":e.text(t),$c.events.update(e)}if("function"==typeof $c.onEventEdited&&($c.onEventEdited(i),i.preventDefault.value))return}else switch($c.eventEditHandling){case"PostBack":$c.eventEditPostBack(e,t);break;case"CallBack":$c.eventEditCallBack(e,t);break;case"JavaScript":$c.onEventEdit(e,t)}},this.eventSelectPostBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$3Y("EventSelect",i,a)},this.eventSelectCallBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$40("EventSelect",a,i)},this.$5c=function(e,t,i){if($c.$4B()){var a=$c.multiselect;a.previous=a.events();var n={};if(n.e=t,n.selected=a.isSelected(t),n.ctrl=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventSelect&&($c.onEventSelect(n),n.preventDefault.value))return;switch($c.eventSelectHandling){case"PostBack":$c.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),$c.eventSelectCallBack(t,o);break;case"Update":a.$5d(e,i)}"function"==typeof $c.onEventSelected&&(n.change=a.isSelected(t)?"selected":"deselected",n.selected=a.isSelected(t),$c.onEventSelected(n))}else{var a=$c.multiselect;a.previous=a.events(),a.$5d(e,i);var o=a.isSelected(t)?"selected":"deselected";switch($c.eventSelectHandling){case"PostBack":$c.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),$c.eventSelectCallBack(t,o);break;case"JavaScript":$c.onEventSelect(t,o)}}},this.commandCallBack=function(e,t){this.$46();var i={};i.command=e,this.$40("Command",i,t)},this.$5e=function(e){if(!$0B.active&&!$0B.using&&(clearTimeout(DayPilotCalendar.selectedTimeout),!DayPilotCalendar.selecting)){if(DayPilotCalendar.editing)return void DayPilotCalendar.editing.blur();if($c.selectedCells&&"Disabled"!==$c.timeRangeDoubleClickHandling)for(var t=0;t<$c.selectedCells.length;t++)if(this===$c.selectedCells[t])return;if("Disabled"!==$c.timeRangeSelectedHandling){var i=DayPilot.Util.mouseButton(e);i.left&&(DayPilotCalendar.firstMousePos=DayPilot.mc(e||window.event),$c.clearSelection(),DayPilotCalendar.topSelectedCell=this,DayPilotCalendar.bottomSelectedCell=this,DayPilotCalendar.column=DayPilotCalendar.getColumn(this),$c.selectedCells.push(this),DayPilotCalendar.firstSelected=this)}}},this.$5f=function(){var e=this.getSelection();if(e&&$c.selectedCells)for(var t=0;t<$c.selectedCells.length;t++){var i=$c.selectedCells[t];if(i&&!i.selected){var a=document.createElement("div");a.style.height=$c.cellHeight-1+"px",a.style.backgroundColor=$c.selectedColor,i.firstChild.style.display="none",i.insertBefore(a,i.firstChild),i.selected=a}}},this.$5g=function(e){"undefined"!=typeof DayPilotBubble&&$c.cellBubble&&$c.cellBubble.hideOnMouseOut()},this.$5h=function(e){if("undefined"!=typeof DayPilotCalendar&&!$0B.active&&!$0B.using){if("undefined"!=typeof DayPilotBubble&&$c.cellBubble){var t=DayPilotCalendar.getColumn(this),i=$c.$4D[t].id,a={};a.calendar=$c,a.start=this.start,a.end=this.end,a.resource=i,a.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},$c.cellBubble.showCell(a)}if(DayPilotCalendar.firstMousePos){var n=DayPilotCalendar.firstMousePos,o=DayPilot.mc(e||window.event);(n.x!==o.x||n.y!==o.y)&&(DayPilotCalendar.selecting=!0,$c.clearSelection(),$c.$5f())}if(DayPilotCalendar.selecting){var s=DayPilot.mc(e||window.event),l=DayPilotCalendar.getColumn(this);l===DayPilotCalendar.column&&($c.clearSelection(),s.y<DayPilotCalendar.firstMousePos.y?($c.selectedCells=DayPilotCalendar.getCellsBelow(this),DayPilotCalendar.topSelectedCell=$c.selectedCells[0],DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected):($c.selectedCells=DayPilotCalendar.getCellsAbove(this),DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected,DayPilotCalendar.bottomSelectedCell=$c.selectedCells[0]),$c.$5f())}}},this.getSelection=function(){if(!DayPilotCalendar.topSelectedCell)return null;if(!DayPilotCalendar.bottomSelectedCell)return null;var e=DayPilotCalendar.topSelectedCell.start,t=DayPilotCalendar.bottomSelectedCell.end,i=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection(e,t,i,$c)},this.$5i=function(e){if(DayPilotCalendar.firstMousePos){var t=function(){DayPilotCalendar.selecting=!0,$c.$5f(),DayPilotCalendar.firstMousePos=null,DayPilotCalendar.selecting=!1;var e=$c.getSelection();$c.$59(e.start,e.end,e.resource)};DayPilotCalendar.selecting&&null!==DayPilotCalendar.topSelectedCell?t():DayPilotCalendar.selectedTimeout=setTimeout(t,100)}else DayPilotCalendar.selecting=!1},this.$5j=function(e){if($c.initScrollPos){var t="Fixed"===$c.columnWidthSpec;t&&($c.nav.bottomLeft.scrollTop=$c.nav.bottomRight.scrollTop,$c.nav.upperRight.scrollLeft=$c.nav.bottomRight.scrollLeft);var i=t?$c.nav.bottomRight:$c.nav.scroll;$c.scrollPos=i.scrollTop,$c.scrollHeight=i.clientHeight,$c.nav.scrollpos.value=$c.scrollPos,$c.$4z()}},this.$4z=function(){if(this.scrollLabelsVisible&&this.$5k){var e=this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0;if(e){for(var t=this.$4D,i=this.showHours?this.hourWidth:0,a=this.nav.main.rows[0].cells[0].clientWidth,n=10,o=1,s=0;s<this.nav.scrollUp.length;s++){var l=this.nav.scrollUp[s],r=this.nav.scrollDown[s],c=Math.floor(i+s*a+a/2-n/2+o);0>c&&(c=0),l&&l.style&&(l.style.left=c+"px"),r&&r.style&&(r.style.left=c+"px")}for(var d=this.$5l(),s=0;s<this.nav.scrollUp.length;s++){var h=this.nav.scrollUp[s],u=this.nav.scrollDown[s],f=this.$5k[s].minEnd-d,v=this.$5k[s].maxStart-d;h&&u&&(f<=$c.scrollPos?(h.style.top=this.$4L()+"px",h.style.display=""):h.style.display="none",v>=$c.scrollPos+$c.scrollHeight?(u.style.top=this.$4L()+this.scrollHeight-10+"px",u.style.display=""):u.style.display="none")}}}},this.$5m=function(e){for(var t=e.parentNode;t&&"TD"!==t.tagName;)t=t.parentNode;var i=0,a=e.offsetTop,n=e.parentNode.offsetWidth,o=e.offsetHeight;e.event.allday()&&(i=e.offsetLeft,n=e.offsetWidth);var s=document.createElement("textarea");s.style.boxSizing="border-box",s.style.position="absolute",s.style.width=n+"px",s.style.height=o+"px";var l=DayPilot.gs(e,"fontFamily");l||(l=DayPilot.gs(e,"font-family")),s.style.fontFamily=l;var r=DayPilot.gs(e,"fontSize");return r||(r=DayPilot.gs(e,"font-size")),s.style.fontSize=r,s.style.left=i+"px",s.style.top=a+"px",s.style.border="1px solid black",s.style.padding="0px",s.style.marginTop="0px",s.style.backgroundColor="white",s.value=DayPilot.tr(e.event.text()),s.event=e.event,t.firstChild.appendChild(s),s},this.$4R=function(e,t,i){$c.$5c(e,t,i)},this.multiselect={},this.multiselect.$4j=[],this.multiselect.$5n=[],this.multiselect.$5o=[],this.multiselect.$5p=[],this.multiselect.$5q=function(){var e=$c.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=$c.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.$5n.length;i++)t.push(e.$5n[i]);return t},this.multiselect.$5r=function(){var e=$c.nav.select;e.value=$c.multiselect.$5q()},this.multiselect.$5d=function(e,t){var i=$c.multiselect;if(i.isSelected(e.event))if($c.allowMultiSelect)if(t)i.remove(e.event,!0);else{var a=i.$5n.length;i.clear(!0),a>1&&i.add(e.event,!0)}else i.clear(!0);else $c.allowMultiSelect&&t?i.add(e.event,!0):(i.clear(!0),i.add(e.event,!0));i.redraw(),i.$5r()},this.multiselect.$5s=function(e){var t=$c.multiselect;return t.$5t(e,t.$4j)},this.multiselect.$5u=function(){for(var e=$c.multiselect,t=[],i=0;i<e.$5n.length;i++){var a=e.$5n[i];t.push(a.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=$c.multiselect;-1===i.$5v(e)&&i.$5n.push(e),i.$5r(),t||i.redraw()},this.multiselect.remove=function(e,t){var i=$c.multiselect,a=i.$5v(e);-1!==a&&i.$5n.splice(a,1),i.$5r(),t||i.redraw()},this.multiselect.clear=function(e){var t=$c.multiselect;t.$5n=[],t.$5r(),e||t.redraw()},this.multiselect.redraw=function(){for(var e=$c.multiselect,t=0;t<$c.elements.events.length;t++){var i=$c.elements.events[t];e.isSelected(i.event)?e.$5w(i):e.$5x(i)}},this.multiselect.$5w=function(e){var t=$c.multiselect,i=$c.$4E($c.cssOnly?"_selected":"selected"),a=t.$5y(e);DayPilot.Util.addClass(a,i),$c.useEventSelectionBars&&t.$5z(e),t.$5o.push(e)},this.multiselect.$5y=function(e){if($c.cssOnly)return e;for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if("1"===i.getAttribute("c"))return i}return null},this.multiselect.$5A=function(){for(var e=$c.multiselect,t=0;t<e.$5o.length;t++){var i=e.$5o[t];e.$5x(i,!0)}e.$5o=[]},this.multiselect.$5x=function(e,t){var i=$c.multiselect,a=$c.$4E($c.cssOnly?"_selected":"selected"),n=i.$5y(e);if(DayPilot.Util.removeClass(n,a),$c.useEventSelectionBars&&i.$5B(e),!t){var o=DayPilot.indexOf(i.$5o,e);-1!==o&&i.$5o.splice(o,1)}},this.multiselect.isSelected=function(e){return $c.multiselect.$5t(e,$c.multiselect.$5n)},this.multiselect.$5v=function(e){return DayPilot.indexOf($c.multiselect.$5n,e)},this.multiselect.$5t=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var a=t[i];if(e===a)return!0;if("function"==typeof a.value){if(null!==a.value()&&null!==e.value()&&a.value()===e.value())return!0;if(null===a.value()&&null===e.value()&&a.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===a.start())return!0}else{if(null!==a.value&&null!==e.value()&&a.value===e.value())return!0;if(null===a.value&&null===e.value()&&a.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===a.start)return!0}}return!1},this.multiselect.$5z=function(e){var t=5;if(!e.top){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.left=e.offsetLeft+"px",i.style.width=e.offsetWidth+"px",i.style.top=e.offsetTop-t+"px",i.style.height=t+"px",i.style.backgroundColor=$c.eventSelectColor,i.style.zIndex=100,e.parentNode.appendChild(i),e.top=i}if(!e.bottom){var a=document.createElement("div");a.setAttribute("unselectable","on"),a.style.position="absolute",a.style.left=e.offsetLeft+"px",a.style.width=e.offsetWidth+"px",a.style.top=e.offsetTop+e.offsetHeight+"px",a.style.height=t+"px",a.style.backgroundColor=$c.eventSelectColor,a.style.zIndex=100,e.parentNode.appendChild(a),e.bottom=a}},this.multiselect.$5B=function(e){e.top&&(e.parentNode.removeChild(e.top),e.top=null),e.bottom&&(e.parentNode.removeChild(e.bottom),e.bottom=null)},this.$4Q=function(e){if(DayPilotCalendar.editing)return void DayPilotCalendar.editing.blur();var t=this.$5m(e);DayPilotCalendar.editing=t,t.onblur=function(){var i=e.event.value(),a=e.event.tag(),n=e.event.text(),o=t.value;DayPilotCalendar.editing=null,t.parentNode.removeChild(t),n!==o&&(e.style.display="none",$c.$5b(e.event,o))},t.onkeypress=function(e){var i=window.event?event.keyCode:e.keyCode;return 13===i?(this.onblur(),!1):(27===i&&(t.parentNode.removeChild(t),DayPilotCalendar.editing=!1),!0)},t.select(),t.focus()},this.$4k=function(){this.columns?(this.$5D(this.columns),this.$4D=this.$5E(this.headerLevels,!0)):(this.$4D=this.$5C(),this.$5D(this.$4D))},this.$5F=function(){var e=this.startDate.getDatePart(),t=this.days;switch(this.viewType){case"Day":t=1;break;case"Week":t=7,e=e.firstDayOfWeek($0d.weekStarts());break;case"WorkWeek":t=5,e=e.firstDayOfWeek(1)}var i=e.addDays(t),a={};return a.start=e,a.end=i,a.days=t,a},this.$5C=function(){for(var e=[],t=this.$5F(),i=t.start,a=t.days,n=0;a>n;n++){var o={};o.start=i.addDays(n);var s=$0d.locale().datePattern;$c.headerDateFormat&&(s=$c.headerDateFormat),o.name=o.start.toString(s),o.html=o.name,e.push(o)}return e},this.$5G=function(e){e.Start&&(e.id=e.Value,e.start=e.Start,e.name=e.Name,e.html=e.InnerHTML,e.toolTip=e.ToolTip,e.backColor=e.BackColor,e.areas=e.Areas,e.children=e.Children,delete e.Value,delete e.Start,delete e.Name,delete e.InnerHTML,delete e.ToolTip,delete e.BackColor,delete e.Areas,delete e.Children),e.start=e.start||$c.startDate,e.start=new DayPilot.Date(e.start),e.html=e.html||e.name,e.getChildren=function(e,t){var i=[];if(1>=e)return i.push(this),i;if(!this.children||0===this.children.length)return i.push(t?this:"empty"),i;for(var a=0;a<this.children.length;a++)for(var n=this.children[a],o=n.getChildren(e-1,t),s=0;s<o.length;s++)i.push(o[s]);return i},e.getChildrenCount=function(e){var t=0;if(!this.children||this.children.length<=0||1>=e)return 1;for(var i=0;i<this.children.length;i++)t+=this.children[i].getChildrenCount(e-1);return t},e.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];if(i.overlapsWith(e.part.top,e.part.height))return i.events.push(e),i.min=Math.min(i.min,e.part.top),i.max=Math.max(i.max,e.part.top+e.part.height),t}var i=[];return i.lines=[],i.events=[],i.overlapsWith=function(e,t){var i=e+t-1;return i<this.min||e>this.max-1?!1:!0},i.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.top,e.part.height))return a.push(e),i}var a=[];return a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},a.push(e),this.lines.push(a),this.lines.length-1},i.events.push(e),i.min=e.part.top,i.max=e.part.top+e.part.height,this.blocks.push(i),this.blocks.length-1},e.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.top,e.part.height))return a.push(e),i}var a=[];return a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},a.push(e),this.lines.push(a),this.lines.length-1},e.children&&this.$5D(e.children)},this.$5D=function(e){for(var t=0;t<e.length;t++)this.$5G(e[t])},this.$5E=function(e,t){for(var i=this.columns||this.$4D,a=[],n=0;n<i.length;n++)for(var o=i[n].getChildren(e,t),s=0;s<o.length;s++)a.push(o[s]);return a},this.$4y=function(){if(this.showAllDayEvents){var e=this.nav.header;if(e){e.style.display="none";for(var t=this.$4D.length,i=0;i<this.$5H.lines.length;i++)for(var a=this.$5H.lines[i],n=0;n<a.length;n++){var o=a[n],s=document.createElement("div");s.event=o,s.setAttribute("unselectable","on"),s.style.position="absolute",$c.rtl?s.style.right=100*o.part.colStart/t+"%":s.style.left=100*o.part.colStart/t+"%",s.style.width=100*o.part.colWidth/t+"%",s.style.height=$0d.allDayEventHeight()+"px",this.cssOnly?(s.className=this.$4E("_alldayevent"),s.style.top=this.headerLevels*$0d.headerHeight()+i*$0d.allDayEventHeight()+"px"):s.style.top=3+this.headerLevels*$0d.headerHeight()+i*($0d.allDayEventHeight()+2)+"px",s.style.textAlign="left",s.style.lineHeight="1.2",o.client.clickEnabled()&&(s.onclick=this.$4O),o.client.doubleClickEnabled()&&(s.ondblclick=this.$4S),s.style.cursor=o.client.clickEnabled()||o.client.doubleClickEnabled()?"pointer":"default",DayPilot.re(s,"contextmenu",this.$4T),s.onmousemove=function(e){var t=this;if(!t.active){var i=[];o.client.deleteEnabled()&&i.push({action:"JavaScript",v:"Hover",w:17,h:17,top:3,right:3,css:$c.$4E("_event_delete"),js:function(e){$c.$4X(e)}});var a=t.event.cache?t.event.cache.areas:t.event.data.areas;a&&a.length>0&&(i=i.concat(a)),DayPilot.Areas.showAreas(t,t.event,null,i),$c.cssOnly&&DayPilot.Util.addClass(t,$c.$4E("_alldayevent_hover"))}"undefined"!=typeof DayPilotBubble&&$c.bubble&&"Disabled"!==$c.eventHoverHandling&&$c.bubble.showEvent(this.event)},s.onmouseout=function(e){var t=this;$c.cssOnly&&DayPilot.Util.removeClass(t,$c.$4E("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,e),$c.bubble&&$c.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&s.setAttribute("title",o.client.toolTip());var l=o.start().getTime()===o.part.start.getTime(),r=o.end().getTime()===o.part.end.getTime(),c=o.data.backColor;if(this.cssOnly){var d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.$4E("_alldayevent_inner"),c&&(d.style.background=c),$c.rtl?(l||DayPilot.Util.addClass(s,this.$4E("_alldayevent_continueright")),r||DayPilot.Util.addClass(s,this.$4E("_alldayevent_continueleft"))):(l||DayPilot.Util.addClass(s,this.$4E("_alldayevent_continueleft")),r||DayPilot.Util.addClass(s,this.$4E("_alldayevent_continueright"))),d.innerHTML=o.client.innerHTML()?o.client.innerHTML():o.text(),s.appendChild(d)}else{var d=document.createElement("div");d.setAttribute("unselectable","on"),d.style.marginLeft="2px",d.style.marginRight="3px",d.style.paddingLeft="2px",d.style.height=$0d.allDayEventHeight()-2+"px",d.style.border="1px solid "+this.allDayEventBorderColor,d.style.overflow="hidden",d.style.position="relative",d.style.backgroundColor=c,d.className=this.$4E("alldayevent"),this.roundedCorners&&(d.style.MozBorderRadius="5px",d.style.webkitBorderRadius="5px",d.style.borderRadius="5px");var h=[],u=!0,f=this.showAllDayEventStartEnd,v=this.showAllDayEventStartEnd,p="Center",y=0;if(f&&("Left"===p?(h.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;"),h.push("width:"),h.push(y-4),h.push("px;"),h.push("><span style='background-color:")):h.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:"),h.push("transparent"),h.push("' unselectable='on'>"),l?o.start().getDatePart().getTime()!==o.start().getTime()&&h.push(DayPilot.Date.hours(o.start().d,"Clock12Hours"===this.$5I.timeFormat())):h.push("~"),h.push("</span></div></div>")),v&&(h.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:"),h.push("transparent"),h.push("' unselectable='on'>"),r?o.end().getDatePart().getTime()!==o.end().getTime()&&h.push(DayPilot.Date.hours(o.end().d,"Clock12Hours"===this.$5I.timeFormat())):h.push("~"),h.push("</span></div></div>")),"Left"===p){var m=f?y:0;h.push("<div style='margin-top:0px;height:"),h.push($0d.allDayEventHeight()-2),h.push("px;"),h.push(";overflow:hidden;text-align:left;padding-left:"),h.push(m),h.push("px;font-size:"),h.push(this.allDayEventFontSize),h.push(";color:"),h.push(this.allDayEventFontColor),h.push(";font-family:"),h.push(this.eventFontFamily),h.push("' unselectable='on'>"),h.push(o.client.innerHTML()?o.client.innerHTML():o.text()),h.push("</div>")}else"Center"===p&&(u?(h.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>"),h.push("<span style='background-color:"),h.push("transparent"),h.push(";font-size:"),h.push(this.allDayEventFontSize),h.push(";color:"),h.push(this.allDayEventFontColor),h.push(";font-family:"),h.push(this.allDayEventFontFamily),h.push("' unselectable='on'>"),h.push(o.client.innerHTML()?o.client.innerHTML():o.text()),h.push("</span>"),h.push("</div>")):(h.push("<div style='margin-top:0px;height:"),h.push($0d.allDayEventHeight()-2),h.push("px;"),h.push(";overflow:hidden;text-align:center;font-size:"),h.push(this.allDayEventFontSize),h.push(";color:"),h.push(this.allDayEventFontColor),h.push(";font-family:"),h.push(this.allDayEventFontFamily),h.push("' unselectable='on'>"),h.push(o.client.innerHTML()?o.client.innerHTML():o.text()),h.push("</div>")));d.innerHTML=h.join(""),s.appendChild(d)}if($c.$4B()){if("function"==typeof $c.onAfterEventRender){var g={};g.e=s.event,g.div=s,$c.onAfterEventRender(g)}}else $c.afterEventRender&&$c.afterEventRender(s.event,s);this.nav.allday.appendChild(s),this.elements.events.push(s)}e.style.display=""}}},this.$47=function(e){if($c.multiselect.$5A(),this.elements.events)for(var t=0;t<this.elements.events.length;t++){var i=this.elements.events[t],a=i.event;if(!a||!e||a.allday()){if(a&&(a.div=null,a.root=null),i.onclick=null,i.onclickSave=null,i.ondblclick=null,i.oncontextmenu=null,i.onmouseover=null,i.onmouseout=null,i.onmousemove=null,i.onmousedown=null,i.firstChild&&i.firstChild.firstChild&&i.firstChild.firstChild.tagName&&"IMG"===i.firstChild.firstChild.tagName.toUpperCase()){var n=i.firstChild.firstChild;n.onmousedown=null,n.onmousemove=null,n.onclick=null}i.helper=null,i.event=null,DayPilot.de(i)}}this.elements.events=[]},this.$5J=function(e){var t=this.nav.events,i=this.roundedCorners,a=this.roundedCorners&&(this.$3W.ff||this.$3W.opera105||this.$3W.webkit522||!this.$3W.ielt9),n=this.roundedCorners&&!a,o=e.cache||e.data,s=o.borderColor||this.eventBorderColor,l=document.createElement("div");l.setAttribute("unselectable","on"),l.style.MozUserSelect="none",l.style.KhtmlUserSelect="none",l.style.WebkitUserSelect="none",l.style.position="absolute",this.cssOnly?l.className=this.$4E("_event"):(l.style.fontFamily=this.eventFontFamily,l.style.fontSize=this.eventFontSize,l.style.color=o.fontColor||this.eventFontColor,i||(l.style.backgroundColor=s)),l.style.left=e.part.left+"%",l.style.top=e.part.top-this.$5l()+"px",l.style.width=e.part.width+"%",l.style.height=Math.max(e.part.height,2)+"px",l.style.overflow="hidden",l.isFirst=e.part.start.getTime()===e.start().getTime(),l.isLast=e.part.end.getTime()===e.end().getTime(),e.client.clickEnabled()&&(l.onclick=this.$4O),e.client.doubleClickEnabled()&&(l.ondblclick=this.$4S),DayPilot.re(l,"contextmenu",this.$4T),l.onmousemove=this.$5K,l.onmouseout=this.$5L,l.onmousedown=this.$5M,DayPilot.re(l,DayPilot.touch.start,this.$5N.onEventTouchStart),DayPilot.re(l,DayPilot.touch.move,this.$5N.onEventTouchMove),DayPilot.re(l,DayPilot.touch.end,this.$5N.onEventTouchEnd);
var r=[];if(this.cssOnly){o.cssClass&&DayPilot.Util.addClass(l,o.cssClass),this.showToolTip&&!this.bubble&&l.setAttribute("title",e.client.toolTip());var c=document.createElement("div");if(c.setAttribute("unselectable","on"),c.className=$c.$4E("_event_inner"),c.innerHTML=e.client.innerHTML(),o.fontColor&&(c.style.color=o.fontColor),o.backColor&&(c.style.background=o.backColor),o.borderColor&&(c.style.borderColor=o.borderColor),o.backgroundImage&&(c.style.backgroundImage="url("+o.backgroundImage+")",o.backgroundRepeat&&(c.style.backgroundRepeat=o.backgroundRepeat)),l.appendChild(c),e.client.barVisible()){var d=e.part.height-2,h=100*e.part.barTop/d,u=Math.ceil(100*e.part.barHeight/d);"PercentComplete"===this.durationBarMode&&(h=0,u=o.complete);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.className=this.$4E("_event_bar"),f.style.position="absolute",o.barBackColor&&(f.style.backgroundColor=o.barBackColor);var v=document.createElement("div");v.setAttribute("unselectable","on"),v.className=this.$4E("_event_bar_inner"),v.style.top=h+"%",v.style.height=u>0&&1>=u?"1px":u+"%",o.barColor&&(v.style.backgroundColor=o.barColor),f.appendChild(v),l.appendChild(f)}}else{"Disabled"!==this.eventDeleteHandling&&e.client.deleteEnabled()&&(r.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;"),this.deleteImageUrl&&r.push('background-image:url("'+this.deleteImageUrl+'");'),r.push("' class='"),r.push(this.$4E("event_delete")),r.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&"),r.push(this.clientName),r.push(".bubble && "),r.push(this.clientName),r.push(".bubble.hideAfter > 0"),r.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='"),r.push(this.clientName),r.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>")),n?(r.push("<div style='margin-right:2px;'>"),r.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:"),r.push(s),r.push(";'>&nbsp;</div>"),r.push("</div>"),r.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>"),r.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid "),r.push(s),r.push(";border-left:1px solid "),r.push(s),r.push(";background-color:"),r.push(e.client.header()?s:e.BackgroundColor),r.push("'>"),r.push("&nbsp;</div>"),r.push("</div>")):a||r.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>"),r.push("<div"),this.showToolTip&&!this.bubble&&(r.push(" title='"),r.push(e.client.toolTip().replace(/'/g,"&apos;")),r.push("'"));var d=Math.max(e.part.height-2,0);if(r.push(" c='1'"),r.push(" class='"),r.push(o.cssClass||this.$4E("event")),r.push("'"),n?(r.push(" style='margin-top:1px;height:"),r.push(d-2)):(r.push(" style='margin-top:0px;height:"),r.push(d)),r.push("px;background-color:"),r.push(e.client.backColor()),a?(r.push(";border:1px solid "),r.push(s),r.push(";-moz-border-radius:5px;"),r.push(";-webkit-border-radius:5px;"),r.push(";border-radius:5px;")):(r.push(";border-left:1px solid "),r.push(s),r.push(";border-right:1px solid "),r.push(s)),r.push(";"),e.data.backgroundImage&&(r.push("background-image:url("),r.push(e.data.backgroundImage),r.push(");"),e.data.backgroundRepeat&&(r.push("background-repeat:"),r.push(e.data.backgroundRepeat),r.push(";"))),$c.rtl&&r.push("direction:rtl;"),r.push("' unselectable='on'>"),this.durationBarVisible){var p=e.client.barColor()||$c.durationBarColor;r.push("<div style='position:absolute;left:1px;top:1px;width:"),r.push($c.durationBarWidth-1),r.push("px;height:"),r.push(e.part.barTop),r.push("px;background-color:white;font-size:1px' unselectable='on'></div>"),r.push("<div style='position:absolute;left:1px;top:"),r.push(e.part.barTop+e.part.barHeight),r.push("px;width:"),r.push($c.durationBarWidth-1),r.push("px;height:"),r.push(d-(e.part.barTop+e.part.barHeight)),r.push("px;background-color:white;font-size:1px' unselectable='on'></div>"),r.push("<div style='position:absolute;left:1px;width:"),r.push($c.durationBarWidth),r.push("px;height:"),r.push(e.part.barHeight),r.push("px;"),e.data.durationBarImageUrl?(r.push("background-image:url("),r.push(e.data.durationBarImageUrl),r.push(");")):$c.durationBarImageUrl&&(r.push("background-image:url("),r.push($c.durationBarImageUrl),r.push(");")),r.push("top:"),r.push(e.part.barTop+1),r.push("px;background-color:"),r.push(p),r.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:"),r.push($c.durationBarWidth),r.push("px;top:1px;width:1px;background-color:"),r.push(s),r.push(";height:100%' unselectable='on'></div>")}var y=e.client.header()?this.eventHeaderHeight:0;e.client.header()&&(r.push("<div unselectable='on' style='overflow:hidden;height:"),r.push(this.eventHeaderHeight),r.push("px; background-color:"),r.push(s),r.push(";font-size:"),r.push(this.eventHeaderFontSize),r.push(";color:"),r.push(this.eventHeaderFontColor),r.push("'>"),r.push(e.client.header()),r.push("</div>")),this.durationBarVisible?(r.push("<div unselectable='on' style='padding-left:"),r.push($c.durationBarWidth+3),r.push("px;")):(r.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:"),r.push(d-y-1),r.push("px;")),r.push("'>"),r.push(e.client.innerHTML()),r.push("</div></div>"),n&&(r.push("<div unselectable='on' style='margin-right:2px;'>"),r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:"),r.push(s),r.push(";'><!-- --></div>"),r.push("</div>"),r.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>"),r.push("<div unselectable='on' style='margin-right:0px;position:relative;'>"),r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid "),r.push(s),r.push(";border-left:1px solid "),r.push(s),r.push(";background-color:"),r.push(e.client.backColor()),r.push("'>"),r.push("<!-- --></div>"),r.push("</div>"),r.push("</div>")),l.innerHTML=r.join("")}if(o.areas)for(var m=0;m<o.areas.length;m++){var g=o.areas[m];if("Visible"===g.v){var b=DayPilot.Areas.createArea(l,e,g);l.appendChild(b)}}if(t.rows[0].cells[e.part.dayIndex]){var D=t.rows[0].cells[e.part.dayIndex].events;if(D.appendChild(l),$c.$5O(l),l.event=e,$c.multiselect.$5s(e)&&$c.multiselect.add(l.event,!0),$c.$4B()){if("function"==typeof $c.onAfterEventRender){var w={};w.e=l.event,w.div=l,$c.onAfterEventRender(w)}}else $c.afterEventRender&&$c.afterEventRender(l.event,l)}$c.elements.events.push(l)},this.$5O=function(e){for(var t=e&&e.childNodes?e.childNodes.length:0,i=0;t>i;i++)try{var a=e.childNodes[i];1===a.nodeType&&(a.setAttribute("unselectable","on"),this.$5O(a))}catch(n){}},this.$4x=function(){this.multiselect.$5n=[];for(var e=new Date,t=0;t<this.$4D.length;t++){var i=this.$4D[t];if(i.blocks)for(var a=0;a<i.blocks.length;a++)for(var n=i.blocks[a],o=0;o<n.lines.length;o++)for(var s=n.lines[o],l=0;l<s.length;l++){var r=s[l];if(r.part.width=100/n.lines.length,r.part.left=r.part.width*o,"Cascade"===this.eventArrangement){var c=o===n.lines.length-1;c||(r.part.width=1.5*r.part.width)}"Full"===this.eventArrangement&&(r.part.left=r.part.left/2,r.part.width=100-r.part.left),r.allday()||this.$5J(r)}}this.multiselect.redraw();var d=new Date,h=d.getTime()-e.getTime()},this.$5P=function(){this.multiselect.$5n=[];for(var e=0;e<this.$4D.length;e++)for(var t=this.$4D[e],i=0;i<t.lines.length;i++)for(var a=t.lines[i],n=0;n<a.length;n++){var o=a[n];o.part.width=100/t.lines.length,o.part.left=o.Width*i,o.allday()||this.$5J(o)}},this.$4E=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$4w=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$5Q=function(){var e=this.$4L()+this.$5R();return $c.debug.message("Getting totalHeight, headerHeight: "+this.$4L()+" scrollable: "+this.$5R()),0>e?0:e},this.$5S=function(){this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),this.cssOnly||(this.nav.top.style.lineHeight="1.2",this.nav.top.style.textAlign="left"),this.nav.top.style.height="Parent100Pct"===this.heightSpec?"100%":this.$5Q()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.$5R()+"px",this.cssOnly&&DayPilot.Util.addClass(this.nav.top,this.$4E("_main"));var e="Fixed"===this.columnWidthSpec;if(e||("Fixed"===this.heightSpec?this.nav.scroll.style.overflowY="scroll":this.nav.scroll.style.overflow="BusinessHours"===this.heightSpec&&this.$4F()<=this.businessEndsHour-this.businessBeginsHour?"hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?"auto":"hidden"),this.nav.scroll.style.position="relative",this.cssOnly||(this.nav.scroll.style.border="1px solid "+this.borderColor,this.nav.scroll.style.backgroundColor=this.hourNameBackColor),this.showHeader){var t=this.$5T();this.nav.top.appendChild(t)}this.nav.scroll.style.zoom=1,this.nav.scroll.setAttribute("data-id","nav.scroll"),this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.$4L()+"px";var i=this.$5U();this.nav.scrollable=i.firstChild,this.nav.scroll.appendChild(i),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=$c.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=$c.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.style.backgroundColor=this.loadingLabelBackColor,this.nav.loading.style.fontSize=this.loadingLabelFontSize,this.nav.loading.style.fontFamily=this.loadingLabelFontFamily,this.nav.loading.style.color=this.loadingLabelFontColor,this.nav.loading.style.padding="2px",this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.$4t=function(){this.$3T?this.$5V():DayPilot.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this.$5W(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.$5V=function(){if(this.nav.hourTable)for(var e=0;e<this.nav.hourTable.rows.length;e++){var t=this.nav.hourTable.rows[e],i=t.cells[0].firstChild;i.data=null,i.onmousemove=null,i.onmouseout=null}},this.$5U=function(){var e=document.createElement("div");e.style.zoom=1,e.style.position="relative",e.onmousemove=this.$5X,DayPilot.re(e,DayPilot.touch.start,this.$5N.onMainTouchStart),DayPilot.re(e,DayPilot.touch.move,this.$5N.onMainTouchMove),DayPilot.re(e,DayPilot.touch.end,this.$5N.onMainTouchEnd),DayPilot.re(e,"contextmenu",function(e){var e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1}),navigator.msPointerEnabled&&(e.style.msTouchAction="none",e.style.touchAction="none");var t=null,i=null,a=null,n="Fixed"===this.columnWidthSpec;if(n){if(this.showHours){var o=document.createElement("div");o.style.cssFloat="left",o.style.styleFloat="left",o.style.width=this.hourWidth+"px",o.style.height=this.$5R()+"px",o.style.overflow="hidden",e.appendChild(o),t=o;var s=30,l=this.$4G()*this.cellHeight/(6e4*this.cellDuration)+s;a=document.createElement("div"),a.style.height=l+"px",o.appendChild(a)}var r=document.createElement("div");r.style.height=this.$5R()+"px",this.showHours&&(r.style.marginLeft=this.hourWidth+"px"),r.style.position="relative",r.style.overflow="auto",e.appendChild(r),i=r}else{var c=document.createElement("table");c.cellSpacing="0",c.cellPadding="0",c.border="0",c.style.border="0px none",c.style.width="100%",c.style.position="relative";var d=c.insertRow(-1),h;this.showHours&&(h=d.insertCell(-1),h.style.verticalAlign="top",h.style.padding="0px",h.style.border="0px none",a=h),h=d.insertCell(-1),h.width="100%",h.style.padding="0px",h.style.border="0px none",h.style.verticalAlign="top",this.cssOnly||(h.style.borderLeft="1px solid "+this.borderColor),i=h,e.appendChild(c)}if(a&&(this.nav.hourTable=this.$5W(),a.appendChild(this.nav.hourTable)),this.cssOnly||this.$3U){var u=document.createElement("div");u.style.height="0px",u.style.position="relative",u.appendChild(this.$5Y());var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.right="0px",f.style.height="0px",u.appendChild(f),this.nav.crosshair=f,u.appendChild(this.$5Z()),i.appendChild(u)}else i.appendChild(this.$5Y());return this.nav.zoom=e,this.nav.bottomLeft=t,this.nav.bottomRight=i,this.nav.hoursPlaceholder=a,e},this.$5Y=function(){var e=document.createElement("table");e.cellPadding="0",e.cellSpacing="0",e.border="0";var t="Fixed"===this.columnWidthSpec;return t||(e.style.width="100%"),e.style.border="0px none",!this.cssOnly,e.style.tableLayout="fixed",this.nav.main=e,this.nav.events=e,e},this.$60=function(){var e="Fixed"===this.columnWidthSpec;if(e){for(var t=0,i=0;i<$c.$4D.length;i++){var a=$c.$4D[i];t+=a.width?a.width:$c.columnWidth}return t+"px"}return"100%"},this.$5Z=function(){var e=document.createElement("table"),t="Fixed"===this.columnWidthSpec;e.style.position="absolute",e.style.top="0px",e.cellPadding="0",e.cellSpacing="0",e.border="0",e.style.width=$c.$60(),e.style.border="0px none",e.style.tableLayout="fixed",this.nav.events=e;for(var i=!0,a=this.$4D,n=a.length,o=i?e.insertRow(-1):e.rows[0],s=0;n>s;s++){var l=i?o.insertCell(-1):o.cells[s];i&&(l.style.padding="0px",l.style.border="0px none",l.style.height="0px",l.style.overflow="visible",$c.rtl||(l.style.textAlign="left"),"Fixed"===$c.columnWidthSpec&&(l.style.width=a[s].width?a[s].width+"px":$c.columnWidth+"px"),$c.$61(l))}return e},this.$5W=function(){var e=document.createElement("table");e.cellSpacing="0",e.cellPadding="0",e.border="0",e.style.border="0px none",e.style.width=this.hourWidth+"px",e.oncontextmenu=function(){return!1},e.onmousemove=function(){$c.$4e()};for(var t=this.$4G()/(60*this.timeHeaderCellDuration*1e3),i=0;t>i;i++)this.$62(e,i);return e},this.$63=function(){return(this.$4K()-this.$4K(!0))*(60/this.cellDuration)},this.$64=function(){return this.$4K()-this.$4K(!0)},this.$5l=function(){return this.$63()*this.cellHeight},this.$62=function(e,t){var i=60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration),a=e.insertRow(-1);a.style.height=i+"px";var n=a.insertCell(-1);n.valign="bottom",n.setAttribute("unselectable","on"),this.cssOnly||(n.className=this.$4E("rowheader"),n.style.backgroundColor=this.hourNameBackColor,n.style.cursor="default"),n.style.padding="0px",n.style.border="0px none";var o=document.createElement("div");this.cssOnly&&(o.className=this.$4E("_rowheader")),o.style.position="relative",o.style.width=this.hourWidth+"px",o.style.height=i+"px",o.style.overflow="hidden",o.setAttribute("unselectable","on");var s=document.createElement("div");this.cssOnly&&(s.className=this.$4E("_rowheader_inner")),s.setAttribute("unselectable","on"),this.cssOnly||(s.style.borderBottom="1px solid "+this.hourNameBorderColor,s.style.textAlign="right",s.style.height=i-1+"px");var l=null,r=null;if(this.hours){var c=t+this.$64();r=this.hours[c],l=r.html}var d=this.startDate.addHours(t+this.$4K()),h=d.getHours();if("function"==typeof $c.onBeforeTimeHeaderRender){var u={};u.header={},u.header.hours=h,u.header.minutes=d.getMinutes(),u.header.start=d.toString("HH:mm"),u.header.html=l,u.header.areas=r?r.areas:null,$c.onBeforeTimeHeaderRender(u),null!==u.header.html&&(l=u.header.html),r=u.header}if(r&&(o.data=r,o.onmousemove=$c.$65,o.onmouseout=$c.$66),l)s.innerHTML=l;else{var f=document.createElement("div");f.setAttribute("unselectable","on"),this.cssOnly||(f.style.padding="2px",f.style.fontFamily=this.hourFontFamily,f.style.fontSize=this.hourFontSize,f.style.color=this.hourFontColor);var v=12>h;"Clock12Hours"===this.$5I.timeFormat()&&(h%=12,0===h&&(h=12)),f.innerHTML=h;var p=document.createElement("span");p.setAttribute("unselectable","on"),this.cssOnly?p.className=this.$4E("_rowheader_minutes"):(p.style.fontSize="10px",p.style.verticalAlign="super");var y;y="Clock12Hours"===this.$5I.timeFormat()?v?"AM":"PM":"00",p.innerHTML=this.cssOnly?y:"&nbsp;"+y,f.appendChild(p),s.appendChild(f)}o.appendChild(s),n.appendChild(o)},this.$65=function(e){$c.$4e();var t=this;t.active||DayPilot.Areas.showAreas(t,t.data)},this.$66=function(e){DayPilot.Areas.hideAreas(this,e)},this.$5R=function(){switch(this.heightSpec){case"Fixed":return this.height;case"Parent100Pct":return this.height;case"Full":return this.$4G()*this.cellHeight/(6e4*this.cellDuration);case"BusinessHours":case"BusinessHoursNoScroll":var e=this.$4H();return e*this.cellHeight*60/this.cellDuration;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.$4L=function(){if(!this.showHeader)return 0;var e=this.headerLevels*$0d.headerHeight()+this.headerLevels-1;return this.showAllDayEvents&&$0d.allDayHeaderHeight()?this.cssOnly?e+$0d.allDayHeaderHeight():e+$0d.allDayHeaderHeight():e},this.$4p=function(){if(this.headerHeightAutoFit){if(this.headerLevels>1)throw"Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";for(var e=0,t=0;t<this.$4D.length;t++){var i=this.nav.header.rows[this.headerLevels-1].cells[t],a=i.firstChild,n=a.firstChild,o=a.style.height;a.style.height="auto",n.style.position="static";var s=a.offsetHeight;a.style.height=o,n.style.position="",e=Math.max(e,s)}e>this.headerHeight&&(this.$3S.headerHeight=e,this.$4n(),this.$4o())}},this.$67=function(){return this.cssOnly?DayPilot.sw($c.nav.scroll)>0:DayPilot.sw($c.nav.scroll)>2},this.$5T=function(){var e=document.createElement("div");this.cssOnly||(e.style.borderLeft="1px solid "+this.borderColor,e.style.borderRight="1px solid "+this.borderColor);var t="Fixed"===this.columnWidthSpec;t||(e.style.overflow="auto"),e.style.position="absolute",e.style.left="0px",e.style.right="0px";var i=document.createElement("div");i.style.position="relative",i.style.zoom="1";var a=null,t="Fixed"===this.columnWidthSpec;if(t){var n=document.createElement("div");if(n.style.cssFloat="left",n.style.styleFloat="left",n.style.width=this.hourWidth+"px",this.showHours){var o=this.$68();this.nav.corner=o,n.appendChild(o),i.appendChild(n),this.nav.upperLeft=n}var s=30,l=document.createElement("div");this.showHours&&(l.style.marginLeft=this.hourWidth+"px"),l.style.position="relative",l.style.overflow="hidden",l.style.height=this.$4L()+"px",i.appendChild(l),this.nav.upperRight=l,a=document.createElement("div"),a.style.width=this.$4D.length*this.columnWidth+s+"px",l.appendChild(a)}else{var r=document.createElement("table");r.cellPadding="0",r.cellSpacing="0",r.border="0",r.style.width="100%",r.style.borderCollapse="separate",r.style.border="0px none";var c=r.insertRow(-1);if(this.nav.fullHeader=r,this.showHours){var d=c.insertCell(-1);d.style.padding="0px",d.style.border="0px none";var o=this.$68();d.appendChild(o),this.nav.corner=o}d=c.insertCell(-1),d.style.width="100%",this.cssOnly||(d.style.backgroundColor=this.hourNameBackColor),d.valign="top",d.style.position="relative",d.style.padding="0px",d.style.border="0px none",a=document.createElement("div"),a.style.position="relative",a.style.height=this.$4L()+"px",a.style.overflow="hidden",d.appendChild(a),this.nav.mid=a,i.appendChild(r)}this.nav.headerParent=a,this.$69();var h=this.$67(),t="Fixed"===this.columnWidthSpec;return h&&!t&&this.$6a(),e.appendChild(i),e},this.$69=function(){this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";var e="Fixed"===this.columnWidthSpec;e||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.cssOnly||(this.nav.header.style.borderBottom="0px none #000000",this.nav.header.style.borderLeft="1px solid "+this.borderColor,this.nav.header.style.borderTop="1px solid "+this.borderColor),this.nav.header.oncontextmenu=function(){return!1};var t=this.$67();if(this.cssOnly||t&&(this.nav.header.style.borderRight="1px solid "+this.borderColor),this.nav.headerParent.appendChild(this.nav.header),this.nav.allday&&DayPilot.de(this.nav.allday),this.showAllDayEvents){var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.height="0px";var e="Fixed"===this.columnWidthSpec;i.style.width=e?this.$4D.length*this.columnWidth+"px":"100%",this.nav.allday=i,this.nav.headerParent.appendChild(i)}},this.$6a=function(){if(this.nav.fullHeader){var e=this.nav.fullHeader.rows[0],t=e.insertCell(-1);this.cssOnly||(t.className=this.$4E("cornerright"),t.style.backgroundColor=this.hourNameBackColor,t.style.borderBottom="0px none",t.style.borderLeft="1px solid "+this.borderColor,t.style.borderRight="0px none"),t.style.padding="0px",t.style.verticalAlign="top",t.setAttribute("unselectable","on");var i=document.createElement("div");i.setAttribute("unselectable","on"),this.cssOnly&&(i.className=this.$4E("_cornerright")),i.style.overflow="hidden",i.style.position="relative",i.style.width="16px",i.style.height=this.$4L()+"px";var a=document.createElement("div");this.cssOnly?a.className=this.$4E("_cornerright_inner"):a.style.borderTop="1px solid "+this.borderColor,i.appendChild(a),t.appendChild(i),this.nav.cornerRight=i}},this.$68=function(){var e=document.createElement("div");e.style.position="relative",this.cssOnly?e.className=this.$4E("_corner"):(e.style.backgroundColor=this.cornerBackColor,e.style.fontFamily=this.headerFontFamily,e.style.fontSize=this.headerFontSize,e.style.color=this.headerFontColor,e.className=this.$4E("corner")),e.style.width=this.hourWidth+"px",e.style.height=this.$4L()+"px",e.style.overflow="hidden",e.oncontextmenu=function(){return!1};var t=document.createElement("div");this.cssOnly?t.className=this.$4E("_corner_inner"):t.style.borderTop="1px solid "+this.borderColor,t.setAttribute("unselectable","on");var i=this.cornerHTML||this.cornerHtml;if(t.innerHTML=i?i:"",e.appendChild(t),!this.numberFormat)return e;var a=document.createElement("div");return a.style.position="absolute",a.style.padding="2px",a.style.top="0px",a.style.left="1px",a.style.color="white",a.setAttribute("unselectable","on"),e.appendChild(a),e},this.$48=function(){var e=this.nav.main;e.root=null,e.onmouseup=null;for(var t=0;t<e.rows.length;t++)for(var i=e.rows[t],a=0;a<i.cells.length;a++){var n=i.cells[a];n.root=null,n.onmousedown=null,n.onmousemove=null,n.onmouseout=null,n.onmouseup=null,n.onclick=null,n.ondblclick=null,n.oncontextmenu=null}this.$3T||DayPilot.pu(e)},this.$4q=function(){for(var e=0;this.nav.scrollUp&&e<this.nav.scrollUp.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);for(var e=0;this.nav.scrollDown&&e<this.nav.scrollDown.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.$61=function(e){var t=document.createElement("div");t.style.marginRight=$c.columnMarginRight+"px",t.style.position="relative",t.style.height="1px",this.cssOnly||(t.style.fontSize="1px",t.style.lineHeight="1.2"),t.style.marginTop="-1px",e.events=t;var i=document.createElement("div");i.style.position="relative",t.style.height="1px",t.style.marginTop="-1px",e.separators=i,e.appendChild(i),e.appendChild(t)},this.$4s=function(){var e=this.nav.main,t=60*this.cellDuration*1e3,i=this.$4N(),a=this.$64()*(60/this.cellDuration),n=$c.$4D,o=!this.$6b||0===e.rows.length||n.length!==e.rows[0].cells.length||i!==e.rows.length;if(e&&(this.$48(),$c.$3W.ielt9&&o)){DayPilot.de(this.nav.scrollable.parentNode);var s=this.$5U();this.nav.scrollable=s.firstChild,this.nav.scroll.appendChild(s),e=this.nav.main}for(this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;e&&e.rows&&e.rows.length>0&&o;)this.$3T||DayPilot.pu(e.rows[0]),e.deleteRow(0);if(this.$6b=!0,this.scrollLabelsVisible)for(var n=this.$4D,l=this.showHours?this.hourWidth:0,r=(this.nav.scroll.clientWidth-l)/n.length,c=0;c<n.length;c++){var d=document.createElement("div");d.style.position="absolute",d.style.top="0px",d.style.left=l+2+c*r+r/2+"px",d.style.display="none";var h=document.createElement("div");h.style.height="10px",h.style.width="10px",this.cssOnly?h.className=this.$4E("_scroll_up"):(h.style.backgroundRepeat="no-repeat",this.scrollUpUrl&&(h.style.backgroundImage="url('"+this.scrollUpUrl+"')"),h.className=this.$4E("scroll_up")),d.appendChild(h),this.nav.scrollLayer.appendChild(d),this.nav.scrollUp.push(d);var u=document.createElement("div");u.style.position="absolute",u.style.top="0px",u.style.left=l+2+c*r+r/2+"px",u.style.display="none";var h=document.createElement("div");h.style.height="10px",h.style.width="10px",this.cssOnly?h.className=this.$4E("_scroll_down"):(h.style.backgroundRepeat="no-repeat",this.scrollDownUrl&&(h.style.backgroundImage="url('"+this.scrollDownUrl+"')"),h.className=this.$4E("scroll_down")),u.appendChild(h),this.nav.scrollLayer.appendChild(u),this.nav.scrollDown.push(u)}var f=n.length;if(this.cssOnly||this.$3U){for(var v=this.nav.events;v&&v.rows&&v.rows.length>0&&o;)this.$3T||DayPilot.pu(v.rows[0]),v.deleteRow(0);for(var p=o?v.insertRow(-1):v.rows[0],y=0;f>y;y++){var m=o?p.insertCell(-1):p.cells[y];if(o){m.style.padding="0px",m.style.border="0px none",m.style.height="1px",m.style.overflow="visible";var g="Fixed"===this.columnWidthSpec;g&&(m.style.width=n[y].width?n[y].width+"px":this.columnWidth+"px"),$c.rtl||(m.style.textAlign="left"),$c.$61(m)}}}for(var c=0;i>c;c++){var p=o?e.insertRow(-1):e.rows[c],b=c+a;o&&(p.style.MozUserSelect="none",p.style.KhtmlUserSelect="none",p.style.WebkitUserSelect="none");for(var y=0;f>y;y++){var D=this.$4D[y],m=o?p.insertCell(-1):p.cells[y];if(m.start=D.start.addTime(b*t).addHours(this.$4K()),m.end=m.start.addTime(t),m.resource=D.id,"function"==typeof this.onBeforeCellRender){this.cellProperties||(this.cellProperties={});var w={};w.resource=m.resource,w.start=m.start,w.end=m.end;var k=y+"_"+b;w.cssClass=null,w.html=null,w.backImage=null,w.backRepeat=null,w.backColor=null,w.business=this.$6c(m.start,m.end),this.cellProperties[k]&&DayPilot.Util.copyProps(this.cellProperties[k],w,["cssClass","html","backImage","backRepeat","backColor","business"]);var C={};C.cell=w,this.onBeforeCellRender(C),this.cellProperties[k]=w}var P=$c.$6d(y,b);if(o)if(m.root=this,m.style.padding="0px",m.style.border="0px none",m.style.verticalAlign="top",m.style.height=$c.cellHeight+"px",m.style.overflow="hidden",m.setAttribute("unselectable","on"),this.cssOnly){var x=document.createElement("div");x.className=$c.$4E("_cell"),x.style.position="relative",x.style.height=$c.cellHeight+"px",x.style.overflow="hidden",x.setAttribute("unselectable","on");var S=document.createElement("div");S.className=$c.$4E("_cell_inner"),x.appendChild(S),m.appendChild(x)}else{var x=document.createElement("div");x.style.height=$c.cellHeight-1+"px",x.style.width="100%",x.style.overflow="hidden",x.setAttribute("unselectable","on"),m.appendChild(x);var T=document.createElement("div");T.setAttribute("unselectable","on"),T.style.fontSize="1px",T.style.height="0px",m.appendChild(T),(!$c.rtl&&y!==f-1||$c.rtl)&&(m.style.borderRight="1px solid "+$c.cellBorderColor);var M=m.end.getMinutes()+m.end.getSeconds()+m.end.getMilliseconds()>0;M?(""!==$c.hourHalfBorderColor&&(T.style.borderBottom="1px solid "+$c.hourHalfBorderColor),T.className=$c.$4E("hourhalfcellborder")):(""!==$c.hourBorderColor&&(T.style.borderBottom="1px solid "+$c.hourBorderColor),T.className=$c.$4E("hourcellborder"))}else x=m.firstChild,x.className=$c.$4E("_cell");m.onmousedown=this.$5e,m.onmousemove=this.$5h,m.onmouseout=this.$5g,DayPilot.re(m,DayPilot.touch.end,this.$5N.onCellTouchEnd),m.onmouseup=function(){return!1},m.onclick=function(){return!1},m.ondblclick=function(){if(DayPilotCalendar.firstMousePos=null,$c.$5f(),clearTimeout(DayPilotCalendar.selectedTimeout),"Disabled"!==$c.timeRangeDoubleClickHandling){var e=$c.getSelection();$c.$5a(e.start,e.end,e.resource)}},m.oncontextmenu=function(){return this.selected||($c.clearSelection(),DayPilotCalendar.column=DayPilotCalendar.getColumn(this),$c.selectedCells.push(this),DayPilotCalendar.firstSelected=this,DayPilotCalendar.topSelectedCell=this,DayPilotCalendar.bottomSelectedCell=this,$c.$5f()),$c.contextMenuSelection&&$c.contextMenuSelection.show($c.getSelection()),!1};var H=$c.$6e(y,b);x=m.firstChild;var g="Fixed"===this.columnWidthSpec;g&&(x.style.width=D.width?D.width+"px":this.columnWidth+"px"),H&&(this.cssOnly?x.firstChild.style.background=H:x.style.background=H);var A=P?P.business:this.$6c(m.start,m.end);A&&this.cssOnly&&DayPilot.Util.addClass(x,$c.$4E("_cell_business"));var E=this.cssOnly?x.firstChild:x;E&&(E.innerHTML=""),x.style.backgroundImage="",x.style.backgroundRepeat="",P&&(P.html&&(E.innerHTML=P.html),P.cssClass&&(this.cssOnly?DayPilot.Util.addClass(x,P.cssClass):DayPilot.Util.addClass(m,$c.$4E(P.cssClass))),P.backImage&&(x.style.backgroundImage="url('"+P.backImage+"')"),P.backRepeat&&(x.style.backgroundRepeat=P.backRepeat)),this.cssOnly||DayPilot.Util.addClass(m,$c.$4E("cellbackground"))}}e.onmouseup=this.$5i,e.root=this,$c.nav.scrollable.style.display=""},this.$6c=function(e,t){return this.businessBeginsHour<this.businessEndsHour?!(e.getHours()<this.businessBeginsHour||e.getHours()>=this.businessEndsHour||6===e.getDayOfWeek()||0===e.getDayOfWeek()):e.getHours()>=this.businessBeginsHour?!0:e.getHours()<this.businessEndsHour?!0:!1},this.$5X=function(e){e=e||window.event,e.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),DayPilotCalendar.activeCalendar=this;var t=$c.nav.main;$c.coords=DayPilot.mo3(t,e);var i=DayPilot.mc(e),a=$c.crosshairType&&"Disabled"!==$c.crosshairType,n=$c.coords.x<$c.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilotCalendar.selecting||n?$c.$4e():a&&$c.$6f(),DayPilot.Global.resizing){DayPilotCalendar.resizingShadow||(DayPilotCalendar.resizingShadow=$c.$4C(DayPilot.Global.resizing,!1,$c.shadow));var o=DayPilot.Global.resizing.event.calendar.cellHeight,s=0,l=i.y-DayPilotCalendar.originalMouse.y;if("bottom"===DayPilot.Global.resizing.dpBorder){var r=Math.floor((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+l+o/2)/o)*o-DayPilotCalendar.originalTop+s;o>r&&(r=o);var c=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;DayPilotCalendar.originalTop+r>c&&(r=c-DayPilotCalendar.originalTop),DayPilotCalendar.resizingShadow.style.height=r+"px"}else if("top"===DayPilot.Global.resizing.dpBorder){var d=Math.floor((DayPilotCalendar.originalTop+l-s+o/2)/o)*o+s;s>d&&(d=s),d>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-o&&(d=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-o);var r=DayPilotCalendar.originalHeight-(d-DayPilotCalendar.originalTop);o>r?r=o:DayPilotCalendar.resizingShadow.style.top=d+"px",DayPilotCalendar.resizingShadow.style.height=r+"px"
}}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){var h=3;if(!(DayPilot.distance(i,DayPilotCalendar.originalMouse)>h))return;DayPilotCalendar.movingShadow=$c.$4C(DayPilot.Global.moving,!$c.$3W.ie,$c.shadow),DayPilotCalendar.movingShadow.style.width=DayPilotCalendar.movingShadow.parentNode.offsetWidth+1+"px"}if(!$c.coords)return;var o=$c.cellHeight,s=0,u=DayPilotCalendar.moveOffsetY;u||(u=o/2),"Top"===this.moveBy&&(u=0);var d=Math.floor(($c.coords.y-u-s+o/2)/o)*o+s;s>d&&(d=s);var f=$c.nav.main,c=f.clientHeight,v=parseInt(DayPilotCalendar.movingShadow.style.height);d+v>c&&(d=c-v),DayPilotCalendar.movingShadow.style.top=d+"px";var p=f.clientWidth/f.rows[0].cells.length,y=Math.floor($c.coords.x/p);0>y&&(y=0),$c.rtl&&(y=$c.$4D.length-y-1);var m=$c.nav.events;y<m.rows[0].cells.length&&y>=0&&DayPilotCalendar.movingShadow.column!==y&&(DayPilotCalendar.movingShadow.column=y,DayPilotCalendar.moveShadow(m.rows[0].cells[y]))}if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow&&document.body.removeChild(DayPilotCalendar.gShadow),DayPilotCalendar.gShadow=null,!DayPilotCalendar.movingShadow&&$c.coords){var g=$c.$4C(DayPilotCalendar.drag,!1,DayPilotCalendar.drag.shadowType);if(g){DayPilotCalendar.movingShadow=g;var b=(new DayPilot.Date).getDatePart(),e={value:DayPilotCalendar.drag.id,start:b,end:b.addSeconds(DayPilotCalendar.drag.duration),text:DayPilotCalendar.drag.text},D=new DayPilot.Event(e,$c);D.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=D,DayPilot.Global.moving.helper={}}}e.cancelBubble=!0}},this.temp={},this.temp.getPosition=function(){var e=$c.$6g.getCellCoords();if(!e)return null;var t=$c.$4D[e.x],i={};return i.resource=t.id,i.start=new DayPilot.Date(t.start).addHours($c.$4K(!0)).addMinutes(e.y*$c.cellDuration),i.end=i.start.addMinutes($c.cellDuration),i},this.$6g={},this.$6g.getCellCoords=function(){var e={};if(e.x=0,e.y=0,!$c.coords)return null;for(var t=$c.nav.main,i=$c.coords.x,a=0,n=this.col(t,a);n&&i>n.left;)a+=1,n=this.col(t,a);e.x=a-1;var o=0,s=Math.floor(($c.coords.y-o)/$c.cellHeight);return e.y=s,e.x<0?null:e},this.$6g.col=function(e,t){var i={};if(i.left=0,i.width=0,!e)return null;if(!e.rows)return null;if(0===e.rows.length)return null;if(0==e.rows[0].cells.length)return null;var a=e.rows[0].cells[t];if(!a)return null;var n=DayPilot.abs(e),o=DayPilot.abs(a);return i.left=o.x-n.x,i.width=a.offsetWidth,i},this.$6f=function(){this.$4e(),this.elements.crosshair||(this.elements.crosshair=[]);var e=this.$6g.getCellCoords();if(e){var t=e.x,i=Math.floor(e.y/(60/$c.cellDuration)*(60/$c.timeHeaderCellDuration));if(!(0>i)){if(this.nav.hourTable){if(i>=this.nav.hourTable.rows.length)return;var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.style.opacity=.5,a.style.backgroundColor=this.crosshairColor,a.style.opacity=this.crosshairOpacity/100,a.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.nav.hourTable.rows[i].cells[0].firstChild.appendChild(a),this.elements.crosshair.push(a)}if(this.nav.header){var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top="0px",n.style.bottom="0px",n.style.opacity=.5,n.style.backgroundColor=this.crosshairColor,n.style.opacity=this.crosshairOpacity/100,n.style.filter="alpha(opacity="+this.crosshairOpacity+")";var o=this.nav.header.rows[this.headerLevels-1];o.cells[t]&&(o.cells[t].firstChild.appendChild(n),this.elements.crosshair.push(n))}if("Header"!==this.crosshairType){var s=this.nav.crosshair,l=0,r=Math.floor(($c.coords.y-l)/$c.cellHeight)*$c.cellHeight+l,c=$c.cellHeight,d=document.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.top=r+"px",d.style.height=c+"px",d.style.backgroundColor=this.crosshairColor,d.style.opacity=this.crosshairOpacity/100,d.style.filter="alpha(opacity="+this.crosshairOpacity+")",d.onmousedown=this.$6h,s.appendChild(d),this.elements.crosshair.push(d);var h=this.$6g.col(this.nav.main,t);if(c=this.nav.main.clientHeight,h){var u=document.createElement("div");u.style.position="absolute",u.style.left=h.left+"px",u.style.width=h.width+"px",u.style.top="0px",u.style.height=c+"px",u.style.backgroundColor=this.crosshairColor,u.style.opacity=this.crosshairOpacity/100,u.style.filter="alpha(opacity="+this.crosshairOpacity+")",u.onmousedown=this.$6h,s.appendChild(u),this.elements.crosshair.push(u)}}}}},this.$6h=function(e){$c.$4e();var t=$c.$6g.getCellCoords(),i=0,a=$c.nav.main.rows[t.y+i].cells[t.x];$c.$5e.apply(a,[e])},this.$4e=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var e=0;e<this.elements.crosshair.length;e++){var t=this.elements.crosshair[e];t&&t.parentNode&&t.parentNode.removeChild(t)}this.elements.crosshair=[]}},this.$4l=function(){if(this.cellConfig){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++)for(var i=this.cellProperties[t+"_0"],a=1;a<e.y;a++)this.cellProperties[t+"_"+a]=i;if(e.horizontal)for(var a=0;a<e.y;a++)for(var i=this.cellProperties["0_"+a],t=1;t<e.x;t++)this.cellProperties[t+"_"+a]=i;if(e["default"])for(var i=e["default"],a=0;a<e.y;a++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+a]||(this.cellProperties[t+"_"+a]=i)}},this.$6d=function(e,t){return this.cellProperties?this.cellProperties[e+"_"+t]:null},this.$6i=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].business:!1},this.$6e=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.$49=function(){var e=this.nav.header;if(e&&e.rows)for(var t=0;t<e.rows.length;t++)for(var i=e.rows[t],a=0;a<i.cells.length;a++){var n=i.cells[a];n.onclick=null,n.onmousemove=null,n.onmouseout=null}this.$3T||DayPilot.pu(e)},this.$6j=function(e,t){for(var i=t?this.nav.header.insertRow(-1):this.nav.header.rows[e-1],a=this.$5E(e),n=a.length,o=e===$c.headerLevels,s=0;n>s;s++){var l=a[s];if($c.$4B()&&"function"==typeof $c.onBeforeHeaderRender){var r={};r.header={},DayPilot.Util.copyProps(l,r.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(r),DayPilot.Util.copyProps(r.header,l,["html","backColor","toolTip","areas"])}var c=l.getChildren?!0:!1,d=t?i.insertCell(-1):i.cells[s];if(d.data=l,o);else{var h=1;c&&(h=l.getChildrenCount($c.headerLevels-e+1)),d.colSpan=h}c&&(d.onclick=this.$4U,d.onmousemove=this.$4V,d.onmouseout=this.$4W,l.toolTip&&(d.title=l.toolTip)),d.style.overflow="hidden",d.style.padding="0px",d.style.border="0px none",d.style.height=$0d.headerHeight()+"px",this.cssOnly||(d.style.borderLeft="0px none",s!==n-1&&(d.style.borderRight="1px solid "+this.borderColor));var u=t?document.createElement("div"):d.firstChild,f="Fixed"===this.columnWidthSpec;if(f&&o&&(u.style.width=l.width?l.width+"px":$c.columnWidth+"px"),t){if(u.setAttribute("unselectable","on"),u.style.MozUserSelect="none",u.style.KhtmlUserSelect="none",u.style.WebkitUserSelect="none",u.style.position="relative",u.style.height=$0d.headerHeight()+"px",this.cssOnly){u.className=$c.$4E("_colheader");var v=document.createElement("div");v.className=$c.$4E("_colheader_inner"),l.backColor&&(v.style.background=l.backColor),u.appendChild(v)}else{u.className=$c.$4E("colheader"),u.style.cursor="default",u.style.fontFamily=this.headerFontFamily,u.style.fontSize=this.headerFontSize,u.style.color=this.headerFontColor,u.style.backgroundColor=l.backColor,u.style.textAlign="center";var p=document.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.right="0px",p.style.top="0px",p.style.bottom="0px",p.style.padding="2px",p.setAttribute("unselectable","on"),1!==e&&(p.style.borderTop="1px solid "+this.borderColor),"Disabled"!==this.headerClickHandling&&(p.style.cursor="pointer"),u.appendChild(p)}d.appendChild(u)}else u.style.height=$0d.headerHeight()+"px";this.$6k(u,l),c&&(u.firstChild.innerHTML=l.html)}},this.$6k=function(e,t){for(var i=[],a=0;a<e.childNodes.length;a++){var n=e.childNodes[a];n.isActiveArea&&i.push(n)}for(var a=0;a<i.length;a++){var n=i[a];DayPilot.de(n)}if(t.areas)for(var o=t.areas,a=0;a<o.length;a++){var s=o[a];if("Visible"===s.v){var l=new DayPilotCalendar.Column(t.id,t.name,t.start),r=DayPilot.Areas.createArea(e,l,s);e.appendChild(r)}}},this.$4o=function(){if(this.showHeader){var e=this.nav.header,t=!0,i=this.$5E($c.headerLevels,!0),a=i.length;for(this.$6l&&e&&e.rows&&e.rows.length>0&&(t=e.rows[e.rows.length-1].cells.length!==a),this.$6l&&$c.$3W.ielt9&&t&&(DayPilot.de(this.nav.header),this.$69());this.$6l&&e&&e.rows&&e.rows.length>0&&t;)this.$3T||DayPilot.pu(e.rows[0]),e.deleteRow(0);this.$6l=!0;var n=$c.cornerHTML||$c.cornerHtml;if(!t){var o=$c.nav.corner;o&&(this.cssOnly||(o.style.backgroundColor=$c.cornerBackColor?$c.cornerBackColor:$c.hourBackColor),this.$3T||DayPilot.pu(o.firstChild),o.firstChild.innerHTML=n?n:"")}for(var s=0;s<$c.headerLevels;s++)this.$6j(s+1,t);if(this.showAllDayEvents)for(var l=t?this.nav.header.insertRow(-1):this.nav.header.rows[$c.headerLevels],s=0;a>s;s++){var r=i[s],c=t?l.insertCell(-1):l.cells[s];c.data=r,c.style.padding="0px",c.style.border="0px none",c.style.overflow="hidden",this.cssOnly||(c.style.lineHeight="1.2");var d=t?document.createElement("div"):c.firstChild;if(t){if(d.setAttribute("unselectable","on"),d.style.MozUserSelect="none",d.style.KhtmlUserSelect="none",d.style.WebkitUserSelect="none",d.style.overflow="hidden",d.style.position="relative",d.style.height=$0d.allDayHeaderHeight()+"px",this.cssOnly){d.className=this.$4E("_alldayheader");var h=document.createElement("div");h.className=this.$4E("_alldayheader_inner"),d.appendChild(h)}else{d.className=this.$4E("alldayheader"),d.style.textAlign="center",d.style.backgroundColor=r.backColor,d.style.cursor="default";var u=document.createElement("div");u.style.position="absolute",u.style.left="0px",u.style.right="0px",u.style.top="0px",u.style.bottom="0px",u.setAttribute("unselectable","on"),u.style.borderTop="1px solid "+this.borderColor,d.appendChild(u),$c.rtl?u.style.borderLeft=s===a-1?"1px solid "+r.backColor:"1px solid "+this.borderColor:s!==a-1&&(u.style.borderRight="1px solid "+this.borderColor)}c.appendChild(d)}d.style.height=$0d.allDayHeaderHeight()+"px"}}},this.$42=function(){this.loadingLabelVisible&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.$4L()+5+"px",this.nav.loading.style.display="")},this.$4h=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading.style.display="none"},this.$6m=function(){var e="Fixed"===this.columnWidthSpec,t=e?this.nav.bottomRight:this.nav.scroll,i=this.initScrollPos;if(!i){var a=this.businessBeginsHour;i=a*(60/$c.cellDuration)*$c.cellHeight}t.root=this,t.onscroll=this.$5j,0===t.scrollTop?t.scrollTop=i-this.$5l():this.$5j()},this.$6n=function(){var e=$c.nav.top;return e.offsetWidth>0&&e.offsetHeight>0},this.$6o=function(){var e=$c.$6n;e()||($c.$6p=setInterval(function(){e()&&($c.$6m(),$c.$4v(),clearInterval($c.$6p))},100))},this.scrollToHour=function(e){var t="Fixed"===this.columnWidthSpec,i=t?this.nav.bottomRight:this.nav.scroll,a=e*(60/$c.cellDuration)*$c.cellHeight;i.scrollTop=a-this.$5l()},this.onCallbackError=function(e,t){alert("Error!\r\nResult: "+e+"\r\nContext:"+t)},this.scrollbarVisible=this.$67,this.$4v=function(){var e=this.$67(),t=!!this.nav.cornerRight;if(e!==t)if(e)this.$6a();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var i=this.nav.fullHeader.rows[0].cells[2];i.parentNode&&i.parentNode.removeChild(i)}this.nav.cornerRight=null}var a=this.nav.cornerRight;if(a){var n=DayPilot.sw(this.nav.scroll);return this.cssOnly?a&&(a.style.width=n+"px"):n>=3&&(a.style.width=n-3+"px"),n}},this.$4A=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.autoRefreshCount>=this.autoRefreshMaxCount)){this.$46();var t=this.autoRefreshInterval;if(!t||10>t)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){$c.$6q()},1e3*this.autoRefreshInterval)}},this.$46=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$6q=function(){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||DayPilotCalendar.drag||DayPilotCalendar.selecting)){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.autoRefreshCount,t.preventDefault=function(){this.preventDefault.value=!0},$c.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.$41()&&this.commandCallBack(this.autoRefreshCommand),this.autoRefreshCount++}this.autoRefreshCount<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){$c.$6q()},1e3*this.autoRefreshInterval))},this.$4a=function(){"Parent100Pct"===$c.heightSpec&&$c.setHeight(parseInt($c.nav.top.clientHeight,10)),$c.$4u(),$c.$4z()},this.$6r=function(){DayPilotCalendar.globalHandlers||(DayPilotCalendar.globalHandlers=!0,DayPilot.re(document,"mousemove",DayPilotCalendar.gMouseMove),DayPilot.re(document,"mouseup",DayPilotCalendar.gMouseUp),DayPilot.re(document,DayPilot.touch.move,DayPilotCalendar.gTouchMove),DayPilot.re(document,DayPilot.touch.end,DayPilotCalendar.gTouchEnd)),DayPilot.re(window,"resize",this.$4a)},this.$5M=function(e){if(!$0B.active&&!$0B.using){e=e||window.event;var t=DayPilot.Util.mouseButton(e);if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!t.left){if(("move"===this.style.cursor||"Full"===$c.moveBy&&"Disabled"!==$c.eventMoveHandling)&&t.left){DayPilot.Global.moving=this;var i=DayPilot.Global.moving.helper={};i.oldColumn=$c.$4D[this.event.part.dayIndex].id,DayPilotCalendar.originalMouse=DayPilot.mc(e),DayPilotCalendar.originalTop=this.offsetTop;var a=DayPilot.mo3(this,e);DayPilotCalendar.moveOffsetY=a?a.y:0,$c.nav.top.style.cursor=this.style.cursor}}else DayPilot.Global.resizing=this,DayPilotCalendar.originalMouse=DayPilot.mc(e),DayPilotCalendar.originalHeight=this.offsetHeight,DayPilotCalendar.originalTop=this.offsetTop,$c.nav.top.style.cursor=this.style.cursor;return!1}},this.$6s=function(e){var t=this.$3S.events,i=this.events.list[e],a={};for(var n in i)a[n]=i[n];if($c.showEventStartEnd){var o=i.start.getDatePart().getTime()===i.end.getDatePart().getTime(),s=o?$0d.locale().timePattern:$0d.locale().dateTimePattern,l=i.start.toString(s),r=i.end.toString(s);a.html=a.text+" ("+l+" - "+r+")"}if("function"==typeof this.onBeforeEventRender){var c={};c.e=a,this.onBeforeEventRender(c)}t[e]=a},this.$5N={};var $0B=$c.$5N;$0B.active=!1,$0B.start=null,$0B.timeout=null,$0B.startcell=null,this.$5N.getCellCoords=function(e){var t,i;e.touches?(t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY);var a=DayPilot.abs($c.nav.main),n={x:t-a.x,y:i-a.y},o=$c.nav.main.clientWidth/$c.$4D.length,s={pageX:t,pageY:i,x:Math.floor(n.x/o),y:Math.floor(n.y/$c.cellHeight),toString:function(){return"x: "+this.x+" y:"+this.y}};return s},this.$5N.startSelecting=function(e){var t=$c.nav.main.rows[e.y].cells[e.x];$0B.startcell=e,$c.clearSelection(),DayPilotCalendar.column=DayPilotCalendar.getColumn(t),$c.selectedCells.push(t),DayPilotCalendar.firstSelected=t,DayPilotCalendar.topSelectedCell=t,DayPilotCalendar.bottomSelectedCell=t,$c.$5f()},this.$5N.extendSelection=function(e){var t=$c.nav.main.rows[e.y].cells[e.x];$c.clearSelection(),e.y<$0B.startcell.y?($c.selectedCells=DayPilotCalendar.getCellsBelow(t),DayPilotCalendar.topSelectedCell=$c.selectedCells[0],DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected):($c.selectedCells=DayPilotCalendar.getCellsAbove(t),DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected,DayPilotCalendar.bottomSelectedCell=$c.selectedCells[0]),$c.$5f()},this.$5N.onMainTouchStart=function(e){if(!(navigator.msPointerEnabled&&e.pointerType&&"mouse"===e.pointerType||$0B.active)){$0B.using=!0;var t=$0B.getCellCoords(e);$0B.startCoords=t;var i=500;$0B.timeout=window.setTimeout(function(){switch(e.preventDefault(),$0B.active=!0,$c.timeRangeTapAndHoldHandling){case"Select":$0B.startSelecting(t);break;case"ContextMenu":$0B.startSelecting(t),$0B.active=!1,$c.contextMenuSelection&&$c.contextMenuSelection.show($c.getSelection())}},i)}},this.$5N.onCellTouchMove=function(e){},this.$5N.onCellTouchEnd=function(e){if(!$0B.active)return void window.clearTimeout($0B.timeout);e.preventDefault(),$0B.startcell=null;var t=$c.getSelection();t.toString=function(){return"start: "+this.start+"\nend: "+this.end},$c.$59(t.start,t.end,t.resource),window.setTimeout(function(){$0B.active=!1},500)},this.$5N.startMoving=function(e,t){DayPilot.Global.moving=e;var i=DayPilot.Global.moving.helper={};i.oldColumn=$c.$4D[e.event.part.dayIndex].id,DayPilotCalendar.originalMouse=t,DayPilotCalendar.originalTop=this.offsetTop;var a=DayPilot.abs(e);DayPilotCalendar.moveOffsetY=t.y-a.y,DayPilotCalendar.movingShadow||(DayPilotCalendar.movingShadow=$c.$4C(DayPilot.Global.moving,!$c.$3W.ie,$c.shadow),DayPilotCalendar.movingShadow.style.width=DayPilotCalendar.movingShadow.parentNode.offsetWidth+1+"px")},this.$5N.updateMoving=function(){var e=$c.coords,t=$c.cellHeight,i=0,a=DayPilotCalendar.moveOffsetY;a||(a=t/2);var n=Math.floor((e.y-a-i+t/2)/t)*t+i;i>n&&(n=i);var o=$c.nav.main,s=o.clientHeight,l=parseInt(DayPilotCalendar.movingShadow.style.height);n+l>s&&(n=s-l),DayPilotCalendar.movingShadow.style.top=n+"px";var r=o.clientWidth/o.rows[0].cells.length,c=Math.floor(e.x/r);0>c&&(c=0);var d=$c.nav.events;c<d.rows[0].cells.length&&c>=0&&DayPilotCalendar.movingShadow.column!==c&&(DayPilotCalendar.movingShadow.column=c,DayPilotCalendar.moveShadow(d.rows[0].cells[c]))},this.$5N.onEventTouchStart=function(e){if(!($0B.active||navigator.msPointerEnabled&&e.pointerType&&"mouse"===e.pointerType)){e.stopPropagation(),$0B.preventEventTap=!1,$0B.using=!0,$0B.startCoords=$0B.getCellCoords(e);var t=this,i=e.touches?e.touches[0].pageX:e.pageX,a=e.touches?e.touches[0].pageY:e.pageY,n={x:i,y:a,$d:this};$c.coords=$0B.relativeCoords(e);var o=500;$0B.timeout=window.setTimeout(function(){switch($0B.active=!0,$c.eventTapAndHoldHandling){case"Move":$0B.startMoving(t,n);break;case"ContextMenu":var e=t.event,i=e.client.contextMenu();i?i.show(e):$c.contextMenu&&$c.contextMenu.show(e)}},o)}},this.$5N.onMainTouchMove=function(e){if(!navigator.msPointerEnabled||!e.pointerType||"mouse"!==e.pointerType){if($0B.timeout){var t=$0B.getCellCoords(e);t&&$0B.startCoords&&(t.pageX!==$0B.startCoords.pageX||t.pageY!==$0B.startCoords.pageY)&&window.clearTimeout($c.$5N.timeout)}if(DayPilot.Global.moving&&DayPilotCalendar.movingShadow)return e.preventDefault(),$c.coords=$0B.relativeCoords(e),void $0B.updateMoving();if($0B.startcell){if(e.preventDefault(),!$0B.active)return void window.clearTimeout($0B.timeout);var t=$0B.getCellCoords(e);$0B.extendSelection(t)}$0B.preventEventTap=!0}},this.$5N.relativeCoords=function(e){var t=$c.nav.main,i=e.touches?e.touches[0].pageX:e.pageX,a=e.touches?e.touches[0].pageY:e.pageY,n=DayPilot.abs(t),o={x:i-n.x,y:a-n.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return o},this.$5N.onMainTouchEnd=function(e){if(!navigator.msPointerEnabled||!e.pointerType||"mouse"!==e.pointerType)if(DayPilot.Global.moving){$0B.active=!1,e.preventDefault(),e.stopPropagation();var t=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var i=DayPilot.Global.moving.event,a=DayPilotCalendar.movingShadow.column;DayPilot.Global.moving=null,DayPilotCalendar.movingShadow=null,i.calendar.$52(i,a,t,e,DayPilotCalendar.drag)}else if($0B.startcell){if(!$0B.active)return void window.clearTimeout($0B.timeout);e.preventDefault(),$0B.startcell=null;var n=$c.getSelection();n.toString=function(){return"start: "+this.start+"\nend: "+this.end},$c.$59(n.start,n.end,n.resource),window.setTimeout(function(){$0B.active=!1},500)}},this.$5N.onEventTouchMove=function(e){$0B.preventEventTap=!0},this.$5N.onEventTouchEnd=function(e){if(!$0B.active){if($0B.preventEventTap)return;return e.preventDefault(),window.clearTimeout($0B.timeout),void $c.$4P(this,!1)}return $0B.active=!1,$0B.timeout?void window.clearTimeout($0B.timeout):void e.preventDefault()},this.$5K=function(e){var t=5,i=Math.max($c.durationBarWidth,10),a=5,n="Top"===$c.moveBy;if("undefined"!=typeof DayPilotCalendar){var o=DayPilot.mo3(this,e);if(o){var s=this;if(!s.active){var l=[];s.event.client.deleteEnabled()&&l.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:$c.$4E("_event_delete"),js:function(e){$c.$4X(e)}});var r=s.event.cache?s.event.cache.areas:s.event.data.areas;r&&r.length>0&&(l=l.concat(r)),DayPilot.Areas.showAreas(s,s.event,null,l),$c.cssOnly&&DayPilot.Util.addClass(s,$c.$4E("_event_hover"))}if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){var c=this.isFirst,d=this.isLast;if("Disabled"!==$c.moveBy&&"None"!==$c.moveBy&&(!n&&o.x<=i&&this.event.client.moveEnabled()?this.style.cursor=c?"move":"not-allowed":!n&&o.y<=t&&this.event.client.resizeEnabled()?c?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":n&&o.y<=i&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-o.y<=t&&this.event.client.resizeEnabled()?d?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":DayPilot.Global.resizing||DayPilot.Global.moving||(this.style.cursor=this.event.client.clickEnabled()?"pointer":"default"),"undefined"!=typeof DayPilotBubble&&$c.bubble&&"Disabled"!==$c.eventHoverHandling&&("default"===this.style.cursor||"pointer"===this.style.cursor))){var h=this.$6t&&o.x===this.$6t.x&&o.y===this.$6t.y;h||(this.$6t=o,$c.bubble.showEvent(this.event))}}}}},this.$5L=function(e){$c.cssOnly&&DayPilot.Util.removeClass(this,$c.$4E("_event_hover")),$c.bubble&&$c.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,e)},this.$6u=null,this.$6v=function(){if(this.showCurrentTime&&(this.$6w(),this.$6x(new DayPilot.Date),!this.$6u)){var e=30;this.$6u=setInterval(function(){$c.$6v()},1e3*e)}},this.$6w=function(){DayPilot.de($c.elements.separators),$c.elements.separators=[]},this.$6x=function(e){for(var t=e.getTime(),i=$c.nav.events,a=0;a<$c.$4D.length;a++){var n=$c.$4D[a],o=$c.$4G(!0),s=new DayPilot.Date(n.start).addHours(this.$4K(!0)),l=s.getTime(),r=s.addTime(o),c=r.getTime();if(t>=l&&c>=t){var d=this.$6y(e,n.start).top-1,h=i.rows[0].cells[a],u=h.separators,f=document.createElement("div");f.style.position="absolute",f.style.top=d+"px",f.style.height="1px",f.style.left="0px",f.style.right="0px",f.className=$c.$4E("_now"),u.insertBefore(f,u.firstChild),$c.elements.separators.push(f)}}},this.$4m=function(e){if(e?this.events.list=e:e=this.events.list,e){this.$5H={},this.$5H.events=[],this.$5H.lines=[];var t=e.length,i=this.$4G(!0);this.$3S.pixels={};var a=[];this.$5k=[],this.$4Z=1e4,this.$4J=0,this.startDate=new DayPilot.Date(this.startDate);for(var n=0;t>n;n++){var o=e[n];o.start=new DayPilot.Date(o.start),o.end=new DayPilot.Date(o.end)}if("function"==typeof this.onBeforeEventRender||$c.showEventStartEnd)for(var n=0;t>n;n++)this.$6s(n);for(var s="Resources"===this.viewType,l=this.$5F(),r=l.start,c=l.end,n=0;n<this.$4D.length;n++){var d={};d.minEnd=1e6,d.maxStart=-1,this.$5k.push(d);var h=this.$4D[n];h.events=[],h.lines=[],h.blocks=[];var u=new DayPilot.Date(h.start).addHours(this.$4K(!0)),f=u.getTime(),v=u.addTime(i),p=v.getTime();s&&(r=u.getDatePart(),c=v.getDatePart());for(var y=0;t>y;y++)if(!a[y]){var o=e[y],m=o.start,g=o.end,b=m.getTime(),D=g.getTime();if(!(b>D))if(o.allday){var w=!1;if(w="Date"===$c.allDayEnd?!(D<r.getTime()||b>=c.getTime()):!(D<=r.getTime()||b>=c.getTime()),s&&(w=w&&(o.resource===h.id||"*"===h.id)),w){var k=new DayPilot.Event(o,this);k.part.start=r.getTime()<b?m:r,k.part.end=c.getTime()>D?g:c,k.part.colStart=DayPilot.Date.daysDiff(r.d,k.part.start.d),k.part.colWidth=DayPilot.Date.daysSpan(k.part.start.d,k.part.end.d)+1,s&&(k.part.colStart=n,k.part.colWidth=1),this.$5H.events.push(k),("function"==typeof this.onBeforeEventRender||$c.showEventStartEnd)&&(k.cache=this.$3S.events[y]),a[y]=!0,!s||k.part.start.getTime()===b&&k.part.end.getTime()===D||(a[y]=!1)}}else{var w=!1;if(w=s?h.id===o.resource&&!(f>=D||b>=p):!(f>=D||b>=p)||D===b&&b===f){var k=new DayPilot.Event(o,$c);k.part.dayIndex=n,k.part.start=b>f?m:u,k.part.end=p>D?g:v;var C=this.$6y(k.part.start,h.start),P=this.$6y(k.part.end,h.start),x=C.top,S=P.top;if(x===S&&(C.cut||P.cut))continue;k.part.box=$0d.useBox(D-b);var T=0;if(k.part.box){var M=P.boxBottom;k.part.top=Math.floor(x/this.cellHeight)*this.cellHeight+T,k.part.height=Math.max(Math.ceil(M/this.cellHeight)*this.cellHeight-k.part.top,this.cellHeight-1),k.part.barTop=Math.max(x-k.part.top-1,0),k.part.barHeight=Math.max(S-x-2,1)}else k.part.top=x+T,k.part.height=Math.max(S-x,0),k.part.barTop=0,k.part.barHeight=Math.max(S-x-2,1);var m=k.part.top,g=k.part.top+k.part.height;m>d.maxStart&&(d.maxStart=m),g<d.minEnd&&(d.minEnd=g),m<this.$4Z&&(this.$4Z=m),g>this.$4J&&(this.$4J=g),h.events.push(k),("function"==typeof this.onBeforeEventRender||$c.showEventStartEnd)&&(k.cache=this.$3S.events[y]),k.part.start.getTime()===b&&k.part.end.getTime()===D&&(a[y]=!0)}}}}for(var n=0;n<this.$4D.length;n++){var h=this.$4D[n];h.events.sort(this.$6z);for(var y=0;y<h.events.length;y++){var o=h.events[y];h.putIntoBlock(o)}for(var y=0;y<h.blocks.length;y++){var H=h.blocks[y];H.events.sort(this.$6A);for(var A=0;A<H.events.length;A++){var o=H.events[A];H.putIntoLine(o)}}}this.$5H.events.sort(this.$6A),this.$5H.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.colStart,e.part.colWidth))return a.push(e),i}var a=[];return a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.colStart||e>o.part.colStart+o.part.colWidth-1))return!1}return!0},a.push(e),this.lines.push(a),this.lines.length-1};for(var n=0;n<this.$5H.events.length;n++){var o=this.$5H.events[n];this.$5H.putIntoLine(o)}var E=Math.max(this.$5H.lines.length,1);this.$3S.allDayHeaderHeight=E*($0d.allDayEventHeight()+2)+2}},this.$6z=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;if(0!==i)return i;var a=t.end().ticks-e.end().ticks;return a},this.$6A=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return $c.$6z(e,t);for(var i=0,a=0;0===i&&e.data.sort[a]&&t.data.sort[a];)i=e.data.sort[a]===t.data.sort[a]?0:$c.$6B(e.data.sort[a],t.data.sort[a],$c.sortDirections[a]),a++;return i},this.$6B=function(e,t,i){var a="desc"!==i,n=a?-1:1,o=-n;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return n;var s=[];return s[0]=e,s[1]=t,s.sort(),e===s[0]?n:o},this.$6C=function(e){for(var t=0;t<$c.elements.events.length;t++){var i=$c.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.events.find=function(e){if(!$c.events.list||"undefined"==typeof $c.events.list.length)return null;for(var t=$c.events.list.length,i=0;t>i;i++)if($c.events.list[i].id===e)return new DayPilot.Event($c.events.list[i],$c);return null},this.events.findRecurrent=function(e,t){if(!$c.events.list||"undefined"==typeof $c.events.list.length)return null;for(var i=$c.events.list.length,a=0;i>a;a++)if($c.events.list[a].recurrentMasterId===e&&$c.events.list[a].start.getTime()===t.getTime())return new DayPilot.Event($c.events.list[a],$c);return null},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),$c),i.newEvent=new DayPilot.Event(e.temp(),$c);var a=new DayPilot.Action($c,"EventUpdate",i,t);return e.commit(),$c.$3V&&$c.update(),$c.$6D.notify(),a},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,$c);var a=new DayPilot.Action($c,"EventRemove",i,t),n=DayPilot.indexOf($c.events.list,e.data);return $c.events.list.splice(n,1),$c.$3V&&$c.update(),$c.$6D.notify(),a},this.events.add=function(e,t){e.calendar=$c,$c.events.list||($c.events.list=[]),$c.events.list.push(e.data);var i={};i.e=e;var a=new DayPilot.Action($c,"EventAdd",i,t);return $c.$3V&&$c.update(),$c.$6D.notify(),a},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";$c.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=$c.queue.list,$c.$40("Notify",t,e,"Notify"),$c.queue.list=[]},this.queue.clear=function(){$c.queue.list=[]},this.queue.pop=function(){return $c.queue.list.pop()},this.$6E=function(e){if(this.$3V&&this.$4D){var e=e||{},t=!e.eventsOnly;t?($c.$47(),this.$6F(),this.$4k(),this.$4m(),$c.$4o(),$c.$4p(),$c.$4q(),$c.$4r(),$c.$3X(),$c.$4s(),$c.$5f(),$c.$4t(),$c.$4u(),$c.$4v(),this.$4x(),this.$4y(),this.$6v(),$c.$4z()):($c.$47(),$c.$4m(),$c.$4n(),$c.$4x(),$c.$4y(),$c.$4z())}},this.update=function(){this.$6E()},this.show=function(){$c.nav.top.style.display="",$c.$4a(),$c.$4v()},this.hide=function(){$c.nav.top.style.display="none"},this.$6D={},this.$6D.scope=null,this.$6D.notify=function(){$c.$6D.scope&&$c.$6D.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$6y=function(e,t){t||(t=this.startDate);var i=t.getTime(),a=e.getTime(),n=this.$3S.pixels[a+"_"+i];if(n)return n;i=t.addHours(this.$4K(!0)).getTime();var o=60*this.cellDuration*1e3,s=a-i,l=s%o,r=s-l,c=r+o;0===l&&(c=r);var d={};return d.cut=!1,d.top=this.$6G(s),d.boxTop=this.$6G(r),d.boxBottom=this.$6G(c),this.$3S.pixels[a+"_"+i]=d,d},this.$6G=function(e){return Math.floor(this.cellHeight*e/(6e4*this.cellDuration))},this.$6F=function(){this.startDate=new DayPilot.Date(this.startDate),this.allDayHeaderHeight=$0d.allDayEventHeight()+4},this.$4n=function(){var e=this.$4L(),t=this.$5Q();if(this.nav.corner&&(this.nav.corner.style.height=e+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=e+"px"),this.nav.mid&&(this.nav.mid.style.height=e+"px"),this.showAllDayEvents&&this.nav.header)for(var i=this.nav.header.rows[this.nav.header.rows.length-1],a=0;a<i.cells.length;a++){var n=i.cells[a];n.firstChild.style.height=$0d.allDayHeaderHeight()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=e+"px"),this.nav.scroll.style.top=e+"px",this.nav.top.style.height=t+"px"},this.$4u=function(){var e=this.$5R();this.nav.scroll&&e>0&&(this.nav.scroll.style.height=e+"px",this.scrollHeight=$c.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=e+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=e+"px")),this.nav.top.style.height="Parent100Pct"===this.heightSpec?"100%":this.$5Q()+"px"},this.setHeight=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=this.cssOnly?e-this.$4L():e-(this.$4L()+3),this.$4u()},this.$6H=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.$4E(e),document.body.appendChild(t);var i=t.offsetHeight,a=t.offsetWidth;document.body.removeChild(t);var n={};return n.height=i,n.width=a,n},this.$5I={};var $0d=this.$5I;$0d.locale=function(){return DayPilot.Locale.find($c.locale)},$0d.weekStarts=function(){return"undefined"!=typeof $c.weekStarts?$c.weekStarts:$0d.locale().weekStarts},$0d.timeFormat=function(){return"Auto"!==$c.timeFormat?$c.timeFormat:this.locale().timeFormat},$0d.useBox=function(e){return"Always"===$c.useEventBoxes?!0:"Never"===$c.useEventBoxes?!1:e<60*$c.cellDuration*1e3},$0d.notifyType=function(){var e;if("Immediate"===$c.notifyCommit)e="Notify";else{if("Queue"!==$c.notifyCommit)throw"Invalid notifyCommit value: "+$c.notifyCommit;e="Queue"}return e},$0d.allDayEventHeight=function(){if($c.$3S.allDayEventHeight)return $c.$3S.allDayEventHeight;var e=$c.$6H("_alldayevent_height").height;return e||(e=$c.allDayEventHeight),$c.$3S.allDayEventHeight=e,e},$0d.allDayHeaderHeight=function(){if($c.$3S.allDayHeaderHeight)return $c.$3S.allDayHeaderHeight;var e=$c.allDayHeaderHeight;return $c.$3S.allDayHeaderHeight=e,e},$0d.headerHeight=function(){if($c.$3S.headerHeight)return $c.$3S.headerHeight;
var e=$c.$6H("_header_height").height;return e||(e=$c.headerHeight),$c.$3S.headerHeight=e,e},this.$6I=function(){return this.backendUrl?"undefined"==typeof $c.events.list||!$c.events.list:!1},this.$6J=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+id+"'."}},this.$6K=function(){this.$6J(),this.$6F(),this.$4k(),this.$5S(),this.$4o(),this.$4p(),this.$4s(),this.$4v(),this.$6m(),this.$6r(),this.$4b(),DayPilotCalendar.register(this),this.$4a(),this.$6v(),this.$6o(),this.$4A(),this.$40("Init")},this.init=function(){if(this.$6J(),!this.nav.top.dp){var e=this.$6I();if(e)return this.$6K(),void(this.$3V=!0);this.$6F(),this.$4k(),this.$4l(),this.events.list&&this.$4m(),this.$5S(),this.$4o(),this.$4p(),this.$4s(),this.$4w(),this.$4v(),this.$6m(),this.$6r(),this.$4b(),DayPilotCalendar.register(this),this.events.list&&(this.$4n(),this.$4x(),this.$4y()),this.$4a(),this.messageHTML&&this.message(this.messageHTML),this.$6v(),this.$4i(null,!1),this.$6o(),this.$4A(),this.$3V=!0,this.$6L()}},this.$6M=null,this.$6N=function(e){var t={events:{preInit:function(){var e=this.data;e&&($c.events.list=DayPilot.isArray(e.list)?e.list:e)}},scrollTo:{postInit:function(){"undefined"!=typeof this.data&&$c.scrollToHour(this.data)}}};this.$6M=t;for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else $c[i]=e[i]},this.$6L=function(){var e=this.$6M;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return $c.$3V},this.internal.invokeEvent=this.$4Y,this.internal.eventMenuClick=this.$57,this.internal.timeRangeMenuClick=this.$58,this.internal.bubbleCallBack=this.$55,this.internal.findEventDiv=this.$6C,this.internal.eventDeleteDispatch=this.$4X,this.internal.touch=this.$5N,this.Init=this.init,this.$6N($a)};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null,DayPilotCalendar.bottomSelectedCell=null,DayPilotCalendar.selecting=!1,DayPilotCalendar.column=null,DayPilotCalendar.firstSelected=null,DayPilotCalendar.firstMousePos=null,DayPilotCalendar.originalMouse=null,DayPilotCalendar.originalHeight=null,DayPilotCalendar.originalTop=null,DayPilotCalendar.globalHandlers=!1,DayPilotCalendar.editing=!1,DayPilotCalendar.originalText=null,DayPilotCalendar.register=function(e){DayPilotCalendar.registered||(DayPilotCalendar.registered=[]);for(var t=DayPilotCalendar.registered,i=0;i<t.length;i++)if(t[i]===e)return;t.push(e)},DayPilotCalendar.unregister=function(e){var t=DayPilotCalendar.registered;if(t){var i=DayPilot.indexOf(t,e);-1!==i&&t.splice(i,1),0===t.length&&(t=null)}t||(DayPilot.ue(document,"mousemove",DayPilotCalendar.gMouseMove),DayPilot.ue(document,"mouseup",DayPilotCalendar.gMouseUp),DayPilot.ue(document,"touchmove",DayPilotCalendar.gTouchMove),DayPilot.ue(document,"touchend",DayPilotCalendar.gTouchEnd),DayPilotCalendar.globalHandlers=!1)},DayPilotCalendar.getCellsAbove=function(e){for(var t=[],i=DayPilotCalendar.getColumn(e),a=e.parentNode,n=null;a&&n!==DayPilotCalendar.firstSelected;)for(n=a.getElementsByTagName("td")[i],t.push(n),a=a.previousSibling;a&&"TR"!==a.tagName;)a=a.previousSibling;return t},DayPilotCalendar.getCellsBelow=function(e){for(var t=[],i=DayPilotCalendar.getColumn(e),a=e.parentNode,n=null;a&&n!==DayPilotCalendar.firstSelected;)for(n=a.getElementsByTagName("td")[i],t.push(n),a=a.nextSibling;a&&"TR"!==a.tagName;)a=a.nextSibling;return t},DayPilotCalendar.getColumn=function(e){for(var t=0;e.previousSibling;)e=e.previousSibling,"TD"===e.tagName&&t++;return t},DayPilotCalendar.getShadowColumn=function(e){if(!e)return null;for(var t=e.parentNode;t&&"TD"!==t.tagName;)t=t.parentNode;return t},DayPilotCalendar.gTouchMove=function(e){if(DayPilotCalendar.drag){e.preventDefault();var t=e.touches?e.touches[0].pageX:e.pageX,i=e.touches?e.touches[0].pageY:e.pageY,a={};a.x=t,a.y=i;var n=function(){for(var t=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,a=document.elementFromPoint(t,i);a&&a.parentNode;)if(a=a.parentNode,a.daypilotMainD)return a.calendar;return!1}();if(n){if(DayPilotCalendar.gShadow&&document.body.removeChild(DayPilotCalendar.gShadow),DayPilotCalendar.gShadow=null,n.coords=n.$5N.relativeCoords(e),!DayPilotCalendar.movingShadow&&n.coords){var o=n.$4C(DayPilotCalendar.drag,!1,DayPilotCalendar.drag.shadowType);if(o){DayPilotCalendar.movingShadow=o;var s=(new DayPilot.Date).getDatePart(),e={value:DayPilotCalendar.drag.id,start:s,end:s.addSeconds(DayPilotCalendar.drag.duration),text:DayPilotCalendar.drag.text},l=new DayPilot.Event(e,n);l.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=l,DayPilot.Global.moving.helper={}}}DayPilot.Global.moving&&n.$5N.updateMoving()}else{DayPilot.de(DayPilotCalendar.movingShadow),DayPilot.Global.moving=null,DayPilotCalendar.movingShadow=null,DayPilotCalendar.gShadow||(DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType));var o=DayPilotCalendar.gShadow;o.style.left=a.x+"px",o.style.top=a.y+"px"}}},DayPilotCalendar.gTouchEnd=function(e){DayPilotCalendar.gMouseUp(e)},DayPilotCalendar.gMouseMove=function(e){if("undefined"!=typeof DayPilotCalendar&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var t=DayPilot.mc(e);if(DayPilotCalendar.drag){document.body.style.cursor="move",DayPilotCalendar.gShadow||(DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType));var i=DayPilotCalendar.gShadow;i.style.left=t.x+"px",i.style.top=t.y+"px",DayPilot.Global.moving=null,DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow),DayPilotCalendar.movingShadow=null}for(var a=0;a<DayPilotCalendar.registered.length;a++)DayPilotCalendar.registered[a].$4d&&DayPilotCalendar.registered[a].$4d()}},DayPilotCalendar.gUnload=function(e){if(DayPilotCalendar.registered)for(var t=DayPilotCalendar.registered,i=0;i<t.length;i++){var a=t[i];DayPilotCalendar.unregister(a)}},DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow)return DayPilot.Global.resizing.style.cursor="default",DayPilot.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.resizing=null);var t=DayPilot.Global.resizing.event,i=DayPilot.Global.resizing.dpBorder,a=DayPilotCalendar.resizingShadow.clientHeight,n=DayPilotCalendar.resizingShadow.offsetTop;if(DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow),DayPilotCalendar.resizingShadow=null,DayPilot.Global.resizing.style.cursor="default",t.calendar.nav.top.style.cursor="auto",DayPilot.Global.resizing.onclick=null,DayPilot.Global.resizing=null,t.calendar.overlap)return;t.calendar.$50(t,a,n,i)}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow)return DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.moving=null);var o=DayPilot.Global.moving.helper.oldColumn,n=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var t=DayPilot.Global.moving.event,s=DayPilotCalendar.movingShadow.column,l=DayPilotCalendar.drag;if(DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",DayPilot.Global.moving=null,DayPilotCalendar.movingShadow=null,l&&(t.calendar.todo||(t.calendar.todo={}),t.calendar.todo.del=l.element),t.calendar.overlap)return;var r=e||window.event;t.calendar.$52(t,s,n,r,l)}DayPilotCalendar.drag&&(DayPilotCalendar.drag=null,document.body.style.cursor=""),DayPilotCalendar.gShadow&&(document.body.removeChild(DayPilotCalendar.gShadow),DayPilotCalendar.gShadow=null),DayPilotCalendar.moveOffsetY=null},DayPilotCalendar.dragStart=function(e,t,i,a,n){DayPilot.us(e);var o=DayPilotCalendar.drag={};return o.element=e,o.duration=t,o.text=a,o.id=i,o.shadowType=n?n:"Fill",!1},DayPilot.Calendar.makeDraggable=function(e){var t=e.element,i=e.keepElement?null:t,a=e.duration||1;navigator.msPointerEnabled&&(t.style.msTouchAction="none",t.style.touchAction="none"),DayPilot.us(t),DayPilot.re(t,"mousedown",function(t){DayPilotCalendar.dragStart(i,a,e.id,e.text);var n=t.target||t.srcElement;if(n.tagName){var o=n.tagName.toLowerCase();if("textarea"===o||"select"===o||"input"===o)return!1}return t.preventDefault&&t.preventDefault(),!1});var n=function(t){var n=0;window.setTimeout(function(){var n=DayPilotCalendar.drag={};n.element=i,n.id=e.id,n.text=e.text||"",n.duration=a,n.shadowType="Fill",DayPilotCalendar.gTouchMove(t),t.preventDefault()},n),t.preventDefault()};DayPilot.re(t,DayPilot.touch.start,n)},DayPilotCalendar.deleteShadow=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},DayPilotCalendar.createGShadow=function(e){var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.border="2px dotted #666666",t.style.zIndex=101,t.style.pointerEvents="none","Fill"===e&&(t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.style.border="2px solid #aaaaaa"),document.body.appendChild(t),t},DayPilotCalendar.moveShadow=function(e){var t=DayPilotCalendar.movingShadow;t.parentNode.removeChild(t),e.firstChild.appendChild(t),t.style.left="0px",t.style.width=DayPilotCalendar.movingShadow.parentNode.offsetWidth+"px"},DayPilotCalendar.Column=function(e,t,i){this.value=e,this.id=e,this.name=t,this.date=new DayPilot.Date(i)},DayPilot.CalendarVisible.dragStart=DayPilotCalendar.dragStart,DayPilot.CalendarVisible.Calendar=DayPilotCalendar.Calendar,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotCalendar=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Calendar(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function e(){var e=DayPilot.am();e&&e.directive("daypilotCalendar",function(){return{restrict:"E",template:"<div></div>",replace:!0,link:function(e,t,i){var a=new DayPilot.Calendar(t[0]);a.$6D.scope=e,a.init();var n=i.id;n&&(e[n]=a);var o=e.$watch;o.call(e,i.daypilotConfig,function(e){for(var t in e)a[t]=e[t];a.update()}),o.call(e,i.daypilotEvents,function(e){a.events.list=e,a.$6E({eventsOnly:!0})},!0)}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.DatePicker&&(DayPilot.DatePicker=function(e){this.v="1338";var t="navigator_"+(new Date).getTime(),i=this;this.prepare=function(){if(this.locale="en-us",this.target=null,this.resetTarget=!0,this.pattern=this.$m.locale().datePattern,this.theme=null,this.patterns=[],e)for(var t in e)this[t]=e[t];this.init()},this.init=function(){this.date=new DayPilot.Date(this.date);var e=this.$n();this.resetTarget&&!e&&this.$o(this.date),DayPilot.re(document,"mousedown",function(){i.close()})},this.close=function(){this.$p&&(this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.$n=function(){var e=this.$q();if(!e)return this.date;var t=null;if(t="INPUT"===e.tagName?e.value:e.innerText,!t)return null;for(var a=DayPilot.Date.parse(t,i.pattern),n=0;n<i.patterns.length;n++){if(a)return a;a=DayPilot.Date.parse(t,i.patterns[n])}return a},this.$o=function(e){var t=this.$q();if(t){var a=e.toString(i.pattern,i.locale);"INPUT"===t.tagName?t.value=a:t.innerHTML=a}},this.$m={},this.$m.locale=function(){return DayPilot.Locale.find(i.locale)},this.$q=function(){var e=this.target,t=e&&e.nodeType&&1===e.nodeType?e:document.getElementById(e);return t},this.show=function(){var e=this.$q(),a=this.navigator,a=new DayPilot.Navigator(t);a.api=2,a.cssOnly=!0,a.theme=i.theme,a.weekStarts="Auto",a.locale=i.locale,a.onTimeRangeSelected=function(e){i.date=e.start;var t=e.start,a=t.toString(i.pattern,i.locale),e={};e.start=t,e.date=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(e),e.preventDefault.value)||(i.$o(a),i.close(),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(e))},this.navigator=a;var n=DayPilot.abs(e),o=e.offsetHeight,s=document.createElement("div");s.style.position="absolute",s.style.left=n.x+"px",s.style.top=n.y+o+"px";var l=document.createElement("div");l.id=t,s.appendChild(l),DayPilot.re(s,"mousedown",function(e){var e=e||window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}),document.body.appendChild(s),this.div=s;var r=i.$n()||(new DayPilot.Date).getDatePart();a.startDate=r,a.selectionStart=r,a.init(),this.$p=!0},this.prepare()})}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){if("undefined"==typeof DayPilot.Gantt){var e=function(){};DayPilot.Gantt=function(t,i){this.v="1338";var a=this;this.id=t,this.isGantt=!0;var n=new DayPilot.Scheduler(t);this.scheduler=n,n.viewType="Resources",n.onCallBackHeader=function(e){e.header.taskGroupMode=a.taskGroupMode,e.header.rowHeaderColumns=a.columns},n.onGetNodeState=function(e){var t=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t},i=function(e){var i=e.task,a={};return a.start=i.start,a.end=i.end,a.id=i.id,a.complete=i.complete,a.text=i.text,a.type=i.type,a.expanded=e.expanded,a.loaded=e.loaded,a.tags=t(i),a.children=n.internal.getNodeChildren(e.children),a};e.result=i(e.row),e.preventDefault()},n.onCallBackResult=function(e){var t=e.result;if(e.preventDefault(),"None"!==t.updateType){var i=function(e){for(var i=0;i<e.length;i++){var n=e[i];"undefined"!=typeof t[n]&&(a[n]=t[n])}};a.links.list=t.links,a.tasks.list=t.tasks,a.startDate=new DayPilot.Date(t.startDate),i(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode"]),i(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline"]),s.translate(),s.$0b(),s.$0c(),n.update()}},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null,this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=20,this.height=300,this.heightSpec="Max",this.linkBottomMargin=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.taskHeight=24,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeline=null,this.timeHeaders=[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],this.useEventBoxes="Never",this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(e){if(e){var t=e.isLink?e.data:e;a.links.list.push(t),a.$0d&&(s.$0c(),n.update()),a.$0e.notify()}},this.links.remove=function(e){if(e&&e.isLink){var t=DayPilot.indexOf(a.links.list,e.data);a.links.list.splice(t,1),a.$0d&&(s.$0c(),n.update()),a.$0e.notify()}},this.links.find=function(e){if(!DayPilot.isArray(a.links.list))return null;for(var t=0;t<a.links.list.length;t++){var i=a.links.list[t];if(i.id===e)return new DayPilot.Link(i,a)}return null},this.tasks={},this.tasks.list=[],this.tasks.add=function(e){if(e){if(e instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var t=e.isTask?e.data:e;a.tasks.list.push(t),a.$0d&&(s.$0b(),n.update()),a.$0e.notify()}},this.tasks.find=function(e){var t=o.findInCache(e);return t?new DayPilot.Task(t,a):null},this.tasks.update=function(e){if(e){if(!e.isTask)throw"DayPilot.Task object expected";e.commit(),a.$0d&&(s.$0b(),n.update()),a.$0e.notify()}},this.tasks.remove=function(e){if(e){if(!e.isTask)throw"DayPilot.Task object expected";var t=o.findParentArray(e.data);if(t){var i=DayPilot.indexOf(t,e.data);t.splice(i,1),a.$0d&&(s.$0b(),n.update()),a.$0e.notify()}}},this.onAfterRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.$0f=function(){return this.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$0g=function(){if(!a.startDate||!a.days){for(var e=null,t=null,i=0;i<a.tasks.list.length;i++){var o=a.tasks.list[i],s=new DayPilot.Date(o.start),l=new DayPilot.Date(o.end);(null===e||s.getTime()<e)&&(e=s.getTime()),(null===t||l.getTime()>t)&&(t=l.getTime())}if(e&&t){var s=new DayPilot.Date(e).getDatePart(),l=new DayPilot.Date(t).getDatePart().addDays(1);n.startDate=a.startDate||s,n.days=a.days||DayPilot.Date.daysDiff(s,l)}else n.startDate=a.startDate,n.days=a.days}},this.commandCallBack=function(e,t){n.commandCallBack(e,t)},this.message=function(e,t,i,a){n.message(e,t,i,a)},this.setHeight=function(e){n.setHeight(e)},this.$0h=function(){return this.backendUrl?!DayPilot.isArray(a.tasks.list)||0==a.tasks.list.length:!1},this.init=function(){s.translate(),s.$0b(),s.$0c(),this.$0g(),n.init(),this.$0d=!0,this.$0i(),this.$0h()&&n.internal.callback("Init")},this.update=function(){s.translate(),s.$0b(),s.$0c(),a.$0g(),n.update()},this.scrollTo=function(e){n.scrollTo(e)},this.$0j={};var o=this.$0j;o.cache={},o.clearCache=function(){o.cache={}},o.addToCache=function(e,t){var i=e.id;if(i){var a={};if(a.isTaskWrapper=!0,a.data=e,a.parent=t,o.cache[i])throw"Duplicate task id detected";o.cache[i]=a}},o.findInCache=function(e){return e?o.cache[e.toString()]:null},o.getProperty=function(e,t){return e.tags&&e.tags[t]?e.tags[t]:e[t]},o.findParentArray=function(e){return o.findInArray(a.tasks.list,e)},o.findInArray=function(e,t){if(-1!==DayPilot.indexOf(e,t))return e;for(var i=0;i<e.length;i++){var a=e[i];if(a.children&&a.children.length>0){var n=o.findInArray(a.children,t);if(n)return n}}return null},this.$0k={};var s=this.$0k,l=function(e,t){return"undefined"!=typeof e?e:t};s.translate=function(){if(n.durationBarMode="PercentComplete",n.timeRangeSelectedHandling="Disabled",n.treeEnabled=!0,n.autoRefreshCommand=a.autoRefreshCommand,n.autoRefreshEnabled=a.autoRefreshEnabled,n.autoRefreshInterval=a.autoRefreshInterval,n.autoRefreshMaxCount=a.autoRefreshMaxCount,n.autoScroll=a.autoScroll,n.backendUrl=a.backendUrl,n.crosshairColor=a.crosshairColor,n.crosshairOpacity=a.crosshairOpacity,n.crosshairType=a.crosshairType,n.doubleClickTimeout=a.doubleClickTimeout,n.durationBarVisible=a.completeBarVisible,n.durationBarHeight=a.completeBarHeight,n.dynamicEventRendering=a.progressiveTaskRendering?"Progressive":"Disabled",n.dynamicEventRenderingMargin=a.progressiveTaskRenderingMargin,n.dynamicEventRenderingCacheSweeping=a.progressiveTaskRenderingCacheSweeping,n.dynamicEventRenderingCacheSize=a.progressiveTaskRenderingCacheSize,n.startDate=new DayPilot.Date(a.startDate),n.days=a.days,n.cellDuration=a.cellDuration,n.cellGroupBy=a.cellGroupBy,n.cellWidth=a.cellWidth,n.cellWidthSpec=a.cellWidthSpec,n.cornerHtml=a.cornerHtml,n.eventHeight=a.taskHeight,n.eventResizeMargin=a.taskResizeMargin,n.floatingEvents=a.floatingTasks,n.floatingTimeHeaders=a.floatingTimeHeaders,n.headerHeight=a.headerHeight,n.heightSpec=a.heightSpec,n.height=a.height,n.linkBottomMargin=a.linkBottomMargin,n.loadingLabelVisible=a.loadingLabelVisible,n.loadingLabelText=a.loadingLabelText,n.messageBarPosition=a.messageBarPosition,n.messageHideAfter=a.messageHideAfter,n.rowCreateHandling=a.rowCreateHandling,n.numberFormat=a.numberFormat,n.progressiveRowRendering=a.progressiveRowRendering,n.progressiveRowRenderingPreload=a.progressiveRowRenderingPreload,n.scale=a.scale,n.scrollDelayEvents=a.scrollDelayTasks,n.scrollDelayCells=a.scrollDelayCells,n.scrollDelayFloats=a.scrollDelayFloats,n.separators=a.separators,n.eventMovingStartEndEnabled=a.taskMovingStartEndEnabled,n.eventMovingStartEndFormat=a.taskMovingStartEndFormat,n.eventResizingStartEndEnabled=a.taskResizingStartEndEnabled,n.eventResizingStartEndFormat=a.taskResizingStartEndFormat,n.treeIndent=a.treeIndent,n.treeAutoExpand=a.treeAutoExpand,n.treeImageMarginLeft=a.treeImageMarginLeft,n.treeImageMarginTop=a.treeImageMarginTop,n.timeHeaders=a.timeHeaders,n.rowHeaderHideIconEnabled=a.rowHeaderHideIconEnabled,n.rowHeaderScrolling=a.rowHeaderScrolling,n.rowHeaderSplitterWidth=a.rowHeaderSplitterWidth,n.rowHeaderWidth=a.rowHeaderWidth,n.rowHeaderWidthAutoFit=a.rowHeaderWidthAutoFit,n.rowMarginBottom=a.rowMarginBottom,n.rowMinHeight=a.rowMinHeight,n.theme=a.theme,n.useEventBoxes=a.useEventBoxes,n.snapToGrid=a.snapToGrid,n.uniqueID=a.uniqueID,n.bubble=a.bubbleTask,n.cellBubble=a.bubbleCell,n.resourceBubble=a.bubbleRow,n.contextMenu=a.contextMenuTask,n.contextMenuResource=a.contextMenuRow,n.contextMenuLink=a.contextMenuLink,n.syncResourceTree=a.syncTasks,n.syncLinks=a.syncLinks,n.eventMoveHandling=a.taskMoveHandling,n.eventClickHandling=a.taskClickHandling,n.eventResizeHandling=a.taskResizeHandling,n.linkCreateHandling=a.linkCreateHandling,n.eventRightClickHandling=a.taskRightClickHandling,n.eventDoubleClickHandling=a.taskDoubleClickHandling,n.rowMoveHandling=a.rowMoveHandling,n.rowClickHandling=a.rowClickHandling,n.rowDoubleClickHandling=a.rowDoubleClickHandling,n.rowEditHandling=a.rowEditHandling,n.rowSelectHandling=a.rowSelectHandling,DayPilot.isArray(a.columns)){n.rowHeaderColumns=[];for(var e=0;e<a.columns.length;e++){var t=a.columns[e],i={};DayPilot.Util.copyProps(t,i,["title","width"]),n.rowHeaderColumns.push(i)}}a.$0f()&&(n.timeHeader=a.timeHeader,n.timeline=a.timeline,n.cellProperties=a.cellProperties,n.cellConfig=a.cellConfig),n.onRowCreate=function(e){"function"==typeof a.onRowCreate&&a.onRowCreate(e)},n.onRowCreated=function(e){"function"==typeof a.onRowCreated&&a.onRowCreated(e)},n.onAfterRender=function(e){"function"==typeof a.onAfterRender&&a.onAfterRender(e)},n.onRowHeaderResized=function(e){a.rowHeaderWidth=n.rowHeaderWidth},n.onAjaxError=function(e){"function"==typeof a.onAjaxError&&a.onAjaxError(e)},n.onRowHeaderColumnResized=function(e){for(var t=e.column,i=DayPilot.indexOf(n.rowHeaderColumns,t),o=0;o<a.columns.length;o++){var s=n.rowHeaderColumns[o],l=a.columns[o];l.width=s.width}if("function"==typeof a.onColumnResized){var r={};r.column=a.columns[i],a.onColumnResized(r)}},n.onBeforeRowHeaderRender=function(e){e.task=new DayPilot.Task(e.row.$.row.task,a);var t=[];if(DayPilot.isArray(a.columns))for(var i=0;i<a.columns.length;i++){var n=a.columns[i],s=n.property,l={};l.value=o.getProperty(e.task.data,s),l.html=e.task.data.row&&e.task.data.row.columns&&e.task.data.row.columns[i]?e.task.data.row.columns[i].html:l.value,t.push(l)}if(e.row.columns=t,"function"==typeof a.onBeforeRowHeaderRender&&a.onBeforeRowHeaderRender(e),DayPilot.isArray(a.columns))for(var i=0;i<a.columns.length;i++){var r=t[i].html;0===i?e.row.html=r:e.row.columns[i-1].html=r}},n.onBeforeCellRender=function(e){e.task=a.tasks.find(e.cell.resource),delete e.cell.resource,"function"==typeof a.onBeforeCellRender&&a.onBeforeCellRender(e)},n.onBeforeTimeHeaderRender=function(e){"function"==typeof a.onBeforeTimeHeaderRender&&a.onBeforeTimeHeaderRender(e)},n.onEventClick=function(e){e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskClick&&a.onTaskClick(e)},n.onEventClicked=function(e){"function"==typeof a.onTaskClicked&&a.onTaskClicked(e)},n.onEventDelete=function(e){"function"==typeof a.onTaskDelete&&a.onTaskDelete(e)},n.onEventDeleted=function(e){"function"==typeof a.onTaskDeleted&&a.onTaskDeleted(e)},n.onEventDoubleClick=function(e){e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskDoubleClick&&a.onTaskDoubleClick(e)},n.onEventDoubleClicked=function(e){"function"==typeof a.onTaskDoubleClicked&&a.onTaskDoubleClicked(e)},n.onEventRightClick=function(e){e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskRightClick&&a.onTaskRightClick(e)},n.onEventRightClicked=function(e){"function"==typeof a.onTaskRightClicked&&a.onTaskRightClicked(e)},n.onRowMoving=function(e){e.$0l=e.source,e.$0m=e.target,e.source=new DayPilot.Task(e.$0l.$.row.task,a),e.target=new DayPilot.Task(e.$0m.$.row.task,a),"function"==typeof a.onRowMoving&&a.onRowMoving(e)},n.onRowMove=function(e){e.$0l=e.source,e.$0m=e.target,e.source=new DayPilot.Task(e.$0l.$.row.task,a),e.target=new DayPilot.Task(e.$0m.$.row.task,a),"function"==typeof a.onRowMove&&a.onRowMove(e),e.source=e.$0l,e.target=e.$0m},n.onRowMoved=function(e){var t="Update"===a.rowMoveHandling||"Notify"===a.rowMoveHandling;if(t){var i=e.$0l.$.row.task,n=e.$0m.$.row.task,s=e.position;if("forbidden"===s)return;var l=o.findParentArray(i);if(!l)throw"Cannot find source node parent";var r=DayPilot.indexOf(l,i);l.splice(r,1);var c=o.findParentArray(n);if(!c)throw"Cannot find target node parent";var d=DayPilot.indexOf(c,n);switch(s){case"before":c.splice(d,0,i);break;case"after":c.splice(d+1,0,i);break;case"child":n.children||(n.children=[],n.expanded=!0),n.children.push(i)}a.$0e.notify(),a.update()}e.source=new DayPilot.Task(e.$0l.$.row.task,a),e.target=new DayPilot.Task(e.$0m.$.row.task,a),"function"==typeof a.onRowMoved&&a.onRowMoved(e)},n.onRowClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,a),"function"==typeof a.onRowClick&&a.onRowClick(e)},n.onRowClicked=function(e){"function"==typeof a.onRowClicked&&a.onRowClicked(e)},n.onRowDoubleClick=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,a),"function"==typeof a.onRowDoubleClick&&a.onRowDoubleClick(e)},n.onRowDoubleClicked=function(e){"function"==typeof a.onRowDoubleClicked&&a.onRowDoubleClicked(e)},n.onRowEdit=function(e){e.task=new DayPilot.Task(e.resource.$.row.task,a),"function"==typeof a.onRowEdit&&a.onRowEdit(e)},n.onRowEdited=function(e){"function"==typeof a.onRowEdited&&a.onRowEdited(e)},n.onRowSelect=function(e){e.task=new DayPilot.Task(e.row.$.row.task,a),"function"==typeof a.onRowSelect&&a.onRowSelect(e)},n.onRowSelected=function(e){"function"==typeof a.onRowSelected&&a.onRowSelected(e)},n.onEventMove=function(e){e._e=e.e,e.task=new DayPilot.Task(e.e,a),delete e.e,delete e.position,delete e.newResource,"function"==typeof a.onTaskMove&&a.onTaskMove(e)},n.onEventMoved=function(e){if("Auto"===a.taskGroupMode){var t=e._e,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=n.events.find(t.data.parent.id),l=s.childrenStartEnd(t.data.parent);o.start(l.start),o.end(l.end),n.events.update(o),t=o}}a.$0e.notify(),"function"==typeof a.onTaskMoved&&a.onTaskMoved(e)},n.onEventMoving=function(e){e.task=new DayPilot.Task(e.e,a),e._e=e.e,delete e.position,delete e.overlapping,delete e.resource,"function"==typeof a.onTaskMoving&&a.onTaskMoving(e)},n.onEventResize=function(e){e._e=e.e,e.task=new DayPilot.Task(e.e,a),"function"==typeof a.onTaskResize&&a.onTaskResize(e)},n.onEventResized=function(e){if("Auto"===a.taskGroupMode){var t=e._e,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=n.events.find(t.data.parent.id),l=s.childrenStartEnd(t.data.parent);o.start(l.start),o.end(l.end),n.events.update(o),t=o}}a.$0e.notify(),"function"==typeof a.onTaskResized&&a.onTaskResized(e)},n.onEventResizing=function(e){e.task=new DayPilot.Task(e.e,a),e._e=e.e,"function"==typeof a.onTaskResizing&&a.onTaskResizing(e)},n.onLinkCreate=function(e){e.source=a.tasks.find(e.from),e.target=a.tasks.find(e.to),"function"==typeof a.onLinkCreate&&a.onLinkCreate(e)},n.onLinkCreated=function(e){"function"==typeof a.onLinkCreated&&a.onLinkCreated(e)}},s.$0n=function(e){for(var t=0;t<n.rowlist.length;t++){var i=n.rowlist[t];if(i.task===e)return n.internal.createRowObject(i)}return null},s.$0c=function(){n.links=a.links.list?a.links.list:[]},s.$0b=function(){n.resources=[],n.events.list=[],o.clearCache(),s.$0o(a.tasks.list,n.resources,null)},s.$0p=function(e){var t=e.type||"Task";e.children&&e.children.length&&(t="Group");var i={};for(var n in e)"children"!==n&&(i[n]=e[n]);var o={};if(o.data=i,o.type=t,i.box||(i.box={}),"undefined"==typeof i.box.html)if("Task"===o.type){var s=i.complete||0;i.box.html=s+"%"}else i.box.html="";return"undefined"==typeof i.box.htmlRight&&(i.box.htmlRight=i.text),"function"==typeof a.onBeforeTaskRender&&a.onBeforeTaskRender(o),o.type=t,o},s.$0o=function(t,i,l){if(DayPilot.isArray(t))for(var r=0;r<t.length;r++){var c=t[r];o.addToCache(c,l);var d=s.$0p(c),h=d.data,u=d.type,f={};if(DayPilot.Util.copyProps(h,f,["id","start","end","text","complete"]),DayPilot.Util.copyProps(h.box,f),f.parent=l,f.task=c,f.resource=h.id,"Group"==u){if(f.type="Group",f.html="",delete f.backColor,"Auto"===a.taskGroupMode){var v=s.childrenStartEnd(c);f.start=v.start,f.end=v.end,f.resizeDisabled=!0,f.moveDisabled=!0}}else"Milestone"===u?(c.end=c.start,h.end=h.start,f.end=h.start,f.barHidden=!0,f.resizeDisabled=!0,f.type="Milestone",f.width=a.taskHeight,delete f.backColor):"Task"===u&&e();f.moveVDisabled=!0,f.htmlRight=h.box.htmlRight,f.htmlLeft=h.box.htmlLeft,n.events.list.push(f);var p={};p.task=c,DayPilot.Util.copyProps(h.row,p),p.name=h.text,p.id=h.id,p.children=[],p.expanded=!h.row||!h.row.collapsed,c.children&&c.children.length&&s.$0o(c.children,p.children,c),i.push(p)}},s.childrenStartEnd=function(e){if(!e.children||!e.children.length){var t=e.start,i=e.end;return"Milestone"===e.type&&(i=t),{start:new DayPilot.Date(t),end:new DayPilot.Date(i)}}for(var t=null,i=null,a=0;a<e.children.length;a++){var n=s.childrenStartEnd(e.children[a]);(!t||n.start.getTime()<t.getTime())&&(t=n.start),(!i||n.end.getTime()>i.getTime())&&(i=n.end)}return{start:t,end:i}},this.rows={},this.rows.expand=function(e){n.rows.expand(e)
},this.rows.expandAll=function(){n.rows.expandAll()},this.internal={},this.internal.initialized=function(){return a.$0d},this.internal.rowObjectForTaskData=s.$0n,this.$0e={},this.$0e.scope=null,this.$0e.notify=function(){a.$0e.scope&&a.$0e.scope.$apply()},this.$0q=null,this.$0r=function(e){var t={tasks:{preInit:function(){var e=this.data;e&&(a.tasks.list=DayPilot.isArray(e.list)?e.list:e)}},links:{preInit:function(){var e=this.data;e&&(a.links.list=DayPilot.isArray(e.list)?e.list:e)}},scrollTo:{postInit:function(){this.data&&a.scrollTo(this.data)}}};this.$0q=t;for(var i in e)if(t[i]){var n=t[i];n.data=e[i],n.preInit&&n.preInit()}else a[i]=e[i]},this.$0i=function(){var e=this.$0q;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.$0r(i)},"undefined"!=typeof jQuery&&!function($){$.fn.daypilotGantt=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Gantt(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function t(){var e=DayPilot.am();e&&e.directive("daypilotGantt",function(){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function e(t,i){return t.replaceWith(this.template.replace("{{id}};",i.id)),function a(e,t,i){var a=new DayPilot.Gantt(t[0]);a.$0e.scope=e,a.init();var n=i.id;n&&(e[n]=a);var o=e.$watch;o.call(e,i.daypilotConfig,function(e){a.$0r(e),a.update()},!0)}}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotMenu)var DayPilotMenu=DayPilot.MenuVisible={};if(function(){if("undefined"==typeof DayPilot.Menu){var e={};e.mouse=null,e.menu=null,e.clickRegistered=!1,e.hideTimeout=null,DayPilot.Menu=function(t){var i=this;this.v="1338",this.zIndex=10,this.useShadow=!0,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.ref=null,this.hideOnMouseOut=!1,t&&DayPilot.isArray(t)&&(this.items=t),this.show=function(t,a){var n=null;if("string"==typeof t.id||"number"==typeof t.id?n=t.id:"function"==typeof t.id?n=t.id():"function"==typeof t.value&&(n=t.value()),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a||e.menuClean(),this.submenu=null,null!==e.mouse){var o=document.createElement("div");if(o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.display="none",o.style.overflow="hidden",o.style.zIndex=this.zIndex+1,o.className=this.applyCssClass("main"),o.onclick=function(){this.parentNode.removeChild(this)},this.hideOnMouseOut&&(o.onmousemove=function(t){clearTimeout(e.hideTimeout)},o.onmouseout=function(e){i.delayedHide()}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var s=document.createElement("div");s.innerHTML=this.menuTitle,s.className=this.applyCssClass("title"),o.appendChild(s)}for(var l=0;l<this.items.length;l++){var r=this.items[l],c=document.createElement("div");if("undefined"!=typeof r){if("-"===r.text){var d=document.createElement("div");c.appendChild(d)}else{var h=document.createElement("a");if(h.style.position="relative",h.style.display="block",r.href)h.href=r.href.replace(/\x7B0\x7D/gim,n),r.target&&h.setAttribute("target",r.target);else if(r.onclick)h.item=r,h.onclick=r.onclick,h.ontouchend=r.onclick;else if(r.command){var u=function(e,t){return function(i){var a=t.source,n=e;n.action=n.action?n.action:"CallBack";var o=a.calendar||a.root;if(a instanceof DayPilot.Link)return void o.internal.linkMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Selection)return void o.internal.timeRangeMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Event)return void o.internal.eventMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Selection)return void o.internal.timeRangeMenuClick(n.command,a,n.action);if(a instanceof DayPilot.Task)return void("resource"===a.menuType?o.internal.resourceHeaderMenuClick(n.command,t.menuSource,n.action):o.internal.eventMenuClick(n.command,t.menuSource,n.action));switch(a.menuType){case"resource":return void o.internal.resourceHeaderMenuClick(n.command,a,n.action);case"selection":return void o.internal.timeRangeMenuClick(n.command,a,n.action);default:return void o.internal.eventMenuClick(n.command,a,n.action)}i.preventDefault()}};h.onclick=u(r,h),h.ontouchend=u(r,h)}t&&t.isRow&&t.$.row.task?(h.source=new DayPilot.Task(t.$.row.task,t.calendar),h.source.menuType="resource"):h.source=t&&t.isEvent&&t.data.task?new DayPilot.Task(t,t.calendar):t,h.menuSource=t;var f=document.createElement("span");if(f.innerHTML=r.text,h.appendChild(f),r.image){var v=document.createElement("img");v.src=r.image,v.style.position="absolute",v.style.top="0px",v.style.left="0px",h.appendChild(v)}var p=function(e,t){return function(){var a=t.source,n=e;setTimeout(function(){if((!i.submenu||i.submenu.item!==n)&&(i.submenu&&i.submenu.item!==n&&(i.submenu.menu.hide(),i.submenu=null),n.items)){var e=i.cloneOptions();e.items=n.items,i.submenu={},i.submenu.menu=new DayPilot.Menu(e),i.submenu.menu.show(a,!0),i.submenu.item=n}},500)}};h.onmouseover=p(r,h),c.appendChild(h)}o.appendChild(c)}}var y=function(t){window.setTimeout(function(){e.menuClean()},100)};o.onclick=y,o.ontouchend=y,o.onmousedown=function(e){e=e||window.event,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},o.oncontextmenu=function(){return!1},document.body.appendChild(o),i.visible=!0,i.source=t,o.style.display="";var m=o.clientHeight,g=o.offsetWidth;o.style.display="none";var b=document.documentElement.clientHeight;if(this.ref){var D=DayPilot.abs(this.ref),m=this.ref.offsetHeight;o.style.left=D.x+"px",o.style.top=D.y+m+"px"}else{var w=e.mouse.x+1,k=e.mouse.y+1;if(e.mouse.clientY>b-m&&0!==b){var C=e.mouse.clientY-(b-m)+5;o.style.top=k-C+"px"}else o.style.top=k+"px";var P=document.documentElement.clientWidth;if(e.mouse.clientX>P-g&&0!==P){var x=e.mouse.clientX-(P-g)+5;o.style.left=w-x+"px"}else o.style.left=w+"px"}o.style.display="",this.addShadow(o),this.div=o,a||(DayPilot.Menu.active=this)}},this.applyCssClass=function(e){var t=this.theme||this.cssClassPrefix,i=this.cssOnly?"_":"";return t?t+i+e:""},this.cloneOptions=function(){for(var e={},t=["cssOnly","cssClassPrefix","useShadow","zIndex"],i=0;i<t.length;i++){var a=t[i];e[a]=this[a]}return e},this.hide=function(){this.submenu&&this.submenu.menu.hide(),this.removeShadow(),this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div),i.visible=!1,i.source=null},this.delayedHide=function(){e.hideTimeout=setTimeout(function(){i.hide()},200)},this.cancelHideTimeout=function(){clearTimeout(e.hideTimeout)},this.init=function(t){e.mouseMove(t)},this.addShadow=function(e){if(this.useShadow&&!this.cssOnly&&e){this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var t=0;5>t;t++){var i=document.createElement("div");i.style.position="absolute",i.style.width=e.offsetWidth+"px",i.style.height=e.offsetHeight+"px",i.style.top=e.offsetTop+t+"px",i.style.left=e.offsetLeft+t+"px",i.style.zIndex=this.zIndex,i.style.filter="alpha(opacity:10)",i.style.opacity=.1,i.style.backgroundColor="#000000",document.body.appendChild(i),this.shadows.push(i)}}},this.removeShadow=function(){if(this.shadows){for(var e=0;e<this.shadows.length;e++)document.body.removeChild(this.shadows[e]);this.shadows=[]}};var a=DayPilot.isArray(t)?null:t;if(a)for(var n in a)this[n]=a[n];e.clickRegistered||(DayPilot.re(document,"mousemove",e.mouseMove),DayPilot.re(document,"touchmove",e.touchMove),DayPilot.re(document,"touchstart",e.touchStart),DayPilot.re(document,"touchend",e.touchEnd),DayPilot.re(document,"mousedown",e.menuClean),e.clickRegistered=!0)},e.menuClean=function(e){"undefined"!=typeof DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},e.mouseMove=function(t){"undefined"!=typeof e&&(e.mouse=e.mousePosition(t))},e.touchMove=function(t){"undefined"!=typeof e&&(e.mouse=e.touchPosition(t))},e.touchStart=function(t){"undefined"!=typeof e&&(e.mouse=e.touchPosition(t))},e.touchEnd=function(e){},e.touchPosition=function(e){var t=e.touches[0],i={};return i.x=t.pageX,i.y=t.pageY,i.clientX=t.clientX,i.clientY=t.clientY,i},e.mousePosition=function(e){var t=0,i=0;if(!e)var e=window.event;e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var a={};return a.x=t,a.y=i,a.clientY=e.clientY,a.clientX=e.clientX,a},DayPilot.MenuVisible.Menu=e.Menu,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var e=this.list.pop();e&&e.hide()}},DayPilot.ModalStatic.remove=function(e){for(var t=DayPilot.ModalStatic.list,i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1)},DayPilot.ModalStatic.close=function(e){DayPilot.ModalStatic.result(e),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(e){var t=DayPilot.ModalStatic.list;t.length>0&&(t[t.length-1].result=e)},DayPilot.ModalStatic.displayed=function(e){for(var t=DayPilot.ModalStatic.list,i=0;i<t.length;i++)if(t[i]===e)return!0;return!1};var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE");DayPilot.Modal=function(){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.border="10px solid #ccc",this.corners="Rounded",this.className=null,this.dragDrop=!0,this.height=200,this.maxHeight=null,this.opacity=30,this.scrollWithPage=!0,this.top=20,this.useIframe=!0,this.width=500,this.zIndex=null,this.closed=null;var e=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.registered=!1,this.start=null,this.coords=null,this.showHtml=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.create(),this.update(),this.useIframe){var t=function(e,t){return function(){e.setInnerHTML(e.id+"iframe",t)}};window.setTimeout(t(this,e),0)}else e.nodeType?this.div.appendChild(e):this.div.innerHTML=e;this.update(),this.register()},this.rounded=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(e){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";this.useIframe=!0,this.div||this.create(),this.re(this.iframe,"load",this.onIframeLoad),this.iframe.src=e,this.update(),this.register()},this.update=function(){var t=window,i=document,a=t.pageYOffset?t.pageYOffset:i.documentElement&&i.documentElement.scrollTop?i.documentElement.scrollTop:i.body.scrollTop,n=function(){return e.windowRect().y};this.hideDiv.style.filter="alpha(opacity="+this.opacity+")",this.hideDiv.style.opacity="0."+this.opacity,this.hideDiv.style.backgroundColor="black",this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){e.hideDiv.onclick=function(){e.hide()}},500),this.div.className=this.className,this.div.style.border=this.border,this.rounded()&&(this.div.style.MozBorderRadius="5px",this.div.style.webkitBorderRadius="5px",this.div.style.borderRadius="5px"),this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.top=a+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.div.style.height=this.height+"px"),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.onIframeLoad=function(){e.iframe.contentWindow.modal=e,e.autoStretch&&e.stretch()},this.stretch=function(){for(var t=function(){return e.windowRect().y},i=this.maxHeight||t()-2*this.top,a=this.height;i>a&&this.hasScrollbar();a+=10)this.iframe.style.height=a+"px",this.div.style.height=a+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.onIframeLoad)},this.hasScrollbar=function(){var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,i=t.scrollHeight>t.clientHeight,a=t.scrollWidth>t.clientWidth;return i},this.windowRect=function(){var e=document;if("CSS1Compat"===e.compatMode&&e.documentElement&&e.documentElement.clientWidth){var t=e.documentElement.clientWidth,i=e.documentElement.clientHeight;return{x:t,y:i}}var t=e.body.clientWidth,i=e.body.clientHeight;return{x:t,y:i}},this.register=function(){this.registered||(this.re(window,"resize",this.resize),this.re(window,"scroll",this.resize),this.dragDrop&&(this.re(document,"mousemove",this.drag),this.re(document,"mouseup",this.drop)),this.registered=!0)},this.drag=function(t){if(e.coords){var t=t||window.event,i=e.mc(t),a=i.x-e.coords.x,n=i.y-e.coords.y;e.div.style.marginLeft="0px",e.div.style.top=e.start.y+n+"px",e.div.style.left=e.start.x+a+"px"}},this.drop=function(t){e.coords&&(e.unmaskIframe(),e.coords=null)},this.maskIframe=function(){if(this.useIframe){var e=80,t=document.createElement("div");t.style.backgroundColor="#ffffff",t.style.filter="alpha(opacity="+e+")",t.style.opacity="0."+e,t.style.width="100%",t.style.height=this.height+"px",t.style.position="absolute",t.style.left="0px",t.style.top="0px",this.div.appendChild(t),this.mask=t}},this.unmaskIframe=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.resize=function(){if(e.hideDiv&&e.div&&"none"!==e.hideDiv.style.display&&"none"!==e.div.style.display){var t=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;e.scrollWithPage||(e.div.style.top=t+e.top+"px")}},this.re=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.ue=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},this.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},this.abs=function(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e.offsetParent;)e=e.offsetParent,t.x+=e.offsetLeft,t.y+=e.offsetTop;return t},this.create=function(){var e=document.createElement("div");e.id=this.id+"hide",e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.style.right="0px",e.style.bottom="0px",e.style.backgroundColor="black",e.style.opacity=.5,e.oncontextmenu=function(){return!1},document.body.appendChild(e);var t=document.createElement("div");t.id=this.id+"popup",t.style.position="fixed",t.style.left="50%",t.style.top="0px",t.style.backgroundColor="white",t.style.width="50px",t.style.height="50px",this.dragDrop&&(t.onmousedown=this.dragStart);var i=50,a=null;this.useIframe&&(a=document.createElement("iframe"),a.id=this.id+"iframe",a.name=this.id+"iframe",a.frameBorder="0",a.style.width="100%",a.style.height=i+"px",t.appendChild(a)),document.body.appendChild(t),this.div=t,this.iframe=a,this.hideDiv=e},this.dragStart=function(t){e.maskIframe(),e.coords=e.mc(t||window.event),e.start={x:e.div.offsetLeft,y:e.div.offsetTop}},this.setInnerHTML=function(e,t){var i=window.frames[e],a=i.contentWindow||i.document||i.contentDocument;a.document&&(a=a.document),t.nodeType?a.body.appendChild(t):a.body.innerHTML=t},this.close=function(e){this.result=e,this.hide()},this.hide=function(){this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),DayPilot.ModalStatic.remove(this),this.closed&&this.closed()}}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotMonth)var DayPilotMonth=DayPilot.MonthVisible={};if(function(){var $a=function(){};if("undefined"==typeof DayPilot.Month){var DayPilotMonth={};DayPilot.Month=function(id,$b){this.v="1338",this.nav={};var $c=this;this.id=id,this.isMonth=!0,this.api=2,this.$1P=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width="100%",this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.headerBackColor="#ECE9D8",this.headerFontColor="#000000",this.headerFontFamily="Tahoma",this.headerFontSize="10pt",this.headerHeight=20,this.heightSpec="Auto",this.weekStarts=1,this.innerBorderColor="#cccccc",this.borderColor="black",this.eventHeight=25,this.cellHeaderHeight=16,this.numberFormat="0.00",this.clientState={},this.afterRender=function(){},this.backColor="#FFFFD5",this.nonBusinessBackColor="#FFF4BC",this.cellHeaderBackColor="",this.cellHeaderFontColor="#000000",this.cellHeaderFontFamily="Tahoma",this.cellHeaderFontSize="10pt",this.cssOnly=!0,this.eventBackColor="White",this.eventBorderColor="Black",this.eventCorners="Regular",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.cellWidth=14.285,this.lineSpace=1,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.eventMoveToPosition=!1,this.eventTextLayer="Top",this.eventStartTime=!0,this.eventEndTime=!0,this.eventTextAlignment="Center",this.eventTextLeftIndent=20,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.eventTimeFontColor="gray",this.eventTimeFontFamily="Tahoma",this.eventTimeFontSize="8pt",this.viewType="Month",this.weeks=1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Enabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.$1Q={},this.$1Q.events={},this.events={},this.autoRefreshCount=0,this.$1R=function($d,$e){var $d=eval("("+$d+")");if($d.BubbleGuid){var $f=$d.BubbleGuid,$g=this.bubbles[$f];return delete this.bubbles[$f],$c.$1S(),void("undefined"!=typeof $d.Result.BubbleHTML&&$g.updateView($d.Result.BubbleHTML,$g))}if($d.CallBackRedirect)return void(document.location.href=$d.CallBackRedirect);if("undefined"!=typeof $d.ClientState&&($c.clientState=$d.ClientState),"None"===$d.UpdateType)return $c.$1T($d.CallBackData,!0),void($d.Message&&$c.message($d.Message));if($d.VsUpdate){var $h=document.createElement("input");$h.type="hidden",$h.name=$c.id+"_vsupdate",$h.id=$h.name,$h.value=$d.VsUpdate,$c.$1U.innerHTML="",$c.$1U.appendChild($h)}$c.events.list=$d.Events,"undefined"!=typeof $d.TagFields&&($c.tagFields=$d.TagFields),"undefined"!=typeof $d.SortDirections&&($c.sortDirections=$d.SortDirections),"Full"===$d.UpdateType&&($c.cellProperties=$d.CellProperties,$c.headerProperties=$d.HeaderProperties,$c.startDate=$d.StartDate,"undefined"!=typeof $d.ShowWeekend&&($c.showWeekend=$d.ShowWeekend),$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor,$c.backColor=$d.BackColor?$d.BackColor:$c.backColor,$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor,$c.locale=$d.Locale?$d.Locale:$c.locale,$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat,"undefined"!=typeof $d.WeekStarts&&($c.weekStarts=$d.WeekStarts),$c.hashes=$d.Hashes),$c.multiselect.clear(!0),$c.multiselect.initList=$d.SelectedEvents,$c.$1V(),$c.$1W(),$c.$1X(),"Full"===$d.UpdateType&&($c.$1Y(),$c.$1Z()),$c.$20(),$c.$21(),$c.$22(),$c.$1T($d.CallBackData,!0),$c.$23(),$d.Message&&$c.message($d.Message)},this.$1T=function(e,t){var i=function(e,t){return function(){if($c.$24()){if("function"==typeof $c.onAfterRender){var i={};i.isCallBack=t,i.data=e,$c.onAfterRender(i)}}else $c.afterRender&&$c.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.$24=function(){return 2===$c.api},this.$25=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$1X=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var e=this.events.list.length,t=0;e>t;t++)this.$26(t);this.cellMode?this.$27():this.$28()}},this.$1S=function(){},this.$28=function(){if(this.events.list){for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e];if(t.start=new DayPilot.Date(t.start),t.end=new DayPilot.Date(t.end),!(t.start.getTime()>t.end.getTime()))for(var i=0;i<this.rows.length;i++){var a=this.rows[i];if(a.belongsHere(t)){var n=new DayPilot.Event(t,$c);a.events.push(n),"function"==typeof this.onBeforeEventRender&&(n.cache=this.$1Q.events[e])}}}for(var o=0;o<this.rows.length;o++){var a=this.rows[o];a.events.sort(this.$29);for(var s=0;s<this.rows[o].events.length;s++){var l=a.events[s],r=a.getStartColumn(l),c=a.getWidth(l);a.putIntoLine(l,r,c,o)}}}},this.$27=function(){this.cellEvents=[];for(var e=0;e<this.$2a();e++){this.cellEvents[e]=[];for(var t=0;t<this.rows.length;t++){var i={},a=DayPilot.Date.addDays(this.firstDate,7*t+e);i.start=a,i.end=DayPilot.Date.addDays(a,1),i.events=[],this.cellEvents[e][t]=i}}for(var n=0;n<this.events.list.length;n++){var o=this.events.list[n];if(o.start=new DayPilot.Date(o.start),o.end=new DayPilot.Date(o.start),!(o.start.getTime()>o.end.getTime()))for(var e=0;e<this.$2a();e++)for(var t=0;t<this.rows.length;t++){var i=this.cellEvents[e][t];if(o.start.getTime()>=i.start.getTime()&&o.start.getTime()<i.end.getTime()){var s=new DayPilot.Event(o,$c);i.events.push(s),"function"==typeof this.onBeforeEventRender&&(s.cache=this.$1Q.events[n])}}}for(var e=0;e<this.$2a();e++)for(var t=0;t<this.rows.length;t++){var i=this.cellEvents[e][t];i.events.sort(this.$29)}},this.$1V=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e];t.event=null,t.click=null,t.parentNode.removeChild(t)}this.elements.events=[]},this.$22=function(){this.$1Q.events={},this.cellMode?this.$2b():this.$2c(),this.multiselect.redraw()},this.$2b=function(){this.elements.events=[];for(var e=0;e<this.$2a();e++)for(var t=0;t<this.rows.length;t++)for(var i=this.cellEvents[e][t],a=this.cells[e][t],n=0;n<i.events.length;n++){var o=i.events[n];o.part.colStart=e,o.part.colWidth=1,o.part.row=t,o.part.line=n,o.part.startsHere=!0,o.part.endsHere=!0,this.$2d(o)}},this.$2c=function(){this.elements.events=[];for(var e=0;e<this.rows.length;e++)for(var t=this.rows[e],i=0;i<t.lines.length;i++)for(var a=t.lines[i],n=0;n<a.length;n++)this.$2d(a[n])},this.$2e=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;if(0!==i)return i;var a=t.end().ticks-e.end().ticks;return a},this.$29=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return $c.$2e(e,t);for(var i=0,a=0;0===i&&e.data.sort[a]&&t.data.sort[a];)i=e.data.sort[a]===t.data.sort[a]?0:$c.$2f(e.data.sort[a],t.data.sort[a],$c.sortDirections[a]),a++;return i},this.$2f=function(e,t,i){var a="desc"!==i,n=a?-1:1,o=-n;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return n;var s=[];return s[0]=e,s[1]=t,s.sort(),e===s[0]?n:o},this.$2g=function(e,t,i,a,n,o){n||(n=0);var s=a;this.shadow={},this.shadow.list=[],this.shadow.start={x:e,y:t},this.shadow.width=a,this.eventMoveToPosition&&(s=1,this.shadow.position=i);var l=7*t+e-n;0>l&&(s+=l,e=0,t=0);for(var r=n;r>=7;)t--,r-=7;if(r>e){var c=7-this.$2a();r>e+c?(t--,e=e+7-r):(s=s-r+e,e=0)}else e-=r;0>t&&(t=0,e=0);var d=null;for(DayPilotMonth.resizingEvent?d="w-resize":DayPilotMonth.movingEvent&&(d="move"),this.nav.top.style.cursor=d;s>0&&t<this.rows.length;){var h=Math.min(this.$2a()-e,s),u=this.rows[t],f=this.$2h(t),v=u.getHeight();this.eventMoveToPosition&&(f=this.$2i(t,i),v=2);var p=document.createElement("div");p.setAttribute("unselectable","on"),p.style.position="absolute",p.style.left=this.$2j()*e+"%",p.style.width=this.$2j()*h+"%",p.style.top=f+"px",p.style.height=v+"px",p.style.cursor=d;var y=document.createElement("div");y.setAttribute("unselectable","on"),p.appendChild(y),this.cssOnly&&(p.className=this.$25("_shadow"),y.className=this.$25("_shadow_inner")),this.cssOnly||(y.style.position="absolute",y.style.top="0px",y.style.right="0px",y.style.left="0px",y.style.bottom="0px","Fill"===this.shadowType?(y.style.backgroundColor="#aaaaaa",y.style.opacity=.5,y.style.filter="alpha(opacity=50)",o&&o.event&&(y.style.overflow="hidden",y.style.fontSize=this.eventFontSize,y.style.fontFamily=this.eventFontFamily,y.style.color=this.eventFontColor,y.innerHTML=o.event.client.innerHTML()?o.event.client.innerHTML():o.event.text())):y.style.border="2px dotted #666666");var m=this.nav.events;m.appendChild(p),this.shadow.list.push(p),s-=h+7-this.$2a(),e=0,t++}},this.$2k=function(){if(this.shadow){for(var e=this.nav.events,t=0;t<this.shadow.list.length;t++)e.removeChild(this.shadow.list[t]);this.shadow=null,this.nav.top.style.cursor=""}},this.$2i=function(e,t){for(var i=0,a=0;e>a;a++)i+=this.rows[a].getHeight();return i+=this.cellHeaderHeight,i+=t*$N.lineHeight()},this.$2l=function(e,t){return DayPilot.Date.addDays(this.firstDate,7*t+e)},this.$26=function(e){var t=this.$1Q.events,i=this.events.list[e],a={};for(var n in i)a[n]=i[n];if("function"==typeof this.onBeforeEventRender){var o={};o.e=a,this.onBeforeEventRender(o)}t[e]=a},this.$2d=function(e,t){var t=this.cellMode,i=e.part.row,a=e.part.line,n=e.part.colStart,o=e.part.colWidth,s=e.cache||e.data,l=t?0:this.$2j()*n,r=t?100:this.$2j()*o,c=t?a*$N.lineHeight():this.$2i(i,a),d=document.createElement("div");if(d.setAttribute("unselectable","on"),d.style.height=$N.eventHeight()+"px",this.cssOnly?(d.style.position="relative",d.style.overflow="hidden",d.className=this.$25("_event")):d.style.fontFamily=this.eventFontFamily,s.cssClass&&DayPilot.Util.addClass(d,s.cssClass),d.event=e,t?(d.style.marginRight="2px",d.style.marginBottom="2px"):(d.style.width=r+"%",d.style.position="absolute",d.style.left=l+"%",d.style.top=c+"px"),this.showToolTip&&s.toolTip&&!this.bubble&&(d.title=s.toolTip),d.onclick=this.$2m,d.ondblclick=this.$2n,d.oncontextmenu=this.$2o,d.onmousedown=this.$2p,d.onmousemove=this.$2q,d.onmouseout=this.$2r,d.ontouchstart=$S.onEventTouchStart,d.ontouchmove=$S.onEventTouchMove,d.ontouchend=$S.onEventTouchEnd,this.cssOnly){e.part.startsHere||DayPilot.Util.addClass(d,this.$25("_event_continueleft")),e.part.endsHere||DayPilot.Util.addClass(d,this.$25("_event_continueright"));var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=this.$25("_event_inner"),h.innerHTML=e.client.innerHTML()?e.client.innerHTML():e.text(),s.backColor&&(h.style.background=s.backColor),d.appendChild(h)}else{var u=e.client.backColor()?e.client.backColor():this.eventBackColor,h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.height=$N.eventHeight()-2+"px",h.style.overflow="hidden",h.style.position="absolute",h.style.left="2px",h.style.right="2px",h.style.paddingLeft="2px",h.style.border="1px solid "+$c.eventBorderColor,h.style.backgroundColor=u,h.style.fontFamily="",h.className=this.$25("event"),$N.rounded()&&(h.style.MozBorderRadius="5px",h.style.webkitBorderRadius="5px",h.style.borderRadius="5px");var f=[],v="Top"===this.eventTextLayer,p=this.eventStartTime,y=this.eventEndTime,m=this.eventTextAlignment,g=this.eventTextLeftIndent,b="Floats"===this.eventTextLayer;if(b)p&&(f.push("<div unselectable='on' style='float:left; font-size:"),f.push(this.eventTimeFontSize),f.push(";color:"),f.push(this.eventTimeFontColor),f.push(";font-family:"),f.push(this.eventTimeFontFamily),f.push("'>"),f.push(DayPilot.Date.hours(e.start().d,"Clock12Hours"===$c.timeFormat)),f.push("</div>")),y&&(f.push("<div unselectable='on' style='float:right;font-size:"),f.push(this.eventTimeFontSize),f.push(";color:"),f.push(this.eventTimeFontColor),f.push(";font-family:"),f.push(this.eventTimeFontFamily),f.push("'>"),f.push(DayPilot.Date.hours(e.end().d,"Clock12Hours"===$c.timeFormat)),f.push("</div>")),f.push("<div unselectable='on' style='"),f.push("font-size:"),f.push(this.eventFontSize),f.push(";color:"),f.push(this.eventFontColor),f.push(";font-family:"),f.push(this.eventFontFamily),"Center"===m&&f.push(";text-align:center;"),f.push("'>"),f.push(e.client.innerHTML()?e.client.innerHTML():e.text()),f.push("</div>");else if(p&&("Left"===m?(f.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:"),f.push(this.eventTimeFontSize),f.push(";color:"),f.push(this.eventTimeFontColor),f.push(";font-family:"),f.push(this.eventTimeFontFamily),f.push(";text-align:right;"),f.push("width:"),f.push(g-4),f.push("px;"),f.push("><span style='background-color:")):(f.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:"),f.push(this.eventTimeFontSize),f.push(";color:"),f.push(this.eventTimeFontColor),f.push(";font-family:"),f.push(this.eventTimeFontFamily),f.push(";'><span style='background-color:")),f.push(u),f.push("' unselectable='on'>"),f.push(e.part.startsHere?DayPilot.Date.hours(e.start().d,"Clock12Hours"===$c.timeFormat):"~"),f.push("</span></div></div>")),y&&(f.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:"),f.push(this.eventTimeFontSize),f.push(";color:"),f.push(this.eventTimeFontColor),f.push(";font-family:"),f.push(this.eventTimeFontFamily),f.push(";'><span style='background-color:"),f.push(u),f.push("' unselectable='on'>"),f.push(e.part.endsHere?DayPilot.Date.hours(e.end().d,"Clock12Hours"===$c.timeFormat):"~"),f.push("</span></div></div>")),"Left"===m){var l=p?g:0;f.push("<div style='margin-top:0px;height:"),f.push($N.eventHeight()-2),f.push("px;"),f.push(";overflow:hidden;text-align:left;padding-left:"),f.push(l),f.push("px;font-size:"),f.push(this.eventFontSize),f.push(";color:"),f.push(this.eventFontColor),f.push(";font-family:"),f.push(this.eventFontFamily),f.push("' unselectable='on'>"),f.push(e.client.innerHTML()?e.client.innerHTML():e.text()),f.push("</div>")}else"Center"===m&&(v?(f.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>"),f.push("<span style='background-color:"),f.push(u),f.push(";font-size:"),f.push(this.eventFontSize),f.push(";color:"),f.push(this.eventFontColor),f.push(";font-family:"),f.push(this.eventFontFamily),f.push("' unselectable='on'>"),f.push(e.client.innerHTML()?e.client.innerHTML():e.text()),f.push("</span>"),f.push("</div>")):(f.push("<div style='margin-top:0px;height:"),f.push($N.eventHeight()-2),f.push("px;"),f.push(";overflow:hidden;text-align:center;font-size:"),f.push(this.eventFontSize),f.push(";color:"),f.push(this.eventFontColor),f.push(";font-family:"),f.push(this.eventFontFamily),f.push("' unselectable='on'>"),f.push(e.client.innerHTML()?e.client.innerHTML():e.text()),f.push("</div>")));h.innerHTML=f.join(""),d.appendChild(h)}if(s.areas)for(var D=s.areas,w=0;w<D.length;w++){var k=D[w];if("Visible"===k.v){var C=DayPilot.Areas.createArea(d,e,k);d.appendChild(C)}}this.elements.events.push(d),t?this.cells[n][i].body.appendChild(d):this.nav.events.appendChild(d),$c.multiselect.$2s(d.event)&&$c.multiselect.add(d.event,!0);var P=d;if($c.$24()){if("function"==typeof $c.onAfterEventRender){var x={};x.e=P.event,x.div=P,$c.onAfterEventRender(x)}}else $c.afterEventRender&&$c.afterEventRender(P.event,P)},this.$2m=function(e){$S.start||$c.$2t(this,e)},this.$2n=function(e){$c.$2u(this,e)},this.$2q=function(e){var t=this,i=t.event;if("undefined"!=typeof DayPilotMonth&&!DayPilotMonth.movingEvent&&!DayPilotMonth.resizingEvent){var a=DayPilot.mo3(t,e);
if(a){!function(){var e=t;if(!e.active){var i=[];"Disabled"!==$c.eventDeleteHandling&&i.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:$c.$25("_event_delete"),js:function(e){$c.$2v(e)}});var a=e.event.cache?e.event.cache.areas:e.event.data.areas;a&&a.length>0&&(i=i.concat(a)),DayPilot.Areas.showAreas(e,e.event,null,i)}}(),$c.cssOnly&&$c.$2w(t.event).each(function(e){DayPilot.Util.addClass(e,$c.$25("_event_hover"))});var n=6;if(!$c.cellMode&&a.x<=n&&i.client.resizeEnabled()?i.part.startsHere?(t.style.cursor="w-resize",t.dpBorder="left"):t.style.cursor="not-allowed":!$c.cellMode&&t.clientWidth-a.x<=n&&i.client.resizeEnabled()?i.part.endsHere?(t.style.cursor="e-resize",t.dpBorder="right"):t.style.cursor="not-allowed":t.style.cursor="default","undefined"!=typeof DayPilotBubble&&$c.bubble&&"Disabled"!==$c.eventHoverHandling)if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent)DayPilotBubble.hideActive();else{var o=this.$2x&&a.x===this.$2x.x&&a.y===this.$2x.y;o||(this.$2x=a,$c.bubble.showEvent(t.event))}}}},this.$2r=function(e){var t=this;"undefined"!=typeof DayPilotBubble&&$c.bubble&&$c.bubble.hideOnMouseOut(),t.style.cursor="",$c.cssOnly&&$c.$2w(t.event).each(function(e){DayPilot.Util.removeClass(e,$c.$25("_event_hover"))}),DayPilot.Areas.hideAreas(t,e)},this.$2o=function(){var e=this;return $c.$2y(e.event),!1},this.$2p=function(e){if(!$S.start){var t=this,i=t.event,a=i.part.row,n=i.part.colStart,o=i.part.line,s=i.part.colWidth;e=e||window.event;var l=DayPilot.Util.mouseButton(e);if(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),l.left)if("undefined"!=typeof DayPilotBubble&&$c.bubble&&DayPilotBubble.hideActive(),DayPilotMonth.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var r={};r.start={},r.start.x=n,r.start.y=a,r.event=t.event,r.width=DayPilot.Date.daysSpan(r.event.start().d,r.event.end().d)+1,r.direction=this.style.cursor,DayPilotMonth.resizingEvent=r}else if("move"===this.style.cursor||i.client.moveEnabled()){$c.$2k();var c=DayPilot.mo3($c.nav.events,e);if(!c)return;var d=$c.$2z(c.x,c.y);if(!d)return;var h=DayPilot.Date.daysDiff(i.start(),$c.rows[a].start),u=7*d.y+d.x-(7*a+n);h&&(u+=h);var f={};f.start={},f.start.x=n,f.start.y=a,f.start.line=o,f.offset=$c.eventMoveToPosition?0:u,f.colWidth=s,f.event=t.event,f.coords=c,DayPilotMonth.movingEvent=f}}},this.temp={},this.temp.getPosition=function(){if(!$c.coords)return null;var e=$c.$2z($c.coords.x,$c.coords.y);if(!e)return null;var t=new DayPilot.Date($c.$2l(e.x,e.y)),e={};return e.start=t,e.end=t.addDays(1),e},this.$2A={};var $S=$c.$2A;$S.active=!1,$S.start=!1,$S.timeouts=[],$S.onEventTouchStart=function(e){if(!$S.active&&!$S.start){$S.clearTimeouts(),$S.start=!0,$S.active=!1;var t=this,i=500;$S.timeouts.push(window.setTimeout(function(){$S.active=!0,$S.start=!1;var i=$S.relativeCoords(e);$S.startMoving(t,i),e.preventDefault()},i)),e.stopPropagation()}},$S.onEventTouchMove=function(e){$S.clearTimeouts(),$S.start=!1},$S.onEventTouchEnd=function(e){$S.clearTimeouts(),$S.start&&$c.$2B(this,!1),window.setTimeout(function(){$S.start=!1,$S.active=!1},500)},$S.onMainTouchStart=function(e){if(!$S.active&&!$S.start){$S.clearTimeouts(),$S.start=!0,$S.active=!1;var t=500;$S.timeouts.push(window.setTimeout(function(){$S.active=!0,$S.start=!1,e.preventDefault();var t=$S.relativeCoords(e);$S.startRange(t)},t))}},$S.onMainTouchMove=function(e){if($S.clearTimeouts(),$S.start=!1,$S.active){e.preventDefault();var t=$S.relativeCoords(e);if($S.moving)return void $S.updateMoving(t);$S.range&&$S.updateRange(t)}},$S.onMainTouchEnd=function(e){if($S.clearTimeouts(),$S.active){if($S.moving){var t=$S.moving,i=$S.moving.event,a=$c.shadow.start,n=$c.shadow.position,o=$S.moving.offset;$c.$2k(),$S.moving=null,$c.$2C(i,a.x,a.y,o,e,n)}if($S.range){var s=$S.range,a=new DayPilot.Date($c.$2l(s.from.x,s.from.y)),l=a.addDays(s.width);$S.range=null,$c.$2D(a,l)}}window.setTimeout(function(){$S.start=!1,$S.active=!1},500)},$S.clearTimeouts=function(){for(var e=0;e<$S.timeouts.length;e++)clearTimeout($S.timeouts[e]);$S.timeouts=[]},$S.relativeCoords=function(e){var t=$c.nav.events,i=e.touches[0].pageX,a=e.touches[0].pageY,n={x:i,y:a},o=DayPilot.abs(t),n={x:i-o.x,y:a-o.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return n},$S.startMoving=function(e,t){$c.$2k();var i=e.event,a=$c.$2z(t.x,t.y);if(a){var n=DayPilot.Date.daysDiff(i.start(),$c.rows[i.part.row].start),o=7*a.y+a.x-(7*i.part.row+i.part.colStart);n&&(o+=n);var s={};s.start={},s.start.x=i.part.colStart,s.start.y=i.part.row,s.start.line=i.part.line,s.offset=$c.eventMoveToPosition?0:o,s.colWidth=i.part.colWidth,s.event=i,s.coords=t,$S.moving=s,$S.updateMoving(t)}},$S.updateMoving=function(e){var t=$c.$2z(e.x,e.y);if(t){var i=$c.$2E(t);$c.$2k();var a=$S.moving.event,n=$S.moving.offset,o=$c.cellMode?1:DayPilot.Date.daysSpan(a.start().d,a.end().d)+1;1>o&&(o=1),$c.$2g(t.x,t.y,i,o,n,a)}},$S.startRange=function(e){var t=$c.$2z(e.x,e.y);if(t){$c.$2k();var i={};i.start={},i.start.x=t.x,i.start.y=t.y,i.x=t.x,i.y=t.y,i.width=1,$S.range=i,$S.updateRange(e)}},$S.updateRange=function(e){var t=$c.$2z(e.x,e.y);if(t){$c.$2k();var i=$S.range.start,a=7*i.y+i.x,n=7*t.y+t.x,o=Math.abs(n-a)+1;1>o&&(o=1);var s=n>a?i:t;$S.range.width=o,$S.range.from={x:s.x,y:s.y},$c.$2g(s.x,s.y,0,o,0,null)}},this.isWeekend=function(e){var t=0,i=6;return e.dayOfWeek()===t?!0:e.dayOfWeek()===i?!0:!1},this.$2F=function(){var e=this.startDate.lastDayOfMonth();if(this.showWeekend)return e;for(;this.isWeekend(e);)e=e.addDays(-1);return e},this.$1W=function(){if("string"==typeof this.startDate&&(this.startDate=DayPilot.Date.fromStringSortable(this.startDate)),this.startDate="Month"===this.viewType?this.startDate.firstDayOfMonth():this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek($N.getWeekStart()),!this.showWeekend){for(var e=this.startDate.addMonths(-1).getMonth(),t=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(t);)t=t.addDays(-1);t.getMonth()===e&&(this.firstDate=DayPilot.Date.addDays(this.firstDate,7))}var i=this.startDate,a;if("Month"===this.viewType){var n=this.$2F().d,o=DayPilot.Date.daysDiff(this.firstDate,n)+1;a=Math.ceil(o/7)}else a=this.weeks;this.days=7*a,this.rows=[];for(var s=0;a>s;s++){var l={};l.start=DayPilot.Date.addDays(this.firstDate,7*s),l.end=DayPilot.Date.addDays(l.start,this.$2a()),l.events=[],l.lines=[],l.index=s,l.minHeight=this.cellHeight,l.calendar=this,l.belongsHere=function(e){return e.end.getTime()===e.start.getTime()&&e.start.getTime()===this.start.getTime()?!0:!(e.end.getTime()<=this.start.getTime()||e.start.getTime()>=this.end.getTime())},l.getPartStart=function(e){return DayPilot.Date.max(this.start,e.start())},l.getPartEnd=function(e){return DayPilot.Date.min(this.end,e.end())},l.getStartColumn=function(e){var t=this.getPartStart(e);return DayPilot.Date.daysDiff(this.start,t)},l.getWidth=function(e){return DayPilot.Date.daysSpan(this.getPartStart(e),this.getPartEnd(e))+1},l.putIntoLine=function(e,t,i,a){for(var n=this,o=0;o<this.lines.length;o++){var s=this.lines[o];if(s.isFree(t,i))return s.addEvent(e,t,i,a,o),o}var s=[];return s.isFree=function(e,t){for(var i=!0,a=0;a<this.length;a++){var n=this[a];e+t-1<n.part.colStart||e>n.part.colStart+n.part.colWidth-1||(i=!1)}return i},s.addEvent=function(e,t,i,a,o){e.part.colStart=t,e.part.colWidth=i,e.part.row=a,e.part.line=o,e.part.startsHere=n.start.getTime()<=e.start().getTime(),e.part.endsHere=n.end.getTime()>=e.end().getTime(),this.push(e)},s.addEvent(e,t,i,a,this.lines.length),this.lines.push(s),this.lines.length-1},l.getStart=function(){for(var e=0,t=0;t<$c.rows.length&&t<this.index;t++)e+=$c.rows[t].getHeight()},l.getHeight=function(){return Math.max(this.lines.length*$N.lineHeight()+$c.cellHeaderHeight+$c.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(l)}this.endDate=DayPilot.Date.addDays(this.firstDate,7*a)},this.$2G=function(){switch(this.heightSpec){case"Auto":for(var e=$N.headerHeight(),t=0;t<this.rows.length;t++)e+=this.rows[t].getHeight();return e;case"Fixed":return this.height}},this.$2H=function(e,t){var i=7*t.y+t.x-(7*e.y+e.x);return i+1},this.$2I={},this.$2I.scope=null,this.$2I.notify=function(){$c.$2I.scope&&$c.$2I.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$2J=function(){var e=this.nav.top;this.nav.top.dp=this,e.setAttribute("unselectable","on"),e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.WebkitUserSelect="none",e.style.position="relative",this.width&&(e.style.width=this.width),e.onselectstart=function(e){return!1},this.cssOnly?e.className=this.$25("_main"):e.style.border="1px solid "+this.borderColor,this.hideUntilInit&&(e.style.visibility="hidden"),e.onmousemove=this.$2K,e.ontouchstart=$S.onMainTouchStart,e.ontouchmove=$S.onMainTouchMove,e.ontouchend=$S.onMainTouchEnd,this.$1U=document.createElement("div"),this.$1U.style.display="none",this.nav.top.appendChild(this.$1U);var t=document.createElement("div");t.style.position="relative",t.style.height=$N.headerHeight()+"px",t.oncontextmenu=function(){return!1},this.nav.top.appendChild(t),this.nav.header=t;var i=document.createElement("div");i.style.zoom="1";var a=document.createElement("div");a.style.position="relative",i.appendChild(a),this.nav.top.appendChild(i),this.nav.scrollable=i,this.nav.events=a},this.$2K=function(e){$c.coords=DayPilot.mo3($c.nav.events,e);var t=$c.coords;if(t){var i=$c.$2z(t.x,t.y);if(i)if(DayPilotMonth.resizingEvent){$c.$2k();var a=DayPilotMonth.resizingEvent,n=a.start,o,s;if("w-resize"===a.direction){s=i;var l=a.event.end().d;DayPilot.Date.getDate(l).getTime()===l.getTime()&&(l=DayPilot.Date.addDays(l,-1));var r=$c.$2L(l);o=$c.$2H(i,r)}else s=$c.$2L(a.event.start().d),o=$c.$2H(s,i);1>o&&(o=1),$c.$2g(s.x,s.y,0,o)}else if(DayPilotMonth.movingEvent){if($c.debug.message("mousemove/moving start coords: "+DayPilotMonth.movingEvent.coords.x+" "+DayPilotMonth.movingEvent.coords.y),$c.debug.message("mousemove/current coords: "+t.x+" "+t.y),t.x===DayPilotMonth.movingEvent.coords.x&&t.y===DayPilotMonth.movingEvent.coords.y)return;var c=$c.$2E(i);$c.$2k();var d=DayPilotMonth.movingEvent.event,h=DayPilotMonth.movingEvent.offset,o=$c.cellMode?1:DayPilot.Date.daysSpan(d.start().d,d.end().d)+1;1>o&&(o=1),$c.$2g(i.x,i.y,c,o,h,d)}else if(DayPilotMonth.timeRangeSelecting){DayPilotMonth.cancelCellClick=!0,$c.$2k();var s=DayPilotMonth.timeRangeSelecting,u=7*s.y+s.x,f=7*i.y+i.x,o=Math.abs(f-u)+1;1>o&&(o=1);var v=f>u?s:i;DayPilotMonth.timeRangeSelecting.from={x:v.x,y:v.y},DayPilotMonth.timeRangeSelecting.width=o,DayPilotMonth.timeRangeSelecting.moved=!0,$c.$2g(v.x,v.y,0,o,0,null)}}},this.$2E=function(e){for(var t=e.relativeY,i=$c.rows[e.y],a=$c.cellHeaderHeight,n=$N.lineHeight(),o=i.lines.length,s=0;s<i.lines.length;s++){var l=i.lines[s];if(l.isFree(e.x,1)){o=s;break}}var r=Math.floor((t-a+n/2)/n),r=Math.min(o,r),r=Math.max(0,r);return r},this.message=function(e,t,i,a){if(null!==e){var t=t||this.messageHideAfter||2e3,i=i||"#ffffff",a=a||"#000000",n=.8,o=$N.headerHeight(),s=1,l=0,r;if(this.nav.message)r=$c.nav.message;else{r=document.createElement("div"),r.setAttribute("unselectable","on"),r.style.position="absolute",r.style.right="0px",r.style.left="0px",r.style.top=o+"px",r.style.opacity=n,r.style.filter="alpha(opacity="+100*n+")",r.style.display="none",r.onmousemove=function(){r.messageTimeout&&!r.status&&clearTimeout(r.messageTimeout)},r.onmouseout=function(){"none"!==$c.nav.message.style.display&&(r.messageTimeout=setTimeout($c.$2M,500))},this.cssOnly||(r.style.textAlign="left");var c=document.createElement("div");c.setAttribute("unselectable","on"),c.onclick=function(){$c.nav.message.style.display="none"},this.cssOnly?c.className=this.$25("_message"):c.style.padding="5px",r.appendChild(c);var d=document.createElement("div");d.setAttribute("unselectable","on"),d.style.position="absolute",this.cssOnly?d.className=this.$25("_message_close"):(d.style.top="5px",d.style.right=DayPilot.sw($c.nav.scroll)+5+"px",d.style.color=i,d.style.lineHeight="100%",d.style.cursor="pointer",d.style.fontWeight="bold",d.innerHTML="X"),d.onclick=function(){$c.nav.message.style.display="none"},r.appendChild(d),this.nav.top.appendChild(r),this.nav.message=r}var h=function(){$c.nav.message.style.opacity=n;var o=$c.nav.message.firstChild;$c.cssOnly||(o.style.backgroundColor=a,o.style.color=i),o.innerHTML=e;var s=function(){r.messageTimeout=setTimeout($c.$2M,t)};DayPilot.fade($c.nav.message,.2,s)};clearTimeout(r.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade($c.nav.message,-.2,h):h()}},this.message.show=function(e){$c.message(e)},this.message.hide=function(){$c.$2M()},this.$2M=function(){var e=function(){$c.nav.message.style.display="none"};DayPilot.fade($c.nav.message,-.2,e)},this.$2N=function(e){"Parent100Pct"===$c.heightSpec&&$c.$20()},this.$20=function(){var e=this.nav.scrollable;if("Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(e.style.top=this.headerHeight+"px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.style.overflow="auto",e.style.position="absolute"):e.style.position="relative","Parent100Pct"===this.heightSpec){this.nav.top.style.height="100%";var t=this.nav.top.clientHeight}else this.nav.top.style.height=this.$2G()+"px";for(var i=0;i<this.cells.length;i++)for(var a=0;a<this.cells[i].length;a++)this.cells[i][a].style.top=this.$2h(a)+"px",this.cells[i][a].style.height=this.rows[a].getHeight()+"px";this.$2O()},this.$2z=function(e,t){for(var i=Math.floor(this.nav.top.clientWidth/this.$2a()),a=Math.min(Math.floor(e/i),this.$2a()-1),n=null,o=0,s=0,l=0,r=0;r<this.rows.length;r++){if(s+=this.rows[r].getHeight(),s>t){o=t-l,n=r;break}l=s}null===n&&(n=this.rows.length-1);var c={};return c.x=a,c.y=n,c.relativeY=o,c},this.$2L=function(e){for(var t=DayPilot.Date.daysDiff(this.firstDate,e),i={x:0,y:0};t>=7;)i.y++,t-=7;return i.x=t,i},this.$2O=function(){var e=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=e+"px"};var $0S=null;this.$1Z=function(){var e=this.nav.header,t=this.nav.events;this.cells=[];for(var i=0;i<this.$2a();i++){this.cells[i]=[];var a=this.headerProperties?this.headerProperties[i]:null,n=i+$N.getWeekStart();if(n>6&&(n-=7),!a){var a={};a.html=$N.locale().dayNames[n],this.cssOnly||(a.backColor=this.headerBackColor)}if("function"==typeof $c.onBeforeHeaderRender){var o={};o.header={},o.header.dayOfWeek=n;var s=["html","backColor","cssClass"];DayPilot.Util.copyProps(a,o.header,s),$c.onBeforeHeaderRender(o),DayPilot.Util.copyProps(o.header,a,s)}var l=document.createElement("div");l.setAttribute("unselectable","on"),l.style.position="absolute",l.style.left=this.$2j()*i+"%",l.style.width=this.$2j()+"%",l.style.top="0px",l.style.height=$N.headerHeight()+"px",function(e){l.onclick=function(){$c.$2P(e)}}(n);var r=document.createElement("div");r.setAttribute("unselectable","on"),r.className=this.$25("_header_inner"),r.innerHTML=a.html,l.appendChild(r),this.cssOnly?(l.className=this.$25("_header"),a&&(a.cssClass&&DayPilot.Util.addClass(l,a.cssClass),a.backColor&&(r.style.background=a.backColor))):(r.style.position="absolute",r.style.top="0px",r.style.bottom="0px",r.style.left="0px",r.style.right="0px",r.style.backgroundColor=a.backColor,r.style.fontFamily=this.headerFontFamily,r.style.fontSize=this.headerFontSize,r.style.color=this.headerFontColor,r.style.textAlign="center",r.style.cursor="default",r.className=this.$25("header"),i!==this.$2a()-1&&(r.style.borderRight="1px solid "+this.borderColor)),e.appendChild(l);for(var c=0;c<this.rows.length;c++)this.$2Q(i,c,t)}if(!DayPilot.contains(this.nav.top.childNodes,$0S)&&this.numberFormat){var d=document.createElement("div");d.style.position="absolute",d.style.padding="2px",d.style.top="0px",d.style.left="0px",d.style.color="white",$0S=d,this.nav.top.appendChild(d)}},this.$1Y=function(){for(var e=0;e<this.cells.length;e++)for(var t=0;t<this.cells[e].length;t++)this.cells[e][t].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.$2Q=function(e,t,i){var a=this.rows[t],n=new DayPilot.Date(DayPilot.Date.addDays(this.firstDate,7*t+e)),o=this.cellProperties?this.cellProperties[t*this.$2a()+e]:null,s=null;if(o)s=o.headerHtml;else{var l=n.getDay();s=1===l?$N.locale().monthNames[n.getMonth()]+" "+l:l+""}if(!o){var o={};o.business=!$c.isWeekend(n)}if("function"==typeof $c.onBeforeCellRender){var r={};r.cell={},r.cell.areas=null,r.cell.backColor=null,r.cell.backImage=null,r.cell.backRepeat=null,r.cell.business=$c.isWeekend(n),r.cell.headerHtml=s,r.cell.headerBackColor=null,r.cell.cssClass=null,r.cell.html=null,r.cell.start=n,r.cell.end=r.cell.start.addDays(1),DayPilot.Util.copyProps(o,r.cell),$c.onBeforeCellRender(r),DayPilot.Util.copyProps(r.cell,o,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var c=document.createElement("div");c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.cursor="default",c.style.left=this.$2j()*e+"%",c.style.width=this.$2j()+"%",c.style.top=this.$2h(t)+"px",c.style.height=a.getHeight()+"px",c.d=n,c.x=e,c.y=t,c.props=o;var d=this.startDate.addMonths(-1).getMonth(),h=this.startDate.addMonths(1).getMonth(),u=this.startDate.getMonth(),f=document.createElement("div");f.setAttribute("unselectable","on"),c.appendChild(f),this.cssOnly&&(f.className=this.$25("_cell_inner")),this.cssOnly?(f.className=this.$25("_cell_inner"),n.getMonth()===u?c.className=this.$25("_cell"):n.getMonth()===d?c.className=this.$25("_cell")+" "+this.$25("_previous"):n.getMonth()===h?c.className=this.$25("_cell")+" "+this.$25("_next"):$a(),o&&(o.cssClass&&DayPilot.Util.addClass(c,o.cssClass),o.business&&DayPilot.Util.addClass(c,this.$25("_cell_business")),o.backColor&&(f.style.backgroundColor=o.backColor),o.backImage&&(f.style.backgroundImage="url('"+o.backImage+"')"),o.backRepeat&&(f.style.backgroundRepeat=o.backRepeat))):(f.style.position="absolute",f.style.left="0px",f.style.right="0px",f.style.top="0px",f.style.bottom="0px",n.getMonth()===u?c.className=this.$25("cell"):n.getMonth()===d?c.className=this.$25("cell")+" "+this.$25("previous"):n.getMonth()===h&&(c.className=this.$25("cell")+" "+this.$25("next")),o?(o.backColor&&(f.style.background=o.backColor),o.cssClass&&(f.className+=" "+this.$25(o.cssClass)),o.backImage&&(f.style.backgroundImage="url('"+o.backImage+"')"),o.backRepeat&&(f.style.backgroundRepeat=o.backRepeat)):f.style.background=this.$2R(n),e!==this.$2a()-1&&(f.style.borderRight="1px solid "+this.innerBorderColor),0===t&&(f.style.borderTop="1px solid "+this.borderColor),f.style.borderBottom="1px solid "+this.innerBorderColor),c.onmousedown=this.$2S,c.onmousemove=this.$2T,c.onmouseout=this.$2U,c.oncontextmenu=this.$2V,c.onclick=this.$2W,c.ondblclick=this.$2X;var v=document.createElement("div");if(v.setAttribute("unselectable","on"),v.style.height=this.cellHeaderHeight+"px",this.cssOnly?(o&&o.headerBackColor&&(v.style.background=o.headerBackColor),v.className=this.$25("_cell_header")):(o&&o.headerBackColor?v.style.backgroundColor=o.headerBackColor:this.cellHeaderBackColor&&(v.style.backgroundColor=this.cellHeaderBackColor),v.style.paddingRight="2px",v.style.textAlign="right",v.style.fontFamily=this.cellHeaderFontFamily,v.style.fontSize=this.cellHeaderFontSize,v.style.color=this.cellHeaderFontColor,v.className=this.$25("cellheader")),v.innerHTML=s,f.appendChild(v),o&&o.html){var p=document.createElement("div");p.setAttribute("unselectable","on"),p.style.height=a.getHeight()-this.cellHeaderHeight+"px",p.style.overflow="hidden",p.innerHTML=o.html,f.appendChild(p)}if(this.cellMode){var y=document.createElement("div");y.setAttribute("unselectable","on"),y.style.height=this.cellHeight-this.cellHeaderHeight+"px",y.style.overflow="auto",y.style.position="relative";var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.paddingTop="1px",m.style.paddingBottom="1px",y.appendChild(m),f.appendChild(y),c.body=m,c.scrolling=y}if(c.props)for(var g=c.props.areas||[],b=0;b<g.length;b++){var D=g[b];if("Visible"===D.v){var w=DayPilot.Areas.createArea(c,c.props,D);c.appendChild(w)}}this.cells[e][t]=c,i.appendChild(c)},this.$2T=function(){var e=this;e.props&&DayPilot.Areas.showAreas(e,e.props)},this.$2U=function(e){var t=this;t.props&&DayPilot.Areas.hideAreas(t,e)},this.$2V=function(){var e=this.d,t=function(e){var t=new DayPilot.Date(e),i=t.addDays(1),a=new DayPilot.Selection(t,i,null,$c);$c.contextMenuSelection&&$c.contextMenuSelection.show(a)};return t(e),!1},this.$2X=function(){var e=this.d;if($c.timeouts){for(var t in $c.timeouts)window.clearTimeout($c.timeouts[t]);$c.timeouts=null}if("Disabled"!==$c.timeRangeDoubleClickHandling){var i=new DayPilot.Date(e),a=i.addDays(1);$c.$2Y(i,a)}},this.$2W=function(){if(!DayPilotMonth.cancelCellClick){var e=this.d,t=function(e){var t=new DayPilot.Date(e),i=t.addDays(1);$c.$2D(t,i)};if("Disabled"!==$c.timeRangeSelectedHandling&&"Disabled"===$c.timeRangeDoubleClickHandling)return void t(e);$c.timeouts||($c.timeouts=[]);var i=function(e){return function(){t(e)}};$c.timeouts.push(window.setTimeout(i(e),$c.doubleClickTimeout))}},this.$2S=function(e){var t=this,i=t.x,a=t.y;if(DayPilotMonth.cancelCellClick=!1,t.scrolling){var n=DayPilot.mo3(t.scrolling,e),o=DayPilot.sw(t.scrolling),s=t.scrolling.offsetWidth;if(n.x>s-o)return}"Disabled"!==$c.timeRangeSelectedHandling&&($c.$2k(),DayPilotMonth.timeRangeSelecting={root:$c,x:i,y:a,from:{x:i,y:a},width:1})},this.$2a=function(){return this.showWeekend?7:5},this.$2j=function(){return this.showWeekend?14.285:20},this.$2R=function(e){return 6===e.getUTCDay()||0===e.getUTCDay()?this.nonBusinessBackColor:this.backColor},this.$2h=function(e){for(var t=0,i=0;e>i;i++)t+=this.rows[i].getHeight();return t},this.clearSelection=function(){this.$2k()},this.$2Z=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.$30();var n="JSON"+DayPilot.JSON.stringify(a);__doPostBack($c.uniqueID,n)},this.$31=function(e,t,i,a){if(!this.$32())return void $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof a&&(a="CallBack");var n={};n.action=e,n.type=a,n.parameters=t,n.data=i,n.header=this.$30();var o="JSON"+DayPilot.JSON.stringify(n);this.backendUrl?DayPilot.request(this.backendUrl,this.$33,o,this.$34):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,o,this.$1R,null,this.callbackError,!0)},this.$32=function(){return this.backendUrl?!0:"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$34=function(e){if("function"==typeof $c.onAjaxError){var t={};t.request=e,$c.onAjaxError(t)}else"function"==typeof $c.ajaxError&&$c.ajaxError(e)},this.$33=function(e){$c.$1R(e.responseText)},this.$30=function(){var e={};return e.v=this.v,e.control="dpm",e.id=this.id,e.visibleStart=new DayPilot.Date(this.firstDate),e.visibleEnd=e.visibleStart.addDays(this.days),e.clientState=this.clientState,e.cssOnly=$c.cssOnly,e.cssClassPrefix=$c.cssClassPrefix,e.startDate=$c.startDate,e.showWeekend=this.showWeekend,e.headerBackColor=this.headerBackColor,e.backColor=this.backColor,e.nonBusinessBackColor=this.nonBusinessBackColor,e.locale=this.locale,e.timeFormat=this.timeFormat,e.weekStarts=this.weekStarts,e.viewType=this.viewType,e.weeks=this.weeks,e.selected=$c.multiselect.events(),e.hashes=$c.hashes,e},this.$35=function(e,t,i,a){if("PostBack"===e)$c.postBack2(t,i,a);else if("CallBack"===e)$c.$31(t,i,a,"CallBack");else if("Immediate"===e)$c.$31(t,i,a,"Notify");else if("Queue"===e)$c.queue.add(new DayPilot.Action(this,t,i,a));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===$N.notifyType()?$c.$31(t,i,a,"Notify"):$c.queue.add(new DayPilot.Action($c,t,i,a))}},this.$36=function(e,t){var i=$c.$37(t),a={};a.args=e,a.guid=i,$c.$31("Bubble",a)},this.$37=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventClickPostBack=function(e,t){this.$2Z("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.$31("EventClick",e,t)},this.$2t=function(e,t){DayPilotMonth.movingEvent=null,DayPilotMonth.resizingEvent=null;var t=t||window.event,i=t.ctrlKey;if(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),"undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),"Disabled"===$c.eventDoubleClickHandling)return void $c.$2B(e,i);if($c.timeouts){for(var a in $c.timeouts)window.clearTimeout($c.timeouts[a]);$c.timeouts=[]}else $c.timeouts=[];var n=function(e,t){return function(){$c.$2B(e,t)}};$c.timeouts.push(window.setTimeout(n(e,i),$c.doubleClickTimeout))},this.$2B=function(e,t){var i=e.event;if(i.client.clickEnabled())if($c.$24()){var a={};if(a.e=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventClick&&($c.onEventClick(a),a.preventDefault.value))return;switch($c.eventClickHandling){case"PostBack":$c.eventClickPostBack(i);break;case"CallBack":$c.eventClickCallBack(i);break;case"Select":$c.$38(e,i,t);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):$c.contextMenu&&$c.contextMenu.show(i);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(i)}"function"==typeof $c.onEventClicked&&$c.onEventClicked(a)}else switch($c.eventClickHandling){case"PostBack":$c.eventClickPostBack(i);break;case"CallBack":$c.eventClickCallBack(i);break;case"JavaScript":$c.onEventClick(i);break;case"Select":$c.$38(e,i,t);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):$c.contextMenu&&$c.contextMenu.show(i);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(i)}},this.$2v=function(e){if($c.$24()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventDelete&&($c.onEventDelete(t),t.preventDefault.value))return;switch($c.eventDeleteHandling){case"PostBack":$c.eventDeletePostBack(e);break;case"CallBack":$c.eventDeleteCallBack(e);break;case"Update":$c.events.remove(e)}"function"==typeof $c.onEventDeleted&&$c.onEventDeleted(t)}else switch($c.eventDeleteHandling){case"PostBack":$c.eventDeletePostBack(e);break;case"CallBack":$c.eventDeleteCallBack(e);break;case"JavaScript":$c.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.$2Z("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.$31("EventDelete",e,t)},this.eventDoubleClickPostBack=function(e,t){this.$2Z("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.$31("EventDoubleClick",e,t)},this.$2u=function(e,t){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),$c.timeouts){for(var i in $c.timeouts)window.clearTimeout($c.timeouts[i]);$c.timeouts=null}var t=t||window.event,a=e.event;if($c.$24()){var n={};if(n.e=a,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventDoubleClick&&($c.onEventDoubleClick(n),n.preventDefault.value))return;switch($c.eventDoubleClickHandling){case"PostBack":$c.eventDoubleClickPostBack(a);break;case"CallBack":$c.eventDoubleClickCallBack(a);break;case"Select":$c.$38(e,a,t.ctrlKey);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(a)}"function"==typeof $c.onEventDoubleClicked&&$c.onEventDoubleClicked(n)}else switch($c.eventDoubleClickHandling){case"PostBack":$c.eventDoubleClickPostBack(a);break;case"CallBack":$c.eventDoubleClickCallBack(a);break;case"JavaScript":$c.onEventDoubleClick(a);break;case"Select":$c.$38(e,a,t.ctrlKey);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(a)}},this.$38=function(e,t,i){$c.$39(e,t,i)},this.eventSelectPostBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$2Z("EventSelect",i,a)},this.eventSelectCallBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$31("EventSelect",a,i)},this.$39=function(e,t,i){if($c.$24()){var a=$c.multiselect;a.previous=a.events();var n={};if(n.e=t,n.selected=a.isSelected(t),n.ctrl=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventSelect&&($c.onEventSelect(n),n.preventDefault.value))return;switch($c.eventSelectHandling){case"PostBack":$c.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),$c.eventSelectCallBack(t,o);break;case"Update":a.$3a(e,i)}"function"==typeof $c.onEventSelected&&(n.change=a.isSelected(t)?"selected":"deselected",n.selected=a.isSelected(t),$c.onEventSelected(n))}else{var a=$c.multiselect;a.previous=a.events(),a.$3a(e,i);var o=a.isSelected(t)?"selected":"deselected";switch($c.eventSelectHandling){case"PostBack":$c.eventSelectPostBack(t,o);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),$c.eventSelectCallBack(t,o);break;case"JavaScript":$c.onEventSelect(t,o)}}},this.eventRightClickPostBack=function(e,t){this.$2Z("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.$31("EventRightClick",e,t)},this.$2y=function(e){if(this.event=e,!e.client.rightClickEnabled())return!1;if($c.$24()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventRightClick&&($c.onEventRightClick(t),t.preventDefault.value))return;switch($c.eventRightClickHandling){case"PostBack":$c.eventRightClickPostBack(e);break;case"CallBack":$c.eventRightClickCallBack(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):$c.contextMenu&&$c.contextMenu.show(this.event);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(e)}"function"==typeof $c.onEventRightClicked&&$c.onEventRightClicked(t)}else switch($c.eventRightClickHandling){case"PostBack":$c.eventRightClickPostBack(e);break;case"CallBack":$c.eventRightClickCallBack(e);break;case"JavaScript":$c.onEventRightClick(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):$c.contextMenu&&$c.contextMenu.show(this.event);break;case"Bubble":$c.bubble&&$c.bubble.showEvent(e)}return!1},this.eventMenuClickPostBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$2Z("EventMenuClick",i,a)},this.eventMenuClickCallBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$31("EventMenuClick",a,i)},this.$3b=function(e,t,i){switch(i){case"PostBack":$c.eventMenuClickPostBack(t,e);break;case"CallBack":$c.eventMenuClickCallBack(t,e)}},this.eventMovePostBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=n,this.$2Z("EventMove",a,o)},this.eventMoveCallBack=function(e,t,i,a,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=n,this.$31("EventMove",o,a)},this.$2C=function(e,t,i,a,n,o){var s=DayPilot.Date.getTime(e.start().d),l=DayPilot.Date.getDate(e.end().d);l.getTime()!==e.end().d.getTime()&&(l=DayPilot.Date.addDays(l,1));var r=DayPilot.Date.diff(e.end().d,l),c=this.$2l(t,i);c=DayPilot.Date.addDays(c,-a);var d=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1,h=DayPilot.Date.addDays(c,d),u=new DayPilot.Date(DayPilot.Date.addTime(c,s)),f=new DayPilot.Date(DayPilot.Date.addTime(h,r));if($c.$24()){var v={};if(v.e=e,v.newStart=u,v.newEnd=f,v.position=o,v.ctrl=!1,n&&(v.ctrl=n.ctrlKey),v.shift=!1,n&&(v.shift=n.shiftKey),v.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventMove&&($c.onEventMove(v),v.preventDefault.value))return;switch($c.eventMoveHandling){case"PostBack":$c.eventMovePostBack(e,u,f,null,o);break;case"CallBack":$c.eventMoveCallBack(e,u,f,null,o);break;case"Notify":$c.eventMoveNotify(e,u,f,null,o);break;case"Update":e.start(u),e.end(f),$c.events.update(e)}"function"==typeof $c.onEventMoved&&$c.onEventMoved(v)}else switch($c.eventMoveHandling){case"PostBack":$c.eventMovePostBack(e,u,f,null,o);break;case"CallBack":$c.eventMoveCallBack(e,u,f,null,o);break;case"JavaScript":$c.onEventMove(e,u,f,n.ctrlKey,n.shiftKey,o);break;case"Notify":$c.eventMoveNotify(e,u,f,null,o)}},this.eventMoveNotify=function(e,t,i,a,n){var o=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),$c.update(),this.$3c("Notify",o,t,i,a,n)},this.$3c=function(e,t,i,a,n,o){var s={};
s.e=t,s.newStart=i,s.newEnd=a,s.position=o,this.$35(e,"EventMove",s,n)},this.eventResizePostBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$2Z("EventResize",a,n)},this.eventResizeCallBack=function(e,t,i,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var n={};n.e=e,n.newStart=t,n.newEnd=i,this.$31("EventResize",n,a)},this.$3d=function(e,t,i){var a=DayPilot.Date.getTime(e.start().d),n=DayPilot.Date.getDate(e.end().d);DayPilot.Date.equals(n,e.end().d)||(n=DayPilot.Date.addDays(n,1));var o=DayPilot.Date.diff(e.end().d,n),s=this.$2l(t.x,t.y),l=DayPilot.Date.addDays(s,i),r=new DayPilot.Date(DayPilot.Date.addTime(s,a)),c=new DayPilot.Date(DayPilot.Date.addTime(l,o));if($c.$24()){var d={};if(d.e=e,d.newStart=r,d.newEnd=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onEventResize&&($c.onEventResize(d),d.preventDefault.value))return;switch($c.eventResizeHandling){case"PostBack":$c.eventResizePostBack(e,r,c);break;case"CallBack":$c.eventResizeCallBack(e,r,c);break;case"Notify":$c.eventResizeNotify(e,r,c);break;case"Update":e.start(r),e.end(c),$c.events.update(e)}"function"==typeof $c.onEventResized&&$c.onEventResized(d)}else switch($c.eventResizeHandling){case"PostBack":$c.eventResizePostBack(e,r,c);break;case"CallBack":$c.eventResizeCallBack(e,r,c);break;case"JavaScript":$c.onEventResize(e,r,c);break;case"Notify":$c.eventResizeNotify(e,r,c)}},this.eventResizeNotify=function(e,t,i,a){var n=new DayPilot.Event(e.copy(),this);e.start(t),e.end(i),e.commit(),$c.update(),this.$3e("Notify",n,t,i,a)},this.$3e=function(e,t,i,a,n){var o={};o.e=t,o.newStart=i,o.newEnd=a,this.$35(e,"EventResize",o,n)},this.timeRangeSelectedPostBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$2Z("TimeRangeSelected",i,a)},this.timeRangeSelectedCallBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$31("TimeRangeSelected",a,i)},this.$2D=function(e,t){if($c.$24()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onTimeRangeSelect&&($c.onTimeRangeSelect(i),i.preventDefault.value))return;switch($c.timeRangeSelectedHandling){case"PostBack":$c.timeRangeSelectedPostBack(e,t),$c.clearSelection();break;case"CallBack":$c.timeRangeSelectedCallBack(e,t),$c.clearSelection()}"function"==typeof $c.onTimeRangeSelected&&$c.onTimeRangeSelected(i)}else switch($c.timeRangeSelectedHandling){case"PostBack":$c.timeRangeSelectedPostBack(e,t),$c.clearSelection();break;case"CallBack":$c.timeRangeSelectedCallBack(e,t),$c.clearSelection();break;case"JavaScript":$c.onTimeRangeSelected(e,t)}},this.timeRangeMenuClickPostBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$2Z("TimeRangeMenuClick",i,a)},this.timeRangeMenuClickCallBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$31("TimeRangeMenuClick",a,i)},this.$3f=function(e,t,i){switch(i){case"PostBack":$c.timeRangeMenuClickPostBack(t,e);break;case"CallBack":$c.timeRangeMenuClickCallBack(t,e)}},this.headerClickPostBack=function(e,t){this.$2Z("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.$31("HeaderClick",e,t)},this.$2P=function(e){var t=this.data,i={$11:e};if($c.$24()){var a={};if(a.header={},a.header.dayOfWeek=e,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onHeaderClick&&($c.onHeaderClick(a),a.preventDefault.value))return;switch($c.headerClickHandling){case"PostBack":$c.headerClickPostBack(i);break;case"CallBack":$c.headerClickCallBack(i)}"function"==typeof $c.onHeaderClicked&&$c.onHeaderClicked(a)}else switch($c.headerClickHandling){case"PostBack":$c.headerClickPostBack(i);break;case"CallBack":$c.headerClickCallBack(i);break;case"JavaScript":$c.onHeaderClick(i)}},this.timeRangeDoubleClickPostBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$2Z("TimeRangeDoubleClick",i,a)},this.timeRangeDoubleClickCallBack=function(e,t,i){var a={};a.start=e,a.end=t,this.$31("TimeRangeDoubleClick",a,i)},this.$2Y=function(e,t){if($c.$24()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $c.onTimeRangeDoubleClick&&($c.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch($c.timeRangeDoubleClickHandling){case"PostBack":$c.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":$c.timeRangeDoubleClickCallBack(e,t)}"function"==typeof $c.onTimeRangeDoubleClicked&&$c.onTimeRangeDoubleClicked(i)}else switch($c.timeRangeDoubleClickHandling){case"PostBack":$c.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":$c.timeRangeDoubleClickCallBack(e,t);break;case"JavaScript":$c.onTimeRangeDoubleClick(e,t)}},this.commandCallBack=function(e,t){this.$3g();var i={};i.command=e,this.$31("Command",i,t)},this.$3h=function(e){for(var t=0;t<$c.elements.events.length;t++){var i=$c.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.$2w=function(e){var t={};t.list=[],t.each=function(e){if(e)for(var t=0;t<this.list.length;t++)e(this.list[t])};for(var i=0;i<this.elements.events.length;i++){var a=this.elements.events[i];a.event.data===e.data&&t.list.push(a)}return t},this.$3i=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.$25(e),document.body.appendChild(t);var i=t.offsetHeight,a=t.offsetWidth;document.body.removeChild(t);var n={};return n.height=i,n.width=a,n},this.$3j={};var $N=this.$3j;$N.lineHeight=function(){return $N.eventHeight()+$c.lineSpace},$N.rounded=function(){return"Rounded"===$c.eventCorners},$N.loadFromServer=function(){return $c.backendUrl?"undefined"==typeof $c.events.list||!$c.events.list:!1},$N.locale=function(){return DayPilot.Locale.find($c.locale)},$N.getWeekStart=function(){return $c.showWeekend?$c.weekStarts:1},$N.notifyType=function(){var e;if("Immediate"===$c.notifyCommit)e="Notify";else{if("Queue"!==$c.notifyCommit)throw"Invalid notifyCommit value: "+$c.notifyCommit;e="Queue"}return e},$N.eventHeight=function(){if($c.$1Q.eventHeight)return $c.$1Q.eventHeight;var e=$c.$3i("_event_height").height;return e||(e=$c.eventHeight),$c.$1Q.eventHeight=e,e},$N.headerHeight=function(){if($c.$1Q.headerHeight)return $c.$1Q.headerHeight;var e=$c.$3i("_header_height").height;return e||(e=$c.headerHeight),$c.$1Q.headerHeight=e,e},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$3k=function(){var e=$c.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=$c.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.list.length;i++)t.push(e.list[i]);return t},this.multiselect.$3l=function(){},this.multiselect.$3a=function(e,t){var i=$c.multiselect;if(i.isSelected(e.event))if($c.allowMultiSelect)if(t)i.remove(e.event,!0);else{var a=i.list.length;i.clear(!0),a>1&&i.add(e.event,!0)}else i.clear(!0);else $c.allowMultiSelect&&t?i.add(e.event,!0):(i.clear(!0),i.add(e.event,!0));i.redraw(),i.$3l()},this.multiselect.$2s=function(e){var t=$c.multiselect;return t.$3m(e,t.initList)},this.multiselect.$3n=function(){for(var e=$c.multiselect,t=[],i=0;i<e.list.length;i++){var a=e.list[i];t.push(a.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=$c.multiselect;-1===i.indexOf(e)&&i.list.push(e),t||i.redraw()},this.multiselect.remove=function(e,t){var i=$c.multiselect,a=i.indexOf(e);-1!==a&&i.list.splice(a,1)},this.multiselect.clear=function(e){var t=$c.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){for(var e=$c.multiselect,t=0;t<$c.elements.events.length;t++){var i=$c.elements.events[t];e.isSelected(i.event)?e.$3o(i):e.$3p(i)}},this.multiselect.$3o=function(e){var t=$c.multiselect,i=$c.$25($c.cssOnly?"_selected":"selected"),e=t.$3q(e);DayPilot.Util.addClass(e,i),t.divs.push(e)},this.multiselect.$3q=function(e){return $c.cssOnly?e:e.firstChild},this.multiselect.$3r=function(){for(var e=$c.multiselect,t=0;t<e.divs.length;t++){var i=e.divs[t];e.$3p(i,!0)}e.divs=[]},this.multiselect.$3p=function(e,t){var i=$c.multiselect,a=$c.$25($c.cssOnly?"_selected":"selected"),n=i.$3q(e);if(n&&n.className&&-1!==n.className.indexOf(a)&&(n.className=n.className.replace(a,"")),!t){var o=DayPilot.indexOf(i.divs,e);-1!==o&&i.divs.splice(o,1)}},this.multiselect.isSelected=function(e){return $c.multiselect.$3m(e,$c.multiselect.list)},this.multiselect.indexOf=function(e){return DayPilot.indexOf($c.multiselect.list,e)},this.multiselect.$3m=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var a=t[i];if(e===a)return!0;if("function"==typeof a.value){if(null!==a.value()&&null!==e.value()&&a.value()===e.value())return!0;if(null===a.value()&&null===e.value()&&a.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===a.start())return!0}else{if(null!==a.value&&null!==e.value()&&a.value===e.value())return!0;if(null===a.value&&null===e.value()&&a.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===a.start)return!0}}return!1},this.events.find=function(e){if(!$c.events.list||"undefined"==typeof $c.events.list.length)return null;for(var t=$c.events.list.length,i=0;t>i;i++)if($c.events.list[i].id===e)return new DayPilot.Event($c.events.list[i],$c);return null},this.events.findRecurrent=function(e,t){if(!$c.events.list||"undefined"==typeof $c.events.list.length)return null;for(var i=$c.events.list.length,a=0;i>a;a++)if($c.events.list[a].recurrentMasterId===e&&$c.events.list[a].start.getTime()===t.getTime())return new DayPilot.Event($c.events.list[a],$c);return null},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),$c),i.newEvent=new DayPilot.Event(e.temp(),$c);var a=new DayPilot.Action($c,"EventUpdate",i,t);return e.commit(),$c.$1P&&$c.update(),$c.$2I.notify(),a},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,$c);var a=new DayPilot.Action($c,"EventRemove",i,t),n=DayPilot.indexOf($c.events.list,e.data);return $c.events.list.splice(n,1),$c.$1P&&$c.update(),$c.$2I.notify(),a},this.events.add=function(e,t){e.calendar=$c,$c.events.list||($c.events.list=[]),$c.events.list.push(e.data);var i={};i.e=e;var a=new DayPilot.Action($c,"EventAdd",i,t);return $c.$1P&&$c.update(),$c.$2I.notify(),a},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";$c.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=$c.queue.list,$c.$31("Notify",t,e,"Notify"),$c.queue.list=[]},this.queue.clear=function(){$c.queue.list=[]},this.queue.pop=function(){return $c.queue.list.pop()},this.$23=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.autoRefreshCount>=this.autoRefreshMaxCount)){this.$3g();var t=this.autoRefreshInterval;if(!t||10>t)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){$c.$3s()},1e3*this.autoRefreshInterval)}},this.$3g=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$3s=function(){if(!DayPilotMonth.eventResizing&&!DayPilotMonth.eventMoving&&!DayPilotMonth.timeRangeSelecting){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.autoRefreshCount,t.preventDefault=function(){this.preventDefault.value=!0},$c.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.$32()&&this.commandCallBack(this.autoRefreshCommand),this.autoRefreshCount++}this.autoRefreshCount<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){$c.$3s()},1e3*this.autoRefreshInterval))},this.$3t=function(e){if(this.cells){var e=e||{},t=!e.eventsOnly;$c.$1V(),$c.$1W(),$c.$1X(),t&&($c.$1Y(),$c.$1Z()),$c.$20(),$c.$21(),$c.$22()}},this.update=function(){this.$3t()},this.dispose=function(){var e=$c;e.nav.top&&(e.$3g(),e.$1V(),e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,DayPilotMonth.unregister(e))},this.$3u=function(){DayPilotMonth.globalHandlers||(DayPilotMonth.globalHandlers=!0,DayPilot.re(document,"mouseup",DayPilotMonth.gMouseUp)),DayPilot.re(window,"resize",this.$2N)},this.$21=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){$c.nav.top.style.display=""},this.hide=function(){$c.nav.top.style.display="none"},this.$3v=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+id+"'."}},this.$3w=function(){this.$3v(),this.$1W(),this.$2J(),this.$1Z(),this.$3u(),this.$23(),this.$31("Init"),DayPilotMonth.register(this)},this.init=function(){if(this.$3v(),!this.nav.top.dp){var e=$N.loadFromServer();if(e)return this.$3w(),void(this.$1P=!0);this.$1W(),this.$1X(),this.$2J(),this.$1Z(),this.$21(),this.$22(),this.$20(),this.$3u(),this.messageHTML&&this.message(this.messageHTML),this.$1T(null,!1),this.$23(),DayPilotMonth.register(this),this.$1P=!0,this.$3x()}},this.$3y=null,this.$3z=function(e){var t={events:{preInit:function(){var e=this.data;e&&($c.events.list=DayPilot.isArray(e.list)?e.list:e)}}};this.$3y=t;for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else $c[i]=e[i]},this.$3x=function(){var e=this.$3y;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return $c.$1P},this.internal.invokeEvent=this.$35,this.internal.eventMenuClick=this.$3b,this.internal.timeRangeMenuClick=this.$3f,this.internal.bubbleCallBack=this.$36,this.internal.findEventDiv=this.$3h,this.Init=this.init,this.$3z($b)},DayPilotMonth.register=function(e){DayPilotMonth.registered||(DayPilotMonth.registered=[]);for(var t=0;t<DayPilotMonth.registered.length;t++)if(DayPilotMonth.registered[t]===e)return;DayPilotMonth.registered.push(e)},DayPilotMonth.unregister=function(e){var t=DayPilotMonth.registered;if(t){var i=DayPilot.indexOf(t,e);-1!==i&&t.splice(i,1),0===t.length&&(t=null)}t||(DayPilot.ue(document,"mouseup",DayPilotMonth.gMouseUp),DayPilotMonth.globalHandlers=!1)},DayPilotMonth.gMouseUp=function(e){if(DayPilotMonth.movingEvent){var t=DayPilotMonth.movingEvent;if(DayPilotMonth.movingEvent=null,!(t.event&&t.event.calendar&&t.event.calendar.shadow&&t.event.calendar.shadow.start))return;var i=t.event.calendar,a=t.event,n=i.shadow.start,o=i.shadow.position,s=t.offset;i.$2k();var e=e||window.event;return i.$2C(a,n.x,n.y,s,e,o),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),!1}if(DayPilotMonth.resizingEvent){var t=DayPilotMonth.resizingEvent;if(DayPilotMonth.resizingEvent=null,!(t.event&&t.event.calendar&&t.event.calendar.shadow&&t.event.calendar.shadow.start))return;var i=t.event.calendar,a=t.event,n=i.shadow.start,l=i.shadow.width;return i.$2k(),i.$3d(a,n,l),e.cancelBubble=!0,!1}if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var r=DayPilotMonth.timeRangeSelecting,i=r.root,n=new DayPilot.Date(i.$2l(r.from.x,r.from.y)),c=n.addDays(r.width);i.$2D(n,c)}DayPilotMonth.timeRangeSelecting=null}},DayPilot.MonthVisible.Month=DayPilotMonth.Month,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotMonth=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Month(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function e(){var e=DayPilot.am();e&&e.directive("daypilotMonth",function(){return{restrict:"E",template:"<div></div>",replace:!0,link:function(e,t,i){var a=new DayPilot.Month(t[0]);a.$2I.scope=e,a.init();var n=i.id;n&&(e[n]=a);var o=e.$watch;o.call(e,i.daypilotConfig,function(e){for(var t in e)a[t]=e[t];a.update()}),o.call(e,i.daypilotEvents,function(e){a.events.list=e,a.$3t({eventsOnly:!0})},!0)}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotNavigator)var DayPilotNavigator=DayPilot.NavigatorVisible={};if(function(){"undefined"==typeof DayPilot.Navigator&&(DayPilotNavigator={},DayPilot.Navigator=function(id,$a){this.v="1338";var $b=this;this.id=id,this.api=2,this.isNavigator=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=20,this.dayHeaderHeight=20,this.cellWidth=20,this.cellHeight=20,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.$09=function(){this.root.dp=this,this.root.className=this.$0a(this.cssOnly?"_main":"main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*this.cellWidth+this.$0b())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*this.cellWidth+this.$0b()+"px",this.root.style.position="relative";var e=document.createElement("input");e.type="hidden",e.name=$b.id+"_state",e.id=e.name,this.root.appendChild(e),this.state=e,this.startDate=this.startDate?new DayPilot.Date(this.startDate).firstDayOfMonth():new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year,this.month)),this.calendars=[],this.selected=[],this.months=[]},this.$0c=function(){return 2===$b.api},this.$0d=function(){this.root.innerHTML=""},this.$0a=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$0e=function(e,t){var i=this.$0a(this.cssOnly?"_"+t:t);DayPilot.Util.addClass(e,i)},this.$0f=function(e,t){var i=this.$0a(this.cssOnly?"_"+t:t);DayPilot.Util.removeClass(e,i)},this.$0g=function(e,t){var i={};i.cells=[],i.days=[],i.weeks=[];var a=this.startDate.addMonths(e),n=t.before,o=t.after,s=a.firstDayOfMonth(),l=s.firstDayOfWeek($o.weekStarts()),r=s.addMonths(1),c=DayPilot.Date.daysDiff(l.d,r.d),d="Auto"===this.rowsPerMonth?Math.ceil(c/7):6;i.rowCount=d;var h=(new DayPilot.Date).getDatePart(),u=7*this.cellWidth+this.$0b(),f=this.cellHeight*d+this.titleHeight+this.dayHeaderHeight;i.height=f;var v=document.createElement("div");v.style.width=u+"px",v.style.height=f+"px","Horizontal"===this.orientation?(v.style.position="absolute",v.style.left=u*e+"px",v.style.top="0px"):v.style.position="relative",v.className=this.$0a(this.cssOnly?"_month":"month"),v.style.cursor="default",v.style.MozUserSelect="none",v.style.KhtmlUserSelect="none",v.style.WebkitUserSelect="none",v.month=i,this.root.appendChild(v);var p=this.titleHeight+this.dayHeaderHeight,y=document.createElement("div");y.style.position="absolute",y.style.left="0px",y.style.top="0px",y.style.width=this.cellWidth+"px",y.style.height=this.titleHeight+"px",y.style.lineHeight=this.titleHeight+"px",y.style.textAlign="left",y.setAttribute("unselectable","on"),y.className=this.$0a(this.cssOnly?"_titleleft":"titleleft"),t.left&&(y.style.cursor="pointer",y.innerHTML="<span style='margin-left:2px;'>&lt;</span>",y.onclick=this.$0h),v.appendChild(y),this.tl=y;var m=document.createElement("div");m.style.position="absolute",m.style.left=this.cellWidth+"px",m.style.top="0px",m.style.width=5*this.cellWidth+this.$0b()+"px",m.style.height=this.titleHeight+"px",m.style.lineHeight=this.titleHeight+"px",m.style.textAlign="center",m.setAttribute("unselectable","on"),m.className=this.$0a(this.cssOnly?"_title":"title"),m.innerHTML=$o.locale().monthNames[a.getMonth()]+" "+a.getYear(),v.appendChild(m),this.ti=m;var g=document.createElement("div");g.style.position="absolute",g.style.left=6*this.cellWidth+this.$0b()+"px",g.style.top="0px",g.style.width=this.cellWidth+"px",g.style.height=this.titleHeight+"px",g.style.lineHeight=this.titleHeight+"px",g.style.textAlign="right",g.setAttribute("unselectable","on"),g.className=this.$0a(this.cssOnly?"_titleright":"titleright"),t.right&&(g.style.cursor="pointer",g.innerHTML="<span style='margin-right:2px;'>&gt;</span>",g.onclick=this.$0i),v.appendChild(g),this.tr=g;var b=this.$0b();if(this.showWeekNumbers)for(var D=0;d>D;D++){var w=l.addDays(7*D),k=null;switch(this.weekNumberAlgorithm){case"Auto":k=0===$o.weekStarts()?w.weekNumber():w.weekNumberISO();break;case"US":k=w.weekNumber();break;case"ISO8601":k=w.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var C=document.createElement("div");C.style.position="absolute",C.style.left="0px",C.style.top=D*this.cellHeight+p+"px",C.style.width=this.cellWidth+"px",C.style.height=this.cellHeight+"px",C.style.lineHeight=this.cellHeight+"px",C.style.textAlign="right",C.setAttribute("unselectable","on"),C.className=this.$0a(this.cssOnly?"_weeknumber":"weeknumber"),C.innerHTML="<span style='margin-right: 2px'>"+k+"</span>",v.appendChild(C),i.weeks.push(C)}for(var P=0;7>P;P++){i.cells[P]=[];var C=document.createElement("div");C.style.position="absolute",C.style.left=P*this.cellWidth+b+"px",C.style.top=this.titleHeight+"px",C.style.width=this.cellWidth+"px",C.style.height=this.dayHeaderHeight+"px",C.style.lineHeight=this.dayHeaderHeight+"px",C.style.textAlign="right",C.setAttribute("unselectable","on"),C.className=this.$0a(this.cssOnly?"_dayheader":"dayheader"),C.innerHTML="<span style='margin-right: 2px'>"+this.$0j(P)+"</span>",v.appendChild(C),i.days.push(C);for(var D=0;d>D;D++){var w=l.addDays(7*D+P),x=this.$0k(w)&&"none"!==this.selectMode,S=w.getMonth()===a.getMonth(),T=w.getTime()<a.getTime(),M=w.getTime()>a.getTime(),H,A=document.createElement("div");A.day=w,A.x=P,A.y=D,A.isCurrentMonth=S,A.className=this.$0a(this.cssOnly?S?"_day":"_dayother":S?"day":"dayother"),w.getTime()===h.getTime()&&S&&this.$0e(A,"today"),(0===w.dayOfWeek()||6===w.dayOfWeek())&&this.$0e(A,"weekend"),A.style.position="absolute",A.style.left=P*this.cellWidth+b+"px",A.style.top=D*this.cellHeight+p+"px",A.style.width=this.cellWidth+"px",A.style.height=this.cellHeight+"px",A.style.lineHeight=this.cellHeight+"px",A.style.textAlign="right";var E=document.createElement("div");E.style.position="absolute",E.className=this.$0a(this.cssOnly?w.getTime()===h.getTime()&&S?"_todaybox":"_daybox":w.getTime()===h.getTime()&&S?"todaybox":"daybox"),E.style.left="0px",E.style.top="0px",E.style.width=this.cellWidth-2+"px",E.style.height=this.cellHeight-2+"px",A.appendChild(E);var B=null;this.cells&&this.cells[w.toStringSortable()]&&(B=this.cells[w.toStringSortable()],B.css&&this.$0e(A,B.css));var R=null;(S||n&&T||o&&M)&&(R=document.createElement("span"),R.innerHTML=w.getDay(),A.style.cursor="pointer",A.isClickable=!0,x&&this.$0e(A,"select"),B&&B.html&&(R.innerHTML=B.html),R.style.marginRight="2px",A.appendChild(R)),A.setAttribute("unselectable","on"),A.onclick=this.$0l,A.onmousedown=this.$0m,A.onmousemove=this.$0n,x&&this.selected.push(A),v.appendChild(A),i.cells[P][D]=A}}var _=document.createElement("div");_.style.position="absolute",_.style.left="0px",_.style.top=p-2+"px",_.style.width=7*this.cellWidth+this.$0b()+"px",_.style.height="1px",_.style.fontSize="1px",_.style.lineHeight="1px",_.className=this.$0a(this.cssOnly?"_line":"line"),v.appendChild(_),this.months.push(i)},this.$0b=function(){return this.showWeekNumbers?this.cellWidth:0},this.$0o=function(){if(this.items)for(var e=0;e<this.showMonths;e++)for(var t=0;7>t;t++)for(var i=0;6>i;i++){var a=this.months[e].cells[t][i];a&&(1===this.items[a.day.toStringSortable()]?this.$0e(a,"busy"):this.$0f(a,"busy"))}},this.$0p=function(){var e={};e.startDate=$b.startDate,e.selectionStart=$b.selectionStart,e.selectionEnd=$b.selectionEnd.addDays(1),$b.state.value=DayPilot.JSON.stringify(e)},this.$0q=function(){switch(this.selectMode){case"day":this.selectionEnd=this.selectionStart;break;case"week":this.selectionStart=this.selectionStart.firstDayOfWeek($o.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionStart=this.selectionStart.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=this.selectionStart;break;default:throw"Unkown selectMode value."}},this.select=function(e){var t=!0,i=this.selectionStart,a=this.selectionEnd;this.selectionStart=new DayPilot.Date(e).getDatePart(),this.selectionDay=this.selectionStart;var n=!1;if(t){var o=this.startDate;(this.selectionStart.getTime()<this.visibleStart().getTime()||this.selectionStart.getTime()>this.visibleEnd().getTime())&&(o=this.selectionStart.firstDayOfMonth()),o.toStringSortable()!==this.startDate.toStringSortable()&&(n=!0),this.startDate=o}this.$0q(),this.$0d(),this.$09(),this.$0r(),this.$0o(),this.$0p(),i.equals(this.selectionStart)&&a.equals(this.selectionEnd)||this.$0s(),n&&this.$0t()},this.update=function(){this.$0d(),this.$09(),this.$0r(),this.$0u(),this.$0o(),this.$0p()},this.$0v=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.$0w();var n="JSON"+DayPilot.JSON.stringify(a),o=null;this.backendUrl?DayPilot.request(this.backendUrl,this.$0x,n,this.$0y):WebForm_DoCallback(this.uniqueID,n,this.$0z,o,this.callbackError,!0)},this.$0y=function(e){if("function"==typeof $b.onAjaxError){var t={};t.request=e,$b.onAjaxError(t)}else"function"==typeof $b.ajaxError&&$b.ajaxError(e)},this.$0x=function(e){$b.$0z(e.responseText)},this.$0A=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.$0w();var n="JSON"+DayPilot.JSON.stringify(a);__doPostBack($b.uniqueID,n)},this.$0w=function(){var e={};return e.v=this.v,e.startDate=this.startDate,e.selectionStart=this.selectionStart,e},this.$0B=function(e,t){"refresh"===e&&this.$0t()},this.$0j=function(e){var t=e+$o.weekStarts();return t>6&&(t-=7),$o.locale().dayNamesShort[t]},this.$0k=function(e){return null===this.selectionStart||null===this.selectionEnd?!1:this.selectionStart.getTime()<=e.getTime()&&e.getTime()<=this.selectionEnd.getTime()?!0:!1},this.$0m=function(e){},this.$0n=function(e){},this.$0l=function(e){var t=this.parentNode.month,i=this.x,a=this.y,n=t.cells[i][a].day;if(t.cells[i][a].isClickable){$b.clearSelection(),$b.selectionDay=n;var n=$b.selectionDay;switch($b.selectMode){case"none":$b.selectionStart=n,$b.selectionEnd=n;break;case"day":var o=t.cells[i][a];$b.$0e(o,"select"),$b.selected.push(o),$b.selectionStart=o.day,$b.selectionEnd=o.day;break;case"week":for(var s=0;7>s;s++)$b.$0e(t.cells[s][a],"select"),$b.selected.push(t.cells[s][a]);$b.selectionStart=t.cells[0][a].day,$b.selectionEnd=t.cells[6][a].day;break;case"month":for(var l=null,r=null,a=0;6>a;a++)for(var i=0;7>i;i++){var o=t.cells[i][a];o&&o.day.getYear()===n.getYear()&&o.day.getMonth()===n.getMonth()&&($b.$0e(o,"select"),$b.selected.push(o),null===l&&(l=o.day),r=o.day)}$b.selectionStart=l,$b.selectionEnd=r;break;default:throw"unknown selectMode"}$b.$0p(),$b.$0s()}},this.$0s=function(){var $Y=$b.selectionStart,end=$b.selectionEnd.addDays(1),$q=DayPilot.Date.daysDiff($Y.d,end.d),$y=$b.selectionDay;if($b.$0c()){var $W={};if($W.start=$Y,$W.end=end,$W.day=$y,$W.days=$q,$W.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $b.onTimeRangeSelect&&($b.onTimeRangeSelect($W),$W.preventDefault.value))return;switch($b.timeRangeSelectedHandling){case"Bind":var $Z=eval($b.bound);if($Z){var $00={};$00.start=$Y,$00.end=end,$00.days=$q,$00.day=$y,$Z.commandCallBack($b.command,$00)}break;case"None":break;case"PostBack":$b.timeRangeSelectedPostBack($Y,end,$y)}"function"==typeof $b.onTimeRangeSelected&&$b.onTimeRangeSelected($W)}else switch($b.timeRangeSelectedHandling){case"Bind":var $Z=eval($b.bound);if($Z){var $00={};$00.start=$Y,$00.end=end,$00.days=$q,$00.day=$y,$Z.commandCallBack($b.command,$00)}break;case"JavaScript":$b.onTimeRangeSelected($Y,end,$y);break;case"None":break;case"PostBack":$b.timeRangeSelectedPostBack($Y,end,$y)}},this.timeRangeSelectedPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.day=a,this.$0A("TimeRangeSelected",i,n)},this.$0i=function(e){$b.$0C($b.skipMonths)},this.$0h=function(e){$b.$0C(-$b.skipMonths)},this.$0C=function(e){this.startDate=this.startDate.addMonths(e),this.$0d(),this.$09(),this.$0r(),this.$0p(),this.$0t(),this.$0o()},this.visibleStart=function(){return $b.startDate.firstDayOfMonth().firstDayOfWeek($o.weekStarts())},this.visibleEnd=function(){return $b.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek($o.weekStarts()).addDays(42)},this.$0t=function(){var e=this.visibleStart(),t=this.visibleEnd();if($b.$0c()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $b.onVisibleRangeChange&&($b.onVisibleRangeChange(i),i.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"Disabled":}"function"==typeof $b.onVisibleRangeChanged&&$b.onVisibleRangeChanged(i)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(e,t);break;case"Disabled":}},this.visibleRangeChangedCallBack=function(e){var t={};this.$0v("Visible",e,t)},this.visibleRangeChangedPostBack=function(e){var t={};this.$0A("Visible",e,t)},this.$0z=function($02,$U){var $02=eval("("+$02+")");$b.items=$02.Items,$b.cells=$02.Cells,$b.$0o()},this.$0r=function(){for(var e=0;e<this.showMonths;e++){var t=this.$0D(e);this.$0g(e,t)}this.root.style.height=this.$0E()+"px"},this.$0E=function(){if("Horizontal"===this.orientation){for(var e=0,t=0;t<this.months.length;t++){var i=this.months[t];i.height>e&&(e=i.height)}return e}for(var a=0,t=0;t<this.months.length;t++){var i=this.months[t];a+=i.height}return a},this.$0D=function(e){if(this.internal.showLinks)return this.internal.showLinks;var t={};return t.left=0===e,t.right=0===e,t.before=0===e,t.after=e===this.showMonths-1,"Horizontal"===this.orientation&&(t.right=e===this.showMonths-1),t},this.internal={},this.internal.initialized=function(){return $b.$0F},this.$0G={};var $o=this.$0G;$o.locale=function(){return DayPilot.Locale.find($b.locale)},$o.weekStarts=function(){if("Auto"===$b.weekStarts){var e=$o.locale();return e?e.weekStarts:0}return $b.weekStarts},this.clearSelection=function(){for(var e=0;e<this.selected.length;e++)this.$0f(this.selected[e],"select");this.selected=[]},this.$0H=function(){return this.backendUrl?"undefined"==typeof $b.items||!$b.items:!1},this.events={},this.$0u=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var e=0;e<this.events.list.length;e++){var t=this.events.list[e],i=this.$0I(t);for(var a in i)this.items[a]=1}}},this.$0I=function(e){for(var t=new DayPilot.Date(e.start),i=new DayPilot.Date(e.end),a={},n=t.getDatePart();n.getTime()<i.getTime();)a[n.toStringSortable()]=1,n=n.addDays(1);return a},this.init=function(){if(this.root=document.getElementById(id),!this.root)throw"DayPilot.Navigator.init(): The placeholder element not found: '"+id+"'.";if(!this.root.dp){this.$0q(),this.$09(),this.$0r(),this.$0u(),this.$0o(),this.$0J();var e=this.$0H();e&&this.$0t(),this.$0F=!0}},this.dispose=function(){var e=$b;e.root&&(e.root.removeAttribute("style"),e.root.removeAttribute("class"),e.root.dp=null,e.root.innerHTML=null,e.root=null)},this.$0J=function(){var e=document.getElementById(id);e.dispose=this.dispose},this.Init=this.init},DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotNavigator=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Navigator(this.id);this.daypilot=i;
for(var a in e)i[a]=e[a];i.Init(),t||(t=i)}});return 1===this.length?t:i}}(jQuery),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(),"undefined"==typeof DayPilot)var DayPilot={};if("undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),"undefined"==typeof DayPilotScheduler)var DayPilotScheduler=DayPilot.SchedulerVisible={};if(function(){if("undefined"==typeof DayPilot.Scheduler){var $a=function(){var e=navigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&!(e.indexOf("Chrome")>-1)}(),DayPilotScheduler={},$c=function(){};DayPilot.Scheduler=function(id,$d){this.v="1338";var $e=this;this.id=id,this.isScheduler=!0,this.hideUntilInit=!0,this.api=2,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.borderColor="#000000",this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#EAD098",this.cellDuration=60,this.cellGroupBy="Day",this.cellSelectColor="#316AC5",this.cellWidth=40,this.cellWidthSpec="Fixed",this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.$79=!0,this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarColor="blue",this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.$7a=!1,this.days=1,this.drawBlankCells=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=500,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderColor="#000000",this.eventBorderVisible=!0,this.eventBackColor="#FFFFFF",this.eventEndSpec="DateTime",this.eventFontFamily="Tahoma, Arial",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventHeight=25,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.$7b=!1,this.headerFontColor="#000000",this.headerFontFamily="Tahoma, Arial",this.headerFontSize="8pt",this.headerHeight=20,this.heightSpec="Auto",this.hourFontFamily="Tahoma, Arial",this.hourFontSize="10pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.treePreventParentUsage=!1,this.treeAutoExpand=!0,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderCols=null,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scrollX=0,this.scrollY=0,this.shadow="Fill",this.showBaseTimeHeader=!0,this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=(new DayPilot.Date).getDatePart(),this.syncResourceTree=!1,this.timeBreakColor="#000000",this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Resources",this.weekStarts="Auto",this.width=null,this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.eventCorners="Regular",this.separators=[],this.cornerHtml="",this.$7c=-1,this.$7d=-1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.cssOnly=!0,this.cssClassPrefix="scheduler_default",this.backendUrl=null,1===$e.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onRowHeaderResized=null,this.autoRefreshCount=0,this.$7e=0,this.rowlist=[],this.itline=[],this.timeline=null,this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.$7f={},this.$7f.cells=[],this.$7f.linesVertical=[],this.$7f.linesHorizontal=[],this.$7f.timeHeaderGroups=[],this.$7f.pixels=[],this.$7f.breaks=[],this.$7f.events=[],this.clientState={},this.q=new DayPilot.Queue,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(e){return 0===e.indexOf("div")?!0:!1},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader"],this.members.noCssOnly=["borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cellSelectColor","durationBarColor","eventBackColor","eventBorderColor","eventBorderVisible","eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"],this.nav={},this.$7g=function($f,$g){var $f=eval("("+$f+")");if("function"==typeof $e.onCallBackResult){var $h={};if($h.result=$f,$h.preventDefault=function(){$h.preventDefault.value=!0},$e.onCallBackResult($h),$h.preventDefault.value)return $e.$7h(),$e.$7i(),$e.$7j(),$f.Message&&$e.message&&$e.message($f.Message),$e.$7k($f.CallBackData,!0),$e.$7l(),void $e.$7m()}if($f.BubbleGuid){var $i=$f.BubbleGuid,$j=this.bubbles[$i];return delete this.bubbles[$i],$e.$7i(),"undefined"!=typeof $f.Result.BubbleHTML&&$j.updateView($f.Result.BubbleHTML,$j),void $e.$7l()}if($f.CallBackRedirect)return void(document.location.href=$f.CallBackRedirect);if("undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"undefined"!=typeof $f.ClientState&&($e.clientState=null===$f.ClientState?{}:$f.ClientState),"None"===$f.UpdateType)return $e.$7i(),$e.$7l(),$f.Message&&$e.message($f.Message),void $e.$7k($f.CallBackData,!0);if($f.VsUpdate){var $k=document.createElement("input");$k.type="hidden",$k.name=$e.id+"_vsupdate",$k.id=$k.name,$k.value=$f.VsUpdate,$e.$7n.innerHTML="",$e.$7n.appendChild($k)}"undefined"!=typeof $f.TagFields&&($e.tagFields=$f.TagFields),"undefined"!=typeof $f.SortDirections&&($e.sortDirections=$f.SortDirections),$e.$7f.drawArea=null,"Full"===$f.UpdateType&&($e.resources=$f.Resources,$e.colors=$f.Colors,$e.palette=$f.Palette,$e.dirtyColors=$f.DirtyColors,$e.cellProperties=$f.CellProperties,$e.cellConfig=$f.CellConfig,$e.separators=$f.Separators,$e.timeline=$f.Timeline,$e.timeHeader=$f.TimeHeader,$e.timeHeaders=$f.TimeHeaders,"undefined"!=typeof $f.RowHeaderColumns&&($e.rowHeaderColumns=$f.RowHeaderColumns),$e.startDate=$f.StartDate?new DayPilot.Date($f.StartDate):$e.startDate,$e.days=$f.Days?$f.Days:$e.days,$e.cellDuration=$f.CellDuration?$f.CellDuration:$e.cellDuration,$e.cellGroupBy=$f.CellGroupBy?$f.CellGroupBy:$e.cellGroupBy,$e.cellWidth=$f.CellWidth?$f.CellWidth:$e.cellWidth,$e.viewType=$f.ViewType?$f.ViewType:$e.viewType,$e.hourNameBackColor=$f.HourNameBackColor?$f.HourNameBackColor:$e.hourNameBackColor,$e.showNonBusiness=$f.ShowNonBusiness?$f.ShowNonBusiness:$e.showNonBusiness,$e.businessBeginsHour=$f.BusinessBeginsHour?$f.BusinessBeginsHour:$e.businessBeginsHour,$e.businessEndsHour=$f.BusinessEndsHour?$f.BusinessEndsHour:$e.businessEndsHour,"undefined"!=typeof $f.DynamicLoading&&($e.dynamicLoading=$f.DynamicLoading),"undefined"!=typeof $f.TreeEnabled&&($e.treeEnabled=$f.TreeEnabled),$e.backColor=$f.BackColor?$f.BackColor:$e.backColor,$e.nonBusinessBackColor=$f.NonBusinessBackColor?$f.NonBusinessBackColor:$e.nonBusinessBackColor,$e.locale=$f.Locale?$f.Locale:$e.locale,"undefined"!=typeof $f.TimeZone&&($e.timeZone=$f.TimeZone),$e.timeFormat=$f.TimeFormat?$f.TimeFormat:$e.timeFormat,$e.rowHeaderCols=$f.RowHeaderCols?$f.RowHeaderCols:$e.rowHeaderCols,"undefined"!=typeof $f.DurationBarMode&&($e.durationBarMode=$f.DurationBarMode),$e.cornerBackColor=$f.CornerBackColor?$f.CornerBackColor:$e.cornerBackColor,"undefined"!=typeof $f.CornerHTML&&($e.cornerHtml=$f.CornerHTML),$e.hashes=$f.Hashes,$e.$7o(),$e.$7p(),$e.$7q(),$e.$7r()),"Scroll"!==$f.Action&&$e.$7s($f.Events),"Full"===$f.UpdateType&&($e.$7t(),$e.$7u()),$e.$7v(),$e.$7w(),$e.$7f.drawArea=null,"Scroll"!==$f.Action?($e.$7x(),$e.$7y(),("Auto"===$e.heightSpec||"Max"===$e.heightSpec)&&$e.$7z(),$e.$7A(),$e.$7B(),$e.$7C(),$e.multiselect.clear(!0),$e.multiselect.initList=$f.SelectedEvents,$e.$7D(),$e.$7E(),$e.$7F()):($e.multiselect.clear(!0),$e.multiselect.initList=$f.SelectedEvents,$e.$7G($f.Events)),"HoldForever"!==$e.timeRangeSelectedHandling&&$e.$7H(),"Full"===$f.UpdateType&&($e.setScroll($f.ScrollX,$f.ScrollY),$e.$7I()),$e.$7J(),$e.$7h(),$e.$7i(),"Full"===$f.UpdateType&&-1!==navigator.appVersion.indexOf("MSIE 7.")&&window.setTimeout(function(){$e.$7t(),$e.$7z()},0),$e.$7j(),$f.Message&&$e.message&&$e.message($f.Message),$e.$7k($f.CallBackData,!0),$e.$7l(),$e.$7m()},this.$7h=function(){if($e.todo&&$e.todo.del){var e=$e.todo.del;e.parentNode.removeChild(e),$e.todo.del=null}},this.$7k=function(e,t){var i=function(e,t){return function(){if($e.$7K()){if("function"==typeof $e.onAfterRender){var i={};i.isCallBack=t,i.data=e,$e.onAfterRender(i)}}else $e.afterRender&&$e.afterRender(e,t)}};window.setTimeout(i(e,t),0)},this.scrollTo=function(e){var t=this.getPixels(new DayPilot.Date(e)).left;this.setScrollX(t)},this.scrollToResource=function(e){DayPilot.complete(function(){var t=$e.$7L(e);t&&setTimeout(function(){var e=t.top;$e.nav.scroll.scrollTop=e},100)})},this.$7M=function(){if(this.cssOnly&&this.floatingTimeHeaders&&this.timeHeader){var e=this.$7N();if(e){this.$7O();for(var t=e.pixels.left,i=e.pixels.right,a=[],n=0;n<this.timeHeader.length;n++)for(var o=0;o<this.timeHeader[n].length;o++){var s=this.timeHeader[n][o],l=s.left,r=s.left+s.width,c=null;if(t>l&&r>t&&(c={},c.x=o,c.y=n,c.marginLeft=t-l,c.marginRight=0,c.div=this.$7f.timeHeader[o+"_"+n],a.push(c)),i>l&&r>i){c||(c={},c.x=o,c.y=n,c.marginLeft=0,c.div=this.$7f.timeHeader[o+"_"+n],a.push(c)),c.marginRight=r-i;break}}for(var d=0;d<a.length;d++){var c=a[d];this.$7P(c.div,c.marginLeft,c.marginRight)}}}},this.$7J=function(){this.$7M(),this.$7Q()},this.$7R={};var $z=this.$7R;$z.events=function(e){var t=[],e=e||"All",i=$e.$7N();if(!i)return DayPilot.list(t);for(var a=i.pixels.left,n=i.pixels.right,o=0;o<$e.elements.events.length;o++){var s=$e.elements.events[o],l=s.event,r=l.part.left,c=l.part.left+l.part.width;switch(e){case"Left":a>r&&c>a&&t.push(s);break;case"All":DayPilot.Util.overlaps(r,c,a,n)&&t.push(s)}}return DayPilot.list(t).addProps({area:i})},this.$7Q=function(){if(this.cssOnly&&this.floatingEvents){var e=$z.events("Left");this.$7S(),e.each(function(t){var i=e.area.pixels.left,a=t.event,n=a.part.left,o=i-n;$e.$7T(t,o,0)})}},this.elements.sections=[],this.elements.hsections=[],this.$7P=function(e,t,i){var a=document.createElement("div");a.setAttribute("unselectable","on"),a.className=this.$7U("_timeheader_float"),a.style.position="absolute",a.style.left=t+"px",a.style.right=i+"px",a.style.top="0px",a.style.bottom="0px",a.style.overflow="hidden";var n=document.createElement("div");n.className=this.$7U("_timeheader_float_inner"),n.setAttribute("unselectable","on"),n.innerHTML=e.cell.th.innerHTML,a.appendChild(n),e.section=a,e.insertBefore(a,e.firstChild.nextSibling),e.firstChild.innerHTML="",this.elements.hsections.push(e)},this.$7O=function(){for(var e=0;e<this.elements.hsections.length;e++){var t=this.elements.hsections[e],i=t.cell;i&&t.firstChild&&(t.firstChild.innerHTML=i.th.innerHTML),DayPilot.de(t.section),t.section=null}this.elements.hsections=[]},this.$7T=function(e,t,i){var a=document.createElement("div");a.setAttribute("unselectable","on"),a.className=this.$7U("_event_float"),a.style.position="absolute",a.style.left=t+"px",a.style.right=i+"px",a.style.top="0px",a.style.bottom="0px",a.style.overflow="hidden";var n=document.createElement("div");n.className=this.$7U("_event_float_inner"),n.setAttribute("unselectable","on"),n.innerHTML=e.event.client.html(),a.appendChild(n),e.section=a,e.insertBefore(a,e.firstChild.nextSibling),e.firstChild.innerHTML="",this.elements.sections.push(e)},this.$7S=function(){for(var e=0;e<this.elements.sections.length;e++){var t=this.elements.sections[e],i=t.event;i&&(t.firstChild.innerHTML=i.client.html()),DayPilot.de(t.section),t.section=null}this.elements.sections=[]},this.setScrollX=function(e){this.setScroll(e,$e.scrollY)},this.setScrollY=function(e){this.setScroll($e.scrollX,e)},this.setScroll=function(e,t){var i=$e.nav.scroll,a=$e.$7e,n=$e.$7V()*$e.cellWidth;i.clientWidth+e>n&&(e=n-i.clientWidth),i.clientHeight+t>a&&(t=a-i.clientHeight),$e.divTimeScroll.scrollLeft=e,$e.divResScroll.scrollTop=t,i.scrollLeft=e,i.scrollTop=t},this.message=function(e,t,i,a){if(null!==e){var t=t||this.messageHideAfter||2e3,i=i||"#ffffff",a=a||"#000000",n=.8,o=this.$7W()+1,s=this.$7X()+$Q.splitterWidth(),l=DayPilot.sw($e.nav.scroll)+1,r=DayPilot.sh($e.nav.scroll)+1,c;if(this.nav.message)c=$e.nav.message;else{c=document.createElement("div"),c.style.position="absolute",c.style.left=s+"px",c.style.right=l+"px",c.style.display="none",c.onmousemove=function(){c.messageTimeout&&!c.status&&clearTimeout(c.messageTimeout)},c.onmouseout=function(){"none"!==$e.nav.message.style.display&&(c.messageTimeout=setTimeout($e.$7Y,500))};var d=document.createElement("div");d.onclick=function(){$e.nav.message.style.display="none"},this.cssOnly?d.className=this.$7U("_message"):(d.style.padding="5px",d.style.opacity=n,d.style.filter="alpha(opacity="+100*n+")"),c.appendChild(d);var h=document.createElement("div");h.style.position="absolute",this.cssOnly?h.className=this.$7U("_message_close"):(h.style.top="5px",h.style.right=DayPilot.sw($e.nav.scroll)+5+"px",h.style.color=i,h.style.lineHeight="100%",h.style.cursor="pointer",h.style.fontWeight="bold",h.innerHTML="X"),h.onclick=function(){$e.nav.message.style.display="none"},c.appendChild(h),this.nav.top.appendChild(c),this.nav.message=c}var u=function(){var n=$e.nav.message.firstChild;$e.cssOnly||(n.style.backgroundColor=a,n.style.color=i),n.innerHTML=e;var s=DayPilot.sw($e.nav.scroll)+1;$e.nav.message.style.right=s+"px";var l=$e.messageBarPosition||"Top";"Bottom"===l?($e.nav.message.style.bottom=r+"px",$e.nav.message.style.top=""):"Top"===l&&($e.nav.message.style.bottom="",$e.nav.message.style.top=o+"px");var d=function(){c.messageTimeout=setTimeout($e.$7Y,t)};DayPilot.fade($e.nav.message,.2,d)};clearTimeout(c.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade($e.nav.message,-.2,u):u()}},this.$7Y=function(){if($e.nav.message){var e=function(){$e.nav.message.style.display="none"};DayPilot.fade($e.nav.message,-.2,e)}},this.message.show=function(e){$e.message(e)},this.message.hide=function(){$e.$7Y()},this.$7z=function(){if(this.nav.scroll){"Parent100Pct"===this.heightSpec&&(this.height=parseInt(this.nav.top.clientHeight,10)-(this.$7W()+2)),this.nav.scroll.style.height="30px";var e=this.$7Z(),t=1,i=e+this.$7W()+t;e>=0&&(this.nav.scroll.style.height=e+"px",this.$80.style.height=e+"px"),this.nav.divider&&((!i||isNaN(i)||0>i)&&(i=0),this.nav.divider.style.height=i+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=i+"px");for(var a=0;a<this.elements.separators.length;a++)this.elements.separators[a].style.height=this.$7e+"px";for(var a=0;a<this.elements.linesVertical.length;a++)this.elements.linesVertical[a].style.height=this.$7e+"px"}},this.$7p=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.endDate=this.startDate.addDays("Days"!==this.viewType?this.days:1),this.$7f.pixels=[],this.itline=[];var e="Auto"===this.cellWidthSpec,t=function(){if(e){var t=0;if($e.timeHeader)if($e.timeline)t=$e.timeline.length;else{var i=$e.timeHeader[$e.timeHeader.length-1];t=i.length}else"Manual"===$e.scale?t=$e.timeline.length:($e.$81(),t=$e.itline.length,$e.itline=[]);var a=$e.$82();t>0&&a>0&&($e.cellWidth=a/t),$e.debug.message("updated cellWidth: "+$e.cellWidth)}};if(t(),this.$83()){if(this.timeline){$e.debug.message("timeline received from server"),this.itline=[];for(var i=null,a=0,n=0;n<this.timeline.length;n++){var o=this.timeline[n],s={};if(s.start=new DayPilot.Date(o.start),s.end=o.end?new DayPilot.Date(o.end):s.start.addMinutes(this.cellDuration),o.width)s.left=o.left||a,s.width=o.width||this.cellWidth,a+=s.width;else{var l=Math.floor(a+this.cellWidth),r=l-Math.floor(a);s.left=Math.floor(a),s.width=r,a+=this.cellWidth}s.breakBefore=i&&i.ticks!==s.start.ticks,i=s.end,this.itline.push(s)}}e&&this.$84()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=[];for(var a=0,i=null,n=0;n<this.timeline.length;n++){var o=this.timeline[n],s={};s.start=new DayPilot.Date(o.start),s.end=o.end?new DayPilot.Date(o.end):s.start.addMinutes(this.cellDuration);var c=o.width||this.cellWidth,l=Math.floor(a+c),r=l-Math.floor(a);s.left=Math.floor(a),s.width=r,a+=c,s.breakBefore=i&&i.ticks!==s.start.ticks,i=s.end,this.itline.push(s)}}else this.$81();this.$85()}},this.$81=function(){for(var e=this.startDate,t=this.$86(e),i=!1,a=this.timeHeaders,n=0;t.ticks<=this.endDate.ticks&&t.ticks>e.ticks;){if(this.$87(e,t)){var o=Math.floor(n+this.cellWidth),s=o-Math.floor(n),l={};l.start=e,l.end=t,l.left=Math.floor(n),l.width=s,l.breakBefore=i,this.itline.push(l),n+=this.cellWidth,i=!1}else i=!0;e=t,t=this.$86(e)}},this.$84=function(){if($e.debug.message("updateHeaderGroupDimensions"),this.timeHeader)for(var e=0;e<this.timeHeader.length;e++)for(var t=this.timeHeader[e],i=0;i<t.length;i++){var a=t[i];a.left=this.getPixels(new DayPilot.Date(a.start)).left;var n=this.getPixels(new DayPilot.Date(a.end)).left,o=n-a.left;a.width=o}},this.$85=function(){var e=this.timeHeaders;e||(e=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]);for(var t=0;t<e.length;t++){var i=e[t].groupBy,a=e[t].format;"Default"===i&&(i=this.cellGroupBy);for(var n=this.startDate,o=[],n=this.startDate;n.ticks<this.endDate.ticks;){var s={};if(s.start=n,s.end=this.$88(s.start,i),s.start.ticks===s.end.ticks)break;s.left=this.getPixels(s.start).left;var l=this.getPixels(s.end).left,r=l-s.left;if(s.width=r,s.colspan=Math.ceil(r/(1*this.cellWidth)),s.innerHTML=a?s.start.toString(a,$Q.locale()):this.$89(s,i),r>0){if("function"==typeof this.onBeforeTimeHeaderRender){var c={};c.start=s.start,c.end=s.end,c.html=s.innerHTML,c.toolTip=s.innerHTML,c.backColor=null,this.cssOnly||(c.backColor=this.hourNameBackColor),c.level=this.timeHeader.length;var d={};d.header=c,this.onBeforeTimeHeaderRender(d),s.innerHTML=c.html,s.backColor=c.backColor,s.toolTip=c.toolTip}o.push(s)}n=s.end}this.timeHeader.push(o)}},this.$87=function(e,t){if("function"==typeof this.onIncludeTimeCell){var i={};i.start=e,i.end=t,i.visible=!0;var a={};return a.cell=i,this.onIncludeTimeCell(a),i.visible}if(this.showNonBusiness)return!0;if(0===e.d.getUTCDay())return!1;if(6===e.d.getUTCDay())return!1;var n=(t.getTime()-e.getTime())/6e4;if(1440>n){var o=e.d.getUTCHours();if(o+=e.d.getUTCMinutes()/60,o+=e.d.getUTCSeconds()/3600,o+=e.d.getUTCMilliseconds()/36e5,o<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(o>=this.businessEndsHour)return!1}return!0},this.getPixels=function(e){var t=e.ticks,i=this.$7f.pixels[t];if(i)return i;var a=null,n=2218768416e5;if(0===this.itline.length||t<this.itline[0].start.ticks){var o={};return o.cut=!1,o.left=0,o.boxLeft=o.left,o.boxRight=o.left,o.i=null,o}for(var s=0;s<this.itline.length;s++){var l=!1,r=this.itline[s],c=r.start.ticks,d=r.end.ticks;if(t>c&&d>t){var h=t-c,o={};o.cut=!1,o.left=r.left+this.$8a(r,h),o.boxLeft=r.left,o.boxRight=r.left+r.width,o.i=s;break}if(c===t){var o={};o.cut=!1,o.left=r.left,o.boxLeft=o.left,o.boxRight=o.left+r.width,o.i=s;break}if(d===t){var o={};o.cut=!1,o.left=r.left+r.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=s+1;break}if(c>t&&t>n){var o={};o.cut=!0,o.left=r.left,o.boxLeft=o.left,o.boxRight=o.left,o.i=s;break}n=d}if(!o){var u=this.itline[this.itline.length-1],o={};o.cut=!0,o.left=u.left+u.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=null}return this.$7f.pixels[t]=o,o},this.getDate=function(e,t,i){var a=this.$8b(e,i);if(!a)return null;var n=a.x,o=this.itline[n];if(!o)return null;var s=i&&!t?o.end:o.start;return t?s.addTime(this.$8c(a.cell,a.offset)):s},this.$8b=function(e,t){for(var i=0,a=0,n=0;n<this.itline.length;n++){var o=this.itline[n],s=o.width||this.cellWidth;if(i+=s,i>e||t&&e===i){var l={};return l.x=n,l.offset=e-a,l.cell=o,l}a=i}var o=this.itline[this.itline.length-1],l={};return l.x=this.itline.length-1,l.offset=o.width||this.cellWidth,l.cell=o,l},this.$8d=function(e){for(var t=new DayPilot.Date(e),i=0;i<this.itline.length;i++){var a=this.itline[i];if(a.start.ticks<=t.ticks&&t.ticks<a.end.ticks){var n={};return n.hidden=!1,n.current=a,n}if(t.ticks<a.start.ticks){var n={};return n.hidden=!0,n.previous=i>0?this.itline[i-1]:null,n.current=null,n.next=this.itline[i],n}}var n={};return n.past=!0,n.previous=this.itline[this.itline.length-1],n},this.$8a=function(e,t){var i=e.width||this.cellWidth,a=e.end.ticks-e.start.ticks;return Math.floor(i*t/a)},this.$8c=function(e,t){var i=e.end.ticks-e.start.ticks,a=e.width||this.cellWidth;return Math.floor(t/a*i)},this.$8e=function(e){$0q.start||($0r={},$e.$8f(this,e))},this.eventClickPostBack=function(e,t){this.$8g("EventClick",e,t)},this.eventClickCallBack=function(e,t){this.$8h("EventClick",e,t)},this.$8f=function(e,t){var i=e.event,t=t||window.event;if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),!i.client.doubleClickEnabled())return void $e.$8i(e,t);$e.timeouts.click||($e.timeouts.click=[]);var a=function(e,t){return function(){$e.$8i(e,t)}};$e.timeouts.click.push(window.setTimeout(a(e,t),$e.doubleClickTimeout))},this.$8i=function(e,t){if("boolean"==typeof t)throw"Invalid _eventClickSingle parameters";var i=e.event,a=t.ctrlKey,n=t.metaKey;if(i.client.clickEnabled())if($e.$7K()){var o={};if(o.e=i,o.div=e,o.originalEvent=t,o.ctrl=a,o.meta=n,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventClick&&($e.onEventClick(o),o.preventDefault.value))return;switch($e.eventClickHandling){case"PostBack":$e.eventClickPostBack(i);break;case"CallBack":$e.eventClickCallBack(i);break;case"Edit":$e.$8j(e);break;case"Select":$e.$8k(e,i,a,n);break;case"ContextMenu":var s=i.client.contextMenu();s?s.show(i):$e.contextMenu&&$e.contextMenu.show(i);break;case"Bubble":$e.bubble&&$e.bubble.showEvent(i)}"function"==typeof $e.onEventClicked&&$e.onEventClicked(o)}else switch($e.eventClickHandling){case"PostBack":$e.eventClickPostBack(i);break;case"CallBack":$e.eventClickCallBack(i);break;case"JavaScript":$e.onEventClick(i);break;case"Edit":$e.$8j(e);break;case"Select":$e.$8k(e,i,a,n);break;case"ContextMenu":var s=i.client.contextMenu();s?s.show(i):$e.contextMenu&&$e.contextMenu.show(i);break;case"Bubble":$e.bubble&&$e.bubble.showEvent(i)}},this.$8l=function(e){if($e.$7K()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventDelete&&($e.onEventDelete(t),t.preventDefault.value))return;switch($e.eventDeleteHandling){case"PostBack":$e.eventDeletePostBack(e);break;case"CallBack":$e.eventDeleteCallBack(e);break;case"Update":$e.events.remove(e)}"function"==typeof $e.onEventDeleted&&$e.onEventDeleted(t)}else switch($e.eventDeleteHandling){case"PostBack":$e.eventDeletePostBack(e);break;case"CallBack":$e.eventDeleteCallBack(e);break;case"JavaScript":$e.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.$8g("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.$8h("EventDelete",e,t)},this.setHScrollPosition=function(e){this.nav.scroll.scrollLeft=e},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.$8k=function(e,t,i,a){$e.$8m(e,t,i,a)},this.eventSelectPostBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$8g("EventSelect",a,i)},this.eventSelectCallBack=function(e,t,i){var a={};a.e=e,a.change=t,this.$8h("EventSelect",a,i)},this.$8m=function(e,t,i,a){if($e.$7K()){var n=$e.multiselect;n.previous=n.events();var o={};if(o.e=t,o.selected=n.isSelected(t),o.ctrl=i,o.meta=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventSelect&&($e.onEventSelect(o),o.preventDefault.value))return;switch($e.eventSelectHandling){case"PostBack":$e.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),$e.eventSelectCallBack(t,s);break;case"Update":n.$8n(e,i,a)}"function"==typeof $e.onEventSelected&&(o.change=n.isSelected(t)?"selected":"deselected",o.selected=n.isSelected(t),$e.onEventSelected(o))}else{var n=$e.multiselect;n.previous=n.events(),n.$8n(e,i,a);var s=n.isSelected(t)?"selected":"deselected";switch($e.eventSelectHandling){case"PostBack":$e.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),$e.eventSelectCallBack(t,s);break;case"JavaScript":$e.onEventSelect(t,s)}}},this.eventRightClickPostBack=function(e,t){this.$8g("EventRightClick",e,t)},this.eventRightClickCallBack=function(e,t){this.$8h("EventRightClick",e,t)},this.$8o=function(e){var t=this.event;if(e=e||window.event,e.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if($e.$7K()){var i={};if(i.e=t,i.div=this,i.originalEvent=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventRightClick&&($e.onEventRightClick(i),i.preventDefault.value))return;switch($e.eventRightClickHandling){case"PostBack":$e.eventRightClickPostBack(t);break;case"CallBack":$e.eventRightClickCallBack(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):$e.contextMenu&&$e.contextMenu.show(this.event);break;case"Bubble":$e.bubble&&$e.bubble.showEvent(t)}"function"==typeof $e.onEventRightClicked&&$e.onEventRightClicked(i)}else switch($e.eventRightClickHandling){case"PostBack":$e.eventRightClickPostBack(t);break;case"CallBack":$e.eventRightClickCallBack(t);break;case"JavaScript":$e.onEventRightClick(t);break;case"ContextMenu":var a=t.client.contextMenu();a?a.show(t):$e.contextMenu&&$e.contextMenu.show(this.event);break;case"Bubble":$e.bubble&&$e.bubble.showEvent(t)}return!1},this.eventDoubleClickPostBack=function(e,t){this.$8g("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(e,t){this.$8h("EventDoubleClick",e,t)},this.$8p=function(e){if("undefined"!=typeof DayPilotBubble&&DayPilotBubble.hideActive(),$e.timeouts.click){for(var t in $e.timeouts.click)window.clearTimeout($e.timeouts.click[t]);$e.timeouts.click=null}var e=e||window.event,i=this.event;if($e.$7K()){var a={};if(a.e=i,a.originalEvent=e,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventDoubleClick&&($e.onEventDoubleClick(a),a.preventDefault.value))return;switch($e.eventDoubleClickHandling){case"PostBack":$e.eventDoubleClickPostBack(i);break;case"CallBack":$e.eventDoubleClickCallBack(i);break;case"Edit":$e.$8j(this);break;case"Select":$e.$8k($F,i,e.ctrlKey,e.metaKey);break;case"Bubble":$e.bubble&&$e.bubble.showEvent(i);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):$e.contextMenu&&$e.contextMenu.show(i)}"function"==typeof $e.onEventDoubleClicked&&$e.onEventDoubleClicked(a)}else switch($e.eventDoubleClickHandling){case"PostBack":$e.eventDoubleClickPostBack(i);break;case"CallBack":$e.eventDoubleClickCallBack(i);break;case"JavaScript":$e.onEventDoubleClick(i);break;case"Edit":$e.$8j(this);break;case"Select":$e.$8k($F,i,e.ctrlKey,e.metaKey);break;case"Bubble":$e.bubble&&$e.bubble.showEvent(i);break;case"ContextMenu":var n=i.client.contextMenu();n?n.show(i):$e.contextMenu&&$e.contextMenu.show(i)}},this.eventResizePostBack=function(e,t,i,a){this.$8q("PostBack",e,t,i,a)},this.eventResizeCallBack=function(e,t,i,a){this.$8q("CallBack",e,t,i,a)},this.$8q=function(e,t,i,a,n){var o={};o.e=t,o.newStart=i,o.newEnd=a,this.$8r(e,"EventResize",o,n)},this.$8s=function(e,t,i){if("Disabled"!==this.eventResizeHandling)if($e.$7K()){var a={};if(a.e=e,a.newStart=t,a.newEnd=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventResize){if($e.onEventResize(a),a.preventDefault.value)return;t=a.newStart,i=a.newEnd}switch($e.eventResizeHandling){case"PostBack":$e.eventResizePostBack(e,t,i);break;case"CallBack":$e.eventResizeCallBack(e,t,i);break;case"Notify":$e.eventResizeNotify(e,t,i);break;case"Update":e.start(t),e.end(i),$e.events.update(e)}"function"==typeof $e.onEventResized&&$e.onEventResized(a)}else switch($e.eventResizeHandling){case"PostBack":$e.eventResizePostBack(e,t,i);break;case"CallBack":$e.eventResizeCallBack(e,t,i);break;case"JavaScript":$e.onEventResize(e,t,i);break;case"Notify":$e.eventResizeNotify(e,t,i);break;case"Update":e.start(t),e.end(i),$e.events.update(e)}},this.eventMovePostBack=function(e,t,i,a,n,o){this.$8t("PostBack",e,t,i,a,n,o)},this.eventMoveCallBack=function(e,t,i,a,n,o){this.$8t("CallBack",e,t,i,a,n,o)},this.$8t=function(e,t,i,a,n,o,s){var l={};l.e=t,l.newStart=i,l.newEnd=a,l.newResource=n,l.position=s,this.$8r(e,"EventMove",l,o)},this.$8r=function(e,t,i,a){if("PostBack"===e)$e.$8g(t,i,a);else if("CallBack"===e)$e.$8h(t,i,a,"CallBack");else if("Immediate"===e)$e.$8h(t,i,a,"Notify");else if("Queue"===e)$e.queue.add(new DayPilot.Action(this,t,i,a));else{if("Notify"!==e)throw"Invalid event invocation type";"Notify"===$Q.notifyType()?$e.$8h(t,i,a,"Notify"):$e.queue.add(new DayPilot.Action($e,t,i,a))}},this.eventMoveNotify=function(e,t,i,a,n,o){var s=new DayPilot.Event(e.copy(),this),l=$e.events.$8u(e.data);e.start(t),e.end(i),e.resource(a),e.commit(),l=l.concat($e.events.$8v(e.data)),$e.$8w(l),$e.$8x(),$e.$8y(l),this.$8t("Notify",s,t,i,a,n,o)},this.eventResizeNotify=function(e,t,i,a){var n=new DayPilot.Event(e.copy(),this),o=$e.events.$8u(e.data);e.start(t),e.end(i),e.commit(),o=o.concat($e.events.$8v(e.data)),$e.$8w(o),$e.$8x(),$e.$8y(o),this.$8q("Notify",n,t,i,a)},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$8z=function(){var e=$e.multiselect;return DayPilot.JSON.stringify(e.events())},this.multiselect.events=function(){var e=$e.multiselect,t=[];
t.ignoreToJSON=!0;for(var i=0;i<e.list.length;i++)t.push(e.list[i]);return t},this.multiselect.$8A=function(){},this.multiselect.$8n=function(e,t,i){var a=$e.multiselect;if(a.isSelected(e.event))if($e.allowMultiSelect)if(t||i)a.remove(e.event,!0);else{var n=a.list.length;a.clear(),n>1&&a.add(e.event,!0)}else a.clear();else $e.allowMultiSelect&&(t||i)?a.add(e.event,!0):(a.clear(),a.add(e.event,!0));a.$8B(e),a.$8A()},this.multiselect.$8C=function(e){var t=$e.multiselect;return t.$8D(e,t.initList)},this.multiselect.$8E=function(){for(var e=$e.multiselect,t=[],i=0;i<e.list.length;i++){var a=e.list[i];t.push(a.value())}alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=$e.multiselect;-1===i.indexOf(e)&&i.list.push(e),t||i.redraw()},this.multiselect.remove=function(e,t){var i=$e.multiselect,a=i.indexOf(e);-1!==a&&i.list.splice(a,1),t||i.redraw()},this.multiselect.clear=function(e){var t=$e.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){for(var e=$e.multiselect,t=0;t<$e.elements.events.length;t++){var i=$e.elements.events[t];i.event&&i.event.isEvent&&(e.isSelected(i.event)?e.$8F(i):e.$8G(i))}},this.multiselect.$8H=function(e){for(var t=$e.multiselect,i=null,a=0;a<$e.elements.events.length;a++)if(t.isSelected($e.elements.events[a].event)){i=$e.elements.events[a];break}t.$8B(i)},this.multiselect.$8B=function(e){if(e){var t=$e.multiselect;t.isSelected(e.event)?t.$8F(e):t.$8G(e)}},this.multiselect.$8F=function(e){var t=$e.multiselect,i=$e.$7U($e.cssOnly?"_selected":"selected"),e=t.$8I(e);DayPilot.Util.addClass(e,i),t.divs.push(e)},this.multiselect.$8I=function(e){return e},this.multiselect.$8J=function(){for(var e=$e.multiselect,t=0;t<e.divs.length;t++){var i=e.divs[t];e.$8G(i,!0)}e.divs=[]},this.multiselect.$8G=function(e,t){var i=$e.multiselect,a=$e.$7U($e.cssOnly?"_selected":"selected");if(DayPilot.Util.removeClass(e,a),!t){var n=DayPilot.indexOf(i.divs,e);-1!==n&&i.divs.splice(n,1)}},this.multiselect.isSelected=function(e){return e&&e.isEvent?$e.multiselect.$8D(e,$e.multiselect.list):!1},this.multiselect.indexOf=function(e){for(var t=e.data,i=0;i<$e.multiselect.list.length;i++){var a=$e.multiselect.list[i];if(a.data===t)return i}return-1},this.multiselect.$8D=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++){var a=t[i];if(e===a)return!0;if("function"==typeof a.id){if(null!==a.id()&&null!==e.id()&&a.id()===e.id())return!0;if(null===a.id()&&null===e.id()&&a.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===a.start().toStringSortable())return!0}else{if(null!==a.id&&null!==e.id()&&a.id===e.id())return!0;if(null===a.id&&null===e.id()&&a.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===a.start)return!0}}return!1},this.$8B=function(e){var e=e||{},t=!e.eventsOnly;t&&(this.$83()||($e.timeHeader=null,$e.cellProperties={}),$e.$7o(),$e.$7p(),e&&e.dontLoadResources||$e.$7q()),this.$7s(),t&&($e.$8K(),$e.$7t(),$e.$7u()),$e.$7v(),$e.$7x(),$e.$8L(),$e.$7y(),$0K.hideLinkpoints(),this.$7B(),this.$7C(),this.$7A(),this.$7m(),this.$7r(),this.$7D(),this.$7E(),$e.$7z(),e.immediateEvents||e.eventsOnly?$e.$7F():setTimeout(function(){$e.$7F()},100),DayPilot.isArray($e.multiselect.list)&&$e.multiselect.list.length>0&&this.multiselect.redraw(),this.$7J(),this.$8M()},this.update=function(){this.$8B({immediateEvents:!0})},this.$8y=function(e,t,i){e=DayPilot.ua(e);for(var a=0;a<e.length;a++){var n=e[a];$e.$8N(n)}if(this.$8O){this.$7v(),this.$7x(),this.$7A(),this.$7C();for(var a=0;a<e.length;a++){var n=e[a];this.$8P(n)}for(var a=0;a<e.length;a++){var n=e[a];this.$8Q(n)}this.$7D(),this.$7E(),this.$8R()}else{var o=!0;if(o){var s=function(a){if(!(a>=e.length)){var n=e[a];t||$e.$8P(n),$e.$8Q(n),a+1<e.length?setTimeout(function(){s(a+1)},10):($e.$7Q(),$0K.load(),$e.multiselect.redraw(),i&&i())}};s(0)}else for(var a=0;a<e.length;a++){var n=e[a];t||this.$8P(n),this.$8Q(n)}}$e.$7Q(),$0K.load(),$e.multiselect.redraw(),i&&i(),this.$7m()},this.$8S=function(e,t,i,a,n,o,s){if("Disabled"!==$e.eventMoveHandling)if($e.$7K()){var l={};if(l.e=e,l.newStart=t,l.newEnd=i,l.newResource=a,l.external=n,l.ctrl=!1,l.meta=!1,l.shift=!1,o&&(l.shift=o.shiftKey,l.ctrl=o.ctrlKey,l.meta=o.metaKey),l.position=s,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventMove){if($e.onEventMove(l),l.preventDefault.value)return;t=l.newStart,i=l.newEnd}switch($e.eventMoveHandling){case"PostBack":$e.eventMovePostBack(e,t,i,a,null,s);break;case"CallBack":$e.eventMoveCallBack(e,t,i,a,null,s);break;case"Notify":$e.eventMoveNotify(e,t,i,a,null,s);break;case"Update":e.start(t),e.end(i),e.resource(a),n?(e.commit(),$e.events.add(e)):$e.events.update(e),$e.$7h()}"function"==typeof $e.onEventMoved&&$e.onEventMoved(l)}else switch($e.eventMoveHandling){case"PostBack":$e.eventMovePostBack(e,t,i,a,null,s);break;case"CallBack":$e.eventMoveCallBack(e,t,i,a,null,s);break;case"JavaScript":$e.onEventMove(e,t,i,a,n,o?o.ctrlKey:!1,o?o.shiftKey:!1,s);break;case"Notify":$e.eventMoveNotify(e,t,i,a,null,s);break;case"Update":e.start(t),e.end(i),e.resource(a),$e.events.update(e)}},this.$8T=function(e,t){var i=$e.$8U(t),a={};a.args=e,a.guid=i,$e.$8h("Bubble",a)},this.$8U=function(e){var t=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[t]=e,t},this.eventMenuClickPostBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$8g("EventMenuClick",a,i)},this.eventMenuClickCallBack=function(e,t,i){var a={};a.e=e,a.command=t,this.$8h("EventMenuClick",a,i)},this.$8V=function(e,t,i){switch(i){case"PostBack":$e.eventMenuClickPostBack(t,e);break;case"CallBack":$e.eventMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$8g("TimeRangeSelected",n,a)},this.timeRangeSelectedCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$8h("TimeRangeSelected",n,a)},this.$8W=function(e,t,i){if("Disabled"!==$e.timeRangeSelectedHandling)if($e.$7K()){var a={};if(a.start=e,a.end=t,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onTimeRangeSelect){if($e.onTimeRangeSelect(a),a.preventDefault.value)return;e=a.start,t=a.end}switch(function n(){var i=DayPilotScheduler.rangeHold,a,n;e.getTime()<$e.itline[0].start.getTime()?i.start.x=0:(a=$e.$8d(e),n=a.current||a.previous,i.start.x=DayPilot.indexOf($e.itline,n)),a=$e.$8d(t.addMilliseconds(-1)),a.past?i.end.x=$e.itline.length-1:(n=a.current||a.next,i.end.x=DayPilot.indexOf($e.itline,n)),$e.$8X(i)}(),$e.timeRangeSelectedHandling){case"PostBack":$e.timeRangeSelectedPostBack(e,t,i);break;case"CallBack":$e.timeRangeSelectedCallBack(e,t,i)}"function"==typeof $e.onTimeRangeSelected&&$e.onTimeRangeSelected(a)}else switch($e.timeRangeSelectedHandling){case"PostBack":$e.timeRangeSelectedPostBack(e,t,i);break;case"CallBack":$e.timeRangeSelectedCallBack(e,t,i);break;case"JavaScript":$e.onTimeRangeSelected(e,t,i);break;case"Hold":}},this.timeRangeDoubleClickPostBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$8g("TimeRangeDoubleClick",n,a)},this.timeRangeDoubleClickCallBack=function(e,t,i,a){var n={};n.start=e,n.end=t,n.resource=i,this.$8h("TimeRangeDoubleClick",n,a)},this.$8Y=function(e,t,i){if($e.$7K()){var a={};if(a.start=e,a.end=t,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onTimeRangeDoubleClick&&($e.onTimeRangeDoubleClick(a),a.preventDefault.value))return;switch($e.timeRangeDoubleClickHandling){case"PostBack":$e.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":$e.timeRangeDoubleClickCallBack(e,t,i)}"function"==typeof $e.onTimeRangeDoubleClicked&&$e.onTimeRangeDoubleClicked(a)}else switch($e.timeRangeDoubleClickHandling){case"PostBack":$e.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":$e.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":$e.onTimeRangeDoubleClick(e,t,i)}},this.timeRangeMenuClickPostBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$8g("TimeRangeMenuClick",a,i)},this.timeRangeMenuClickCallBack=function(e,t,i){var a={};a.selection=e,a.command=t,this.$8h("TimeRangeMenuClick",a,i)},this.$8Z=function(e,t,i){switch(i){case"PostBack":$e.timeRangeMenuClickPostBack(t,e);break;case"CallBack":$e.timeRangeMenuClickCallBack(t,e)}},this.linkMenuClickPostBack=function(e,t,i){var a={};a.link=e,a.command=t,this.$8g("LinkMenuClick",a,i)},this.linkMenuClickCallBack=function(e,t,i){var a={};a.link=e,a.command=t,this.$8h("LinkMenuClick",a,i)},this.$90=function(e,t,i){switch(i){case"PostBack":$e.linkMenuClickPostBack(t,e);break;case"CallBack":$e.linkMenuClickCallBack(t,e)}},this.rowMenuClickPostBack=function(e,t,i){var a={};a.resource=e,a.command=t,this.$8g("RowMenuClick",a,i)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(e,t,i){var a={};a.resource=e,a.command=t,this.$8h("RowMenuClick",a,i)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.$91=function(e,t,i){switch(i){case"PostBack":$e.rowMenuClickPostBack(t,e);break;case"CallBack":$e.rowMenuClickCallBack(t,e)}},this.$92=function(e,t){var i=$0U.$93(e),a=i.cells[0],n=a.textDiv;n.innerHTML=t,e.Text=t,e.html=t},this.$94=function(e,t){if(t){var i={};if(i.text=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof $e.onRowCreate||($e.onRowCreate(i),!i.preventDefault.value)){switch($e.rowCreateHandling){case"CallBack":$e.rowCreateCallBack(i.text);break;case"PostBack":$e.rowCreatePostBack(i.text)}"function"==typeof $e.onRowCreated&&$e.onRowCreated(i)}}},this.$95=function(e,t){if(e.isNewRow)return void $e.$94(e,t);var i=DayPilot.indexOf($e.rowlist,e),a=$e.$96(e,i);if($e.$7K()){var n={};if(n.resource=a,n.newText=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onRowEdit&&($e.onRowEdit(n),n.preventDefault.value))return;switch($e.rowEditHandling){case"PostBack":$e.rowEditPostBack(a,t);break;case"CallBack":$e.rowEditCallBack(a,t);break;case"Update":$e.$92(e,t)}"function"==typeof $e.onRowEdited&&$e.onRowEdited(n)}else switch($e.rowEditHandling){case"PostBack":$e.rowEditPostBack(a,t);break;case"CallBack":$e.rowEditCallBack(a,t);break;case"JavaScript":$e.onrowEdit(a,t)}},this.rowCreatePostBack=function(e,t){var i={};i.text=e,this.$8g("RowCreate",i,t)},this.rowCreateCallBack=function(e,t){var i={};i.text=e,this.$8h("RowCreate",i,t)},this.rowEditPostBack=function(e,t,i){var a={};a.resource=e,a.newText=t,this.$8g("RowEdit",a,i)},this.rowEditCallBack=function(e,t,i){var a={};a.resource=e,a.newText=t,this.$8h("RowEdit",a,i)},this.rowMovePostBack=function(e,t,i,a){var n={};n.source=e,n.target=t,n.position=i,this.$8g("RowMove",n,a)},this.rowMoveCallBack=function(e,t,i,a){var n={};n.source=e,n.target=t,n.position=i,this.$8h("RowMove",n,a)},this.rowMoveNotify=function(e,t,i,a){var n={};n.source=e,n.target=t,n.position=i,this.$8h("RowMove",n,a,"Notify")},this.rowClickPostBack=function(e,t){var i={};i.resource=e,this.$8g("RowClick",i,t)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(e,t){var i={};i.resource=e,this.$8h("RowClick",i,t)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.$97=function(e,t,i,a){if("Disabled"===$e.rowDoubleClickHandling)return void $e.$98(e,t,i,a);$e.timeouts.resClick||($e.timeouts.resClick=[]);var n=function(e,t,i,a){return function(){$e.$98(e,t,i,a)}};$e.timeouts.resClick.push(window.setTimeout(n(e,t,i,a),$e.doubleClickTimeout))},this.$98=function(e,t,i,a){var n=$e.resourceHeaderClickHandling||$e.rowClickHandling;if($e.$7K()){var o={};if(o.resource=e,o.ctrl=t,o.shift=i,o.meta=a,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onRowClick&&($e.onRowClick(o),o.preventDefault.value))return;if("function"==typeof $e.onResourceHeaderClick&&($e.onResourceHeaderClick(o),o.preventDefault.value))return;switch(n){case"PostBack":$e.rowClickPostBack(e);break;case"CallBack":$e.rowClickCallBack(e);break;case"Select":$e.$99(e.$.row,t,i,a);break;case"Edit":$e.$9a.edit(e.$.row)}"function"==typeof $e.onRowClicked&&$e.onRowClicked(o),"function"==typeof $e.onResourceHeaderClicked&&$e.onResourceHeaderClicked(o)}else switch(n){case"PostBack":$e.rowClickPostBack(e);break;case"CallBack":$e.rowClickCallBack(e);break;case"JavaScript":$e.onRowClick(e);break;case"Select":$e.$99(e.$.row,t,i);break;case"Edit":$e.$9a.edit(e.$.row)}},this.timeHeaderClickPostBack=function(e,t){var i={};i.header=e,this.$8g("TimeHeaderClick",i,t)},this.timeHeaderClickCallBack=function(e,t){var i={};i.header=e,this.$8h("TimeHeaderClick",i,t)},this.$9b=function(e){if($e.$7K()){var t={};if(t.header=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onTimeHeaderClick&&($e.onTimeHeaderClick(t),t.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":$e.timeHeaderClickPostBack(e);break;case"CallBack":$e.timeHeaderClickCallBack(e)}"function"==typeof $e.onTimeHeaderClicked&&$e.onTimeHeaderClicked(t)}else switch(this.timeHeaderClickHandling){case"PostBack":$e.timeHeaderClickPostBack(e);break;case"CallBack":$e.timeHeaderClickCallBack(e);break;case"JavaScript":$e.onTimeHeaderClick(e)}},this.resourceCollapsePostBack=function(e,t){var i={};i.resource=e,this.$8g("ResourceCollapse",i,t)},this.resourceCollapseCallBack=function(e,t){var i={};i.resource=e,this.$8h("ResourceCollapse",i,t)},this.$9c=function(e){if($e.$7K()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onResourceCollapse&&($e.onResourceCollapse(t),t.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":$e.resourceCollapsePostBack(e);break;case"CallBack":$e.resourceCollapseCallBack(e)}}else switch(this.resourceCollapseHandling){case"PostBack":$e.resourceCollapsePostBack(e);break;case"CallBack":$e.resourceCollapseCallBack(e);break;case"JavaScript":$e.onResourceCollapse(e)}},this.resourceExpandPostBack=function(e,t){var i={};i.resource=e,this.$8g("ResourceExpand",i,t)},this.resourceExpandCallBack=function(e,t){var i={};i.resource=e,this.$8h("ResourceExpand",i,t)},this.$9d=function(e){if($e.$7K()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onResourceExpand&&($e.onResourceExpand(t),t.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":$e.resourceExpandPostBack(e);break;case"CallBack":$e.resourceExpandCallBack(e)}}else switch(this.resourceExpandHandling){case"PostBack":$e.resourceExpandPostBack(e);break;case"CallBack":$e.resourceExpandCallBack(e);break;case"JavaScript":$e.onResourceExpand(e)}},this.eventEditPostBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$8g("EventEdit",a,i)},this.eventEditCallBack=function(e,t,i){var a={};a.e=e,a.newText=t,this.$8h("EventEdit",a,i)},this.$9e=function(e,t){if($e.$7K()){var i={};if(i.e=e,i.newText=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onEventEdit&&($e.onEventEdit(i),i.preventDefault.value))return;switch($e.eventEditHandling){case"PostBack":$e.eventEditPostBack(e,t);break;case"CallBack":$e.eventEditCallBack(e,t);break;case"Update":e.text(t),$e.events.update(e)}if("function"==typeof $e.onEventEdited&&($e.onEventEdited(i),i.preventDefault.value))return}else switch($e.eventEditHandling){case"PostBack":$e.eventEditPostBack(e,t);break;case"CallBack":$e.eventEditCallBack(e,t);break;case"JavaScript":$e.onEventEdit(e,t)}},this.commandCallBack=function(e,t){this.$9f("CallBack",e,t)},this.commandPostBack=function(e,t){this.$9f("PostBack",e,t)},this.$9f=function(e,t,i){var a={};a.command=t,this.$8r(e,"Command",a,i)},this.$8g=function(e,t,i){var a={};a.action=e,a.type="PostBack",a.parameters=t,a.data=i,a.header=this.$9g();var n="JSON"+DayPilot.JSON.stringify(a);__doPostBack($e.uniqueID,n)},this.$8h=function(e,t,i,a){if(!$e.$83())return void $e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");"undefined"==typeof a&&(a="CallBack"),this.$9h(),$e.$9i();var n={};n.action=e,n.type=a,n.parameters=t,n.data=i,n.header=this.$9g();var o=DayPilot.JSON.stringify(n),s;s="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(o)):"JSON"+o,this.$9j(n);var l=null;this.backendUrl?DayPilot.request(this.backendUrl,this.$9k,s,this.$9l):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,s,this.$7g,l,this.callbackError,!0)},this.$9j=function(e){var t={};"function"==typeof $e.onCallBackStart&&$e.onCallBackStart(t)},this.$7l=function(){var e={};"function"==typeof $e.onCallBackEnd&&setTimeout(function(){$e.onCallBackEnd(e)},0)},this.$83=function(){return this.backendUrl?!0:this.$9m()?!0:!1},this.$9m=function(){return"function"==typeof WebForm_DoCallback&&this.uniqueID?!0:!1},this.$9l=function(e){if("function"==typeof $e.onAjaxError){var t={};t.request=e,$e.onAjaxError(t)}else"function"==typeof $e.ajaxError&&$e.ajaxError(e)},this.$9k=function(e){$e.$7g(e.responseText)},this.$9g=function(){var e={};e.v=this.v,e.control="dps",e.id=this.id,e.startDate=$e.startDate,e.days=$e.days,e.cellDuration=$e.cellDuration,e.cellGroupBy=$e.cellGroupBy,e.cellWidth=$e.cellWidth,e.cellWidthSpec=$e.cellWidthSpec,e.viewType=$e.viewType,e.hourNameBackColor=$e.hourNameBackColor,e.showNonBusiness=$e.showNonBusiness,e.businessBeginsHour=$e.businessBeginsHour,e.businessEndsHour=$e.businessEndsHour,e.weekStarts=$e.weekStarts,e.treeEnabled=$e.treeEnabled,e.backColor=$e.cellBackColor,e.nonBusinessBackColor=$e.cellBackColorNonBusiness,e.locale=$e.locale,e.timeZone=$e.timeZone,e.tagFields=$e.tagFields,e.timeHeaders=$e.timeHeaders,e.cssOnly=$e.cssOnly,e.cssClassPrefix=$e.cssClassPrefix,e.durationBarMode=$e.durationBarMode,e.showBaseTimeHeader=!0,e.rowHeaderColumns=$e.rowHeaderColumns,e.rowMarginBottom=$e.rowMarginBottom,e.rowMarginTop=$e.rowMarginTop,e.rowMinHeight=$e.rowMinHeight,e.scale=$e.scale,e.clientState=$e.clientState,this.nav.scroll&&(e.scrollX=this.nav.scroll.scrollLeft,e.scrollY=this.nav.scroll.scrollTop),e.selected=$e.multiselect.events(),e.selectedRows=$0U.$9n(),e.hashes=$e.hashes;var t=$e.$9o(e.scrollX,e.scrollY),i=$e.$9p(t),a=$e.$9q(t);if(e.rangeStart=i.start,e.rangeEnd=i.end,e.resources=a,e.dynamicLoading=$e.dynamicLoading,this.syncResourceTree&&(e.tree=this.$9r()),this.syncLinks&&(e.links=this.$9s()),"function"==typeof $e.onCallBackHeader){var n={};n.header=e,$e.onCallBackHeader(n)}return e},this.$9s=function(){for(var e=[],t=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t},i=0;i<$e.links.length;i++){var a=$e.links[i],n={};n.id=a.id,n.from=a.from,n.to=a.to,n.type=a.type,n.tags=t(a),e.push(n)}return e},this.getViewPort=function(){var e=this.nav.scroll.scrollLeft,t=this.nav.scroll.scrollTop,i=this.$9o(e,t),a=this.$9p(i),n=this.$9q(i),o={};return o.start=a.start,o.end=a.end,o.resources=n,o},this.$9o=function(e,t){var i={};i.start={},i.end={},i.start.x=Math.floor(e/$e.cellWidth),i.end.x=Math.floor((e+$e.nav.scroll.clientWidth)/$e.cellWidth),i.start.y=$e.$9t(t).i,i.end.y=$e.$9t(t+$e.nav.scroll.clientHeight).i;var a=this.itline.length;return i.end.x>=a&&(i.end.x=a-1),i},this.$9p=function(e){var t={};if(this.itline.length<=0)return t.start=this.startDate,t.end=this.startDate,t;if(!this.itline[e.start.x])throw"Internal error: area.start.x is null.";return t.start=this.itline[e.start.x].start,t.end=this.itline[e.end.x].end,t},this.$9q=function(e){if(!e)var e=this.$9o(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var t=[];t.ignoreToJSON=!0;for(var i=e.start.y;i<=e.end.y;i++){var a=$e.rowlist[i];a&&!a.hidden&&t.push(a.id)}return t},this.$9r=function(){var e=[];e.ignoreToJSON=!0;for(var t=0;t<this.rowlist.length;t++){var i=this.rowlist[t];if(!(i.level>0||i.isNewRow)){var a=this.$9u(t);e.push(a)}}return e},this.$9v=function(e){var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.length;i++){var a=e[i],n=$e.rowlist[a];n.isNewRow||t.push($e.$9u(a))}return t},this.$9u=function(e){var t=this.rowlist[e];if("function"==typeof $e.onGetNodeState){var i={};if(i.row=t,i.preventDefault=function(){i.preventDefault.value=!0},i.result={},$e.onGetNodeState(i),i.preventDefault.value)return i.result}var a={};return a.Value=t.id,a.BackColor=t.backColor,a.Name=t.name,a.InnerHTML=t.html,a.ToolTip=t.toolTip,a.Expanded=t.expanded,a.Children=this.$9v(t.children),a.Loaded=t.loaded,a.IsParent=t.isParent,a.Columns=this.$9w(t),t.minHeight!==$e.rowMinHeight&&(a.MinHeight=t.minHeight),t.marginBottom!==$e.rowMarginBottom&&(a.MarginBottom=t.marginBottom),t.marginTop!==$e.rowMarginTop&&(a.MarginTop=t.marginTop),t.eventHeight!==$e.eventHeight&&(a.EventHeight=t.eventHeight),a},this.$9w=function(e){if(!e.columns||0===e.columns.length)return null;var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.columns.length;i++){var a={};a.InnerHTML=e.columns[i].html,t.push(a)}return t},this.$7U=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.$9x=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var e=$e;e.nav.top&&(e.$9h(),e.$7B(),e.divBreaks=null,e.divCells=null,e.divCorner=null,e.divCrosshair=null,e.divEvents=null,e.divHeader&&(e.divHeader.rows=null),e.divHeader=null,e.divLines=null,e.divNorth=null,e.divRange=null,e.divResScroll=null,e.divSeparators=null,e.divSeparatorsAbove=null,e.divStretch=null,e.divTimeScroll=null,e.$80=null,e.$7n=null,e.$9y.calendar=null,e.$9y=null,e.nav.loading=null,e.nav.top.onmousemove=null,e.nav.top.dispose=null,e.nav.top.ontouchstart=null,e.nav.top.ontouchmove=null,e.nav.top.ontouchend=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,e.nav.scroll.onscroll=null,e.nav.scroll.root=null,e.nav.scroll=null,DayPilot.ue(window,"resize",e.$9z),DayPilotScheduler.unregister(e))},this.$9A=function(e,t){var i=$e.$9y,a=$e.$9B(e),n=e.event,o=n.part.height||$e.$9C.eventHeight(),s=n.part&&n.part.top?n.part.top+$e.rowlist[n.part.dayIndex].top:a.top,l=document.createElement("div");l.setAttribute("unselectable","on"),l.style.position="absolute",l.style.width=a.width+"px",l.style.height=o+"px",l.style.left=a.left+"px",l.style.top=s+"px",l.style.zIndex=101,l.style.overflow="hidden";var r=document.createElement("div");return l.appendChild(r),this.cssOnly&&(l.className=this.$7U("_shadow"),r.className=this.$7U("_shadow_inner")),this.cssOnly||("Fill"===t?(r.style.backgroundColor="#aaaaaa",r.style.opacity=.5,r.style.filter="alpha(opacity=50)",r.style.height="100%",e&&e.event&&e.style&&(r.style.fontSize=e.style.fontSize,r.style.fontFamily=e.style.fontFamily,r.style.color=e.style.color,r.innerHTML=e.event.client.innerHTML())):(l.style.paddingTop="2px",r.style.border="2px dotted #666666")),i.appendChild(l),l.calendar=$e,l},this.$9D=function(e,t){var i=$e.$9y,a=$e.$9B(e),n=e.event,o=n,s=n.part.height||$e.$9C.eventHeight(),l=n.part&&n.part.top?n.part.top+$e.rowlist[n.part.dayIndex].top:a.top,r=a.left,c=o.cache&&"undefined"!=typeof o.cache.moveVDisabled?!o.cache.moveVDisabled:!o.data.moveVDisabled,d=o.cache&&"undefined"!=typeof o.cache.moveHDisabled?!o.cache.moveHDisabled:!o.data.moveHDisabled;!c&&DayPilotScheduler.moving&&(l=$e.rowlist[o.part.dayIndex].top),!d&&DayPilotScheduler.moving&&(r=n.part.left);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.width=a.width+"px",h.style.height=s+"px",h.style.left=r+"px",h.style.top=l+"px",h.style.zIndex=101,h.style.overflow="hidden";var u=document.createElement("div");return h.appendChild(u),this.cssOnly&&(h.className=this.$7U("_shadow"),u.className=this.$7U("_shadow_inner")),this.cssOnly||("Fill"===t?(u.style.backgroundColor="#aaaaaa",u.style.opacity=.5,u.style.filter="alpha(opacity=50)",u.style.height="100%",e&&e.event&&e.style&&(u.style.fontSize=e.style.fontSize,u.style.fontFamily=e.style.fontFamily,u.style.color=e.style.color,u.innerHTML=e.event.client.innerHTML())):(h.style.paddingTop="2px",u.style.border="2px dotted #666666")),i.appendChild(h),h.calendar=$e,h},this.$9t=function(e){for(var t={},i,a=0,n=0,o=this.rowlist.length,s=0;o>s;s++){var l=this.rowlist[s];if(!l.hidden&&(n+=l.height,n>e||s===o-1)){a=n-l.height,i=l;break}}return t.top=a,t.bottom=n,t.i=s,t.element=i,t};var $0K={};this.$9E=$0K,$0K.clear=function(){$e.divLinksAbove.innerHTML="",$e.divLinksBelow.innerHTML="",$e.elements.links=[]},$0K.showLinkpoints=function(){var e=$z.events();e.each(function(e){$0K.showLinkpoint(e)})},$0K.showLinkpoint=function(e){var t=10,i=t/2,a=e.event.part.left,n=$e.rowlist[e.event.part.dayIndex].top+e.event.part.top,o=e.event.part.height,s=e.event.part.right,l=DayPilot.Util.div($e.divLinkpoints,a-i,n-i+o/2,t,t);l.style.backgroundColor="white",l.style.border="1px solid gray",l.style.borderRadius="5px",l.style.boxSizing="border-box",l.coords={x:a,y:n+o/2},l.type="Start",l.event=e.event,$0K.activateLinkpoint(l),$e.elements.linkpoints.push(l);var r=DayPilot.Util.div($e.divLinkpoints,s-i,n-i+o/2,t,t);r.style.backgroundColor="white",r.style.border="1px solid gray",r.style.borderRadius="5px",r.style.boxSizing="border-box",r.coords={x:s,y:n+o/2},r.type="Finish",r.event=e.event,$0K.activateLinkpoint(r),$e.elements.linkpoints.push(r)},$0K.activateLinkpoint=function(e){e.onmousedown=function(t){var t=t||window.event;return $1s.source=e,$1s.calendar=$e,$0K.showLinkpoints(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},e.onmousemove=function(t){e.style.backgroundColor="black",$0K.clearHideTimeout()},e.onmouseout=function(t){$1s.source&&$1s.source.event===e.event||(e.style.backgroundColor="white")},e.onmouseup=function(t){if($1s.source){var i=$1s.source.type+"To"+e.type,a=$1s.source.event.id(),n=e.event.id(),o={};if(o.from=a,o.to=n,o.type=i,o.id=null,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onLinkCreate&&($e.onLinkCreate(o),o.preventDefault.value))return;var s=function(){$e.links.push({from:a,to:n,type:i}),$0K.load()};switch($e.linkCreateHandling){case"Update":s();break;case"CallBack":$e.$9F(o);break;case"PostBack":$e.$9G(o);break;case"Notify":s(),$e.$9H(o)}"function"==typeof $e.onLinkCreated&&$e.onLinkCreated(o)}}},$0K.hideLinkpoints=function(){$e.divLinkpoints.innerHTML="",$e.elements.linkpoints=[]},$0K.hideTimeout=null,$0K.hideLinkpointsWithDelay=function(){$0K.hideTimeout=setTimeout(function(){$0K.hideLinkpoints()},100)},$0K.clearHideTimeout=function(){$0K.hideTimeout&&(clearTimeout($0K.hideTimeout),$0K.hideTimeout=null)},$0K.load=function(){if($0K.clear(),DayPilot.isArray($e.links))for(var e=0;e<$e.links.length;e++){var t=$e.links[e];$0K.drawLinkId(t.from,t.to,t)}},$0K.drawLinkId=function(e,t,i){var a=$e.events.find(e),n=$e.events.find(t);$0K.drawLink(a,n,i)},$0K.drawLink=function(e,t,i){var a=$e.$9I(e),n=$e.$9I(t);if(a&&n){var o=i.type||"FinishToStart",s,l,r=$e.rowlist[a.event.part.dayIndex].top,c=$e.rowlist[n.event.part.dayIndex].top;switch(o){case"FinishToStart":s={x:a.event.part.right,y:r+a.event.part.top},l={x:n.event.part.left,y:c+n.event.part.top};break;case"StartToFinish":s={x:a.event.part.left,y:r+a.event.part.top},l={x:n.event.part.right,y:c+n.event.part.top};break;case"StartToStart":s={x:a.event.part.left,y:r+a.event.part.top},l={x:n.event.part.left,y:c+n.event.part.top};break;case"FinishToFinish":s={x:a.event.part.right,y:r+a.event.part.top},l={x:n.event.part.right,y:c+n.event.part.top}}$0K.drawLinkXy(s,l,i)}},$0K.clearShadow=function(){$e.divLinkShadow.innerHTML="",$e.elements.linkshadow=[]},$0K.drawShadow=function(e,t){if($0K.clearShadow(),DayPilot.browser.ielt9)$0K.drawShadowOldStyle(e,t);else{var i=$e.divLinkShadow,a=DayPilot.line(e.x,e.y,t.x,t.y,!0);i.appendChild(a),$e.elements.linkshadow.push(a)}},$0K.drawShadowOldStyle=function(e,t){var i=Math.min(e.x,t.x),a=2,n=$e.divLinkShadow,o="black",s=DayPilot.Util.div(n,i,e.y,e.x-i,a);s.style.backgroundColor=o,$e.elements.linkshadow.push(s);var l=DayPilot.Util.div(n,i,e.y,a,t.y-e.y);l.style.backgroundColor=o,$e.elements.linkshadow.push(l);var r=DayPilot.Util.div(n,i,t.y,t.x-i,a);r.style.backgroundColor=o,$e.elements.linkshadow.push(r);var c=DayPilot.Util.div(n,t.x-6,t.y-5,0,0);c.style.borderColor="transparent transparent transparent "+o,c.style.borderStyle="solid",c.style.borderWidth="6px",$e.elements.linkshadow.push(c)},$0K.drawLinkXy=function(e,t,i){var a=$e.eventHeight/2,n=i.width||1,o=i.type||"FinishToStart",s=i.color,l=i.style,r=i.layer||"Above",c="Above"===r,d=c?$e.divLinksAbove:$e.divLinksBelow,h=$e.eventHeight,u=$e.linkBottomMargin,f=function(e,t){s&&(e.style["border"+t+"Color"]=s),l&&(e.style["border"+t+"Style"]=l)},v=[],p=function(e,t){$e.elements.links.push(e),m(e),y(e),e.divs=v,t||v.push(e)},y=function(e){e.oncontextmenu=function(e){if(e=e||window.event,$e.contextMenuLink){var t=new DayPilot.Link(i,$e);$e.contextMenuLink.show(t)}e.cancelBubble=!0,e.preventDefault?e.preventDefault():null}},m=function(e){e.onmouseenter=function(){DayPilot.Util.addClass(e.divs,$e.$7U("_link_hover"))},e.onmouseleave=function(){DayPilot.Util.removeClass(e.divs,$e.$7U("_link_hover"))}};if("FinishToStart"===o)if(e.x>t.x){var c=5,g=t.y-c,b=DayPilot.Util.div(d,e.x,e.y+h-u,a+n,n);b.style.boxSizing="border-box",b.style.borderBottomWidth=n+"px",b.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(b,i.cssClass),f(b,"Bottom"),p(b);var D=DayPilot.Util.div(d,e.x+a,e.y+h-u,n,g-(e.y+h-u));D.style.boxSizing="border-box",D.style.borderRightWidth=n+"px",D.className=$e.$7U("_link_vertical"),DayPilot.Util.addClass(D,i.cssClass),f(D,"Right"),p(D);var w=DayPilot.Util.div(d,t.x-a,g,e.x+2*a+n-t.x,n);w.style.boxSizing="border-box",w.style.borderBottomWidth=n+"px",w.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(w,i.cssClass),f(w,"Bottom"),p(w);var k=DayPilot.Util.div(d,t.x-a,g,n,t.y-g+h-u);k.style.boxSizing="border-box",k.style.borderRightWidth=n+"px",k.className=$e.$7U("_link_vertical"),DayPilot.Util.addClass(k,i.cssClass),f(k,"Right"),p(k);var C=DayPilot.Util.div(d,t.x-a,t.y+h-u,a,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),f(C,"Bottom"),p(C);var P;s?(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+s,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,6,6),P.className=$e.$7U("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),p(P,!0)}else{var x=e.x,S=e.y+h-u,T=t.x+a,M=t.y,b=DayPilot.Util.div(d,x,S,T-e.x,n);b.style.boxSizing="border-box",b.style.borderBottomWidth=n+"px",b.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(b,i.cssClass),f(b,"Bottom"),p(b);var D=DayPilot.Util.div(d,T,S,n,M-S);D.style.boxSizing="border-box",D.style.borderRightWidth=n+"px",D.className=$e.$7U("_link_vertical"),DayPilot.Util.addClass(D,i.cssClass),f(D,"Right"),p(D);var P;s?(P=DayPilot.Util.div(d,T-5+Math.floor(n/2),M-5,0,0),P.style.borderColor=s+" transparent transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="5px"):(P=DayPilot.Util.div(d,T-6+Math.floor(n/2),M-6,6,6),P.className=$e.$7U("_link_arrow_down"),DayPilot.Util.addClass(P,i.cssClass)),p(P,!0)}else if("StartToFinish"===o){var c=5,g=t.y-c,b=DayPilot.Util.div(d,t.x,t.y+h-u,a+n,n);b.style.boxSizing="border-box",b.style.borderBottomWidth=n+"px",b.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(b,i.cssClass),f(b,"Bottom"),p(b);var D=DayPilot.Util.div(d,t.x+a,t.y+h-u,n,g-(t.y+h-u)+0);D.style.boxSizing="border-box",D.style.borderRightWidth=n+"px",D.className=$e.$7U("_link_vertical"),DayPilot.Util.addClass(D,i.cssClass),f(D,"Right"),p(D);var w=DayPilot.Util.div(d,e.x-a,g,t.x+2*a+n-e.x,n);w.style.boxSizing="border-box",w.style.borderBottomWidth=n+"px",w.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(w,i.cssClass),f(w,"Bottom"),p(w);var k=DayPilot.Util.div(d,e.x-a,g,n,e.y+h-u-g+0);k.style.boxSizing="border-box",k.style.borderRightWidth=n+"px",k.className=$e.$7U("_link_vertical"),DayPilot.Util.addClass(k,i.cssClass),f(k,"Right"),p(k);
var C=DayPilot.Util.div(d,e.x-a,e.y+h-u,a,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),f(C,"Bottom"),p(C);var P;s?(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,0,0),P.style.borderColor="transparent "+s+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,6,6),P.className=$e.$7U("_link_arrow_left"),DayPilot.Util.addClass(P,i.cssClass)),p(P,!0)}else if("StartToStart"===o){var H=Math.min(e.x,t.x)-a,b=DayPilot.Util.div(d,H,e.y+h-u,e.x-H,n);b.style.boxSizing="border-box",b.style.borderBottomWidth=n+"px",b.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(b,i.cssClass),f(b,"Bottom"),p(b);var D=DayPilot.Util.div(d,H,e.y+h-u,n,t.y-e.y);D.style.boxSizing="border-box",D.style.borderRightWidth=n+"px",D.className=$e.$7U("_link_vertical"),DayPilot.Util.addClass(D,i.cssClass),f(D,"Right"),p(D);var C=DayPilot.Util.div(d,H,t.y+h-u,t.x-H,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),f(C,"Bottom"),p(C);var P;s?(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,0,0),P.style.borderColor="transparent transparent transparent "+s,P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,6,6),P.className=$e.$7U("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),p(P,!0)}else if("FinishToFinish"===o){var A=Math.max(t.x,e.x)+a,b=DayPilot.Util.div(d,e.x,e.y+h-u,A-e.x,n);b.style.boxSizing="border-box",b.style.borderBottomWidth=n+"px",b.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(b,i.cssClass),f(b,"Bottom"),p(b);var D=DayPilot.Util.div(d,A,e.y+h-u,n,t.y-e.y);D.style.boxSizing="border-box",D.style.borderRightWidth=n+"px",D.className=$e.$7U("_link_vertical"),DayPilot.Util.addClass(D,i.cssClass),f(D,"Right"),p(D);var C=DayPilot.Util.div(d,t.x,t.y+h-u,A-t.x,n);C.style.boxSizing="border-box",C.style.borderBottomWidth=n+"px",C.className=$e.$7U("_link_horizontal"),DayPilot.Util.addClass(C,i.cssClass),f(C,"Bottom"),p(C);var P;s?(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,0,0),P.style.borderColor="transparent "+s+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,t.x-6,t.y+h-u-5,6,6),P.className=$e.$7U("_link_arrow_left"),DayPilot.Util.addClass(P,i.cssClass)),p(P,!0)}},this.$9F=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,$e.$8h("LinkCreate",i,t)},this.$9H=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,$e.$8h("LinkCreate",i,t,"Notify")},this.$9G=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,$e.$8g("LinkCreate",i,t)},this.$9J=function(e){var t=0,i=0,a=0;if(e>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var n=0;e>=n;n++){var o=this.rowlist[n];o.hidden||(i+=o.height,a++)}t=i-o.height;var s={};return s.top=t,s.height=o.height,s.bottom=i,s.i=a-1,s.data=o,s},this.$9K=function(){return this.backendUrl?"undefined"==typeof $e.events.list||!$e.events.list:!1},this.events.find=function(e){if(!$e.events.list||"undefined"==typeof $e.events.list.length)return null;for(var t=$e.events.list.length,i=0;t>i;i++)if($e.events.list[i].id===e)return new DayPilot.Event($e.events.list[i],$e);return null},this.events.all=function(){for(var e=[],t=0;t<$e.events.list.length;t++){var i=new DayPilot.Event($e.events.list[t],$e);e.push(i)}return DayPilot.list(e)},this.events.filter=function(e){$e.events.$9L=e,$e.$8B({eventsOnly:!0})},this.events.load=function($1S,$1T,$1U){var $1V=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof $1U&&$1U(t)},$1X=function($h){var r=$h.request,$m;try{$m=eval("("+r.responseText+")")}catch(e){var $1Y={};return $1Y.exception=e,void $1V($1Y)}if(DayPilot.isArray($m)){var $1Z={};if($1Z.preventDefault=function(){this.preventDefault.value=!0},$1Z.data=$m,"function"==typeof $1T&&$1T($1Z),$1Z.preventDefault.value)return;$e.events.list=$m,$e.$9M&&$e.update()}};DayPilot.ajax({url:$1S,success:$1X,error:$1V})},this.events.findRecurrent=function(e,t){if(!$e.events.list||"undefined"==typeof $e.events.list.length)return null;for(var i=$e.events.list.length,a=0;i>a;a++)if($e.events.list[a].recurrentMasterId===e&&$e.events.list[a].start.getTime()===t.getTime())return new DayPilot.Event($e.events.list[a],$e);return null},this.events.$8u=function(e){for(var t=[],i=0;i<$e.rowlist.length;i++){var a=$e.rowlist[i];$e.$9N(i);for(var n=0;n<a.events.length;n++)if(a.events[n].data===e){t.push(i),a.events.splice(n,1);break}}return t},this.events.$8v=function(e){var t=[],i=$e.$9O()||"Days"===$e.viewType,a=DayPilot.indexOf($e.events.list,e);$e.$9P(a);for(var n=0;n<$e.rowlist.length;n++){var o=$e.rowlist[n];$e.$9N(n);var s=$e.$9Q(e,o);if(s&&("function"==typeof $e.onBeforeEventRender&&(s.cache=$e.$7f.events[a]),t.push(n),!i))break}return t},this.events.update=function(e,t){var i={};i.oldEvent=new DayPilot.Event(e.copy(),$e),i.newEvent=new DayPilot.Event(e.temp(),$e);var a=new DayPilot.Action($e,"EventUpdate",i,t);if($e.$9R.scope)e.commit(),$e.$9R.notify();else{var n=$e.events.$8u(e.data);e.commit(),n=n.concat($e.events.$8v(e.data)),$e.$8w(n),$e.$8x(),$e.$9M&&("Gantt"===$e.viewType?$e.update():($e.$8y(n),$e.$7z()))}return a},this.events.remove=function(e,t){var i={};i.e=new DayPilot.Event(e.data,$e);var a=new DayPilot.Action($e,"EventRemove",i,t),n=DayPilot.indexOf($e.events.list,e.data);if($e.events.list.splice(n,1),$e.$9R.scope)$e.$9R.notify();else{var o=$e.events.$8u(e.data);$e.$8w(o),$e.$8x(),$e.$9M&&("Gantt"===$e.viewType?$e.update():($e.$8y(o),$e.$7z()))}return a},this.events.add=function(e,t){if(e.calendar=$e,$e.events.list||($e.events.list=[]),$e.events.list.push(e.data),$e.$9R.scope)$e.$9R.notify();else{var i={};i.e=e;var a=new DayPilot.Action($e,"EventAdd",i,t),n=$e.events.$8v(e.data);$e.$8w(n),$e.$8x(),$e.$9M&&("Gantt"===$e.viewType?$e.update():($e.$8y(n),$e.$7z()))}return a},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";$e.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=$e.queue.list,$e.$8h("Notify",t,e,"Notify"),$e.queue.list=[]},this.queue.clear=function(){$e.queue.list=[]},this.queue.pop=function(){return $e.queue.list.pop()},this.cells.find=function(e,t){var i=$e.getPixels(new DayPilot.Date(e));if(!i)return $22();var a=i.i,n=$e.$7L(t);if(!n)return $22();var o=n.top,s=$e.$9t(o).i;return this.findXy(a,s)},this.cells.findByPixels=function(e,t){var i=$e.$8b(e);if(!i)return $22();var e=i.x,a=$e.$9t(t);if(!a)return $22();var t=a.i;return this.findXy(e,t)},this.cells.all=function(){for(var e=[],t=$e.itline.length,i=$e.rowlist.length,a=0;t>a;a++)for(var n=0;i>n;n++){var o=$e.cells.findXy(a,n);e.push(o[0])}return $22(e)},this.cells.$9S=function(e,t){var i=$e.itline[e],a={};a.x=e,a.y=t,a.i=e+"_"+t,a.resource=$e.rowlist[t].id,a.start=i.start,a.end=i.end,a.update=function(){if(!$e.rowlist[a.y].hidden){var e=$e.$7N();if(e.xStart<=a.x&&a.x<=e.xEnd&&e.yStart<=a.y&&a.y<=e.yEnd){var t=$e.$7f.cells[a.i];$e.$9T(t),$e.$9U(a.x,a.y)}}},a.div=$e.$7f.cells[a.i];var n=$e.$9V(e,t);return a.properties=n,a},this.cells.findXy=function(e,t){if(DayPilot.isArray(e)){for(var i=[],a=0;a<e.length;a++){var n=e[a];i.push($e.cells.$9S(n.x,n.y))}return $22(i)}if(null===e||null===t)return $22();var o=$e.cells.$9S(e,t);return $22(o)};var $24=function(e){var t=[];if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else"object"==typeof e&&t.push(e);return t.each=function(e){if(e)for(var i=0;i<t.length;i++)e(t[i])},t},$22=function(e){var t=[];if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)t.push(e[i]);else"object"==typeof e&&t.push(e);return t.cssClass=function(e){return this.each(function(t){t.properties.cssClass=DayPilot.Util.addClassToString(t.properties.cssClass,e),t.update()}),this},t.removeClass=function(e){return this.each(function(t){t.properties.cssClass=DayPilot.Util.removeClassFromString(t.properties.cssClass,e),t.update()}),this},t.addClass=t.cssClass,t.html=function(e){return this.each(function(t){t.properties.html=e,t.update()}),this},t.each=function(e){if(e)for(var i=0;i<this.length;i++)e(t[i])},t};this.$9R={},this.$9R.scope=null,this.$9R.notify=function(){$e.$9R.scope&&$e.$9R.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$9W=function(e){if("Days"!==$e.viewType)throw"Checking row start when viewType !== 'Days'";for(var t=0;t<$e.rowlist.length;t++){var i=$e.rowlist[t],a=i.element?i.element.data:i.data,n=a.start;if(e.getTime()>=n.getTime()&&e.getTime()<n.addDays(1).getTime())return n}return null},this.$9X=function(e){if(e.ticks===this.startDate.ticks)return e;var t=this.startDate;if(e.ticks<this.startDate.ticks){for(var i=this.itline[0].end.ticks-this.itline[0].start.ticks;t.ticks>e.ticks;)t=t.addTime(-i);return t}if("Days"===$e.viewType){var a=this.$9W(e),n=a.getTime()-$e.startDate.getTime(),o=this.$8d(e.addTime(-n));if(o.current)return o.current.start.addTime(n);if(o.past)return o.previous.end.addTime(n);throw"getBoxStart(): time not found"}var o=this.$8d(e);if(o.current)return o.current.start;if(o.past)return o.previous.end;if(o.hidden){var s=o.next.start.getTime()-e.getTime(),l=o.next.end.getTime()-o.next.start.getTime(),r=Math.ceil(s/l)*l,c=o.next.start.addTime(-r);return c}throw"getBoxStart(): time not found"},this.$9B=function(e){var t=this.$9t($e.coords.y),i=e.event;if("function"!=typeof i.end)throw"e.end function is not defined";if(!i.end())throw"e.end() returns null";var a=DayPilot.Date.diff(i.end().d,i.start().d);a=Math.max(a,1);var n=$Q.useBox(a),o=i.data&&"Milestone"===i.data.type,s=$e.eventHeight,l=0,r=$e.coords.x;if(o&&(r+=s/2),"Manual"===$e.scale){var c=function(){var e=$e.getDate($e.coords.x,!0,!0),t=e.addTime(-a),i=$e.getPixels(t).boxLeft,n=$e.getPixels(e).boxRight,e=Math.min(n,$e.coords.x);return e-i}(),d=Math.min(DayPilotScheduler.moveOffsetX,c);r=$e.coords.x-d}if(n&&!o){var h=$e.$8d(i.start()),u=!h.hidden&&!h.past;l=i.start().getTime()-this.$9X(i.start()).getTime(),u&&(l=function(e,t){var i=$e.$9Y($e.$8d(e).current),a=$e.$9Y($e.$8b(r).cell);if(i>1.2*a){for(var n=t>0?1:-1,t=Math.abs(t);t>=a;)t-=a;t*=n}return t}(i.start(),l))}var f=0;if(DayPilotScheduler.moveDragStart&&"Manual"!==$e.scale)if(n){f=DayPilotScheduler.moveDragStart.getTime()-this.$9X(i.start()).getTime();var v=60*$e.$9Z()*1e3;f=Math.floor(f/v)*v}else f=DayPilotScheduler.moveDragStart.getTime()-i.start().getTime();else f=0;this.eventMoveToPosition&&(f=0);var p=this.getDate(r,!0).addTime(-f);DayPilotScheduler.resizing&&(p=i.start()),this.snapToGrid&&(p=this.$9X("Days"===$e.viewType?p:p)),p=p.addTime(l);var y=p.addTime(a),m=p,g=y;if("Days"===this.viewType){var b=this.rowlist[i.part.dayIndex].start.getTime()-this.startDate.getTime(),m=p.addTime(-b),g=m.addTime(a),D=t.element.data.start.getTime()-this.startDate.getTime();p=m.addTime(D),y=p.addTime(a)}var w=this.getPixels(m),k=this.getPixels(g),C=n?w.boxLeft:w.left,P=n?k.boxRight-C:k.left-C;o&&(P=s,C-=P/2);var x={};return x.top=t.top,x.left=C,x.row=t.element,x.rowIndex=t.i,x.width=P,x.start=p,x.end=y,x.relativeY=$e.coords.y-t.top,x},this.$9Z=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600}throw"can't guess cellDuration value"},this.$9Y=function(e){return e.end.ticks-e.start.ticks},this.$a0=function(e){return this.treePreventParentUsage&&this.$a1(e)},this.$a1=function(e){var t=this.rowlist[e];return t.isParent?!0:this.treeEnabled&&t.children&&t.children.length>0?!0:!1},this.$a2={},this.$a3=function(){if($e.treeAutoExpand){var e=this.$9B(DayPilotScheduler.moving),t=e.rowIndex,i=this.$a1(t),a=this.$a2;a.timeout&&a.y!==t&&(clearTimeout(a.timeout),a.timeout=null),i&&(a.y=t,a.timeout||(a.timeout=setTimeout(function(){var e=!$e.rowlist[a.y].expanded;e&&($e.$a4(a.y),$e.$a5()),a.timeout=null},500)))}},this.$a6=function(){var e=DayPilotScheduler.resizingShadow.clientWidth,t=DayPilotScheduler.resizingShadow.offsetLeft,i=DayPilotScheduler.resizing.event,a=DayPilotScheduler.resizing.dpBorder,n=$e.rowlist[DayPilotScheduler.resizing.event.part.dayIndex],o=n.start.getTime()-$e.$a7().getTime(),s=null,l=null,r=!$e.snapToGrid;"left"===a?(s=$e.getDate(t,r).addTime(o),l=i.end()):"right"===a&&(s=i.start(),l=$e.getDate(t+e,r,!0).addTime(o)),DayPilotScheduler.resizingShadow.start=s,DayPilotScheduler.resizingShadow.end=l},this.$a5=function(){var e=this.nav.scroll;if($e.coords){$e.$7Y();var t=DayPilotScheduler.movingShadow,i=this.$9B(DayPilotScheduler.moving),a=DayPilotScheduler.moving.event,n=0;!function p(){for(var e=i.relativeY,t=i.row,a=t.lines.length,o=0,s=$e.$9C.eventHeight(),l=t.lines.length,r=0;r<t.lines.length;r++){var c=t.lines[r];if(c.isFree(i.left,$e.cellWidth)){l=r;break}}var d=Math.floor((e-o+s/2)/s),d=Math.min(l,d),d=Math.max(0,d);n=d}();var o=a.cache&&"undefined"!=typeof a.cache.moveVDisabled?!a.cache.moveVDisabled:!a.data.moveVDisabled,s=a.cache&&"undefined"!=typeof a.cache.moveHDisabled?!a.cache.moveHDisabled:!a.data.moveHDisabled,l=n*$e.$9C.eventHeight();if(l>0&&(l-=3),o)if(this.$a0(i.rowIndex))for(var r=t.row,c=i.rowIndex<r.index?1:-1,d=i.rowIndex;d!==r.index;d+=c){var h=this.rowlist[d];if(!this.$a0(d)&&!h.hidden){t.style.top=h.top+"px",t.style.height=Math.max(h.height,0)+"px",t.row=h,$e.eventMoveToPosition&&(n=c>0?0:h.lines.length-1,t.style.top=i.top+l+"px",t.style.height="3px",t.line=n);break}}else t.row=i.row,t.style.height=Math.max(i.row.height,0)+"px",t.style.top=i.top+"px",$e.eventMoveToPosition&&(t.style.top=i.top+l+"px",t.style.height="3px",t.line=n);else{for(var r=$e.rowlist[a.part.dayIndex],u=r.lines.length,d=0;d<r.lines.length;d++){var f=r.lines[d];if(f.isFree(i.left,$e.cellWidth)){u=d;break}}if(t.style.height=Math.max(r.height,0)+"px",t.style.top=r.top+"px",t.row=r,$e.eventMoveToPosition)if(i.row===r)t.style.top=r.top+l+"px",t.style.height="3px",t.line=n;else{var v=i.rowIndex>r.index&&u>0?u*$e.$9C.eventHeight()-3:0;t.style.top=r.top+v+"px",t.style.height="3px",t.line=0}}s?(t.style.left=i.left+"px",t.style.width=$e.eventMoveToPosition?$e.cellWidth+"px":i.width+"px",t.start=i.start,t.end=i.end):(t.style.left=a.part.left+"px",t.start=a.start(),t.end=a.end()),function y(){var e=i.row,n=a.data,o=i.width,s=i.left;$e.$a8(t,e,s,o,n)}(),function(){var e=$e.$a9;if(!e||e.start.getTime()!==t.start.getTime()||e.end.getTime()!==t.end.getTime()||e.resource!==t.row.id){var i={};i.start=t.start,i.end=t.end,i.e=a,i.resource=t.row.id,i.position=t.line,i.overlapping=t.overlapping,i.left={},i.left.html=i.start.toString($e.eventMovingStartEndFormat),i.left.enabled=$e.eventMovingStartEndEnabled,i.right={},i.right.html=i.end.toString($e.eventMovingStartEndFormat),i.right.enabled=$e.eventMovingStartEndEnabled,$e.$a9=i,"function"==typeof $e.onEventMoving&&$e.onEventMoving(i),$e.$aa(DayPilotScheduler.movingShadow,i)}}()}},this.$a8=function(e,t,i,a,n){if(!$e.allowEventOverlap){!function l(){for(var o=0;o<t.lines.length;o++){var s=t.lines[o];if(!s.isFree(i,a,n))return void(e.overlapping=!0)}e.overlapping=!1}();var o=e.overlapping,s=$e.$7U("_shadow_overlap");o?DayPilot.Util.addClass(e,s):DayPilot.Util.removeClass(e,s)}},this.$aa=function(e,t){var i=5;this.$ab();var a={};a.left=parseInt(e.style.left),a.top=parseInt(e.style.top),a.right=a.left+parseInt(e.style.width);var n=t.left.width||10,o=document.createElement("div");if(o.style.position="absolute",o.style.left=a.left-n-i+"px",o.style.top=a.top+"px",o.style.height=$e.eventHeight+"px",o.style.overflow="hidden",o.innerHTML=t.left.html,o.className=this.$7U("_event_move_left"),t.left.enabled&&$e.divHover.appendChild(o),t.left.width)o.style.width=n+"px";else{o.style.whiteSpace="nowrap";var s=o.offsetWidth,l=a.left-s-i;o.style.width=s+"px",o.style.left=l+"px"}var r=document.createElement("div");r.style.position="absolute",r.style.left=a.right+i+"px",r.style.top=a.top+"px",r.style.height=$e.eventHeight+"px",r.style.overflow="hidden",t.right.width?r.style.width=t.right.width+"px":r.style.whiteSpace="nowrap",r.innerHTML=t.right.html,r.className=this.$7U("_event_move_right"),t.right.enabled&&$e.divHover.appendChild(r)},this.$ab=function(){$e.divHover.innerHTML=""},this.$ac=function(){this.rowHeaderColumns&&(this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width"))},this.$ad=function(){var e=0;if(this.$ac(),this.rowHeaderCols)for(var t=0;t<this.rowHeaderCols.length;t++)e+=this.rowHeaderCols[t];else e=this.rowHeaderWidth;return e},this.$ae=function(){return this.$af($e.progressiveRowRenderingPreload)},this.$af=function(e){var e=e||0,t=0,i=$e.rowlist.length,a=$e.progressiveRowRendering;if(a){var n=$e.$7N();t=n.yStart,i=n.yEnd+1,t=Math.max(0,t-e),i=Math.min($e.rowlist.length,i+e)}return{start:t,end:i}},this.$ag=function(){if(this.$ah()&&this.rowHeaderWidthAutoFit){var e=this.divHeader;if(e&&e.rows){for(var t=[],i=$e.$ae(),a=i.start;a<i.end;a++){var n=e.rows[a];if(n&&!n.hidden&&!n.autofitDone){n.autofitDone=!0;for(var o=0;o<n.cells.length;o++){var s=n.cells[o].firstChild.firstChild;if(s&&s.style){var l=s.style.width,r=s.style.right;s.style.position="absolute",s.style.width="auto",s.style.right="auto",s.style.whiteSpace="nowrap";var c=s.offsetWidth+2;s.style.position="",s.style.width=l,s.style.right=r,s.style.whiteSpace="","undefined"==typeof t[o]&&(t[o]=0),t[o]=Math.max(t[o],c)}}}}var d=0,h=!1;if(this.$ac(),this.rowHeaderCols)for(var a=0;a<t.length;a++)this.rowHeaderCols[a]&&(t[a]>this.rowHeaderCols[a]&&(this.rowHeaderCols[a]=t[a],h=!0),d+=this.rowHeaderCols[a]);else d=this.rowHeaderWidth,this.rowHeaderWidth<t[0]&&(d=t[0],h=!0);$e.progressiveRowRendering,h&&(this.$ai&&(this.$ai.widths=this.rowHeaderCols,this.$ai.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=d),this.$8L(),this.$aj())}}},this.$7t=function(){this.$ak=!0,this.$ac();var e=this.$ad(),t=this.divHeader;t?(t.innerHTML="",DayPilot.puc(t)):(t=document.createElement("div"),t.onmousemove=function(){$e.$al()},this.cssOnly||(t.className=this.$7U("resourceheader")),this.divHeader=t),t.style.width=e+"px",t.style.height=$e.$7e+"px",t.rows=[];var i=$e.progressiveRowRendering;if(i)$c();else for(var a=this.rowlist.length,n=0;a>n;n++)$e.$am(n);$e.$an(),this.divResScroll.appendChild(t),this.rowHeaderWidthAutoFit&&this.$ag()},this.$ao=function(){if($e.progressiveRowRendering){for(var e=this.$ae(),t=0;t<$e.rowlist.length;t++)e.start<=t&&t<e.end?$e.$am(t):$e.$ap(t);if(this.rowHeaderWidthAutoFit){var i=$e.$7X();this.$ag();var a=$e.$7X();if(a!==i){var n=this.cellWidth;this.$7o();var o=this.cellWidth;o!==n&&(this.$7p(),this.$7u(),this.$7z(),this.$7s())}}}},this.$an=function(){var e=$e.divHeader,t=this.rowHeaderCols,i=t?this.rowHeaderCols.length:0,a=this.$ad(),n=document.createElement("div");if(n.style.position="absolute",n.style.top=this.$7e+"px",n.colSpan=i+1,n.style.width=a+"px",n.style.height=$e.divResScroll.clientHeight+20+"px",e.appendChild(n),$e.nav.resScrollSpace=n,this.cssOnly||(n.style.backgroundColor=this.hourNameBackColor,n.style.cursor="default"),n.setAttribute("unselectable","on"),this.cssOnly||(n.className=this.$7U("rowheader"),n.style.fontSize="1px",n.innerHTML="&nbsp;"),this.cssOnly){var o=document.createElement("div");o.style.position="relative",o.style.height="100%",o.className=this.$7U("_rowheader"),n.appendChild(o)}},this.$ap=function(e){var t=$e.divHeader.rows[e];t&&(DayPilot.de(t.cells),$e.divHeader.rows[e]=null)},this.$8N=function(e){this.$ap(e),this.$am(e)},this.$am=function(e){var t=$e.divHeader,i=this.divHeader;if(!i.rows[e]){var a=this.rowHeaderCols,n=a?this.rowHeaderCols.length:0,o=this.$ad(),s=this.rowlist[e];if(s&&!s.hidden){var l=this.$aq(s);i.rows[e]={},i.rows[e].cells=[];var r=document.createElement("div");r.style.position="absolute",r.style.top=s.top+"px",r.row=s,r.index=e;var c=l.row,d=a?a[0]:this.rowHeaderWidth;r.style.width=d+"px",r.style.border="0px none",this.cssOnly||(r.style.borderRight="1px solid "+this.borderColor,r.style.backgroundColor="undefined"==typeof c.backColor?$e.hourNameBackColor:c.backColor,r.style.fontFamily=this.headerFontFamily,r.style.fontSize=this.headerFontSize,r.style.color=this.headerFontColor,r.style.cursor="default",r.style.padding="0px"),c.toolTip&&(r.title=c.toolTip),r.setAttribute("unselectable","on"),r.onmousemove=$e.$ar,r.onmouseout=$e.$as,r.onmouseup=$e.$at,r.oncontextmenu=$e.$au,r.onclick=$e.$av,r.ondblclick=$e.$aw;var h=document.createElement("div");h.style.width=d+"px",h.setAttribute("unselectable","on"),h.className=this.$7U(this.cssOnly?"_rowheader":"rowheader"),c.cssClass&&DayPilot.Util.addClass(h,c.cssClass),c.backColor&&(h.style.background=c.backColor),h.style.height=s.height+"px",h.style.overflow="hidden",h.style.position="relative";var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=this.cssOnly?this.$7U("_rowheader_inner"):"",h.appendChild(u);var f="Disabled"!==this.rowMoveHandling,v=10,p=c.areas||[];f&&!c.moveDisabled&&p.push({v:"Hover",w:v,bottom:0,top:0,left:0,css:$e.$7U("_rowmove_handle"),action:"Move"});var y=$e.$96(s);DayPilot.Areas.attach(h,y,{areas:p,allowed:function(){return!$35.row}});var m=document.createElement("div");if(m.style.position="absolute",m.style.bottom="0px",m.style.width="100%",m.style.height="1px",this.cssOnly?m.className=this.$7U("_resourcedivider"):m.style.backgroundColor=this.borderColor,h.appendChild(m),function M(){if($e.treeEnabled&&!s.isNewRow){var t=s.level*$e.treeIndent+$e.treeImageMarginLeft;f&&(t+=v);var i=10,a=document.createElement("div");a.style.width="10px",a.style.height=i+"px",a.style.backgroundRepeat="no-repeat",a.style.position="absolute",a.style.left=t+"px",a.style.top=$e.treeImageMarginTop+"px",s.loaded||0!==s.children.length?s.children.length>0?(s.expanded?($e.treeImageCollapse&&!$e.cssOnly&&(a.style.backgroundImage="url('"+$e.treeImageCollapse+"')"),a.className=$e.$7U($e.cssOnly?"_tree_image_collapse":"tree_image_collapse")):($e.treeImageExpand&&!$e.cssOnly&&(a.style.backgroundImage="url('"+$e.treeImageExpand+"')"),a.className=$e.$7U($e.cssOnly?"_tree_image_expand":"tree_image_expand")),a.style.cursor="pointer",a.index=e,a.onclick=function(e){$e.$a4(this.index),e=e||window.event,e.cancelBubble=!0}):($e.treeImageNoChildren&&!$e.cssOnly&&(a.style.backgroundImage="url('"+$e.treeImageNoChildren+"')"),a.className=$e.$7U($e.cssOnly?"_tree_image_no_children":"tree_image_no_children")):($e.treeImageExpand&&!$e.cssOnly&&(a.style.backgroundImage="url('"+$e.treeImageExpand+"')"),a.className=$e.$7U($e.cssOnly?"_tree_image_expand":"tree_image_expand"),a.style.cursor="pointer",a.index=e,a.onclick=function(e){$e.$ax(this.index),e=e||window.event,e.cancelBubble=!0}),u.appendChild(a)}var n=document.createElement("div");$e.treeEnabled?n.style.marginLeft=t+i+"px":$e.cssOnly||(n.style.marginLeft="4px"),n.innerHTML=c.html,r.textDiv=n,u.appendChild(n)}(),r.appendChild(h),c.areas)for(var g=0;g<c.areas.length;g++){var b=c.areas[g],D=b.v||"Visible";if("Visible"===D){var w=$e.$96(s),k=DayPilot.Areas.createArea(h,w,b);h.appendChild(k)}}if(t.appendChild(r),i.rows[e].cells.push(r),s.columns&&0!==s.columns.length)for(var C=d,g=1;n>g;g++){var r=document.createElement("div");r.style.position="absolute",r.style.top=s.top+"px",r.style.left=C+"px",t.appendChild(r),i.rows[e].cells.push(r),r.row=s,r.index=e,this.cssOnly||(r.style.borderRight="1px solid "+this.borderColor,r.style.backgroundColor=c.backColor,r.style.fontFamily=this.headerFontFamily,r.style.fontSize=this.headerFontSize,r.style.color=this.headerFontColor,r.style.cursor="default",r.style.padding="0px"),c.toolTip&&(r.title=c.toolTip),r.setAttribute("unselectable","on"),this.cssOnly||(r.className=this.$7U("rowheader")),r.onmousemove=$e.$ar,r.onmouseout=$e.$as,r.onmouseup=$e.$at,r.oncontextmenu=$e.$au,r.onclick=$e.$av,r.ondblclick=$e.$aw;var h=document.createElement("div"),P=this.cssOnly?a[g]:a[g]-1;C+=P,c.backColor&&(h.style.backgroundColor=c.backColor),h.style.width=P+"px",h.style.height=s.height+"px",h.style.overflow="hidden",h.style.position="relative",h.setAttribute("unselectable","on"),this.cssOnly&&(DayPilot.Util.addClass(h,this.$7U("_rowheader")),DayPilot.Util.addClass(h,this.$7U("_rowheadercol")),DayPilot.Util.addClass(h,this.$7U("_rowheadercol"+g))),c.cssClass&&DayPilot.Util.addClass(h,c.cssClass);var u=document.createElement("div");u.setAttribute("unselectable","on"),this.cssOnly&&(u.className=this.$7U("_rowheader_inner")),h.appendChild(u);var m=document.createElement("div");m.style.position="absolute",m.style.bottom="0px",m.style.width="100%",m.style.height="1px",m.className=this.$7U("_resourcedivider"),this.cssOnly||(m.style.backgroundColor=this.borderColor),h.appendChild(m);var x=document.createElement("div");this.cssOnly||(x.style.marginLeft="4px");var S=c.columns[g-1],T=S&&S.html?S.html:"";x.innerHTML=T,r.textDiv=x,u.appendChild(x),r.appendChild(h)}else r.colSpan=n>0?n:1,h.style.width=o+"px"}}},this.$au=function(){var e=this.row;return e.contextMenu&&e.contextMenu.show($e.$96(e)),!1},this.$av=function(e){if(!$0U.cancelClick){var t=this.row,i=$e.$96(t,this.index);return t.isNewRow?void $e.$9a.edit(t):void $e.$97(i,e.ctrlKey,e.shiftKey,e.metaKey)}},this.$aw=function(e){if($e.timeouts.resClick){for(var t in $e.timeouts.resClick)window.clearTimeout($e.timeouts.resClick[t]);$e.timeouts.resClick=null}var i=this.row,a=$e.$96(i,this.index);if($e.$7K()){var n={};if(n.resource=a,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onRowDoubleClick&&($e.onRowDoubleClick(n),n.preventDefault.value))return;switch($e.rowDoubleClickHandling){case"PostBack":$e.rowDoubleClickPostBack(a);break;case"CallBack":$e.rowDoubleClickCallBack(a);break;case"Select":$e.$99(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":$e.$9a.edit(i)}"function"==typeof $e.onRowDoubleClicked&&$e.onRowDoubleClicked(n)}else switch($e.rowDoubleClickHandling){case"PostBack":$e.rowDoubleClickPostBack(a);break;case"CallBack":$e.rowDoubleClickCallBack(a);break;case"JavaScript":$e.onRowDoubleClick(a);break;case"Select":$e.$99(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":$e.$9a.edit(i)}},this.rowDoubleClickPostBack=function(e,t){var i={};i.resource=e,this.$8g("RowDoubleClick",i,t)},this.rowDoubleClickCallBack=function(e,t){var i={};i.resource=e,this.$8h("RowDoubleClick",i,t)},this.$ay=function(e){var t={};t.start=this.cell.start,t.level=this.cell.level,t.end=this.cell.end,t.end||(t.end=new DayPilot.Date(t.start).addMinutes($e.cellDuration)),$e.$9b(t)},this.$96=function(e){return new DayPilot.Row(e,$e)},this.$9N=function(e){var t=this.rowlist[e];t.events||t.resetEvents(),t.data||(t.data={},t.data.start=new DayPilot.Date(t.start),t.data.startTicks=t.data.start.getTime(),t.data.end=$Q.isResourcesView()?this.$az():t.data.start.addDays(1),t.data.endTicks=t.data.end.getTime(),t.data.offset=t.start.getTime()-this.$a7().getTime(),t.data.i=e)},this.$7s=function(e){e?this.events.list=e:this.events.list||(this.events.list=[]),$38.prepareRows(!0);for(var t=this.events.list,i=t.length,a="function"==typeof this.onBeforeEventRender,n,o="Resources"===$e.viewType,s=0;i>s;s++){var l=t[s];if(l){a&&this.$9P(s),"*"===l.resource?n=$e.rowlist:o?n=$38.rowcache[l.resource]:"Days"===$e.viewType?n=$e.rowlist:"Gantt"===$e.viewType&&(n=$38.rowcache[l.id]);for(var r=0;n&&r<n.length;r++){var c=n[r],d=this.$9Q(l,c);d&&a&&(d.cache=this.$7f.events[s])}}}for(var h=0;h<this.rowlist.length;h++){var c=this.rowlist[h];this.$aA(c)}this.$8x()},this.$aB=function(e){var t=[],i=[],a=null;if(e&&$3g){for(var n=e,a=[],o=0;o<n.length;o++){for(var s=n[o],l=!1,r=0;r<this.events.list.length;r++){var c=this.events.list[r];if(c.id===s.id&&c.start.toString()===s.start.toString()&&c.resource===s.resource){var d=$e.events.$8u(c);i=i.concat(d),this.events.list[r]=s,l=!0;break}}l||a.push(s)}this.events.list=this.events.list.concat(a)}else e?this.events.list=e:this.events.list||(this.events.list=[]);var h=a||this.events.list;e?this.events.list=e:this.events.list||(this.events.list=[]);var h=this.events.list,u=h.length;if("function"==typeof this.onBeforeEventRender)for(var f=a?this.events.list.length-a.length:0,v=this.events.list.length,o=f;v>o;o++)this.$9P(o);var p=!this.$9O(),y=!0;if(y){var m=!a||"undefined"==typeof D.events;$38.prepareRows(m);for(var r=0;h&&u>r;r++)if(!t[r]){var g=h[r];if(g){var d=[];d="*"===g.resource?$e.rowlist:"Days"===$e.viewType?$e.rowlist:"Gantt"===$e.viewType?$38.rowcache[g.id]:$38.rowcache[g.resource];for(var b=0;d&&b<d.length;b++){var D=d[b],w=this.$9Q(g,D);w&&("function"==typeof this.onBeforeEventRender&&(w.cache=this.$7f.events[r+f]),i.push(D.index))}}}}else for(var o=0;o<this.rowlist.length;o++){var D=this.rowlist[o];if(a&&"undefined"!=typeof D.events||D.resetEvents(),$e.$9N(o),!this.$a0(o))for(var r=0;h&&u>r;r++)if(!t[r]){var s=h[r],w=this.$9Q(s,D);w&&("function"==typeof this.onBeforeEventRender&&(w.cache=this.$7f.events[r+f]),i.push(o),p&&"*"!==w.data.resource&&w.part.start.getTime()===w.start().getTime()&&w.part.end.getTime()===w.end().getTime()&&(t[r]=!0))}}for(var o=0;o<this.rowlist.length;o++){var D=this.rowlist[o];this.$aA(D)}return this.$8x(),DayPilot.ua(i)},this.$aC={};var $38=this.$aC;$38.rowCache={},$38.prepareRows=function(e){$38.rowcache={};for(var t=0;t<$e.rowlist.length;t++){var i=$e.rowlist[t];if(e&&i.resetEvents(),$e.$9N(t),i.id){var a=i.id.toString();$38.rowcache[a]||($38.rowcache[a]=[]),$38.rowcache[a].push(i)}}},$38.loadEvent=function(e){},this.$9O=function(){var e={};if("Resources"!==$e.viewType)return!1;for(var t=0;t<$e.rowlist.length;t++){var i=$e.rowlist[t],a=i.id;if(e[a])return!0;e[a]=!0}return!1},this.$9P=function(e){var t=this.$7f.events,i=this.events.list[e],a={};for(var n in i)a[n]=i[n];if("function"==typeof this.onBeforeEventRender){var o={};o.e=a,this.onBeforeEventRender(o)}t[e]=a},this.$aA=function(e){if(e.lines=[],e.sections=null,!e.isNewRow){e.events.sort(this.sortDirections?this.$aD:this.$aE);var t=$e.groupConcurrentEvents;if(t)for(var i=0;i<e.blocks.length;i++)e.blocks[i].events=[];for(var a=0;a<e.events.length;a++){var n=e.events[a];e.putIntoLine(n),t&&e.putIntoBlock(n)}for(var o=0,i=0;i<e.lines.length;i++){var s=e.lines[i];s.top=o,o+=(s.height||e.eventHeight)*this.eventStackingLineHeight/100}if(t)for(var a=0;a<e.blocks.length;a++){var l=e.blocks[a];l.lines=[],l.events.sort(this.$aD);for(var r=0;r<l.events.length;r++){var n=l.events[r];l.putIntoLine(n)}l.lines.length<=$e.groupConcurrentEventsLimit&&(l.expanded=!0);for(var o=0,i=0;i<l.lines.length;i++){var s=l.lines[i];s.top=o,o+=(s.height||e.eventHeight)*this.eventStackingLineHeight/100}}}},this.$8w=function(e){e=DayPilot.ua(e);for(var t=0;t<e.length;t++){var i=e[t];$e.$aA($e.rowlist[i])}for(var t=0;t<e.length;t++){var i=e[t],a=$e.rowlist[i];$e.$aF(a)}},this.$9Q=function(e,t){var i=new DayPilot.Date(e.start),a=new DayPilot.Date(e.end);"Date"===$e.eventEndSpec&&(a=a.getDatePart().addDays(1));var n=i.ticks,o=a.ticks;if(n>o)return null;var s=null;if("function"==typeof $e.onBeforeEventRender){var l=DayPilot.indexOf($e.events.list,e);s=$e.$7f.events[l]}if(s){if(s.hidden)return null}else if(e.hidden)return null;var r=!1;switch(this.viewType){case"Days":r=!(o<=t.data.startTicks||n>=t.data.endTicks)||n===o&&n===t.data.startTicks;break;case"Resources":r=(t.id===e.resource||"*"===t.id||"*"===e.resource)&&(!(o<=t.data.startTicks||n>=t.data.endTicks)||n===o&&n===t.data.startTicks);break;case"Gantt":r=t.id===e.id&&!(o<=t.data.startTicks||n>=t.data.endTicks)}if(!r)return null;var c=new DayPilot.Event(e,$e);c.part.dayIndex=t.data.i,c.part.start=t.data.startTicks<n?i:t.data.start,c.part.end=t.data.endTicks>o?a:t.data.end;var d=this.getPixels(c.part.start.addTime(-t.data.offset)),h=this.getPixels(c.part.end.addTime(-t.data.offset));c.part.start.ticks===c.part.end.ticks&&(h=this.getPixels(c.part.end.addTime(-t.data.offset).addTime(1))),s&&s.height&&(c.part.height=s.height);
var u=d.left,f=h.left;if(u===f&&(d.cut||h.cut))return null;c.part.box=$Q.useBox(o-n);var v=$e.eventHeight;if("Milestone"===e.type){var p=e.width||v;c.part.end=c.part.start,c.part.left=u-p/2,c.part.width=p,c.part.barLeft=0,c.part.barWidth=p}else if(c.part.box){var y=d.boxLeft,m=h.boxRight;c.part.left=y,c.part.width=m-y,c.part.barLeft=Math.max(u-c.part.left,0),c.part.barWidth=Math.max(f-u,1)}else c.part.left=u,c.part.width=Math.max(f-u,0),c.part.barLeft=0,c.part.barWidth=Math.max(f-u-1,1);if("function"==typeof $e.onEventFilter&&$e.events.$9L){var g={};if(g.filter=$e.events.$9L,g.visible=!0,g.e=c,$e.onEventFilter(g),!g.visible)return null}return t.events.push(c),c},this.$aE=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;if(0!==i)return i;var a=t.end().ticks-e.end().ticks;return a},this.$aD=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return $e.$aE(e,t);for(var i=0,a=0;0===i&&e.data.sort[a]&&t.data.sort[a];)i=e.data.sort[a]===t.data.sort[a]?0:$e.$aG(e.data.sort[a],t.data.sort[a],$e.sortDirections[a]),a++;return i},this.$aG=function(e,t,i){var a="desc"!==i,n=a?-1:1,o=-n;if(null===e&&null===t)return 0;if(null===t)return o;if(null===e)return n;var s=[];return s[0]=e,s[1]=t,s.sort(),e===s[0]?n:o},this.$99=function(e,t,i,a){if($e.$7K()){var n=DayPilot.indexOf($e.rowlist,e),o=$e.$96(e,n),s=-1!==DayPilot.indexOf($0U.selected,e),l=s?"deselected":"selected",r={};if(r.row=o,r.selected=s,r.ctrl=t,r.shift=i,r.meta=a,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onRowSelect&&($e.onRowSelect(r),r.preventDefault.value))return;switch($e.rowSelectHandling){case"PostBack":$e.rowSelectPostBack(o,l);break;case"CallBack":$e.rowSelectCallBack(o,l);break;case"Update":$0U.select(e,t,i,a)}"function"==typeof $e.onRowSelected&&(r.selected=-1!==DayPilot.indexOf($0U.selected,e),$e.onRowSelected(r))}else{$0U.select(e,t,i);var n=DayPilot.indexOf($e.rowlist,e),o=$e.$96(e,n),s=-1!==DayPilot.indexOf($0U.selected,e),l=s?"deselected":"selected";switch($e.rowSelectHandling){case"PostBack":$e.rowSelectPostBack(o,l);break;case"CallBack":$e.rowSelectCallBack(o,l);break;case"JavaScript":$e.onRowSelect(o,l)}}},this.rowSelectPostBack=function(e,t,i){var a={};a.resource=e,a.change=t,this.$8g("RowSelect",a,i)},this.rowSelectCallBack=function(e,t,i){var a={};a.resource=e,a.change=t,this.$8h("RowSelect",a,i)},this.rows={},this.rows.selection={};var $3G=this.rows.selection;$3G.get=function(){var e=[];return DayPilot.list($0U.selected).each(function(t){e.push($e.$96(t))}),e},$3G.clear=function(){$0U.clearSelection()},this.rows.all=function(){for(var e=[],t=0;t<$e.rowlist.length;t++){var i=$e.$96($e.rowlist[t]);e.push(i)}return $24(e)},this.rows.each=function(e){$e.rows.all().each(e)},this.rows.filter=function(e){$e.rows.$9L=e,$e.$8B({immediateEvents:!0})},this.rows.find=function(e,t){for(var i=$e.rows.all(),a=0;a<i.length;a++){var n=i[a];if(n.id===e){if("string"!=typeof t)return n;if(t===n.start.toString())return n}}},this.rows.load=function($1S){DayPilot.ajax({url:$1S,success:function($h){var r=$h.request,$m=eval("("+r.responseText+")");DayPilot.isArray($m)&&($e.resources=$m,$e.$9M&&$e.update())}})},this.rows.expand=function(e){for(var t=[],i=e||1,a=0;a<$e.rowlist.length;a++){var n=$e.rowlist[a],o=-1===i;n.level<i&&(o=!0),o&&!n.expanded&&n.children&&n.children.length>0&&t.push(n.index)}if(0!==t.length)if(1===t.length)$e.$a4(t[0]);else{for(var a=0;a<t.length;a++){var s=t[a],n=$e.rowlist[s];n.expanded=!0}$e.$8B()}},this.rows.expandAll=function(){$e.rows.expand(-1)},this.rows.headerHide=function(){$e.$aH=!0,$e.$aI(),$e.$aj()},this.rows.headerShow=function(){$e.$aH=!1,$e.$aI(),$e.$aj()},this.rows.headerToggle=function(){$e.$aH?$e.rows.headerShow():$e.rows.headerHide()},this.$aJ=function(){var e=$35.source,t=$35.target,i=$35.position;if($0U.resetMoving(),$e.$7K()){var a={};if(a.source=$e.$96(e),a.target=$e.$96(t),a.position=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof $e.onRowMove&&($e.onRowMove(a),a.preventDefault.value))return;switch($e.rowMoveHandling){case"Update":$0U.move(a);break;case"CallBack":$e.rowMoveCallBack(a.source,a.target,a.position);break;case"PostBack":$e.rowMovePostBack(a.source,a.target,a.position);break;case"Notify":$0U.move(a),$e.rowMoveNotify(a.source,a.target,a.position)}"function"==typeof $e.onRowMoved&&$e.onRowMoved(a)}else{var e=$e.$96(e),t=$e.$96(t),i=i;switch($e.rowMoveHandling){case"CallBack":$e.rowMoveCallBack(e,t,i);break;case"PostBack":$e.rowMovePostBack(e,t,i);break;case"JavaScript":$e.onRowMove(e,t,i)}}},this.$aK=function(e){var t=DayPilot.list(e);$0U.selected=[],t.each(function(e){var t=$e.$7L(e);t&&$0U.selected.push(t)}),$0U.$aL()},this.$9a={};var $0U=this.$9a;$0U.edit=function(e){var t=$0U.$aM(e)},$0U.createOverlay=function(e){var t=$e.$ad(),i=$e.$7U("_rowmove_source"),a=DayPilot.Util.div($e.divHeader,0,e.top,t,e.height);a.className=i,e.moveOverlay=a},$0U.deleteOverlay=function(e){DayPilot.de(e.moveOverlay),e.moveOverlay=null},$0U.$aM=function(e){var t=$0U.$93(e),i=t.cells[0];if(i.input)return i.input;var a=i.clientWidth;e.isNewRow&&(a=$e.$7X());var n=document.createElement("textarea");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width=a+"px",n.style.height=e.height+"px",n.style.border="0px none",n.style.overflow="hidden",n.style.boxSizing="border-box",n.style.resize="none";var o=i.textDiv;n.style.fontFamily=DayPilot.gs(o,"fontFamily")||DayPilot.gs(o,"font-family"),n.style.fontSize=DayPilot.gs(o,"fontSize")||DayPilot.gs(o,"font-size"),n.value=e.html,i.firstChild.appendChild(n),i.input=n;var s=function(){try{i.input.parentNode.removeChild(i.input)}catch(e){$c()}i.input=null};return n.focus(),n.onblur=function(){n.onblur=null;var t=n.value,i=DayPilot.indexOf($e.rowlist,e);s(),n.canceled||$e.$95(e,t)},n.onkeydown=function(e){var t=window.event?event.keyCode:e.keyCode;return 27===t&&(n.canceled=!0,s()),13===t?(n.onblur(),!1):!0},n.setSelectionRange?n.setSelectionRange(0,9999):n.select(),n},$0U.selected=[],$0U.select=function(e,t,i,a){var n=-1!==DayPilot.indexOf($0U.selected,e);if(t||a){if(n)return $0U.unselect(e),void DayPilot.rfa($0U.selected,e)}else n=!1,$0U.clearSelection();$0U.$aN(e),n||$0U.selected.push(e)},$0U.$aL=function(){for(var e=0;e<$0U.selected.length;e++){var t=$0U.selected[e];$0U.$aN(t)}},$0U.$aN=function(e){var t=DayPilot.indexOf($e.rowlist,e);if(-1===t){var i=$e.$7L(e.id).index;if(!i)return;t=i.index}for(var a=$e.$7U("_cell_selected"),n=[],o=0;o<$e.itline.length;o++){var s={};s.x=o,s.y=t,n.push(s)}$e.cells.findXy(n).addClass(a);for(var a=$e.$7U("_rowheader_selected"),l=$e.divHeader,t=0;t<l.rows.length;t++){var r=l.rows[t];if(r&&r.cells[0]&&r.cells[0].row===e)for(var c=0;c<r.cells.length;c++){var s=r.cells[c],d=s.firstChild;DayPilot.Util.addClass(d,a)}}},$0U.$aO=function(e){for(var t=0;t<$0U.selected.length;t++){var i=$0U.selected[t];if(i.id===e)return!0}return!1},$0U.$9n=function(){var e=[];if(!$0U.selected)return e;for(var t=0;t<$0U.selected.length;t++){var i=$0U.selected[t],a=DayPilot.indexOf($e.rowlist,i),n=$e.$96(i,a);e.push(n.toJSON())}return e},$0U.unselect=function(e){for(var t=$e.$7U("_cell_selected"),i=DayPilot.indexOf($e.rowlist,e),a=[],n=0;n<$e.itline.length;n++){var o={};o.x=n,o.y=i,a.push(o)}$e.cells.findXy(a).removeClass(t);var t=$e.$7U("_rowheader_selected"),s=$e.divHeader,l=$0U.$93(e);if(l)for(var r=0;r<l.cells.length;r++){var o=l.cells[r],c=o.firstChild;DayPilot.Util.removeClass(c,t)}},$0U.clearSelection=function(){for(var e=0;e<$0U.selected.length;e++){var t=$0U.selected[e];$0U.unselect(t)}$0U.selected=[]},$0U.$93=function(e){for(var t=$e.divHeader,i=0;i<t.rows.length;i++){var a=t.rows[i];if(a&&a.cells[0]&&a.cells[0].row===e)return a}return null},$0U.selectById=function(e){var t=$e.$7L(e);t&&$0U.select(t)},$0U.startMoving=function(e){var t=DayPilot.Global.rowmoving;t.row=e,t.cursor=$e.divResScroll.style.cursor,$e.divResScroll.style.cursor="move",$0U.createOverlay(e)},$0U.resetMoving=function(){$e.divResScroll.style.cursor=$35.cursor,DayPilot.de($35.div),$0U.deleteOverlay($35.row),DayPilot.Global.rowmoving=$35={}},$0U.move=function(e){var t=e.source.$.row.resource,i=e.target.$.row.resource,a=e.position;if("forbidden"!==a){var n=$3R.findParentArray(t);if(!n)throw"Cannot find source node parent";var o=DayPilot.indexOf(n,t);n.splice(o,1);var s=$3R.findParentArray(i);if(!s)throw"Cannot find target node parent";var l=DayPilot.indexOf(s,i);switch(a){case"before":s.splice(l,0,t);break;case"after":s.splice(l+1,0,t);break;case"child":i.children||(i.children=[],i.expanded=!0),i.children.push(t)}$e.update()}};var $3R={};$3R.findParentArray=function(e){return $3R.findInArray($e.resources,e)},$3R.findInArray=function(e,t){if(-1!==DayPilot.indexOf(e,t))return e;for(var i=0;i<e.length;i++){var a=e[i];if(a.children&&a.children.length>0){var n=$3R.findInArray(a.children,t);if(n)return n}}return null},this.$7q=function(){this.rowlist=[];var e=this.resources,t=this.$83();t||("Gantt"===this.viewType?e=this.$aP():"Days"===this.viewType&&(e=this.$aQ()));var i={};i.i=0,this.$aR(e,i,0,null,this.treeEnabled,!1);var a="Disabled"!==$e.rowCreateHandling;a&&this.$aS(),this.$aT()},this.$aS=function(){var e={};e.id="NEW",e.isNewRow=!0,e.html="",e.loaded=!0,e.start=this.startDate,e.children=[],e.height=$e.eventHeight,e.marginBottom=0,e.marginTop=0,e.getHeight=function(){return $e.eventHeight+$e.rowMarginBottom+$e.rowMarginTop},e.putIntoLine=function(){},e.resetEvents=function(){},this.rowlist.push(e)},this.$aT=function(){for(var e=[],t=0;t<$e.rowlist.length;t++){var i=$e.rowlist[t],a=i.id;$0U.$aO(a)&&e.push(i)}$0U.selected=e},this.$aP=function(){var e=[];if(this.$7b&&this.resources)for(var t=0;t<this.resources.length;t++)e.push(this.resources[t]);if(this.events.list){for(var t=0;t<this.events.list.length;t++){var i=this.events.list[t],a={};a.id=i.id,a.name=i.text,e.push(a)}return e}},this.$aQ=function(){for(var e=[],t=this.$9C.locale(),i=0;i<this.days;i++){var a=this.startDate.addDays(i),n={};n.name=a.toString(t.datePattern,t),n.start=a,e.push(n)}return e},this.$a7=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.$az=function(){return this.itline&&this.itline.length>0?this.itline[this.itline.length-1].end:this.startDate.addDays(this.days)},this.$aR=function($1a,$0W,$3J,parent,$3Z,$40){if($1a)for(var i=0;i<$1a.length;i++)if($1a[i]){var $41={};$41.level=$3J,$41.hidden=$40,$41.index=$0W.i;var $18=this.$aU($1a[i],$41),$s={};if($s.backColor=$18.backColor,$s.cssClass=$18.cssClass,$s.expanded=$18.expanded,$s.name=$18.name,$s.html=$18.html?$18.html:$s.name,$s.eventHeight="undefined"!=typeof $18.eventHeight?$18.eventHeight:$e.$9C.eventHeight(),$s.minHeight="undefined"!=typeof $18.minHeight?$18.minHeight:$e.rowMinHeight,$s.marginBottom="undefined"!=typeof $18.marginBottom?$18.marginBottom:$e.rowMarginBottom,$s.marginTop="undefined"!=typeof $18.marginTop?$18.marginTop:$e.rowMarginTop,$s.loaded=!$18.dynamicChildren,$s.id=$18.id||$18.value,$s.toolTip=$18.toolTip,$s.children=[],$s.columns=[],$s.start=$18.start?new DayPilot.Date($18.start):this.$a7(),$s.isParent=$18.isParent,$s.contextMenu=$18.contextMenu?eval($18.contextMenu):this.contextMenuResource,$s.areas=$18.areas,$s.moveDisabled=$18.moveDisabled,$s.task=$18.task,$s.height=$s.eventHeight,$s.hidden=$40,$s.level=$3J,$s.index=$0W.i,$s.resource=$1a[i],$s.lines=[],$s.blocks=[],$s.isRow=!0,$s.getHeight=function(){var e=0;if($e.groupConcurrentEvents)for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];e=Math.max(e,i.getHeight())}else if(this.lines.length>0){var a=this.lines.length-1,n=this.lines[a],o=n.height||this.eventHeight,s=n.top||0;e=s+o}return 0===e&&(e=this.eventHeight),e>this.minHeight?e:this.minHeight},$s.resetEvents=function(){var e=this;e.events=[],e.events.forRange=function(t,i){for(var a=[],n=0;n<e.events.length;n++){var o=e.events[n];DayPilot.Util.overlaps(o.start,o.end,t,i)&&a.push(o)}return a}},$s.calculateUtilization=function(){function e(){for(var e=[],t=0;t<i.events.length;t++){var a=i.events[t];DayPilot.contains(e,a.start().toString())||e.push(a.start().toString()),DayPilot.contains(e,a.end().toString())||e.push(a.end().toString())}return e.sort(),e}function t(){for(var t=e(),a=[],n={start:i.data.start},o=0;o<t.length;o++)n.end=new DayPilot.Date(t[o]),a.push(n),n={start:new DayPilot.Date(t[o])};return n.end=i.data.end,a.push(n),a.forRange=function(e,t){for(var i=[],a=0;a<this.length;a++){var n=this[a];DayPilot.Util.overlaps(e,t,n.start,n.end)&&i.push(n)}return i.maxSum=function(e){for(var t=0,i=0;i<this.length;i++){var a=this[i],n=a.sum(e);n>t&&(t=n)}return t},i},a}for(var i=this,a=i.sections=t(),n=0;n<a.length;n++){var o=a[n];o.events=[];for(var s=0;s<i.events.length;s++){var l=i.events[s];DayPilot.Util.overlaps(o.start,o.end,l.start(),l.end())&&o.events.push(l)}o.sum=function(e){for(var t=0,i=0;i<this.events.length;i++){var a=this.events[i],n=a.data[e];"number"==typeof n&&(t+=n)}return t}}},$s.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.left,e.part.width))return a.add(e),i}var a=[];return a.height=0,a.add=function(e){this.push(e),e.part.height>a.height&&(a.height=e.part.height)},a.isFree=function(e,t,i){for(var a=e+t-1,n=this.length,o=0;n>o;o++){var s=this[o];if(!(a<s.part.left||e>s.part.left+s.part.width-1)){if(i&&i===s.data)continue;return!1}}return!0},a.add(e),this.lines.push(a),this.lines.length-1},$s.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++){var i=this.blocks[t];if(-1!==DayPilot.indexOf(i.events,e))return;if(i.overlapsWith(e.part.left,e.part.width))return i.events.push(e),e.part.block=i,i.min=Math.min(i.min,e.part.left),i.max=Math.max(i.max,e.part.left+e.part.width),t}var i={};i.expanded=!1,i.row=this,i.events=[],i.lines=[],i.putIntoLine=function(e){for(var t=this,i=0;i<this.lines.length;i++){var a=this.lines[i];if(a.isFree(e.part.left,e.part.width))return a.add(e),i}var a=[];a.height=0,a.add=function(e){this.push(e),e.part.height>a.height&&(a.height=e.part.height)},a.isFree=function(e,t){for(var i=e+t-1,a=this.length,n=0;a>n;n++){var o=this[n];if(!(i<o.part.left||e>o.part.left+o.part.width-1))return!1}return!0},a.add(e),this.lines.push(a)},i.overlapsWith=function(e,t){var i=e+t-1;return i<this.min||e>this.max-1?!1:!0},i.getHeight=function(){if(!this.expanded)return $e.eventHeight;if(this.lines.length>0){var e=this.lines.length-1,t=this.lines[e],i=t.height||$e.eventHeight,a=t.top||0;return a+i}},i.events.push(e),e.part.block=i,i.min=e.part.left,i.max=e.part.left+e.part.width,this.blocks.push(i)},this.rowlist.push($s),"function"==typeof $e.onRowFilter&&$e.rows.$9L){var $h={};$h.visible=!$40,$h.row=$e.$96($s),$h.filter=$e.rows.$9L,$e.onRowFilter($h),$h.visible||($s.hidden=!0)}if(null!==parent&&parent.children.push($0W.i),$18.columns)for(var j=0;j<$18.columns.length;j++)$s.columns.push($18.columns[j]);if($0W.i++,$3Z&&$18.children&&$18.children.length){var $4c=$s.hidden||!$s.expanded;this.$aR($18.children,$0W,$3J+1,$s,!0,$4c)}}},this.$aq=function(e){if(e.isNewRow)return{row:{cssClass:$e.$7U("_row_new"),moveDisabled:!0,html:""}};var t={};if(t.row=this.$96(e),DayPilot.Util.copyProps(e,t.row,["html","backColor","cssClass","toolTip","contextMenu","moveDisabled"]),t.row.columns=DayPilot.Util.createArrayCopy(e.columns,["html"]),t.row.areas=DayPilot.Util.createArrayCopy(e.areas),"undefined"==typeof t.row.columns&&$e.rowHeaderColumns&&$e.rowHeaderColumns.length>0){r.columns=[];for(var i=0;i<$e.rowHeaderColumns.length;i++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(t),t},this.$aU=function(e,t){var i=this.$aV(e,t);if("function"==typeof this.onBeforeResHeaderRender){var a={};a.resource=i,this.onBeforeResHeaderRender(a)}return i},this.$aV=function(e,t){var i={};for(var a in t)i[a]=t[a];for(var a in e)i[a]=e[a];if("undefined"==typeof e.html&&(i.html=e.name),"undefined"==typeof i.columns&&$e.rowHeaderColumns&&$e.rowHeaderColumns.length>0){i.columns=[];for(var n=0;n<$e.rowHeaderColumns.length;n++)i.columns.push({})}return i},this.$aW=function(){this.$aX(),this.nav.top.dp=this,this.nav.top.innerHTML="",this.cssOnly?DayPilot.Util.addClass(this.nav.top,this.$7U("_main")):this.nav.top.style.border="1px solid "+this.borderColor,DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.$7U("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.$7U("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.nav.top.onmousemove=this.$aY,this.nav.top.ontouchstart=$0q.onMainTouchStart,this.nav.top.ontouchmove=$0q.onMainTouchMove,this.nav.top.ontouchend=$0q.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var e=this.$7X(),t=this.$9C.layout();if("DivBased"===t){var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.width=e+"px",i.appendChild(this.$aZ());var a=document.createElement("div");a.style.height="1px",a.className=this.$7U("_divider_horizontal"),this.cssOnly||(a.style.backgroundColor=this.borderColor),i.appendChild(a),this.nav.dh1=a,i.appendChild(this.$b0()),this.nav.left=i;var n=document.createElement("div");n.style.position="absolute",n.style.left=e+"px",n.style.width=$Q.splitterWidth()+"px",n.style.height=this.$7W()+this.$7Z()+"px",n.className=this.$7U("_divider")+" "+this.$7U("_splitter"),n.setAttribute("unselectable","on"),this.cssOnly||(n.style.backgroundColor=this.borderColor),this.nav.divider=n,this.rowHeaderScrolling&&this.$b1();var o=document.createElement("div");o.style.marginLeft=e+$Q.splitterWidth()+"px",o.style.marginRight="1px",o.style.position="relative",o.appendChild(this.$b2()),this.nav.right=o;var s=document.createElement("div");s.style.height="1px",s.style.position="absolute",s.style.top=this.$7W()+"px",s.style.width="100%",s.className=this.$7U("_divider_horizontal"),this.cssOnly||(s.style.backgroundColor=this.borderColor),o.appendChild(s),this.nav.dh2=s,o.appendChild(this.$b3());var l=document.createElement("div");l.style.clear="left",this.nav.top.appendChild(i),this.nav.top.appendChild(n),this.nav.top.appendChild(o),this.nav.top.appendChild(l)}else{var r=document.createElement("table");r.cellPadding=0,r.cellSpacing=0,r.border=0,r.style.position="absolute",this.cssOnly||(r.style.backgroundColor=this.hourNameBackColor);var c=r.insertRow(-1),d=c.insertCell(-1);d.appendChild(this.$aZ());var h=c.insertCell(-1);h.appendChild(this.$b2());var u=r.insertRow(-1),f=u.insertCell(-1);f.appendChild(this.$b0());var v=u.insertCell(-1);v.appendChild(this.$b3()),this.nav.top.appendChild(r)}if(this.$7n=document.createElement("div"),this.$7n.style.display="none",this.nav.top.appendChild(this.$7n),this.$9m()){var p=document.createElement("input");p.type="hidden",p.id=this.id+"_state",p.name=this.id+"_state",this.nav.state=p,this.nav.top.appendChild(p)}var y=5,m=document.createElement("div");m.style.position="absolute",m.style.left=this.$7X()+$Q.splitterWidth()+5+"px",m.style.top=this.$7W()+5+"px",m.style.display="none",this.cssOnly||(m.style.backgroundColor=this.loadingLabelBackColor,m.style.fontSize=this.loadingLabelFontSize,m.style.fontFamily=this.loadingLabelFontFamily,m.style.color=this.loadingLabelFontColor,m.style.padding="2px"),m.innerHTML=this.loadingLabelText,DayPilot.Util.addClass(m,this.$7U("_loading")),this.nav.loading=m,this.nav.top.appendChild(m),this.$b4()},this.$aY=function(e){if($35.row){var t=DayPilot.mo3($e.divHeader,e),i=$e.$9t(t.y),a=$e.rowlist[i.i];if(a.isNewRow)return;var n=t.y-i.top,o=i.bottom-i.top,s=o/3,l=2*s,r=o/2,c="before",d=a.children&&a.children.length>0,h=function(){for(var e=i.i,t=a.level;e>=0;){var n=$e.rowlist[e];if(e--,!(t<=n.level)){if(n===$35.row)return!0;if(0===n.level)return!1;t=n.level}}return!1}(),u=!0;c=h||i.i===$35.row.index?"forbidden":u?d?r>n?"before":"child":s>n?"before":l>n?"child":"after":d?"before":r>n?"before":"after",$35.row.moveDisabled&&(c="forbidden"),$35.calendar=$e,$35.source=$35.row,$35.target=$e.rowlist[i.i],$35.position=c;var f=function(){return $35.last?$35.last.target!==$35.target?!0:$35.last.position!==$35.position?!0:!1:!0}();if(f){if("function"==typeof $e.onRowMoving){var v={};v.source=$e.$96($35.source),v.target=$e.$96($35.target),v.position=c,$e.onRowMoving(v),$35.position=v.position}}else $35.last&&($35.position=$35.last.position);$35.last={},$35.last.target=$35.target,$35.last.position=$35.position,function g(){$35.div&&DayPilot.de($35.div);var e=i.top,t=$35.position,a=$e.rowlist[i.i],n=a.level,o=n*$e.treeIndent;switch(t){case"before":e=i.top;break;case"child":e=i.top+r;break;case"after":e=i.bottom;break;case"forbidden":e=i.top+r}var s=$e.$ad()-o,l=document.createElement("div");l.style.position="absolute",l.style.left=o+"px",l.style.width=s+"px",l.style.top=e+"px",l.className=$e.$7U("_rowmove_position_"+t),$35.div=l,$e.divResScroll.appendChild(l)}()}else if(DayPilotScheduler.splitting){var p=DayPilot.mo3($e.nav.top,e).x,y=$e.$ad(),m=Math.min(y,p-1);$e.rowHeaderWidth=m,$e.$aH=!1,$e.$aI()}},this.$7y=function(){var e=this.$7W();this.nav.corner.style.height=e+"px",this.divTimeScroll.style.height=e+"px",this.divNorth.style.height=e+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=e+"px",this.nav.dh2.style.top=e+"px"),this.nav.loading.style.top=e+5+"px",this.nav.scroll.style.top=e+1+"px"},this.$7X=function(){if(this.$aH)return 0;var e=this.rowHeaderScrolling;return e?this.rowHeaderWidth:this.$ad()},this.$b1=function(){var e=this.nav.divider;e.style.cursor="col-resize",e.setAttribute("unselectable","on"),e.onmousedown=function(e){var t=DayPilotScheduler.splitting={};return t.cursor=$e.nav.top.style.cursor,t.cleanup=function(){if($e.nav.top.style.cursor=t.cursor,"function"==typeof $e.onRowHeaderResized){var e={};$e.onRowHeaderResized(e)}},$e.nav.top.style.cursor="col-resize",!1}},this.$aI=function(){var e=$Q.splitterWidth(),t=this.$7X();if(this.nav.corner.style.width=t+"px",this.divCorner.style.width=t+"px",this.divResScroll.style.width=t+"px",this.nav.left.style.width=t+"px",this.nav.divider.style.left=t+"px",this.nav.right.style.marginLeft=t+e+"px",this.nav.message&&(this.nav.message.style.left=t+e+"px"),this.nav.loading&&(this.nav.loading.style.left=t+e+5+"px"),this.nav.hideIcon){var i=this.nav.hideIcon,a=$e.$7U("_header_icon_show"),n=$e.$7U("_header_icon_hide");i.style.left=t+e-1+"px",$e.$aH?(DayPilot.Util.removeClass(i,n),DayPilot.Util.addClass(i,a)):(DayPilot.Util.removeClass(i,a),DayPilot.Util.addClass(i,n))}},this.$b5=function(){this.$ac();var e=this.$ad(),t=function(e,t,i){if(e&&e.style){var a=e.firstChild;$e.$ak?(e.style.width=t+"px",a.style.width=t+"px","number"==typeof i&&(e.style.left=i+"px")):a.style.width=t+"px"}},i=this.divHeader;i.style.width=e+"px";for(var a=$e.$ae(),n=a.start;n<a.end;n++){var o=i.rows[n];if(o){var s=o.cells[0];if(s.colSpan>1){var s=o.cells[0];t(s,e)}else if(this.rowHeaderCols)for(var l=0,r=0;r<o.cells.length;r++){var c=this.rowHeaderCols[r],s=o.cells[r];t(s,c,l),l+=c}else{var c=this.rowHeaderWidth,s=o.cells[0];t(s,c)}}}$e.nav.resScrollSpace&&($e.nav.resScrollSpace.style.width=e+"px"),this.$b6()},this.$8L=function(){this.$aI(),this.$b5()},this.$b7=function(){var e=$e.nav.corner,t=this.rowHeaderColumns,i=document.createElement("div");i.style.position="absolute",i.style.bottom="0px",i.style.left="0px",i.style.width="100%",i.style.height=$Q.headerHeight()+"px",i.style.overflow="hidden",$e.nav.columnScroll=i;var a=document.createElement("div");a.style.position="absolute",a.style.bottom="0px",a.style.left="0px",a.style.width="5000px",a.style.height=$Q.headerHeight()+"px",a.style.overflow="hidden",a.className=this.$7U("_columnheader"),i.appendChild(a);var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.bottom="0px",n.style.left="0px",n.style.right="0px",n.className=this.$7U("_columnheader_inner"),a.appendChild(n);var o=new DayPilot.Splitter(n);o.widths=DayPilot.Util.propArray(t,"width"),o.height=$Q.headerHeight(),o.css.title=this.$7U("_columnheader_cell"),o.css.titleInner=this.$7U("_columnheader_cell_inner"),o.css.splitter=this.$7U("_columnheader_splitter"),o.titles=DayPilot.Util.propArray(t,"title"),o.updating=function(e){DayPilot.Util.updatePropsFromArray($e.rowHeaderColumns,"width",this.widths),$e.$8L(),"Auto"===$e.cellWidthSpec},o.updated=function(e){if("function"==typeof $e.onRowHeaderColumnResized){var t={};t.column=$e.rowHeaderColumns[e.index],$e.onRowHeaderColumnResized(t)}$e.$aj()},o.color="#000000",o.opacity=30,o.init(),e.appendChild(i),this.$ai=o},this.$8K=function(){var e=this.nav.corner;e.innerHTML="",e.className=this.$7U(this.cssOnly?"_corner":"corner"),this.cssOnly||(e.style.backgroundColor=this.hourNameBackColor,e.style.fontFamily=this.hourFontFamily,e.style.fontSize=this.hourFontSize,e.style.cursor="default");var t=document.createElement("div");if(t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.right="0px",t.style.bottom="0px",this.cssOnly&&(t.className=this.$7U("_corner_inner")),this.divCorner=t,t.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.right="0px",i.style.bottom=$Q.headerHeight()+1+"px",e.appendChild(i);var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.height="1px",a.style.bottom=$Q.headerHeight()+"px",a.className=this.$7U("_divider"),e.appendChild(a),i.appendChild(t),this.$b7()}else e.appendChild(t);var n=document.createElement("div");n.style.position="absolute",n.style.padding="2px",n.style.top="0px",n.style.left="1px",n.style.color="white",this.numberFormat&&e.appendChild(n)},this.$b4=function(){if(this.rowHeaderHideIconEnabled){var e=3,t=this.$7X()+$Q.splitterWidth()-1,i=10,a=20,n=this.$7W()+e,o=DayPilot.Util.div(this.nav.top,t,n,i,a);o.style.cursor="pointer",o.className=$e.$7U("_header_icon"),DayPilot.Util.addClass(o,$e.$7U("_header_icon_hide")),o.onclick=function(){$e.rows.headerToggle()},this.nav.hideIcon=o}},this.$aZ=function(){var e=this.$7X(),t=document.createElement("div");return $e.nav.corner=t,t.style.width=e+"px",t.style.height=this.$7W()+"px",t.style.overflow="hidden",t.style.position="relative",t.setAttribute("unselectable","on"),t.onmousemove=function(){$e.$al()},t.oncontextmenu=function(){return!1},this.$8K(),t},this.$7W=function(){if(this.timeHeader){var e=this.timeHeader.length;return e*$Q.headerHeight()}return 2*$Q.headerHeight()},this.$b0=function(){var e=document.createElement("div");return this.cssOnly||(e.style.backgroundColor=this.hourNameBackColor),e.style.width=this.$7X()+"px",e.style.height=this.$7Z()+"px",e.style.overflow="hidden",e.style.position="relative",e.className=$e.$7U("_rowheader_scroll"),e.onmousemove=function(){$e.$al()},e.onscroll=function(){$e.nav.columnScroll&&($e.nav.columnScroll.scrollLeft=e.scrollLeft),$e.nav.scroll.scrollTop=e.scrollTop},e.oncontextmenu=function(){return!1},e.onmouseenter=function(){$e.rowHeaderScrolling&&(e.style.overflowX="auto")},e.onmouseleave=function(){$e.rowHeaderScrolling&&(e.style.overflowX="hidden")},this.divResScroll=e,this.$80=e,e},this.$b8=function(e){if("TableBased"===$Q.layout()){var t=parseInt(this.width,10),i=-1!==this.width.indexOf("%"),a=/MSIE/i.test(navigator.userAgent),n=this.$ad();i?this.nav.top&&this.nav.top.offsetWidth>0&&(e.style.width=this.nav.top.offsetWidth-6-n+"px"):e.style.width=t-n+"px"}},this.$9z=function(){"TableBased"===$e.$9C.layout()&&($e.$b8($e.nav.scroll),$e.$b8($e.divTimeScroll)),$e.$7z(),$e.$aj(),$e.$7f.drawArea=null,$e.$7M()},this.$aj=function(){$e.initialized&&"Auto"===$e.cellWidthSpec&&($e.debug.message("cell width recalc in _resize"),$e.$7o(),$e.$7p(),$e.$7u(),$e.$7A(),$e.$7D(),$e.$7C(),$e.$7E(),$e.$7B(),$e.$7s(),$e.$7F())},this.$7o=function(){if("Auto"===this.cellWidthSpec){var e=this.nav.top.clientWidth,t=this.$7X(),i=e-t,a=i/this.$7V();this.cellWidth=Math.floor(a),$e.debug.message("AutoCellWidth: "+this.cellWidth)}},this.$82=function(){var e=this.nav.top.clientWidth,t=this.$7X(),i=2,a=this.$7Z(),n=this.$b9(),o=0;n>a&&(o=DayPilot.swa());var s=e-t-i-o;return this.debug.message("scrollableWidth: "+s),s},this.$b2=function(){var e=document.createElement("div");e.style.overflow="hidden",this.cssOnly||(e.style.backgroundColor=this.hourNameBackColor),e.style.position="absolute",e.style.display="block",e.style.top="0px",e.style.width="100%",e.style.height=this.$7W()+"px",e.style.overflow="hidden",e.onmousemove=function(){$e.$al(),$e.cellBubble&&$e.cellBubble.delayedHide()},this.$b8(e),this.divTimeScroll=e;var t=document.createElement("div");return t.style.width=this.$7V()*this.cellWidth+5e3+"px",this.divNorth=t,e.appendChild(t),e},this.$7Z=function(){var e=0;return"Fixed"===this.heightSpec||"Parent100Pct"===this.heightSpec?this.height?this.height:0:(e=this.$b9(),"Max"===this.heightSpec&&e>this.height?this.height:e)},this.$b9=function(){var e;if(this.$7e){var t=DayPilot.sh($e.nav.scroll);e=0===t?this.$7e:this.$7e+t}else e=this.rowlist.length*this.$9C.eventHeight();return e},this.$al=function(){this.$b6(),this.$ba(),this.$bb()},this.$b3=function(){var e=document.createElement("div");e.style.overflow="auto",e.style.overflowX="auto",e.style.overflowY="auto",e.style.position="absolute",e.style.height=this.$7Z()+"px",e.style.top=this.$7W()+1+"px",e.style.width="100%",this.cssOnly||(e.style.backgroundColor=this.emptyBackColor),e.className=this.$7U("_scrollable"),e.oncontextmenu=function(){return!1},this.$b8(e),this.nav.scroll=e,this.$9y=document.createElement("div"),this.$9y.style.MozUserSelect="none",this.$9y.style.KhtmlUserSelect="none",this.$9y.style.webkitUserSelect="none",this.$9y.daypilotMainD=!0,this.$9y.calendar=this,$a&&(this.$9y.style.webkitTransform="translateZ(0px)"),this.$9y.style.position="absolute";var t=this.$bc();return t>0&&!isNaN(t)&&(this.$9y.style.width=t+"px",console.log("setting grid width: "+t)),this.$9y.setAttribute("unselectable","on"),this.$9y.onmousedown=this.$bd,this.$9y.onmousemove=this.$be,this.$9y.oncontextmenu=this.$bf,this.$9y.ondblclick=this.$bg,this.$9y.className=this.$7U("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.$9y.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.$bf,this.$9y.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.$bf,this.$9y.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.$bf,this.$9y.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.$bf,this.$9y.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.$9y.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.$bg,this.$9y.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.$bf,this.$9y.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.$9y.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.$bf,this.$9y.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.$9y.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.$9y.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.$9y.appendChild(this.divLinkpoints),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.$9y.appendChild(this.divHover),e.appendChild(this.$9y),e
},this.$bh={};var $4S=this.$bh;$4S.create=function(){if(!$e.nav.overlay){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.className=$e.$7U("_block"),$e.nav.top.appendChild(e),$e.nav.overlay=e}},$4S.show=function(){$4S.create(),$e.nav.overlay.style.display=""},$4S.hide=function(){$e.nav.overlay&&($e.nav.overlay.style.display="none")},this.$9i=function(){$e.loadingTimeout&&window.clearTimeout($e.loadingTimeout),$e.loadingTimeout=window.setTimeout(function(){$e.loadingLabelVisible&&($e.nav.loading.innerHTML=$e.loadingLabelText,$e.nav.loading.style.display=""),$e.blockOnCallBack&&$4S.show()},100)},this.$7i=function(e){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),e?(this.nav.loading.innerHTML=e,window.setTimeout(function(){$e.$7i()},1e3)):(this.nav.loading.style.display="none",this.blockOnCallBack&&$4S.hide())},this.$bi=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.$bj=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.$7U(e),document.body.appendChild(t);var i=t.offsetHeight,a=t.offsetWidth;document.body.removeChild(t);var n={};return n.height=i,n.width=a,n},this.$7j=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.autoRefreshCount>=this.autoRefreshMaxCount)){$e.debug.message("autorefresh started"),this.$9h();var t=this.autoRefreshInterval;if(!t||10>t)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){$e.$bk()},1e3*this.autoRefreshInterval)}},this.$9h=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$bk=function(){if(!(DayPilotScheduler.resizing||DayPilotScheduler.moving||DayPilotScheduler.drag||DayPilotScheduler.range)){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.autoRefreshCount,t.preventDefault=function(){this.preventDefault.value=!0},$e.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.$83()&&this.commandCallBack(this.autoRefreshCommand),this.autoRefreshCount++}this.autoRefreshCount<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){$e.$bk()},1e3*this.autoRefreshInterval))},this.$bl=function(){DayPilotScheduler.globalHandlers||(DayPilotScheduler.globalHandlers=!0,DayPilot.re(document,"mousemove",DayPilotScheduler.gMouseMove),DayPilot.re(document,"mouseup",DayPilotScheduler.gMouseUp),DayPilot.re(document,"touchmove",DayPilotScheduler.gTouchMove),DayPilot.re(document,"touchend",DayPilotScheduler.gTouchEnd)),DayPilot.re(window,"resize",this.$9z)},this.$bm=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.$8M,$e.$bn=this.nav.scroll.scrollLeft,$e.$bo=this.nav.scroll.scrollTop,$e.$bp=this.divNorth.clientWidth},this.$7I=function(){if(this.nav.state){var e={};e.scrollX=this.nav.scroll.scrollLeft,e.scrollY=this.nav.scroll.scrollTop,this.syncResourceTree&&(e.tree=this.$9r()),this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify(e))}},this.$7E=function(){if(this.separators)for(var e=0;e<this.separators.length;e++)this.$bq(e)},this.$br={},this.$br.step=300,this.$br.delay=10,this.$br.mode="display",this.$br.layers=!0,this.$aF=function(e){for(var t=!0,i=this.$7a?10:0,a=0,n=0;n<e.lines.length;n++){for(var o=e.lines[n],s=0;s<o.length;s++){var l=o[s];(!l.part.top||t)&&(l.part.line=n,l.part.height||(l.part.height=e.eventHeight),l.part.top=a+e.marginTop,l.part.detachedBarTop=l.part.top-i,l.part.right=l.part.left+l.part.width,l.part.fullTop=this.rowlist[l.part.dayIndex].top+l.part.top,l.part.fullBottom=l.part.fullTop+l.part.height)}a+=(o.height||e.eventHeight)*this.eventStackingLineHeight/100}},this.$7F=function(e){var t=this.$br.step,i=this.$br.layers;i&&($e.divEvents=document.createElement("div"),$e.divEvents.style.position="absolute",$e.$9y.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.$br.mode?this.divEvents.style.display="none":"visibility"===this.$br.mode&&(this.divEvents.style.visibility="hidden");for(var a="Progressive"===this.dynamicEventRendering,n=this.$7N(),o=n.pixels.top,s=n.pixels.bottom,l=0;l<this.rowlist.length;l++){var r=this.rowlist[l],c=r.top-this.dynamicEventRenderingMargin,d=c+r.height+2*this.dynamicEventRenderingMargin;if(!a||!(c>=s||o>=d)){this.$aF(r);for(var h=0;h<r.lines.length;h++)for(var u=r.lines[h],f=0;f<u.length;f++){var v=u[f],p=this.$bs(v);if(e&&p&&(t--,0>=t))return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){$e.$7F(e)},$e.$br.delay)}}}this.divEvents.style.display="",this.$7Q(),$0K.load(),this.$7i()},this.$8Q=function(e){var t=this.rowlist[e];this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.$9y.insertBefore(this.divEvents,this.divSeparatorsAbove);var i=this.$7a?10:0;this.$aF(t);for(var a=0;a<t.lines.length;a++)for(var n=t.lines[a],o=0;o<n.length;o++){var s=n[o];this.$bs(s)}this.divEvents.style.display=""},this.$7B=function(){if(this.elements.events)for(var e=this.elements.events.length,t=0;e>t;t++){var i=this.elements.events[t];this.$bt(i)}this.elements.events=[]},this.$8P=function(e){if(this.elements.events){for(var t=this.elements.events.length,i=[],a=0;t>a;a++){var n=this.elements.events[a];n.row===e&&(this.$bt(n),i.push(a))}for(var a=i.length-1;a>=0;a--)this.elements.events.splice(i[a],1)}},this.$bt=function(e){e.onclick=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onmousemove=null,e.onmousedown=null,e.ondblclick=null,e.event&&(e.isBar||(e.event.rendered=null),e.event=null),e.related&&DayPilot.de(e.related),e.parentNode&&e.parentNode.removeChild(e)},this.$bu=function(e){e.event&&(e.event.rendered=!1),e.onclick=null,e.onmousedown=null,e.event=null,e.parentNode&&e.parentNode.removeChild(e)},this.$bv=function(e){if(e||(e=0),"Progressive"===this.dynamicEventRendering){this.divEvents.style.display="none";for(var t=[],i=0,a=this.elements.events.length,n=a-1;n>=0;n--){var o=this.elements.events[n];this.$bw(o.event)?e>0?(e--,t.unshift(o)):(this.$bt(o),i++):t.unshift(o)}this.elements.events=t,this.divEvents.style.display=""}},this.$bx=function(e){for(var t=[],i=0,a=this.$7N(),n=this.elements.cells.length,o=n-1;o>=0;o--){var s=this.elements.cells[o],l=a.xStart<s.coords.x&&s.coords.x<=a.xEnd&&a.yStart<s.coords.y&&s.coords.y<=a.yEnd;l?t.unshift(s):e>0?(e--,t.unshift(s)):(this.$9T(s),i++)}},this.$9T=function(e){if(e){var t=e.coords.x,i=e.coords.y,a=DayPilot.indexOf($e.elements.cells,e);$e.elements.cells.splice(a,1),e.parentNode&&e.parentNode.removeChild(e),$e.$7f.cells[t+"_"+i]=null}},this.$7C=function(){if(this.elements.separators)for(var e=0;e<this.elements.separators.length;e++){var t=this.elements.separators[e];DayPilot.de(t)}this.elements.separators=[]},this.$by=function(){var e="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var t=this.nav.scroll.scrollTop,i=t+this.nav.scroll.clientHeight,a=0;a<this.rowlist.length;a++){var n=this.rowlist[a],o=n.top,s=n.top+n.height;if(!e||!(o>=i||t>=s))for(var l=0;l<n.lines.length;l++)for(var r=n.lines[l],c=0;c<r.length;c++){var d=r[c];if(this.$bz(d))return!0}}return!1},this.$bz=function(e){if(e.rendered)return!1;var t="Progressive"===this.dynamicEventRendering,i=this.nav.scroll.scrollLeft,a=i+this.nav.scroll.clientWidth,n=e.Left,o=e.Left+e.Width;return t&&(n>=a||i>=o)?!1:!0},this.$bw=function(e){if(!e.rendered)return!0;var t=this.$7N(),i=t.pixels.top,a=t.pixels.bottom,n=t.pixels.left-this.dynamicEventRenderingMargin,o=t.pixels.right+this.dynamicEventRenderingMargin,s=e.part.left,l=e.part.right,r=e.part.fullTop,c=e.part.fullBottom;return s>=o||n>=l?!0:r>=a||i>=c?!0:!1},this.$bA=function(e){if(e.rendered)return!1;var t=e.min,i=e.max-e.min,a=$e.eventHeight,n=e.row.top,o=document.createElement("div");o.style.position="absolute",o.style.left=t+"px",o.style.top=n+"px",o.style.width=i+"px",o.style.height=a+"px",o.className=$e.$7U("_event_group"),o.style.cursor="pointer";var s={};s.group={},s.group.count=e.events.length,s.group.html="[+] "+e.events.length+" events","function"==typeof $e.onBeforeGroupRender&&$e.onBeforeGroupRender(s);var l=document.createElement("div");return l.innerHTML=s.group.html,o.appendChild(l),o.onmousedown=function(e){var e=e||window.event;e.cancelBubble=!0},o.onclick=function(e){var t=o.event;t.expanded=!0,$e.$bu(o);var i=DayPilot.indexOf($e.elements.events,o);-1!==i&&$e.elements.events.splice(i,1),$e.$8x(),$e.$8y(t.part.dayIndex),$e.$7z();var e=e||window.event;e.cancelBubble=!0},e.part={},e.part.left=t,e.part.width=i,e.part.dayIndex=DayPilot.indexOf($e.rowlist,e.row),e.part.top=0,e.client={},e.client.html=function(){return s.group.html},o.event=e,this.elements.events.push(o),this.divEvents.appendChild(o),e.rendered=!0,!0},this.$bs=function(e){if(e.rendered)return!1;if($e.groupConcurrentEvents){var t=e.part.block;if(t.events.length>1&&!t.expanded)return $e.$bA(t)}var i="Progressive"===this.dynamicEventRendering,a=this.$7N(),n=a.pixels.left-this.dynamicEventRenderingMargin,o=a.pixels.right+this.dynamicEventRenderingMargin,s=e.part.left,l=e.part.left+e.part.width;if(i&&(s>=o||n>=l))return!1;var r=e.part.dayIndex,c=!this.cssOnly&&this.eventBorderVisible,d=e.part.width,h=e.part.height;c&&(d-=2,h-=2);var u=e.cache||e.data;d=Math.max(0,d),h=Math.max(0,h);var f=this.rowlist[r];if(f.hidden)return!1;var v=f.top,p=document.createElement("div"),y=this.$7a;if(p.related=[],y){var m=document.createElement("div");m.style.position="absolute",m.style.left=e.part.left+e.part.barLeft+"px",m.style.top=v+e.part.detachedBarTop+"px",m.style.width=e.part.barWidth+"px",m.style.height="5px",m.style.backgroundColor="red",m.type="detachedBar",p.related.push(m),this.divEvents.appendChild(m)}if(e.data.htmlLeft){var g=5,b=document.createElement("div");b.style.position="absolute",b.style.right=-(e.part.left-g)+"px",b.style.top=v+e.part.top+"px",b.style.height=$e.eventHeight+"px",b.style.boxSizing="border-box",b.innerHTML=e.data.htmlLeft,b.className=$e.$7U("_event_left"),b.type="divLeft",p.related.push(b),this.divEvents.appendChild(b)}if(e.data.htmlRight){var g=5,D=document.createElement("div");D.style.position="absolute",D.style.left=e.part.left+e.part.width+g+"px",D.style.top=v+e.part.top+"px",D.style.height=$e.eventHeight+"px",D.style.boxSizing="border-box",D.innerHTML=e.data.htmlRight,D.className=$e.$7U("_event_right"),D.type="divRight",p.related.push(D),this.divEvents.appendChild(D)}var w=v+e.part.top;p.style.position="absolute",p.style.left=e.part.left+"px",p.style.top=v+e.part.top+"px",p.style.width=d+"px",p.style.height=h+"px",this.cssOnly||($e.eventBorderVisible&&(p.style.border="1px solid "+(u.borderColor||this.eventBorderColor)),p.style.backgroundColor=e.client.backColor(),p.style.fontSize=this.eventFontSize,p.style.cursor="default",p.style.fontFamily=this.eventFontFamily,p.style.color=u.fontColor||this.eventFontColor,u.backImage&&!this.durationBarVisible&&(p.style.backgroundImage="url("+u.backImage+")",u.backRepeat&&(p.style.backgroundRepeat=u.backRepeat)),this.$9C.rounded()&&(p.style.MozBorderRadius="5px",p.style.webkitBorderRadius="5px",p.style.borderRadius="5px")),p.style.whiteSpace="nowrap",p.style.overflow="hidden",p.className=this.$7U(this.cssOnly?"_event":"event"),"Milestone"===e.data.type&&DayPilot.Util.addClass(p,$e.$7U("_task_milestone")),"Group"===e.data.type&&(DayPilot.Util.addClass(p,$e.$7U("_task_parent")),DayPilot.Util.addClass(p,$e.$7U("_task_group"))),u.cssClass&&DayPilot.Util.addClass(p,u.cssClass);var k=!0;k&&DayPilot.Util.addClass(p,this.$7U("_event_line"+e.part.line)),p.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(p.title=e.client.toolTip()),p.onmousemove=this.$bB,p.onmouseout=this.$bC,p.onmousedown=this.$bD,p.ontouchstart=$0q.onEventTouchStart,p.ontouchmove=$0q.onEventTouchMove,p.ontouchend=$0q.onEventTouchEnd,e.client.clickEnabled()&&(p.onclick=this.$8e),e.client.doubleClickEnabled()&&(p.ondblclick=this.$8p),p.oncontextmenu=this.$8o;var C=[],P=0;if(this.cssOnly){var x=document.createElement("div");x.setAttribute("unselectable","on"),x.className=$e.$7U("_event_inner"),x.innerHTML=e.client.innerHTML(),u.backColor&&(x.style.background=u.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(x.style.filter="")),u.fontColor&&(x.style.color=u.fontColor),u.borderColor&&(x.style.borderColor=u.borderColor),u.backImage&&(x.style.backgroundImage="url("+u.backImage+")",u.backRepeat&&(x.style.backgroundRepeat=u.backRepeat)),p.appendChild(x);var S=e.start().getTime()===e.part.start.getTime(),T=e.end().getTime()===e.part.end.getTime();if(S||DayPilot.Util.addClass(p,this.$7U("_event_continueleft")),T||DayPilot.Util.addClass(p,this.$7U("_event_continueright")),e.client.barVisible()&&d>0){var M=100*e.part.barLeft/d,H=Math.ceil(100*e.part.barWidth/d);"PercentComplete"===this.durationBarMode&&(M=0,H=u.complete||0);var m=document.createElement("div");m.setAttribute("unselectable","on"),m.className=this.$7U("_event_bar"),m.style.position="absolute",u.barBackColor&&(m.style.backgroundColor=u.barBackColor);var A=document.createElement("div");A.setAttribute("unselectable","on"),A.className=this.$7U("_event_bar_inner"),A.style.left=M+"%",A.style.width=H>0&&1>=H?"1px":H+"%",u.barColor&&(A.style.backgroundColor=u.barColor),u.barImageUrl&&(A.style.backgroundImage="url("+u.barImageUrl+")"),m.appendChild(A),p.appendChild(m)}}else e.client.barVisible()&&(P=$e.durationBarHeight,C.push("<div unselectable='on' style='left:0px;background-color:white;width:"),C.push(e.part.barLeft),C.push("px;height:2px;font-size:1px;position:absolute'></div>"),C.push("<div unselectable='on' style='left:"),C.push(e.part.barLeft+e.part.barWidth),C.push("px;background-color:white;width:"),C.push(d-(e.part.barLeft+e.part.barWidth)),C.push("px;height:2px;font-size:1px;position:absolute'></div>"),"Duration"===this.durationBarMode?(C.push("<div unselectable='on' style='width:"),C.push(e.part.barWidth),C.push("px;margin-left:"),C.push(e.part.barLeft),C.push("px;height:")):(C.push("<div unselectable='on' style='width:"),C.push(u.complete),C.push("%;margin-left:0px;height:")),C.push(P-1),C.push("px;background-color:"),C.push(e.client.barColor()),u.barImageUrl&&(C.push(";background-image:url("),C.push(u.barImageUrl),C.push(")")),C.push(";font-size:1px;position:relative'></div>"),C.push("<div unselectable='on' style='width:"),C.push(d),C.push("px;height:1px;background-color:"),C.push(u.borderColor||this.eventBorderColor),C.push(";font-size:1px;overflow:hidden;position:relative'></div>")),C.push("<div unselectable='on' style='padding-left:1px;width:"),C.push(d-1),C.push("px;height:"),C.push(h-P),C.push("px;"),$e.rtl&&C.push("direction:rtl;"),u.backImage&&this.durationBarVisible&&(C.push("background-image:url("),C.push(u.backImage),C.push(");"),u.backRepeat&&(C.push("background-repeat:"),C.push(u.backRepeat),C.push(";"))),C.push("'>"),C.push(e.client.innerHTML()),C.push("</div>"),p.innerHTML=C.join("");if(p.row=r,u.areas)for(var E=0;E<u.areas.length;E++){var a=u.areas[E],B=a.v||"Visible";if("Visible"===B){var R=DayPilot.Areas.createArea(p,e,a);p.appendChild(R)}}if(this.elements.events.push(p),this.divEvents.appendChild(p),e.rendered=!0,p.event=e,$e.multiselect.$8C(p.event)&&($e.multiselect.add(p.event,!0),$e.multiselect.$8B(p)),$e.$7K()){if("function"==typeof $e.onAfterEventRender){var _={};_.e=p.event,_.div=p,$e.onAfterEventRender(_)}}else $e.afterEventRender&&$e.afterEventRender(p.event,p);return!0},this.$7K=function(){return 2===$e.api},this.$8R=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e],i=t.event,a=i.part.dayIndex,n=this.rowlist[a],o=n.top,s=o+i.part.top;if(t.style.top=s+"px",DayPilot.isArray(t.related))for(var l=0;l<t.related.length;l++){var r=t.related[l];("divLeft"===r.type||"divRight"===r.type)&&(r.style.top=s+"px")}}},this.$9I=function(e){if(!e)return null;for(var t=0;t<$e.elements.events.length;t++){var i=$e.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.$bC=function(e){var t=this;DayPilot.Areas.hideAreas(t,e),$e.cssOnly&&DayPilot.Util.removeClass(t,$e.$7U("_event_hover")),$e.$bE(t),$1s.source||$0K.hideLinkpointsWithDelay(),$e.bubble&&"Bubble"===$e.eventHoverHandling&&$e.bubble.hideOnMouseOut()},this.$bF=function(e){if("function"==typeof this.onEventMouseOver){var t={};t.div=e,t.e=e.event,this.onEventMouseOver(t)}},this.$bE=function(e){if("function"==typeof this.onEventMouseOut){var t={};t.div=e,t.e=e.event,this.onEventMouseOut(t)}},this.$bB=function(e){e=e||window.event,$e.cellBubble&&$e.cellBubble.delayedHide();for(var t=this;t&&!t.event;)t=t.parentNode;if($e.$bG(t,e),!t.active){var i=[];if("Disabled"!==$e.eventDeleteHandling){var a=$e.durationBarVisible?$e.durationBarHeight:0;i.push({action:"JavaScript",v:"Hover",w:17,h:17,top:a+2,right:2,css:$e.$7U("_event_delete"),js:function(e){$e.$8l(e)}})}var n=t.event.cache?t.event.cache.areas:t.event.data.areas;n&&n.length>0&&(i=i.concat(n)),DayPilot.Areas.showAreas(t,t.event,null,i),$e.cssOnly&&DayPilot.Util.addClass(t,$e.$7U("_event_hover")),$e.$bF(t)}"Disabled"===$e.linkCreateHandling||$1s.source||($0K.clearHideTimeout(),$0K.hideLinkpoints(),DayPilotScheduler.moving||DayPilotScheduler.resizing||$0K.showLinkpoint(t)),e.srcElement?e.srcElement.insideEvent=!0:e.insideEvent=!0},this.$bH={};var $0r=this.$bH;this.$bD=function(e){$e.$al(),"undefined"!=typeof DayPilot.Bubble&&DayPilot.Bubble.hideActive(),e=e||window.event;var t=DayPilot.Util.mouseButton(e);return t.left&&("w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(DayPilotScheduler.resizing=this,DayPilotScheduler.originalMouse=DayPilot.mc(e),document.body.style.cursor=this.style.cursor,$0K.hideLinkpoints()):"move"===this.style.cursor?(DayPilotScheduler.moving=this,DayPilotScheduler.originalMouse=DayPilot.mc(e),DayPilotScheduler.moveOffsetX=DayPilot.mo3(this,e).x,DayPilotScheduler.moveDragStart=$e.getDate($e.coords.x,!0),document.body.style.cursor="move",$0K.hideLinkpoints()):"Full"===$e.moveBy&&this.event.client.moveEnabled()&&($0r.start=!0,$0r.moving=this,$0r.originalMouse=DayPilot.mc(e),$0r.moveOffsetX=DayPilot.mo3(this,e).x,$0r.moveDragStart=$e.getDate($e.coords.x,!0),$0K.hideLinkpoints())),e.cancelBubble=!0,!1},this.$bI={};var $0q=$e.$bI;$0q.active=!1,$0q.start=!1,$0q.timeouts=[],$0q.onEventTouchStart=function(e){if(!$0q.active&&!$0q.start){$0q.clearTimeouts(),$0q.start=!0,$0q.active=!1;var t=this,i=500;$0q.timeouts.push(window.setTimeout(function(){$0q.active=!0,$0q.start=!1,$e.coords=$0q.relativeCoords(e),$0q.startMoving(t,e),e.preventDefault()},i)),e.stopPropagation()}},$0q.onEventTouchMove=function(e){$0q.clearTimeouts(),$0q.start=!1},$0q.onEventTouchEnd=function(e){$0q.clearTimeouts(),$0q.start&&$e.$8i(this,e),window.setTimeout(function(){$0q.start=!1,$0q.active=!1},500)},$0q.onMainTouchStart=function(e){if(!$0q.active&&!$0q.start){$0q.clearTimeouts(),$0q.start=!0,$0q.active=!1;var t=500;$0q.timeouts.push(window.setTimeout(function(){$0q.active=!0,$0q.start=!1,e.preventDefault(),$e.coords=$0q.relativeCoords(e),$0q.range=$e.$bJ()},t))}},$0q.onMainTouchMove=function(e){if($0q.clearTimeouts(),$0q.start=!1,$0q.active){if(e.preventDefault(),$e.coords=$0q.relativeCoords(e),DayPilotScheduler.moving)return void $0q.updateMoving();if($0q.range){var t=$0q.range;t.end={x:Math.floor($e.coords.x/$e.cellWidth)},$e.$8X(t)}}},$0q.onMainTouchEnd=function(e){if($0q.clearTimeouts(),$0q.active){if(DayPilotScheduler.moving){e.preventDefault();var t=DayPilotScheduler.moving.event,i=DayPilotScheduler.movingShadow.start,a=DayPilotScheduler.movingShadow.end,n="Days"!==$e.viewType?DayPilotScheduler.movingShadow.row.id:null,o=DayPilotScheduler.drag?!0:!1;DayPilot.de(DayPilotScheduler.movingShadow),$e.$ab(),DayPilotScheduler.movingShadow.calendar=null,document.body.style.cursor="",DayPilotScheduler.moving=null,DayPilotScheduler.movingShadow=null,$e.$8S(t,i,a,n,o)}if($0q.range){var s=$e.$bK($0q.range);$0q.range=null,$e.$8W(s.start,s.end,s.resource)}}window.setTimeout(function(){$0q.start=!1,$0q.active=!1},500)},$0q.clearTimeouts=function(){for(var e=0;e<$0q.timeouts.length;e++)clearTimeout($0q.timeouts[e]);$0q.timeouts=[]},$0q.relativeCoords=function(e){var t=$e.$9y,i=e.touches[0].pageX,a=e.touches[0].pageY,n=DayPilot.abs(t),o={x:i-n.x,y:a-n.y,toString:function(){return"x: "+this.x+", y:"+this.y}};return o},$0q.startMoving=function(e,t){var i={x:t.touches[0].pageX,y:t.touches[0].pageY};DayPilotScheduler.moving=e,DayPilotScheduler.originalMouse=i;var a=DayPilot.abs(e);DayPilotScheduler.moveOffsetX=i.x-a.x,DayPilotScheduler.moveDragStart=$e.getDate($e.coords.x,!0),DayPilotScheduler.movingShadow=$e.$9D(e,$e.shadow),$e.$a5()},$0q.updateMoving=function(){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$e&&(DayPilotScheduler.movingShadow.calendar=null,DayPilot.de(DayPilotScheduler.movingShadow),DayPilotScheduler.movingShadow=null),!DayPilotScheduler.movingShadow){var e=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$e.$9D(e,$e.shadow)}DayPilotScheduler.moving.target=$e,$e.$a5()},this.$bG=function(e,t){var i=this.eventResizeMargin,a=this.eventMoveMargin,n=e;if("undefined"!=typeof DayPilotScheduler){var o=DayPilot.mo3(e,t);if(o&&($e.eventOffset=o,!DayPilotScheduler.resizing)){var s=n.event.part.start.toString()===n.event.start().toString(),l=n.event.part.end.toString()===n.event.end().toString();if("Top"===$e.moveBy&&o.y<=a&&n.event.client.moveEnabled()&&"Disabled"!==$e.eventMoveHandling?e.style.cursor=s?"move":"not-allowed":("Top"===$e.moveBy||"Full"===$e.moveBy)&&o.x<=i&&n.event.client.resizeEnabled()&&"Disabled"!==$e.eventResizeHandling?s?(e.style.cursor="w-resize",e.dpBorder="left"):e.style.cursor="not-allowed":"Left"===$e.moveBy&&o.x<=a&&n.event.client.moveEnabled()&&"Disabled"!==$e.eventMoveHandling?e.style.cursor=s?"move":"not-allowed":e.offsetWidth-o.x<=i&&n.event.client.resizeEnabled()&&"Disabled"!==$e.eventResizeHandling?l?(e.style.cursor="e-resize",e.dpBorder="right"):e.style.cursor="not-allowed":DayPilotScheduler.resizing||DayPilotScheduler.moving||(e.style.cursor=n.event.client.clickEnabled()&&"Disabled"!==$e.eventClickHandling?"pointer":"default"),"undefined"!=typeof DayPilotBubble&&$e.bubble&&"Bubble"===$e.eventHoverHandling&&("default"===e.style.cursor||"pointer"===e.style.cursor)){var r=this.$bL&&o.x===this.$bL.x&&o.y===this.$bL.y;r||(this.$bL=o,$e.bubble.showEvent(e.event))}}}},this.$7V=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.$bK=function(e){var e=e||DayPilotScheduler.range||DayPilotScheduler.rangeHold;if(!e)return null;var t=$e.rowlist[e.start.y];if(!t)return null;var i=t.id,a=e.end.x>e.start.x?e.start.x:e.end.x,n=e.end.x>e.start.x?e.end.x:e.start.x,o=t.start.getTime()-this.$a7().getTime(),s=this.itline[a].start.addTime(o),l=this.itline[n].end.addTime(o);return new DayPilot.Selection(s,l,i,$e)},this.$bM=function(e){var t=e.parentNode,i=document.createElement("textarea");return i.style.position="absolute",i.style.width=(e.offsetWidth<100?100:e.offsetWidth-2)+"px",i.style.height=e.offsetHeight-2+"px",i.style.fontFamily=DayPilot.gs(e,"fontFamily")||DayPilot.gs(e,"font-family"),i.style.fontSize=DayPilot.gs(e,"fontSize")||DayPilot.gs(e,"font-size"),i.style.left=e.offsetLeft+"px",i.style.top=e.offsetTop+"px",i.style.border="1px solid black",i.style.padding="0px",i.style.marginTop="0px",i.style.backgroundColor="white",i.value=DayPilot.tr(e.event.text()),i.event=e.event,t.appendChild(i),i},this.$8j=function(e){if(DayPilotScheduler.editing)return void DayPilotScheduler.editing.blur();var t=this.$bM(e);DayPilotScheduler.editing=t,t.onblur=function(){var i=e.event.text(),a=t.value;DayPilotScheduler.editing=null,t.parentNode&&t.parentNode.removeChild(t),i!==a&&(e.style.display="none",$e.$9e(e.event,a))},t.onkeypress=function(e){var i=window.event?event.keyCode:e.keyCode;return 13===i?(this.onblur(),!1):(27===i&&(t.parentNode.removeChild(t),DayPilotScheduler.editing=!1),!0)},t.select(),t.focus()},this.$ar=function(e){var t=this;if("undefined"!=typeof DayPilotBubble&&($e.cellBubble&&$e.cellBubble.hideOnMouseOut(),$e.resourceBubble)){var i={};i.calendar=$e,i.id=t.row.id,i.toJSON=function(){var e={};return e.id=this.id,e},$e.resourceBubble.showResource(i)}},this.$as=function(e){var t=this;"undefined"!=typeof DayPilotBubble&&$e.resourceBubble&&$e.resourceBubble.hideOnMouseOut();var i=t.firstChild;DayPilot.Areas.hideAreas(i,e),i.data=null},this.$at=function(e){$35.row&&($0U.cancelClick=!0,setTimeout(function(){$0U.cancelClick=!1},100))},this.$7u=function(){this.$bN()},this.$bN=function(){if(!this.timeHeader)return void $e.debug.message("drawTimeHeader: timeHeader not available");this.$7f.timeHeader={};var e=document.createElement("div");e.style.position="relative",this.nav.timeHeader=e;for(var t=0;t<this.timeHeader.length;t++)for(var i=this.timeHeader[t],a=0;a<i.length;a++)this.$bO(a,t);var n=this.divNorth;DayPilot.puc(n),n.innerHTML="",n.appendChild(e);var o=this.$bc();n.style.width=this.$bc()+5e3+"px";var s=this.divCorner;this.cssOnly||(s.style.backgroundColor=this.cornerBackColor),s.innerHTML=this.cornerHtml?this.cornerHtml:"";var o=this.$bc();o>0&&(this.divStretch.style.width=this.$bc()+"px")},this.$89=function(e,t){var i=null,a=this.$9C.locale(),t=t||this.cellGroupBy,n=e.start,o=e.end,a=this.$9C.locale();switch(t){case"Hour":i="Clock12Hours"===$e.$9C.timeFormat()?n.toString("h tt",a):n.toString("H",a);break;case"Day":i=n.toString(a.datePattern);break;case"Week":i=1===$Q.weekStarts()?n.weekNumberISO():n.weekNumber();break;case"Month":i=n.toString("MMMM yyyy",a);break;case"Year":i=n.toString("yyyy");break;case"None":i="";break;case"Cell":if("Manual"===this.scale||"CellDuration"===this.scale){var s=(e.end.ticks-e.start.ticks)/6e4;i=this.$bP(n,s)}else i=this.$89(e,this.scale);break;default:throw"Invalid cellGroupBy value"}return i},this.$bP=function(e,t){var i=this.$9C.locale(),t=t||this.cellDuration;return 60>t?e.toString("mm"):1440>t?"Clock12Hours"===$e.$9C.timeFormat()?e.toString("h tt",i):e.toString("H",i):10080>t?e.toString("d"):10080===t?1===$Q.weekStarts()?e.weekNumberISO():e.weekNumber():e.toString("MMMM yyyy",i)},this.$86=function(e){var t=this.scale;switch(t){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return e.addMinutes(1);case"CellDuration":return e.addMinutes(this.cellDuration);default:return this.$88(e,t)}},this.$88=function(e,t){var i,a="Days"!==this.viewType?this.days:1,n=this.startDate.addDays(a),t=t||this.cellGroupBy,o=60;switch(t){case"Hour":i=e.addHours(1);break;case"Day":i=e.addDays(1);break;case"Week":for(i=e.addDays(1);i.dayOfWeek()!==$Q.weekStarts();)i=i.addDays(1);break;case"Month":i=e.addMonths(1),i=i.firstDayOfMonth();for(var s=DayPilot.Date.diff(i.d,e.d)/6e4%o===0;!s;)i=i.addHours(1),s=DayPilot.Date.diff(i.d,e.d)/6e4%o===0;break;case"Year":i=e.addYears(1),i=i.firstDayOfYear();for(var s=DayPilot.Date.diff(i.d,e.d)/6e4%o===0;!s;)i=i.addHours(1),s=DayPilot.Date.diff(i.d,e.d)/6e4%o===0;break;case"None":i=n;break;case"Cell":var l=this.$8d(e);i=l.current?l.current.end:l.past?l.previous.end:l.next.start;break;default:throw"Invalid cellGroupBy value"}return i.getTime()>n.getTime()&&(i=n),i},this.$bO=function(e,t){var i=this.nav.timeHeader,a=this.timeHeader[t][e],n=t<this.timeHeader.length-1,o=t*$Q.headerHeight(),s=a.left,l=a.width,r=$Q.headerHeight(),c=document.createElement("div");if(c.style.position="absolute",c.style.top=o+"px",c.style.left=s+"px",c.style.width=l+"px",c.style.height=r+"px",a.toolTip&&(c.title=a.toolTip),c.setAttribute("unselectable","on"),c.style.KhtmlUserSelect="none",c.style.MozUserSelect="none",c.style.webkitUserSelect="none",c.oncontextmenu=function(){return!1},c.cell={},c.cell.start=a.start,c.cell.end=a.end,c.cell.level=t,c.cell.th=a,c.onclick=this.$ay,c.style.overflow="hidden",!this.cssOnly){var d=t===this.timeHeader.length-1;c.style.textAlign="center",c.style.backgroundColor="undefined"==typeof c.backColor?$e.hourNameBackColor:c.backColor,c.style.fontFamily=this.hourFontFamily,c.style.fontSize=this.hourFontSize,c.style.color=this.headerFontColor,c.style.cursor="default",c.style.border="0px none",d||(c.style.height=r-1+"px",c.style.borderBottom="1px solid "+this.borderColor),c.style.width=l-1+"px",c.style.borderRight="1px solid "+this.hourNameBorderColor,c.style.whiteSpace="nowrap",c.className=this.$7U("timeheadergroup")}var h=document.createElement("div");if(h.setAttribute("unselectable","on"),h.innerHTML=a.innerHTML,a.backColor&&(h.style.background=a.backColor),this.cssOnly){var u=this.$7U("_timeheadercol"),f=this.$7U("_timeheadercol_inner");n&&(u=this.$7U("_timeheadergroup"),f=this.$7U("_timeheadergroup_inner")),DayPilot.Util.addClass(c,u),DayPilot.Util.addClass(h,f)}c.appendChild(h),this.$7f.timeHeader[e+"_"+t]=c,i.appendChild(c)},this.$8x=function(){for(var e=0;e<this.rowlist.length;e++){var t=this.rowlist[e],i=t.getHeight()+t.marginBottom+t.marginTop;(t.height!==i||"function"==typeof $e.onBeforeCellRender)&&(this.$8O=!0),t.height=i}},this.$7x=function(){var e=this.divHeader;if(!e)return!1;for(var t=this.rowlist.length,i=this.rowHeaderCols?this.rowHeaderCols.length:1,a=0,n=0;t>n;n++){var o=this.rowlist[n];if(!o.hidden){var s=this.$ak?n:a;if(e.rows[s]){for(var l=0;l<e.rows[s].cells.length;l++){var r=e.rows[s].cells[l];this.$ak&&(r.style.top=o.top+"px");var c=o.height;r&&r.firstChild&&parseInt(r.firstChild.style.height,10)!==c&&(r.firstChild.style.height=c+"px")}a++}}}this.$ak&&$e.nav.resScrollSpace&&($e.nav.resScrollSpace.style.top=$e.$7e+"px")},this.$bq=function(e){var t=this.separators[e];t.location=t.location||t.Location,t.color=t.color||t.Color,t.layer=t.layer||t.Layer,t.width=t.width||t.Width,t.opacity=t.opacity||t.Opacity;var i=new DayPilot.Date(t.location),a=t.color,n=t.width?t.width:1,o=t.layer?"AboveEvents"===t.layer:!1,s=t.opacity?t.opacity:100;if(!(i.getTime()<this.startDate.getTime()||i.getTime()>=this.startDate.addDays(this.days).getTime())){var l=this.getPixels(i);if(!l.cut&&!(l.left<0||l.left>this.$7V()*this.cellWidth)){var r=document.createElement("div");r.style.width=n+"px",r.style.height=$e.$7e+"px",r.style.position="absolute",r.style.left=l.left-1+"px",r.style.top="0px",r.style.backgroundColor=a,r.style.opacity=s/100,r.style.filter="alpha(opacity="+s+")",o?this.divSeparatorsAbove.appendChild(r):this.divSeparators.appendChild(r),this.elements.separators.push(r)}}},this.$bg=function(e){if("Disabled"===$e.timeRangeDoubleClickHandling)return!1;DayPilotScheduler.timeRangeTimeout&&(clearTimeout(DayPilotScheduler.timeRangeTimeout),DayPilotScheduler.timeRangeTimeout=null);var t={};if(!$e.coords){var i=$e.$9y;$e.coords=DayPilot.mo3(i,e)}if(e=e||window.event,$e.$bQ($e.coords)){var a=$e.$bK(DayPilotScheduler.rangeHold);$e.$8Y(a.start,a.end,a.resource)}else if(DayPilotScheduler.range=$e.$bJ(),DayPilotScheduler.range){var a=$e.$bK(DayPilotScheduler.range);$e.$8Y(a.start,a.end,a.resource)}DayPilotScheduler.rangeHold=DayPilotScheduler.range,DayPilotScheduler.range=null},this.$bd=function(e){if(!$0q.start){if($e.$b6(),$e.$ba(),!$e.coords){var t=$e.$9y;$e.coords=DayPilot.mo3(t,e)}e=e||window.event;var i=DayPilot.Util.mouseButton(e);if(i.middle||i.right&&$e.$bQ($e.coords))return!1;if("Disabled"===$e.timeRangeSelectedHandling)return!1;var a=$e.$9t($e.coords.y).i,n=$e.rowlist[a];return n.isNewRow?!1:(DayPilotScheduler.range=$e.$bJ(),!1)}},this.$bJ=function(){var e={},t=this.$8b($e.coords.x).x;return e.start={y:$e.$9t($e.coords.y).i,x:t},e.end={x:t},this.$a0($e.$9t($e.coords.y).i)?null:(e.calendar=$e,$e.$8X(e),e)},this.$bR=function(){$e.$a6();var e=DayPilotScheduler.resizingShadow,t=DayPilotScheduler.resizing;!function(){var i=$e.$bS;if(!i||i.start.getTime()!==e.start.getTime()||i.end.getTime()!==e.end.getTime()){var a={};a.start=e.start,a.end=e.end,a.e=t,a.left={},a.left.html=a.start.toString($e.eventResizingStartEndFormat),a.left.enabled=$e.eventResizingStartEndEnabled,a.right={},a.right.html=a.end.toString($e.eventResizingStartEndFormat),a.right.enabled=$e.eventResizingStartEndEnabled,$e.$bS=a,"function"==typeof $e.onEventResizing&&$e.onEventResizing(a),$e.$aa(DayPilotScheduler.resizingShadow,a)
}}()},this.$be=function(e){if(!$0q.active){DayPilotScheduler.activeCalendar=$e,e=e||window.event;var t=DayPilot.mc(e);if($e.coords=DayPilot.mo3($e.$9y,e),e.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),$0r.start&&($0r.originalMouse.x!==t.x||$0r.originalMouse.y!==t.y)&&(DayPilot.Util.copyProps($0r,DayPilotScheduler),document.body.style.cursor="move",$0r={}),DayPilotScheduler.resizing&&DayPilotScheduler.resizing.event.calendar===$e){DayPilotScheduler.resizingShadow||(DayPilotScheduler.resizingShadow=$e.$9D(DayPilotScheduler.resizing,$e.shadow));var i=DayPilotScheduler.resizing.event.calendar.cellWidth,a=DayPilotScheduler.resizing.event.part.width,n=DayPilotScheduler.resizing.event.part.left,o=0,s=t.x-DayPilotScheduler.originalMouse.x,l,r;if("right"===DayPilotScheduler.resizing.dpBorder){if(l=n,$e.snapToGrid){var c=$e.$8b(a+n+s).cell,d=c.left+c.width;r=d-n,i>r&&(r=i)}else r=a+s;var h=$e.$bc();n+r>h&&(r=h-n),DayPilotScheduler.resizingShadow.style.width=r+"px"}else if("left"===DayPilotScheduler.resizing.dpBorder){$e.snapToGrid?(s>=a&&(s=a),l=Math.floor((n+s+0)/i)*i,o>l&&(l=o)):l=n+s,r=a-(l-n);var u=n+a,f=i;$e.snapToGrid?"Never"===$e.useEventBoxes&&(f=i>a?a:1):f=1,f>r&&(r=f,l=u-r),DayPilotScheduler.resizingShadow.style.left=l+"px",DayPilotScheduler.resizingShadow.style.width=r+"px"}!function E(){var e=DayPilotScheduler.resizing.event,t=$e.rowlist[e.part.dayIndex],i=DayPilotScheduler.resizingShadow,a=l,n=r;$e.$a8(DayPilotScheduler.resizingShadow,t,a,n,e.data)}(),$e.$bR()}else if(DayPilotScheduler.moving&&(DayPilotScheduler.moving.event.calendar===$e||DayPilotScheduler.moving.event.calendar.dragOutAllowed)){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$e&&(DayPilotScheduler.movingShadow.calendar=null,DayPilot.de(DayPilotScheduler.movingShadow),DayPilotScheduler.movingShadow=null),!DayPilotScheduler.movingShadow){var v=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$e.$9D(v,$e.shadow)}$e.$a3(),DayPilotScheduler.moving.target=$e,$e.$a5()}else if(DayPilotScheduler.range&&DayPilotScheduler.range.calendar===$e){var p=DayPilotScheduler.range;p.end={x:$e.$8b($e.coords.x).x},$e.$8X(p)}else if($1s.source){var y=$1s.source;$0K.drawShadow(y.coords,$e.coords)}else"Disabled"!==$e.crosshairType&&$e.$bT();$e.$bU();var m=e.insideEvent;if(window.event&&(m=window.event.srcElement.insideEvent),$e.cellBubble&&$e.coords&&$e.rowlist&&$e.rowlist.length>0&&!m){var g=Math.floor($e.coords.x/$e.cellWidth),b=$e.$9t($e.coords.y).i;if(b>=0&&b<$e.rowlist.length&&g>=0&&g<$e.itline.length){var D={};D.calendar=$e,D.start=$e.itline[g].start,D.end=$e.itline[g].end,D.resource=$e.rowlist[b].id,D.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},$e.cellBubble.showCell(D)}}if(DayPilotScheduler.drag){if($e.$b6(),DayPilotScheduler.gShadow&&document.body.removeChild(DayPilotScheduler.gShadow),DayPilotScheduler.gShadow=null,!DayPilotScheduler.movingShadow&&$e.coords&&$e.rowlist.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var w=DayPilotScheduler.drag.event;if(!w){var k=$e.itline[0].start;$e.debug.message("external start:"+k);var e={id:DayPilotScheduler.drag.id,start:k,end:k.addSeconds(DayPilotScheduler.drag.duration),text:DayPilotScheduler.drag.text};w=new DayPilot.Event(e),w.calendar=$e}DayPilotScheduler.moving.event=w}DayPilotScheduler.movingShadow=$e.$9D(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType)}e.cancelBubble=!0}if("Always"===$e.autoScroll||"Drag"===$e.autoScroll&&(DayPilotScheduler.moving||DayPilotScheduler.resizing||DayPilotScheduler.range)){var C=$e.nav.scroll,P={x:$e.coords.x,y:$e.coords.y};P.x-=C.scrollLeft,P.y-=C.scrollTop;var x=C.clientWidth,S=C.clientHeight,T=20,M=P.x<T,u=x-P.x<T,H=P.y<T,A=S-P.y<T,g=0,b=0;M&&(g=-5),u&&(g=5),H&&(b=-5),A&&(b=5),g||b?$e.$bV(g,b):$e.$ba()}}},this.$bW=function(){var e,t;if($e.coords&&$e.rowlist&&$e.rowlist.length>0&&(e=$e.$8b($e.coords.x).x,t=$e.$9t($e.coords.y).i,!(t>=$e.rowlist.length))){var i=this.$9J(t),a=this.itline[e],n={};n.x=e,n.y=t,n.start=a.start,n.end=a.end,n.resource=i?i.data.id:null}},this.$bU=function(){var e=this.$bW();if(this.hover.cell){if(this.hover.cell.x===e.x&&this.hover.cell.y===e.y)return;this.$bb()}if(this.hover.cell=e,"function"==typeof this.onCellMouseOver){var t={};t.cell=e,this.onCellMouseOver(t)}},this.$bb=function(){if("function"==typeof this.onCellMouseOut){var e={};e.cell=this.hover.cell,this.onCellMouseOut(e)}this.hover.cell=null},this.hover={},this.$bT=function(){var e=this.$bW();this.hover.cell&&this.hover.cell.x===e.x&&this.hover.cell.y===e.y||this.$bX()},this.$b6=function(){if(this.divCrosshair.innerHTML="",this.crosshairVertical=null,this.crosshairHorizontal=null,this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null),this.crosshairLeft){for(var e=0;e<this.crosshairLeft.length;e++){var t=this.crosshairLeft[e];t.parentNode&&t.parentNode.removeChild(t)}this.crosshairLeft=null}this.$7d=-1,this.$7c=-1},this.$bX=function(){var e,t;if($e.coords&&$e.rowlist&&$e.rowlist.length>0&&(e=$e.$8b($e.coords.x).x,t=$e.$9t($e.coords.y).i,!(t>=$e.rowlist.length))){var i=this.crosshairType,a=$e.rowlist[t];if("Full"===i){var n=this.itline[e],o=n.left,s=this.crosshairVertical;if(!s){var s=document.createElement("div");s.style.height=$e.$7e+"px",s.style.position="absolute",s.style.top="0px",s.style.backgroundColor=this.crosshairColor,s.style.opacity=this.crosshairOpacity/100,s.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairVertical=s,this.divCrosshair.appendChild(s)}s.style.left=o+"px",s.style.width=n.width+"px";var l=a.top,r=a.height,c=this.$bc(),s=this.crosshairHorizontal;if(!s){var s=document.createElement("div");s.style.width=c+"px",s.style.height=r+"px",s.style.position="absolute",s.style.top=l+"px",s.style.left="0px",s.style.backgroundColor=this.crosshairColor,s.style.opacity=this.crosshairOpacity/100,s.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairHorizontal=s,this.divCrosshair.appendChild(s)}s.style.top=l+"px",s.style.height=r+"px"}var d=this.$bY(this.coords.x);if(d&&this.$7d!==d.x){this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null);var s=document.createElement("div");s.style.width=d.cell.width+"px",s.style.height=$Q.headerHeight()+"px",s.style.left="0px",s.style.top="0px",s.style.position="absolute",s.style.backgroundColor=this.crosshairColor,s.style.opacity=this.crosshairOpacity/100,s.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairTop=s;var h=this.divNorth,u=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.$7f.timeHeader[d.x+"_"+u].appendChild(s):h.firstChild.rows[u].cells[e]&&h.firstChild.rows[u].cells[e].firstChild.appendChild(s)}if(this.$7c!==t){if(this.crosshairLeft){for(var f=0;f<this.crosshairLeft.length;f++){var v=this.crosshairLeft[f];v.parentNode&&v.parentNode.removeChild(v)}this.crosshairLeft=null}var p=this.rowHeaderCols?this.rowHeaderCols.length:1;if(this.crosshairLeft=[],this.divHeader.rows[t])for(var f=0;f<this.divHeader.rows[t].cells.length;f++){var c=$e.$7X(),s=document.createElement("div");s.style.width=c+"px",s.style.height=a.height+"px",s.style.left="0px",s.style.top="0px",s.style.position="absolute",s.style.backgroundColor=this.crosshairColor,s.style.opacity=this.crosshairOpacity/100,s.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairLeft.push(s),this.divHeader.rows[t].cells[f].firstChild.appendChild(s)}}d&&(this.$7d=d.x),this.$7c=t}},this.$bY=function(e){for(var t=this.timeHeader[this.timeHeader.length-1],i=0;i<t.length;i++){var a=t[i];if(e>=a.left&&e<a.left+a.width){var n={};return n.cell=a,n.x=i,n}}return null},this.$bf=function(e){if(e=e||window.event,"Disabled"===$e.timeRangeSelectedHandling)return!1;if($e.$bQ($e.coords)||$e.$bZ(e),$e.contextMenuSelection){var t=$e.$bK(DayPilotScheduler.rangeHold);$e.contextMenuSelection.show(t)}return e.cancelBubble=!0,$e.allowDefaultContextMenu?void 0:!1},this.$bQ=function(e){var t=DayPilotScheduler.rangeHold;if(!t||!t.start||!t.end)return!1;var i=this.$9J(t.start.y),a=t.start.x<t.end.x,n=(a?t.start.x:t.end.x)*this.cellWidth,o=(a?t.end.x:t.start.x)*this.cellWidth+this.cellWidth,s=i.top,l=i.bottom;return e.x>=n&&e.x<=o&&e.y>=s&&e.y<=l?!0:!1},this.$8X=function(e){var e=e||DayPilotScheduler.range,t=e.end.x>e.start.x?e.start.x:e.end.x,i=e.end.x>e.start.x?e.end.x:e.start.x;this.$c0(t,i,e.start.y)},this.$c0=function(e,t,i){var a=this.itline[e],n=this.itline[t],o=a.left,s=n.left+n.width,l=s-o,r=this.elements.range2;if(!r){if(r=document.createElement("div"),r.style.position="absolute",r.setAttribute("unselectable","on"),this.cssOnly){r.className=this.$7U("_shadow");var c=document.createElement("div");c.className=this.$7U("_shadow_inner"),r.appendChild(c)}else r.style.backgroundColor=$e.cellSelectColor;this.divRange.appendChild(r)}r.style.left=a.left+"px",r.style.top=this.rowlist[i].top+"px",r.style.width=l+"px",r.style.height=this.rowlist[i].height-1+"px",this.elements.range2=r,function d(){var e=$e.rowlist[i],t=r,n=a.left;$e.$a8(r,e,n,l,null)}(),function(){var e=$e.$c1;if(!e||e.start.getTime()!==a.start.getTime()||e.end.getTime()!==n.end.getTime()||e.resource!==$e.rowlist[i].id){var t={};t.start=a.start,t.end=n.end,t.resource=$e.rowlist[i].id,t.left={},t.left.html=t.start.toString($e.timeRangeSelectingStartEndFormat),t.left.enabled=$e.timeRangeSelectingStartEndEnabled,t.right={},t.right.html=t.end.toString($e.timeRangeSelectingStartEndFormat),t.right.enabled=$e.timeRangeSelectingStartEndEnabled,$e.$c1=t,"function"==typeof $e.onTimeRangeSelecting&&$e.onTimeRangeSelecting(t),$e.$aa(r,t)}}()},this.$bZ=function(e){if("Disabled"===$e.timeRangeSelectedHandling)return!1;e=e||window.event;var t=DayPilot.Util.mouseButton(e);if(!DayPilotScheduler.range&&!(DayPilotScheduler.rangeHold&&$e.$bQ($e.coords)&&(t.right||t.middle)||$e.$a0($e.$9t($e.coords.y).i))){var i={},a=$e.$8b($e.coords.x).x;i.start={y:$e.$9t($e.coords.y).i,x:a},i.end={x:a},$e.$8X(i);var n=$e.$bK(i);$e.$8W(n.start,n.end,n.resource),DayPilotScheduler.rangeHold=i}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.$8M=function(e){if($e.$7m(),$e.dynamicLoading)return void $e.$c2();var t=$e.nav.scroll;if($e.$bn=t.scrollLeft,$e.$bo=t.scrollTop,$e.$bp=t.clientWidth,$e.divTimeScroll.scrollLeft=$e.$bn,$e.divResScroll.scrollTop=$e.$bo,$e.timeouts.drawEvents&&(clearTimeout($e.timeouts.drawEvents),$e.timeouts.drawEvents=null),$e.scrollDelayEvents>0)$e.timeouts.drawEvents=setTimeout($e.$c3(),$e.scrollDelayEvents);else{var i=$e.$c3();i()}if($e.timeouts.drawCells&&(clearTimeout($e.timeouts.drawCells),$e.timeouts.drawCells=null),$e.scrollDelayCells>0)$e.timeouts.drawCells=setTimeout($e.$c4(),$e.scrollDelayCells);else{var i=$e.$c4();i()}$e.timeouts.updateFloats&&(clearTimeout($e.timeouts.updateFloats),$e.timeouts.updateFloats=null),$e.scrollDelayFloats>0?$e.timeouts.updateFloats=setTimeout(function(){$e.$7J()},$e.scrollDelayFloats):$e.$7J(),$e.onScrollCalled=!0},this.$c5=function(){return function(){$e.$7I(),$e.$7D(),$e.refreshTimeout=window.setTimeout($e.$c3(),200)}},this.$c4=function(){return function(){$e.$7I(),$e.$7D()}},this.$c3=function(){var e=!0,t=$e.dynamicEventRenderingCacheSweeping,i=$e.dynamicEventRenderingCacheSize;return function(){$e.$by()?($e.$9i(),window.setTimeout(function(){t&&$e.$bv(i),window.setTimeout(function(){$e.$7F(e)},50)},50)):$e.$7Q()}},this.$7m=function(){this.$7f.eventHeight=null,this.$7f.drawArea=null},this.show=function(){$e.nav.top.style.display="",this.$9z(),$e.$8M()},this.hide=function(){$e.nav.top.style.display="none"},this.$c2=function(){var e=$e.nav.scroll;$e.$bn=e.scrollLeft,$e.$bo=e.scrollTop,$e.$bp=e.clientWidth,$e.divTimeScroll.scrollLeft=$e.$bn,$e.divResScroll.scrollTop=$e.$bo,$e.refreshTimeout&&window.clearTimeout($e.refreshTimeout);var t=$e.scrollDelayDynamic;$e.refreshTimeout=window.setTimeout($e.$c6(e.scrollLeft,e.scrollTop),t),$e.$7J()},this.$c7=function(e){for(var t=e.id,i=0;i<this.events.list.length;i++){var a=this.events.list[i],n=a.id;if(n===t){var o={};return o.ex=a,o.index=i,o.modified=!$e.$c8(e,a),o}}return null},this.$c8=function(e,t){for(var i in e)if("object"!=typeof e[i]&&e[i]!==t[i])return!1;for(var i in t)if("object"!=typeof t[i]&&e[i]!==t[i])return!1;return!0},this.$7G=function(e,t){for(var i=[],a=0;a<e.length;a++){var n=e[a],o=$e.$c7(n),s=o&&o.modified,l=!o;if(s){this.events.list[o.index]=n;var r=$e.events.$8u(o.ex);i=i.concat(r)}else l&&this.events.list.push(n);(s||l)&&(i=i.concat($e.events.$8v(n)))}$e.$8w(i),$e.$8x(),$e.$7v(),$e.$7z();var c=!1;if(c)$e.$8y(i,!1,t);else{$e.$7A(),$e.$7x(),$e.$7D(),$e.$8R();var d=$e.$c3();d()}},this.$c6=function(e,t){return $e.$83()?function(){$e.scrollX=e,$e.scrollY=t,$e.$8h("Scroll")}:function(){if("function"==typeof $e.onScroll){$e.$7D();var i=function(e){var t=function(){if($e.$7K()&&"function"==typeof $e.onAfterRender){var e={};e.isCallBack=!1,e.isScroll=!0,e.data=null,$e.onAfterRender(e)}};$e.$7G(e,t)},a=$e.$9o(e,t),n=$e.$9p(a),o=$e.$9q(a),s={};s.viewport={},s.viewport.start=n.start,s.viewport.end=n.end,s.viewport.resources=o,s.async=!1,s.events=[],s.loaded=function(){this.async&&i(this.events)},$e.onScroll(s),s.async||i(s.events)}}},this.$c9=function(){var e=this.$7N(),t=e.xStart,i=e.xEnd-e.xStart,a=e.yStart,n=e.yEnd-e.yStart;this.cellProperties||(this.cellProperties={});for(var o=0;i>o;o++){for(var s=t+o,l=0;n>l;l++){var r=a+l;this.rowlist[r].hidden||this.$9U(s,r)}this.$ca(s)}for(var c=this.$ae(),r=c.start;r<c.end;r++)this.rowlist[r].hidden||this.$cb(r)},this.$7D=function(){if($e.progressiveRowRendering&&this.$ao(),null!==this.rowlist&&this.rowlist.length>0){var e=this.cellSweeping;if(e){var t=this.cellSweepingCacheSize;this.$bx(t)}this.$c9(),this.$cc(),$0U.$aL()}var i=this.$bc();this.$9y.style.height=this.$7e+"px",this.$9y.style.width=i+"px","Auto"===$e.cellWidthSpec?($e.nav.scroll.style.overflowX="hidden",$e.nav.scroll.scrollLeft=0):$e.nav.scroll.style.overflowX="auto",this.$8O=!1},this.$cc=function(){for(var e=this.$7N(),t=e.xStart;t<e.xEnd;t++){var i=t<this.itline.length-1?this.itline[t+1].breakBefore:!1;i&&this.$cd(t)}},this.$cd=function(e){var t="x"+e;if(!this.$7f.breaks[t]){var i=this.itline[e+1].left-1,a=this.$7e,n=document.createElement("div");n.style.left=i+"px",n.style.top="0px",n.style.width="1px",n.style.height=a+"px",n.style.fontSize="1px",n.style.lineHeight="1px",n.style.overflow="hidden",n.style.position="absolute",n.setAttribute("unselectable","on"),this.cssOnly?n.className=this.$7U("_matrix_vertical_break"):n.style.backgroundColor=this.timeBreakColor,this.divBreaks.appendChild(n),this.elements.breaks.push(n),this.$7f.breaks[t]=n}},this.$7N=function(){if($e.$7f.drawArea)return $e.$7f.drawArea;if(!this.nav.scroll)return null;var e=30,t=$e.$bo,i={},a=Math.floor($e.$bn/this.cellWidth),n=Math.ceil($e.$bp/this.cellWidth)+1,o=this.$7V(),s=a-e,l=s+2*e+n;l=Math.min(l,o),s=Math.max(s,0);var r=this.$9t(t).i,c=this.$9t(t+this.nav.scroll.offsetHeight).i;c<this.rowlist.length&&c++;var d=c-r;return i.xStart=s,i.xEnd=l,i.yStart=r,i.yEnd=c,i.pixels={},i.pixels.left=this.nav.scroll.scrollLeft,i.pixels.right=this.nav.scroll.scrollLeft+this.nav.scroll.clientWidth,i.pixels.top=this.nav.scroll.scrollTop,i.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,i.pixels.width=this.nav.scroll.scrollWidth,$e.$7f.drawArea=i,i},this.$bc=function(){var e=0;if("Days"===this.viewType)e=1440/this.cellDuration*this.cellWidth;else{var t=this.itline[this.itline.length-1];e=t?t.left+t.width:0}return(0>e||isNaN(e))&&(e=0),e},this.$cb=function(e){var t="y"+e;if(this.$7f.linesHorizontal[e])return void $e.debug.message("skiping horiz line: "+e);var i=this.rowlist[e].top+this.rowlist[e].height-1,a=this.$bc(),n=document.createElement("div");n.style.left="0px",n.style.top=i+"px",n.style.width=a+"px",n.style.height="1px",n.style.fontSize="1px",n.style.lineHeight="1px",n.style.overflow="hidden",n.style.position="absolute",this.cssOnly||(n.style.backgroundColor=this.cellBorderColor),n.setAttribute("unselectable","on"),this.cssOnly&&(n.className=this.$7U("_matrix_horizontal_line")),this.divLines.appendChild(n),this.$7f.linesHorizontal[t]=n},this.$ca=function(e){var t=this.itline[e];if(t){var i="x"+e;if(!this.$7f.linesVertical[i]){var a=t.left+t.width-1,n=document.createElement("div");n.style.left=a+"px",n.style.top="0px",n.style.width="1px",n.style.height=$e.$7e+"px",n.style.fontSize="1px",n.style.lineHeight="1px",n.style.overflow="hidden",n.style.position="absolute",this.cssOnly||(n.style.backgroundColor=this.cellBorderColor),n.setAttribute("unselectable","on"),this.cssOnly&&(n.className=this.$7U("_matrix_vertical_line")),this.divLines.appendChild(n),this.elements.linesVertical.push(n),this.$7f.linesVertical[i]=n}}},this.$ce=function(e){var t="x"+e,i=this.$7e;if(!this.$7f.cells[t]){var a=this.$cf(e,0),n=e<this.itline.length-1?this.itline[e+1].breakBefore:!1,o=document.createElement("div");o.style.left=e*this.cellWidth+"px",o.style.top="0px",o.style.width=this.cellWidth+"px",o.style.height=i+"px",o.style.position="absolute",o.style.backgroundColor=a,o.setAttribute("unselectable","on"),o.className=this.$7U(this.cssOnly?"_cellcolumn":"cellbackground"),o.onclick=this.$bZ,this.divCells.appendChild(o),this.elements.cells.push(o),this.$7f.cells[t]="1"}},this.$a4=function(e){var t=this.rowlist[e],i=!t.expanded;this.rowlist[e].expanded=i;var a=this.$cg(e,t.expanded);if(!i)for(var n=0;n<a.length;n++){var o=a[n];this.$8P(o)}if(this.$7v(),this.$7t(),this.$7z(),this.$7m(),i){for(var n=0;n<a.length;n++){var o=a[n];this.$8Q(o)}this.$7Q()}this.$8R(),$0K.load(),this.$7A(),this.$7D(),this.$7I();var s=this.$96(t,e);i?this.$9d(s):this.$9c(s),this.$7m()},this.$ax=function(e){var t={};if(t.index=e,"function"==typeof this.onLoadNode){var i={},a=this.rowlist[e].resource;i.resource=a,i.async=!1,i.loaded=function(){this.async&&(a.dynamicChildren=!1,a.expanded=!0,$e.update())},this.onLoadNode(i),i.async||(a.dynamicChildren=!1,a.expanded=!0,this.update())}else this.$8h("LoadNode",t)},this.$cg=function(e,t){var i=this.rowlist[e],a=[];if(null===i.children||0===i.children.length)return a;for(var n=0;n<i.children.length;n++){var o=i.children[n];this.rowlist[o].hidden=t?!i.expanded:!0,t===!this.rowlist[o].hidden&&a.push(o);var s=this.$cg(o,t);s.length>0&&(a=a.concat(s))}return a},this.$bV=function(e,t){this.$ba(),this.$ch(e,t)},this.$ci=function(e){if(!e)return!1;var t=this.nav.scroll.scrollWidth,i=this.nav.scroll.scrollLeft,a=this.nav.scroll.clientWidth,n=i+a;return 0>e&&0>=i?!1:e>0&&n>=t?!1:(this.nav.scroll.scrollLeft+=e,!0)},this.$cj=function(e){if(!e)return!1;var t=this.nav.scroll.scrollHeight,i=this.nav.scroll.scrollTop,a=this.nav.scroll.clientHeight,n=i+a;return 0>e&&0>=i?!1:e>0&&n>=t?!1:(this.nav.scroll.scrollTop+=e,!0)},this.$ch=function(e,t){var i=this.$ci(e)||this.$cj(t);if(i){var a=function(e,t){return function(){$e.$ch(e,t)}};this.scrolling=window.setTimeout(a(e,t),100)}},this.$ba=function(){this.scrolling&&(window.clearTimeout(this.scrolling),this.scrolling=null)},this.$7v=function(){for(var e=0,t=0;t<this.rowlist.length;t++){var i=this.rowlist[t];i.hidden||(i.top=e,e+=i.height)}this.$7e=e},this.$7A=function(){this.elements.cells=[],this.elements.linesVertical=[],this.elements.breaks=[],this.$7f.cells=[],this.$7f.linesVertical=[],this.$7f.linesHorizontal=[],this.$7f.breaks=[],this.divCells.innerHTML="",this.divLines.innerHTML="",this.divBreaks.innerHTML=""},this.$ck=0,this.$9U=function(e,t){if(this.$9M){var i=this.itline[e];if(i){var a=e+"_"+t;if(!this.$7f.cells[a]){var n=this.$9V(e,t);if("function"==typeof this.onBeforeCellRender){var o=$e.rowlist[t],s=o.id,l=o.start.getTime()-this.$a7().getTime(),r=i.start.addTime(l),c=i.end.addTime(l),d=n;d.resource=s,d.start=r,d.end=c,d.utilization=function(e){return o.sections||o.calculateUtilization(),o.sections.forRange(r,c).maxSum(e)},d.events=function(){return o.events.forRange(r,c)};var h={};h.cell=d,this.onBeforeCellRender(h)}if(!this.drawBlankCells){var u=!1;if(this.cssOnly&&this.$a1(t)?u=!1:this.$cl(n,["html","cssClass","backColor","backImage","backRepeat"])||(u=!0),u)return}var d=document.createElement("div");d.style.left=i.left+"px",d.style.top=this.rowlist[t].top+"px",d.style.width=i.width+"px",d.style.height=this.rowlist[t].height+"px",d.style.position="absolute",n&&n.backColor&&(d.style.backgroundColor=n.backColor),d.setAttribute("unselectable","on"),d.className=this.$7U(this.cssOnly?"_cell":"cellbackground"),d.coords={},d.coords.x=e,d.coords.y=t,this.cssOnly&&this.$a1(t)&&DayPilot.Util.addClass(d,this.$7U("_cellparent")),n&&(n.cssClass&&(this.cssOnly?DayPilot.Util.addClass(d,n.cssClass):DayPilot.Util.addClass(d,$e.$7U(n.cssClass))),n.html&&(d.innerHTML=n.html),n.backImage&&(d.style.backgroundImage='url("'+n.backImage+'")'),n.backRepeat&&(d.style.backgroundRepeat=n.backRepeat),n.business&&DayPilot.Util.addClass(d,$e.$7U("_cell_business"))),d.onclick=this.$bZ,this.divCells.appendChild(d),this.elements.cells.push(d),this.$7f.cells[a]=d,this.$ck+=1}}}},this.$cl=function(e,t){if(t){for(var i=0;i<t.length;i++)if(e[t[i]])return!0}else for(var a in e)if(e[a])return!0;return!1},this.$cm=function(e,t){var i=this.itline[e],a=document.createElement("div");a.style.left=i.left+"px",a.style.top=this.rowlist[t].top+"px",a.style.width=i.width-1+"px",a.style.height=this.rowlist[t].height-1+"px",a.style.position="absolute",a.style.backgroundColor=$e.cellSelectColor,a.setAttribute("unselectable","on"),this.divRange.appendChild(a),this.elements.range.push(a)},this.clearSelection=function(){this.$7H()},this.cleanSelection=this.clearSelection,this.$7H=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.$ab(),DayPilotScheduler.rangeHold=null},this.$9C={};var $Q=this.$9C;$Q.locale=function(){return DayPilot.Locale.find($e.locale)},$Q.timeFormat=function(){return"Auto"!==$e.timeFormat?$e.timeFormat:$Q.locale().timeFormat},$Q.weekStarts=function(){if("Auto"===$e.weekStarts){var e=$Q.locale();return e?e.weekStarts:0}return $e.weekStarts},$Q.rounded=function(){return"Rounded"===$e.eventCorners},$Q.layout=function(){var e=/MSIE 6/i.test(navigator.userAgent);return"Auto"===$e.layout?e?"TableBased":"DivBased":$e.layout},$Q.notifyType=function(){var e;if("Immediate"===$e.notifyCommit)e="Notify";else{if("Queue"!==$e.notifyCommit)throw"Invalid notifyCommit value: "+$e.notifyCommit;e="Queue"}return e},$Q.isResourcesView=function(){return"Days"!==$e.viewType},$Q.useBox=function(e){return"Always"===$e.useEventBoxes?!0:"Never"===$e.useEventBoxes?!1:e<60*$e.cellDuration*1e3},$Q.eventHeight=function(){if($e.$7f.eventHeight)return $e.$7f.eventHeight;var e=$e.$bj("_event_height").height;return e||(e=$e.eventHeight),$e.$7f.eventHeight=e,e},$Q.headerHeight=function(){if($e.$7f.headerHeight)return $e.$7f.headerHeight;var e=$e.$bj("_header_height").height;return e||(e=$e.headerHeight),$e.$7f.headerHeight=e,e},$Q.splitterWidth=function(){return $e.rowHeaderScrolling?$e.rowHeaderSplitterWidth:1},this.$cf=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.$9V=function(e,t){var i=e+"_"+t;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[i])return this.cellProperties[i];if(this.$79&&(this.cellProperties[i]=$e.$cn(e,t)),!this.cellProperties[i]){var a=$e.rowlist[t],n=a.id,o=a.start.getTime()-$e.$a7().getTime(),s=$e.itline[e],l=s.start.addTime(o),r=s.end.addTime(o),c={};c.start=l,c.end=r,c.resource=n;var d={};d.business=$e.isBusiness(c),this.cssOnly||(d.backColor=d.business?this.cellBackColor:this.cellBackColorNonBusiness),this.cellProperties[i]=d}return this.cellProperties[i]},this.$co=function(e,t,i){var a=t+"_"+i;return this.cellProperties[a]={},DayPilot.Util.copyProps(e,this.cellProperties[a],["html","cssClass","backColor","backImage","backRepeat","business"]),this.cellProperties[a]},this.$cn=function(e,t){if(!this.cellConfig)return null;var i=this.cellConfig,a=this.cellProperties[e+"_"+t];!a&&i.vertical&&(a=this.cellProperties[e+"_0"]),!a&&i.horizontal&&(a=this.cellProperties["0_"+t]),!a&&i["default"]&&(a=i["default"]);var n={};return DayPilot.Util.copyProps(a,n,["html","cssClass","backColor","backImage","backRepeat","business"]);return n},this.$7r=function(){if(!this.$79&&this.cellConfig){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++){var i=this.cellProperties[t+"_0"];if(i)for(var a=1;a<e.y;a++)this.$co(i,t,a)}if(e.horizontal)for(var a=0;a<e.y;a++){var i=this.cellProperties["0_"+a];if(i)for(var t=1;t<e.x;t++)this.$co(i,t,a)}if(e["default"])for(var i=e["default"],a=0;a<e.y;a++)for(var t=0;t<e.x;t++)this.cellProperties[t+"_"+a]||this.$co(i,t,a)}},this.isBusiness=function(e){var t=e.start,i=e.end,a=(i.getTime()-t.getTime())/6e4;return 1440>=a&&(0===e.start.dayOfWeek()||6===e.start.dayOfWeek())?!1:720>a&&(e.start.getHours()<this.businessBeginsHour||e.start.getHours()>=this.businessEndsHour)?!1:!0},this.$7w=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$ah=function(){var e=$e.nav.top;return e.offsetWidth>0&&e.offsetHeight>0},this.$cp=function(){var e=$e.$ah;e()||($e.debug.message("Not visible during init, starting visibilityInterval"),$e.$cq=setInterval(function(){e()&&($e.debug.message("Made visible, calling .show()"),$e.show(),$e.$ag(),clearInterval($e.$cq))},100))},this.$cr=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-(this.$7W()+2),this.$7z()},this.setHeight=this.$cr,this.$7L=function(e){for(var t=0;t<this.rowlist.length;t++)if(this.rowlist[t].id===e)return this.rowlist[t];return null},this.$aX=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+id+"'."}},this.$cs=function(){this.$bi(),this.$7q(),this.$9z(),this.$bl(),this.$9x(),DayPilotScheduler.register(this),this.$7k(this.afterRenderData,!1),this.$bm(),this.$cp(),this.$7j(),this.$8h("Init")},this.init=function(){this.$ct()},this.$ct=function(){if(this.$aX(),!this.nav.top.dp){this.$aW();var e=this.$9K();if(e)return this.$cs(),this.$9M=!0,void this.$7m();this.$bl(),this.$9x(),DayPilotScheduler.register(this),this.$bm(),this.$8B(),$e.scrollToDate?$e.scrollTo($e.scrollToDate):$e.setScroll($e.scrollX,$e.scrollY);var t=function(){$e.scrollY&&$e.setScroll($e.scrollX,$e.scrollY)};window.setTimeout(t,200),this.messageHTML&&window.setTimeout(function(){$e.message($e.messageHTML)},100),this.$cp(),this.$7j(),this.$9M=!0,this.$7m(),this.$7k(this.afterRenderData,!1),this.debug.message("Init complete."),this.$cu()}},this.$cv=function(){if(this.$aX(),!this.nav.top.dp){var e=this.$9K();if(e)return this.$cs(),this.$9M=!0,void this.$7m();this.$bi(),this.$aW(),this.$9i(),this.$7q(),this.$7s(),this.$7v(),this.$7t(),this.$7p(),this.$7r(),this.$7u(),this.$7z(),this.$7E(),this.$aK(this.selectedRows),this.$bl(),this.$9x(),DayPilotScheduler.register(this),this.$bm(),this.$7i(),$e.scrollToDate?$e.scrollTo($e.scrollToDate):$e.setScroll($e.scrollX,$e.scrollY),$e.onScrollCalled||$e.$8M();var t=function(){$e.scrollY&&$e.setScroll($e.scrollX,$e.scrollY)};if(window.setTimeout(t,200),this.messageHTML){var i=function(e){return function(){$e.message(e)}};window.setTimeout(i(this.messageHTML),100)}this.$cp(),this.$7j(),this.$9M=!0,this.$7m(),this.$7k(this.afterRenderData,!1),this.debug.message("Init complete."),this.$cu()}},this.$cw=function(){if(this.$aX(),!this.nav.top.dp){var e=this.$9K();if(e)return this.$cs(),this.$9M=!0,void this.$7m();this.$bi(),this.$7p(),this.$7q(),this.$7r(),this.$aW(),this.$7o(),this.$7u(),this.$9i(),this.$7s(),this.$7v(),this.$7t(),this.$7z(),this.$7E(),this.$aK(this.selectedRows),this.$9z(),this.$7w(),this.$bl(),this.$9x(),DayPilotScheduler.register(this),this.$bm(),this.$7i(),$e.scrollToDate?$e.scrollTo($e.scrollToDate):$e.setScroll($e.scrollX,$e.scrollY),$e.onScrollCalled||$e.$8M();var t=function(){$e.scrollY&&$e.setScroll($e.scrollX,$e.scrollY)};if(window.setTimeout(t,200),this.messageHTML){var i=function(e){return function(){$e.message(e)}};window.setTimeout(i(this.messageHTML),100)}this.$cp(),this.$7j(),this.$9M=!0,this.$7m(),this.$7k(this.afterRenderData,!1),this.debug.message("Init complete."),this.$cu()}},this.$cx=null,this.$cy=function(e){var t={events:{preInit:function(){var e=this.data;e&&($e.events.list=DayPilot.isArray(e.list)?e.list:e)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&$e.scrollTo(this.data)}}};this.$cx=t;for(var i in e)if(t[i]){var a=t[i];a.data=e[i],a.preInit&&a.preInit()}else $e[i]=e[i]},this.$cu=function(){var e=this.$cx;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.temp={},this.temp.getPosition=function(){var e=Math.floor($e.coords.x/$e.cellWidth),t=$e.$9t($e.coords.y).i;if(t<$e.rowlist.length){var i={};return i.start=$e.itline[e].start,i.end=$e.itline[e].end,i.resource=$e.rowlist[t].id,i}return null},this.internal={},this.internal.initialized=function(){return $e.$9M},this.internal.invokeEvent=this.$8r,this.internal.eventMenuClick=this.$8V,this.internal.timeRangeMenuClick=this.$8Z,this.internal.resourceHeaderMenuClick=this.$91,this.internal.linkMenuClick=this.$90,this.internal.bubbleCallBack=this.$8T,this.internal.findEventDiv=this.$9I,this.internal.rowtools=this.$9a,this.internal.getNodeChildren=this.$9v,this.internal.callback=function(){$e.$8h.apply($e,arguments)},this.internal.createRowObject=this.$96,this.Init=this.init,this.$cy($d)},DayPilot.Row=function(e,t){if(!e)throw"Now row object supplied when creating DayPilot.Row";if(!t)throw"No parent control supplied when creating DayPilot.Row";var i=DayPilot.indexOf(t.rowlist,e),a=this;a.isRow=!0,a.menuType="resource",a.start=e.start,a.name=e.name,a.value=e.id,a.id=e.id,a.index=i,a.calendar=t,a.$cz=e,a.$={},a.$.row=e,a.toJSON=function(e){var t={};return t.start=this.start,t.name=this.name,t.value=this.value,t.id=this.id,t.index=this.index,t},a.events={},a.events.all=function(){for(var e=[],t=0;t<a.$cz.events.length;t++)e.push(a.$cz.events[t]);return DayPilot.list(e)},a.events.totalDuration=function(){var e=0;return a.events.all().each(function(t){e+=t.part.end.getTime()-t.part.start.getTime()}),new DayPilot.TimeSpan(e)},a.groups={},a.groups.collapseAll=function(){for(var e=0;e<a.$cz.blocks.length;e++){var i=a.$cz.blocks[e],o=new n(i);o.$cA()}t.$8x(),t.$8y(a.index),t.$7z()},a.groups.expandAll=function(){for(var e=0;e<a.$cz.blocks.length;e++){var i=a.$cz.blocks[e],o=new n(i);o.$cB()}t.$8x(),t.$8y(a.index),t.$7z()},a.groups.expanded=function(){for(var e=[],i=0;i<a.$cz.blocks.length;i++){var o=a.$cz.blocks[i];o.expanded&&o.lines.length>t.groupConcurrentEventsLimit&&e.push(new n(o))}return DayPilot.list(e)},a.groups.collapsed=function(){for(var e=[],t=0;t<a.$cz.blocks.length;t++){var i=a.$cz.blocks[t];i.expanded||e.push(new n(i))}return DayPilot.list(e)},a.groups.all=function(){for(var e=[],t=0;t<a.$cz.blocks.length;t++){var i=a.$cz.blocks[t];e.push(new n(i))}return DayPilot.list(e)},a.events.collapseGroups=a.groups.collapseAll,a.events.expandGroups=a.groups.expandAll,a.column=function(e){return new o(a,e)},a.toggle=function(){t.$a4(a.index)};var n=function(e){var i=function(e){for(var i=0;i<t.elements.events.length;i++){var a=t.elements.events[i];if(a.event===e)return a}return null};this.$cB=function(){e.expanded=!0;var a=i(e);if(a){t.$bu(a);var n=DayPilot.indexOf(t.elements.events,a);-1!==n&&t.elements.events.splice(n,1)}},this.expand=function(){this.$cB(),t.$8x(),t.$8y(e.row.index),t.$7z()},this.$cA=function(){e.lines.length>t.groupConcurrentEventsLimit&&(e.expanded=!1)},this.collapse=function(){this.$cA(),t.$8x(),t.$8y(e.row.index),t.$7z()
}},o=function(e,t){this.html=function(i){var a=e.calendar.divHeader,n=a.rows[e.index].cells[t],o=n.textDiv;o.innerHTML=i}}},DayPilotScheduler.moving=null,DayPilotScheduler.originalMouse=null,DayPilotScheduler.resizing=null,DayPilotScheduler.globalHandlers=!1,DayPilotScheduler.timeRangeTimeout=null,DayPilotScheduler.selectedCells=null,DayPilotScheduler.dragStart=function(e,t,i,a,n){DayPilot.us(e);var o=DayPilotScheduler.drag={};return o.element=e,o.duration=t,o.text=a,o.id=i,o.shadowType=n?n:"Fill",!1},DayPilot.Scheduler.makeDraggable=function(e){var t=e.element,i=e.keepElement?null:t;DayPilot.us(t),DayPilot.re(t,"mousedown",function(t){DayPilotScheduler.dragStart(i,e.duration,e.id,e.text);var a=t.target||t.srcElement;if(a.tagName){var n=a.tagName.toLowerCase();if("textarea"===n||"select"===n||"input"===n)return!1}return t.preventDefault&&t.preventDefault(),!1}),t.ontouchstart=function(t){var a=0;window.setTimeout(function(){var a=DayPilotScheduler.drag={};a.element=i,a.id=e.id,a.text=e.text||"",a.duration=e.duration||60,a.shadowType="Fill",DayPilotScheduler.gTouchMove(t),t.preventDefault()},a),t.preventDefault()}},DayPilotScheduler.dragStop=function(){DayPilotScheduler.gShadow&&(document.body.removeChild(DayPilotScheduler.gShadow),DayPilotScheduler.gShadow=null),DayPilotScheduler.drag=null},DayPilotScheduler.register=function(e){DayPilotScheduler.registered||(DayPilotScheduler.registered=[]);for(var t=0;t<DayPilotScheduler.registered.length;t++)if(DayPilotScheduler.registered[t]===e)return;DayPilotScheduler.registered.push(e)},DayPilotScheduler.unregister=function(e){var t=DayPilotScheduler.registered;if(t){var i=DayPilot.indexOf(t,e);-1!==i&&t.splice(i,1),0===t.length&&(t=null)}t||(DayPilot.ue(document,"mousemove",DayPilotScheduler.gMouseMove),DayPilot.ue(document,"mouseup",DayPilotScheduler.gMouseUp),DayPilot.ue(document,"touchmove",DayPilotScheduler.gTouchMove),DayPilot.ue(document,"touchend",DayPilotScheduler.gTouchEnd),DayPilotScheduler.globalHandlers=!1)},DayPilotScheduler.gTouchMove=function(e){if(DayPilotScheduler.drag){e.preventDefault();var t=e.touches[0].pageX,i=e.touches[0].pageY,a={};a.x=t,a.y=i;var n=function(){for(var t=e.touches[0].clientX,i=e.touches[0].clientY,a=document.elementFromPoint(t,i);a&&a.parentNode;)if(a=a.parentNode,a.daypilotMainD)return a.calendar;return!1}();if(n){if(DayPilotScheduler.gShadow&&document.body.removeChild(DayPilotScheduler.gShadow),DayPilotScheduler.gShadow=null,n.coords=n.$bI.relativeCoords(e),!DayPilotScheduler.movingShadow&&n.rowlist.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var o=DayPilotScheduler.drag.event;if(!o){var s=n.itline[0].start;n.debug.message("external start/touch:"+s);var e={id:DayPilotScheduler.drag.id,start:s,end:s.addSeconds(DayPilotScheduler.drag.duration),text:DayPilotScheduler.drag.text};o=new DayPilot.Event(e),o.calendar=n}DayPilotScheduler.moving.event=o}DayPilotScheduler.movingShadow=n.$9D(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType)}DayPilotScheduler.moving&&n.$bI.updateMoving()}else{DayPilot.de(DayPilotScheduler.movingShadow),DayPilotScheduler.moving=null,DayPilotScheduler.movingShadow=null,DayPilotScheduler.gShadow||(DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType));var l=DayPilotScheduler.gShadow;l.style.left=a.x+"px",l.style.top=a.y+"px"}}},DayPilotScheduler.gTouchEnd=function(e){DayPilotScheduler.gMouseUp(e)},DayPilotScheduler.gMouseMove=function(e){if("undefined"!=typeof DayPilotScheduler&&(e=e||window.event,!(e.insideMainD||e.srcElement&&e.srcElement.inside))){var t=DayPilot.mc(e);if(DayPilotScheduler.drag){document.body.style.cursor="move",DayPilotScheduler.gShadow||(DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType));var i=DayPilotScheduler.gShadow;i.style.left=t.x+"px",i.style.top=t.y+"px",DayPilotScheduler.moving=null,DayPilotScheduler.movingShadow&&(DayPilotScheduler.movingShadow.calendar=null,DayPilot.de(DayPilotScheduler.movingShadow),DayPilotScheduler.movingShadow=null)}else if(DayPilotScheduler.moving&&DayPilotScheduler.moving.event.calendar.dragOutAllowed&&!DayPilotScheduler.drag){var a=DayPilotScheduler.moving.event.calendar,e=DayPilotScheduler.moving.event;DayPilotScheduler.moving.target=null,document.body.style.cursor="move",DayPilotScheduler.gShadow||(DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(a.shadow));var i=DayPilotScheduler.gShadow;i.style.left=t.x+"px",i.style.top=t.y+"px",DayPilotScheduler.drag={};var n=DayPilotScheduler.drag;n.element=null,n.duration=(e.end().getTime()-e.start().getTime())/1e3,n.text=e.text(),n.id=e.value(),n.shadowType=a.shadow,n.event=e,DayPilot.de(DayPilotScheduler.movingShadow),DayPilotScheduler.movingShadow.calendar=null,DayPilotScheduler.movingShadow=null}for(var o=0;o<DayPilotScheduler.registered.length;o++)DayPilotScheduler.registered[o].$al&&DayPilotScheduler.registered[o].$al()}},DayPilotScheduler.gUnload=function(e){if(DayPilotScheduler.registered)for(var t=0;t<DayPilotScheduler.registered.length;t++){var i=DayPilotScheduler.registered[t];DayPilotScheduler.unregister(i)}},DayPilotScheduler.gMouseUp=function(e){if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow)return document.body.style.cursor="",void(DayPilotScheduler.resizing=null);var t=DayPilotScheduler.resizing.event,i=t.calendar;i.$a6();var a=DayPilotScheduler.resizingShadow.start,n=DayPilotScheduler.resizingShadow.end,o=DayPilotScheduler.resizingShadow.overlapping;if(DayPilot.de(DayPilotScheduler.resizingShadow),DayPilotScheduler.resizing=null,DayPilotScheduler.resizingShadow=null,i.$ab(),document.body.style.cursor="",o)return;i.$8s(t,a,n)}else if(DayPilotScheduler.moving){if(!DayPilotScheduler.movingShadow)return document.body.style.cursor="",void(DayPilotScheduler.moving=null);var t=DayPilotScheduler.moving.event,i=DayPilotScheduler.moving.target;if(!i)return DayPilot.de(DayPilotScheduler.movingShadow),DayPilotScheduler.movingShadow.calendar=null,document.body.style.cursor="",void(DayPilotScheduler.moving=null);var a=DayPilotScheduler.movingShadow.start,n=DayPilotScheduler.movingShadow.end,s="Days"!==i.viewType?DayPilotScheduler.movingShadow.row.id:null,l=DayPilotScheduler.drag?!0:!1,r=DayPilotScheduler.movingShadow.line,o=DayPilotScheduler.movingShadow.overlapping;if(DayPilot.de(DayPilotScheduler.movingShadow),i.$ab(),DayPilotScheduler.drag&&(i.todo||(i.todo={}),i.todo.del=DayPilotScheduler.drag.element,DayPilotScheduler.drag=null),DayPilotScheduler.movingShadow.calendar=null,document.body.style.cursor="",DayPilotScheduler.moving=null,DayPilotScheduler.movingShadow=null,o)return;var e=e||window.event;i.$8S(t,a,n,s,l,e,r)}else if(DayPilotScheduler.range){e=e||window.event;var c=DayPilot.Util.mouseButton(e),d=DayPilotScheduler.range,i=d.calendar;if(DayPilotScheduler.timeRangeTimeout)return clearTimeout(DayPilotScheduler.timeRangeTimeout),DayPilotScheduler.timeRangeTimeout=null,void i.$bg(e);DayPilotScheduler.rangeHold=d,DayPilotScheduler.range=null;var h=function(e){return function(){DayPilotScheduler.timeRangeTimeout=null;var t=i.elements.range2;return t.overlapping?void i.clearSelection():(i.$8W(e.start,e.end,e.resource),void("Hold"!==i.timeRangeSelectedHandling&&"HoldForever"!==i.timeRangeSelectedHandling?$c():DayPilotScheduler.rangeHold=d))}},u=i.$bK(d);if(!c.left)return void(DayPilotScheduler.timeRangeTimeout=null);if("Disabled"===i.timeRangeDoubleClickHandling){h(u)();var e=e||window.event;return e.cancelBubble=!0,!1}DayPilotScheduler.timeRangeTimeout=setTimeout(h(u),i.doubleClickTimeout)}else if($35.row){var i=$35.calendar;i&&i.$aJ()}else if($1s.source){var i=$1s.calendar;i.$9E.clearShadow(),i.$9E.hideLinkpoints(),$1s.source=null,$1s.calendar=null}else if(DayPilotScheduler.splitting){var f=DayPilotScheduler.splitting;f.cleanup(),DayPilotScheduler.splitting=null}DayPilotScheduler.drag&&(DayPilotScheduler.drag=null,document.body.style.cursor=""),DayPilotScheduler.gShadow&&(document.body.removeChild(DayPilotScheduler.gShadow),DayPilotScheduler.gShadow=null),DayPilotScheduler.moveOffsetX=null,DayPilotScheduler.moveDragStart=null},DayPilotScheduler.createGShadow=function(e){var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.border="2px dotted #666666",t.style.zIndex=101,t.style.pointerEvents="none","Fill"===e&&(t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.style.border="2px solid #aaaaaa"),document.body.appendChild(t),t};var $35={};DayPilot.Global.rowmoving=$35;var $1s={};DayPilot.Global.linking=$1s,DayPilot.SchedulerVisible.dragStart=DayPilotScheduler.dragStart,DayPilot.SchedulerVisible.dragStop=DayPilotScheduler.dragStop,DayPilot.SchedulerVisible.Scheduler=DayPilotScheduler.Scheduler,DayPilot.SchedulerVisible.globalHandlers=DayPilotScheduler.globalHandlers,"undefined"!=typeof jQuery&&!function($){$.fn.daypilotScheduler=function(e){var t=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Scheduler(this.id,e);i.init(),this.daypilot=i,t||(t=i)}});return 1===this.length?t:i}}(jQuery),function e(){var e=DayPilot.am();e&&e.directive("daypilotScheduler",function(){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function e(t,i){return t.replaceWith(this.template.replace("{{id}};",i.id)),function a(e,t,i){var a=new DayPilot.Scheduler(t[0]);a.$9R.scope=e,a.init();var n=i.id;n&&(e[n]=a);var o=e.$watch;o.call(e,i.daypilotConfig,function(e){for(var t in e)a[t]=e[t];a.update()},!0),o.call(e,i.daypilotEvents,function(e){a.events.list=e,a.$8B({eventsOnly:!0})},!0)}}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),"undefined"==typeof DayPilot)var DayPilot={};"undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(){"undefined"==typeof DayPilot.Year&&(DayPilot.Year=function(e,t){this.v="1338";var i=this;this.startDate=new DayPilot.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.$i=[],this.$j=function(){this.root.dp=this,this.$k=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.$l=function(e){return this.cssClassPrefix?this.cssClassPrefix+e:""},this.$m=function(){return this.showWeekNumbers?this.cellWidth:0},this.$n=function(){this.$i=[];var e=this.columns,t=12/e;this.root.className=this.$l("_main"),this.root.style.width=e*(7*this.cellWidth+this.$m())+"px";for(var i=0;t>i;i++){for(var a=0;e>a;a++){var n=i*e+a,o=o+"_nav_"+n,s=document.createElement("div");s.id=o,s.style.float="left",this.root.appendChild(s);var l=new DayPilot.Navigator(o);l.startDate=this.$k.addMonths(n),l.cssOnly=this.cssOnly,l.cssClassPrefix=this.cssClassPrefix,l.cellWidth=this.cellWidth,l.showWeekNumbers=this.showWeekNumbers,l.internal.showLinks={},l.selectMode="none",l.timeRangeSelectedHandling="JavaScript",l.onTimeRangeSelected=this.$o,l.init(),l.root.className="",this.$i.push(l)}var r=document.createElement("div");r.style.clear="left",this.root.appendChild(r)}},this.$o=function(e){alert("clicked: "+e.day)},this.init=function(){this.root=document.getElementById(e),this.root.dp||(this.$j(),this.$n())}})}();