/*
 DayPilot Pro
 Copyright (c) 2005 - 2014 Annpoint s.r.o.
 http://www.daypilot.org/
 Use of this software is subject to license terms.
 Version: 1204
 */
if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
(function () {
  if (typeof DayPilot.$ !== 'undefined') {
    return;
  }
  ;
  DayPilot.$ = function (id) {
    return document.getElementById(id);
  };
  DayPilot.mo = function (t, ev) {
    ev = ev || window.event;
    if (ev.layerX) {
      var $a = {x: ev.layerX, y: ev.layerY};
      if (!t) {
        return $a;
      }
      ;
      return $a;
    }
    ;
    if (ev.offsetX) {
      return {x: ev.offsetX, y: ev.offsetY};
    }
    ;
    return null;
  };
  DayPilot.isKhtml = (navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1);
  DayPilot.isIE = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
  DayPilot.isIEQuirks = DayPilot.isIE && (document.compatMode && document.compatMode === "BackCompat");
  DayPilot.browser = {};
  DayPilot.browser.ie8 = (function () {
    var $b = document.createElement("div");
    $b.innerHTML = "<!--[if IE 8]><i></i><![endif]-->";
    var $c = ($b.getElementsByTagName("i").length === 1);
    return $c;
  })();
  DayPilot.browser.ie9 = (function () {
    var $b = document.createElement("div");
    $b.innerHTML = "<!--[if IE 9]><i></i><![endif]-->";
    var $c = ($b.getElementsByTagName("i").length === 1);
    return $c;
  })();
  DayPilot.browser.ielt9 = (function () {
    var $b = document.createElement("div");
    $b.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
    var $c = ($b.getElementsByTagName("i").length === 1);
    return $c;
  })();
  DayPilot.touch = {};
  DayPilot.touch.start = window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart";
  DayPilot.touch.move = window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove";
  DayPilot.touch.end = window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend";
  DayPilot.mo2 = function ($d, ev) {
    ev = ev || window.event;
    if (typeof(ev.offsetX) !== 'undefined') {
      var $a = {x: ev.offsetX + 1, y: ev.offsetY + 1};
      if (!$d) {
        return $a;
      }
      ;
      var $e = ev.srcElement;
      while ($e && $e !== $d) {
        if ($e.tagName !== 'SPAN') {
          $a.x += $e.offsetLeft;
          if ($e.offsetTop > 0) {
            $a.y += $e.offsetTop - $e.scrollTop;
          }
        }
        ;
        $e = $e.offsetParent;
      }
      ;
      if ($e) {
        return $a;
      }
      ;
      return null;
    }
    ;
    if (typeof(ev.layerX) !== 'undefined') {
      var $a = {x: ev.layerX, y: ev.layerY, $f: ev.target};
      if (!$d) {
        return $a;
      }
      ;
      var $e = ev.target;
      while ($e && $e.style.position !== 'absolute' && $e.style.position !== 'relative') {
        $e = $e.parentNode;
        if (DayPilot.isKhtml) {
          $a.y += $e.scrollTop;
        }
      }
      while ($e && $e !== $d) {
        $a.x += $e.offsetLeft;
        $a.y += $e.offsetTop - $e.scrollTop;
        $e = $e.offsetParent;
      }
      ;
      if ($e) {
        return $a;
      }
      ;
      return null;
    }
    ;
    return null;
  };
  DayPilot.mo3 = function ($d, ev) {
    ev = ev || window.event;
    var $g = DayPilot.page(ev);
    if ($g) {
      var $h = DayPilot.abs($d);
      return {x: $g.x - $h.x, y: $g.y - $h.y};
    }
    ;
    return DayPilot.mo2($d, ev);
  };
  DayPilot.mc = function (ev) {
    if (ev.pageX || ev.pageY) {
      return {x: ev.pageX, y: ev.pageY};
    }
    ;
    return {x: ev.clientX + document.documentElement.scrollLeft, y: ev.clientY + document.documentElement.scrollTop};
  };
  DayPilot.list = function ($i, $j) {
    var $k = [];
    if ($j) {
      for (var name in $j) {
        $k[name] = $j[name];
      }
    }
    ;
    $k.each = function (f) {
      if (!f) {
        return;
      }
      ;
      for (var i = 0; i < this.length; i++) {
        f($k[i]);
      }
    };
    if (!$i || $i.length === 0) {
      return $k;
    }
    ;
    for (var i = 0; i < $i.length; i++) {
      $k.push($i[i]);
    }
    ;
    return $k;
  };
  DayPilot.line = function (x1, y1, x2, y2, $l) {
    var $m = {x: x1, y: y1};
    var $d = {x: x2, y: y2, "deg": DayPilot.deg(x1, y1, x2, y2)};
    if (y1 < y2) {
      var $n = y1;
      y1 = y2;
      y2 = $n;
      $n = x1;
      x1 = x2;
      x2 = $n;
    }
    ;
    var $o = DayPilot.deg(x1, y1, x2, y2);
    var $p = (function () {
      var a = Math.abs(x1 - x2);
      var b = Math.abs(y1 - y2);
      return Math.sqrt(a * a + b * b);
    })();
    var x = (function () {
      var a = Math.abs(x1 - x2);
      var b = Math.abs(y1 - y2);
      var sx = (x1 + x2) / 2;
      var sy = (y1 + y2) / 2;
      var $p = Math.sqrt(a * a + b * b);
      return sx - $p / 2;
    })();
    var y = (function () {
      return (y1 + y2) / 2;
    })();
    var $b = document.createElement("div");
    $b.setAttribute('style', 'border:1px solid black;width:' + $p + 'px;height:0px;-moz-transform:rotate(' + $o + 'deg);-webkit-transform:rotate(' + $o + 'deg);-ms-transform:rotate(' + $o + 'deg);transform:rotate(' + $o + 'deg);position:absolute;top:' + y + 'px;left:' + x + 'px;');
    var $q = document.createElement("div");
    $q.appendChild($b);
    if ($l) {
      var $p = 6;
      var top = $d.y - $p;
      var $r = $d.x - $p;
      ;
      var $o = $o;
      if ($d.y > $m.y) {
        $o -= 180;
      }
      ;
      var a = document.createElement("div");
      a.style.borderColor = "transparent black transparent transparent";
      a.style.borderWidth = $p + "px";
      a.style.borderStyle = "solid";
      a.style.position = "absolute";
      a.style.left = $r + "px";
      a.style.top = top + "px";
      a.style.transform = "rotate(" + $o + "deg)";
      $q.appendChild(a);
    }
    ;
    return $q;
  };
  DayPilot.deg = function (x1, y1, x2, y2) {
    var a = Math.abs(x1 - x2);
    var b = Math.abs(y1 - y2);
    var c;
    var sx = (x1 + x2) / 2;
    var sy = (y1 + y2) / 2;
    var $p = Math.sqrt(a * a + b * b);
    var x = sx - $p / 2;
    var y = sy;
    a = $p / 2;
    c = Math.abs(sx - x);
    b = Math.sqrt(Math.abs(x1 - x) * Math.abs(x1 - x) + Math.abs(y1 - y) * Math.abs(y1 - y));
    var $s = (b * b - a * a - c * c) / (2 * a * c);
    var $t = Math.acos($s);
    var $o = ($t * 180) / Math.PI;
    return $o;
  };
  DayPilot.complete = function (f) {
    if (document.readyState === "complete") {
      f();
      return;
    }
    ;
    if (!DayPilot.complete.list) {
      DayPilot.complete.list = [];
      DayPilot.re(document, "readystatechange", function () {
        if (document.readyState === "complete") {
          for (var i = 0; i < DayPilot.complete.list.length; i++) {
            var d = DayPilot.complete.list[i];
            d();
          }
          ;
          DayPilot.complete.list = [];
        }
      });
    }
    ;
    DayPilot.complete.list.push(f);
  };
  DayPilot.page = function (ev) {
    ev = ev || window.event;
    if (typeof ev.pageX !== 'undefined') {
      return {x: ev.pageX, y: ev.pageY};
    }
    ;
    if (typeof ev.clientX !== 'undefined') {
      return {
        x: ev.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
        y: ev.clientY + document.body.scrollTop + document.documentElement.scrollTop
      };
    }
    ;
    return null;
  };
  DayPilot.abs = function (element, $u) {
    if (!element) {
      return null;
    }
    ;
    var r = {
      x: element.offsetLeft,
      y: element.offsetTop,
      w: element.clientWidth,
      h: element.clientHeight,
      toString: function () {
        return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
      }
    };
    if (element.getBoundingClientRect) {
      var b = null;
      try {
        b = element.getBoundingClientRect();
      } catch (e) {
        b = {top: element.offsetTop, $r: element.offsetLeft};
      }
      ;
      r.x = b.left;
      r.y = b.top;
      var d = DayPilot.doc();
      r.x -= d.clientLeft || 0;
      r.y -= d.clientTop || 0;
      var $v = DayPilot.pageOffset();
      r.x += $v.x;
      r.y += $v.y;
      if ($u) {
        var $w = DayPilot.absOffsetBased(element, false);
        var $u = DayPilot.absOffsetBased(element, true);
        r.x += $u.x - $w.x;
        r.y += $u.y - $w.y;
        r.w = $u.w;
        r.h = $u.h;
      }
      ;
      return r;
    } else {
      return DayPilot.absOffsetBased(element, $u);
    }
  };
  DayPilot.isArray = function (o) {
    return Object.prototype.toString.call(o) === '[object Array]';
  };
  DayPilot.absOffsetBased = function (element, $u) {
    var r = {
      x: element.offsetLeft,
      y: element.offsetTop,
      w: element.clientWidth,
      h: element.clientHeight,
      toString: function () {
        return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
      }
    };
    while (DayPilot.op(element)) {
      element = DayPilot.op(element);
      r.x -= element.scrollLeft;
      r.y -= element.scrollTop;
      if ($u) {
        if (r.x < 0) {
          r.w += r.x;
          r.x = 0;
        }
        ;
        if (r.y < 0) {
          r.h += r.y;
          r.y = 0;
        }
        ;
        if (element.scrollLeft > 0 && r.x + r.w > element.clientWidth) {
          r.w -= r.x + r.w - element.clientWidth;
        }
        ;
        if (element.scrollTop && r.y + r.h > element.clientHeight) {
          r.h -= r.y + r.h - element.clientHeight;
        }
      }
      ;
      r.x += element.offsetLeft;
      r.y += element.offsetTop;
    }
    ;
    var $v = DayPilot.pageOffset();
    r.x += $v.x;
    r.y += $v.y;
    return r;
  };
  DayPilot.wd = function () {
    var $x = DayPilot.isIEQuirks;
    var $y = document.documentElement.clientHeight;
    if ($x) {
      $y = document.body.clientHeight;
    }
    ;
    var $z = document.documentElement.clientWidth;
    if ($x) {
      $z = document.body.clientWidth;
    }
    ;
    var $A = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;
    var $B = (document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft;
    var $c = {};
    $c.width = $z;
    $c.height = $y;
    $c.scrollTop = $A;
    $c.scrollLeft = $B;
    return $c;
  };
  DayPilot.op = function (element) {
    try {
      return element.offsetParent;
    } catch (e) {
      return document.body;
    }
  };
  DayPilot.distance = function ($C, $D) {
    return Math.sqrt(Math.pow($C.x - $D.x, 2) + Math.pow($C.y - $D.y, 2));
  };
  DayPilot.doc = function () {
    var de = document.documentElement;
    return (de && de.clientHeight) ? de : document.body;
  };
  DayPilot.pageOffset = function () {
    if (typeof pageXOffset !== 'undefined') {
      return {x: pageXOffset, y: pageYOffset};
    }
    ;
    var d = DayPilot.doc();
    return {x: d.scrollLeft, y: d.scrollTop};
  };
  DayPilot.ac = function (e, $E) {
    if (!$E) {
      var $E = [];
    }
    ;
    for (var i = 0; e.children && i < e.children.length; i++) {
      $E.push(e.children[i]);
      DayPilot.ac(e.children[i], $E);
    }
    ;
    return $E;
  };
  DayPilot.indexOf = function ($i, $F) {
    if (!$i || !$i.length) {
      return -1;
    }
    ;
    for (var i = 0; i < $i.length; i++) {
      if ($i[i] === $F) {
        return i;
      }
    }
    ;
    return -1;
  };
  DayPilot.contains = function ($i, $F) {
    return DayPilot.indexOf($i, $F) !== -1;
  };
  DayPilot.rfa = function ($i, $F) {
    var i = DayPilot.indexOf($i, $F);
    if (i === -1) {
      return;
    }
    ;
    $i.splice(i, 1);
  };
  DayPilot.sheet = function () {
    var style = document.createElement("style");
    style.setAttribute("type", "text/css");
    if (!style.styleSheet) {
      style.appendChild(document.createTextNode(""));
    }
    ;
    var h = document.head || document.getElementsByTagName('head')[0];
    h.appendChild(style);
    var $G = !!style.styleSheet;
    var $H = {};
    $H.rules = [];
    $H.commit = function () {
      try {
        if ($G) {
          style.styleSheet.cssText = this.rules.join("\n");
        }
      } catch (e) {
      }
    };
    $H.add = function ($I, $J, $K) {
      if ($G) {
        this.rules.push($I + "{" + $J + "\u007d");
        return;
      }
      ;
      if (style.insertRule) {
        style.sheet.insertRule($I + "{" + $J + "\u007d", $K);
      } else if (style.sheet.addRule) {
        style.sheet.addRule($I, $J, $K);
      }
    };
    return $H;
  };
  DayPilot.Debug = function ($L) {
    var debug = this;
    this.printToBrowserConsole = false;
    this.messages = [];
    this.$2I = null;
    this.clear = function () {
      this.messages = [];
      if (debug.$2I) {
        debug.$2I.innerHTML = '';
      }
    };
    this.hide = function () {
      DayPilot.de(debug.$2I);
      debug.$2I = null;
    };
    this.show = function () {
      if (debug.$2I) {
        debug.hide();
      }
      ;
      var $M = $L.nav.top;
      var $b = document.createElement("div");
      $b.style.position = "absolute";
      $b.style.top = "0px";
      $b.style.bottom = "0px";
      $b.style.left = "0px";
      $b.style.right = "0px";
      $b.style.backgroundColor = "black";
      $b.style.color = "#ccc";
      $b.style.overflow = "auto";
      $b.style.webkitUserSelect = 'auto';
      $b.style.MozUserSelect = 'all';
      $b.onclick = function () {
        debug.hide();
      };
      for (var i = 0; i < this.messages.length; i++) {
        var $N = debug.messages[i];
        var $O = $N.$2J();
        $b.appendChild($O);
      }
      ;
      this.$2I = $b;
      $M.appendChild($b);
    };
    this.message = function ($P, $Q) {
      var $N = {};
      $N.time = new DayPilot.Date();
      $N.level = $Q || "debug";
      $N.text = $P;
      $N.$2J = function () {
        var $O = document.createElement("div");
        $O.innerHTML = $N.time + " (" + $N.level + "): " + $N.text;
        switch ($N.level) {
          case "error":
            $O.style.color = "red";
            break;
          case "warning":
            $O.style.color = "orange";
            break;
          case "info":
            $O.style.color = "white";
            break;
          case "debug":
            break;
        }
        ;
        return $O;
      };
      this.messages.push($N);
      if (this.printToBrowserConsole && typeof console !== 'undefined') {
        console.log($N);
      }
    };
  };
  DayPilot.re = function (el, ev, $R) {
    if (!$R) {
      return;
    }
    ;
    if (el.addEventListener) {
      el.addEventListener(ev, $R, false);
    } else if (el.attachEvent) {
      var f = function (ev) {
        $R.call(el, ev);
      };
      el.attachEvent("on" + ev, f);
    }
  };
  DayPilot.ue = function (el, ev, $R) {
    if (el.removeEventListener) {
      el.removeEventListener(ev, $R, false);
    } else if (el.detachEvent) {
      el.detachEvent("on" + ev, $R);
    }
  };
  DayPilot.tr = function ($S) {
    if (!$S)return '';
    return $S.replace(/^\s+|\s+$/g, "");
  };
  DayPilot.ds = function (d) {
    return DayPilot.Date.toStringSortable(d);
  };
  DayPilot.gs = function (el, $T) {
    var x = el;
    if (x.currentStyle)var y = x.currentStyle[$T]; else if (window.getComputedStyle)var y = document.defaultView.getComputedStyle(x, null).getPropertyValue($T);
    if (typeof(y) === 'undefined')y = '';
    return y;
  };
  DayPilot.ea = function (a) {
    var $U = "";
    for (var i = 0; i < a.length; i++) {
      if (a[i] || typeof(a[i]) === 'number') {
        if (a[i].isDayPilotDate) {
          a[i] = a[i].toStringSortable();
        } else if (a[i].getFullYear) {
          a[i] = DayPilot.ds(a[i]);
        }
        ;
        $U += encodeURIComponent(a[i]);
      }
      ;
      if (i + 1 < a.length) {
        $U += '&';
      }
    }
    ;
    return $U;
  };
  DayPilot.he = function (str) {
    var $c = str.replace(/&/g, "&amp;");
    $c = $c.replace(/</g, "&lt;");
    $c = $c.replace(/>/g, "&gt;");
    $c = $c.replace(/"/g, "&quot;");
    return $c;
  };
  DayPilot.ci = function ($V) {
    var i = $V.cellIndex;
    if (i && i > 0)return i;
    var tr = $V.parentNode;
    var $W = tr.cells.length;
    for (i = 0; i < $W; i++) {
      if (tr.cells[i] === $V)return i;
    }
    ;
    return null;
  };
  DayPilot.us = function (element) {
    if (element) {
      element.setAttribute("unselectable", "on");
      element.style.userSelect = 'none';
      element.style.MozUserSelect = 'none';
      element.style.KhtmlUserSelect = 'none';
      element.style.webkitUserSelect = 'none';
      for (var i = 0; i < element.childNodes.length; i++) {
        if (element.childNodes[i].nodeType === 1) {
          DayPilot.us(element.childNodes[i]);
        }
      }
    }
  };
  DayPilot.pu = function (d) {
    var a = d.attributes, i, l, n;
    if (a) {
      l = a.length;
      for (i = 0; i < l; i += 1) {
        if (!a[i]) {
          continue;
        }
        ;
        n = a[i].name;
        if (typeof d[n] === 'function') {
          d[n] = null;
        }
      }
    }
    ;
    a = d.childNodes;
    if (a) {
      l = a.length;
      for (i = 0; i < l; i += 1) {
        var $E = DayPilot.pu(d.childNodes[i]);
      }
    }
  };
  DayPilot.puc = function (d) {
    var a = d.childNodes, i, l;
    if (a) {
      var l = a.length;
      for (i = 0; i < l; i += 1) {
        DayPilot.pu(d.childNodes[i]);
      }
    }
  };
  DayPilot.de = function (e) {
    if (!e) {
      return;
    }
    ;
    if (DayPilot.isArray(e)) {
      for (var i = 0; i < e.length; i++) {
        DayPilot.de(e[i]);
      }
      ;
      return;
    }
    ;
    e.parentNode && e.parentNode.removeChild(e);
  };
  DayPilot.gr = function ($V) {
    var i = 0;
    var tr = $V.parentNode;
    while (tr.previousSibling) {
      tr = tr.previousSibling;
      if (tr.tagName === "TR") {
        i++;
      }
    }
    ;
    return i;
  };
  DayPilot.fade = function (element, $X, end) {
    var $Y = 50;
    var $u = element.style.display !== 'none';
    var $Z = $X > 0;
    var $00 = $X < 0;
    if ($X === 0) {
      return;
    }
    ;
    if ($Z && !$u) {
      element.target = parseFloat(element.style.opacity);
      element.opacity = 0;
      element.style.opacity = 0;
      element.style.filter = "alpha(opacity=0)";
      element.style.display = '';
    } else if ($00 && !element.target) {
      element.target = element.style.opacity;
    } else {
      var $e = element.opacity;
      var $01 = Math.floor(10 * ($e + $X)) / 10;
      if ($Z && $01 > element.target) {
        $01 = element.target;
      }
      ;
      if ($00 && $01 < 0) {
        $01 = 0;
      }
      ;
      var ie = $01 * 100;
      element.opacity = $01;
      element.style.opacity = $01;
      element.style.filter = "alpha(opacity=" + ie + ")";
    }
    ;
    if (($Z && (element.opacity >= element.target || element.opacity >= 1)) || ($00 && element.opacity <= 0)) {
      element.target = null;
      if ($00) {
        element.style.opacity = element.target;
        element.opacity = element.target;
        var $02 = element.target ? "alpha(opacity=" + (element.target * 100) + ")" : null;
        element.style.filter = $02;
        element.style.display = 'none';
      }
      ;
      if (end && typeof end === 'function') {
        end();
      }
    } else {
      this.messageTimeout = setTimeout(function () {
        DayPilot.fade(element, $X, end);
      }, $Y);
    }
  };
  DayPilot.sw = function (element) {
    if (!element) {
      return 0;
    }
    ;
    return element.offsetWidth - element.clientWidth;
  };
  DayPilot.swa = function () {
    var $b = document.createElement("div");
    $b.style.position = "absolute";
    $b.style.top = "-2000px";
    $b.style.left = "-2000px";
    $b.style.width = '200px';
    $b.style.height = '100px';
    $b.style.overflow = 'auto';
    var $03 = document.createElement("div");
    $03.style.width = '300px';
    $03.style.height = '300px';
    $b.appendChild($03);
    document.body.appendChild($b);
    var sw = DayPilot.sw($b);
    document.body.removeChild($b);
    return sw;
  };
  DayPilot.sh = function (element) {
    if (!element) {
      return 0;
    }
    ;
    return element.offsetHeight - element.clientHeight;
  };
  DayPilot.guid = function () {
    var S4 = function () {
      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
    };
    return ("" + S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4());
  };
  DayPilot.ua = function ($i) {
    if (typeof $i === "string" || typeof $i === "number") {
      return [$i];
    }
    ;
    var u = {}, a = [];
    for (var i = 0, l = $i.length; i < l; ++i) {
      if ($i[i]in u) {
        continue;
      }
      ;
      a.push($i[i]);
      u[$i[i]] = 1;
    }
    ;
    return a;
  };
  DayPilot.am = function () {
    if (typeof angular === "undefined") {
      return null;
    }
    ;
    if (!DayPilot.am.cached) {
      DayPilot.am.cached = angular.module("daypilot", []);
    }
    ;
    return DayPilot.am.cached;
  };
  (function () {
    DayPilot.pop = wave;
    function wave($b, $04) {
      var $d = {w: $b.offsetWidth, h: $b.offsetHeight, x: parseInt($b.style.left), y: parseInt($b.style.top)};
      $d.height = $b.style.height;
      $d.width = $b.style.width;
      $d.top = $b.style.top;
      $d.left = $b.style.left;
      $d.toString = function () {
        return "w: " + this.w + " h:" + this.h;
      };
      var $05 = {};
      $05.finished = null;
      $05.vertical = 'center';
      $05.horizontal = 'center';
      if ($04) {
        for (var name in $04) {
          $05[name] = $04[name];
        }
      }
      ;
      $b.style.visibility = 'hidden';
      $b.style.display = '';
      var $06 = $04.animation || "fast";
      var $07 = createPlan($06);
      $07.div = $b;
      $07.i = 0;
      $07.target = $d;
      $07.config = $05;
      doStep($07);
    };
    function createPlan($08) {
      var $09 = function () {
        var $07 = [];
        $07.time = 10;
        var $0a;
        var $X = 0.08;
        $0a = 0.1;
        for (var i = $0a; i < 1.2; i += $X) {
          $07.push(i);
          $0a = i;
        }
        ;
        $X = 0.03;
        for (var i = $0a; i > 0.8; i -= $X) {
          $07.push(i);
          $0a = i;
        }
        ;
        for (var i = $0a; i <= 1; i += $X) {
          $07.push(i);
          $0a = i;
        }
        ;
        return $07;
      };
      var $0b = function () {
        var $07 = [];
        $07.time = 15;
        var $0a;
        var $X = 0.04;
        $0a = 0.1;
        for (var i = $0a; i <= 1; i += $X) {
          $07.push(i);
          $0a = i;
        }
        ;
        return $07;
      };
      var $0c = function () {
        var $07 = [];
        $07.time = 9;
        var $0a;
        var $X = 0.04;
        $0a = 0.1;
        for (var i = $0a; i <= 1; i += $X) {
          $07.push(i);
          $0a = i;
        }
        ;
        return $07;
      };
      var $0d = {"fast": $0c, "slow": $0b, "jump": $09};
      if (!$0d[$08]) {
        $08 = "fast";
      }
      ;
      return $0d[$08]();
    };
    function doStep($07) {
      var $b = $07.div;
      var $0e = $07[$07.i];
      var $0f = $0e * $07.target.h;
      var top;
      switch ($07.config.vertical) {
        case "center":
          top = $07.target.y - ($0f - $07.target.h) / 2;
          break;
        case "top":
          top = $07.target.y;
          break;
        case "bottom":
          top = $07.target.y - ($0f - $07.target.h);
          break;
        default:
          throw "Unexpected 'vertical' value.";
      }
      ;
      var $p = $0e * $07.target.w;
      var $r;
      switch ($07.config.horizontal) {
        case "left":
          $r = $07.target.x;
          break;
        case "center":
          $r = $07.target.x - ($p - $07.target.w) / 2;
          break;
        case "right":
          $r = $07.target.x - ($p - $07.target.w);
          break;
        default:
          throw "Unexpected 'horizontal' value.";
      }
      ;
      var wd = DayPilot.wd();
      var $0g = (wd.height + wd.scrollTop) - (top + $0f);
      if ($0g < 0) {
        top += $0g;
      }
      ;
      var $0h = (wd.width) - ($r + $p);
      if ($0h < 0) {
        $r += $0h;
      }
      ;
      $b.style.height = $0f + "px";
      $b.style.top = top + "px";
      $b.style.width = $p + "px";
      $b.style.left = $r + "px";
      $b.style.visibility = 'visible';
      $07.i++;
      if ($07.i < $07.length - 1) {
        setTimeout((function ($07) {
          return function () {
            doStep($07);
          };
        })($07), $07.time);
      } else {
        $b.style.width = $07.target.width;
        $b.style.height = $07.target.height;
        $b.style.top = $07.target.top;
        $b.style.left = $07.target.left;
        if (typeof $07.config.finished === 'function') {
          $07.config.finished();
        }
      }
    }
  })();
  DayPilot.Util = {};
  DayPilot.Util.addClass = function ($F, name) {
    if (!name) {
      return;
    }
    ;
    if (!$F) {
      return;
    }
    ;
    if (DayPilot.isArray($F)) {
      for (var i = 0; i < $F.length; i++) {
        DayPilot.Util.addClass($F[i], name);
      }
      ;
      return;
    }
    ;
    if (!$F.className) {
      $F.className = name;
      return;
    }
    ;
    var $0i = new RegExp("(^|\\s)" + name + "($|\\s)");
    if (!$0i.test($F.className)) {
      $F.className = $F.className + ' ' + name;
    }
  };
  DayPilot.Util.addClassToString = function (str, name) {
    if (!str) {
      return name;
    }
    ;
    var $0i = new RegExp("(^|\\s)" + name + "($|\\s)");
    if (!$0i.test(str)) {
      return str + ' ' + name;
    } else {
      return str;
    }
  };
  DayPilot.Util.removeClassFromString = function (str, name) {
    if (!str) {
      return "";
    }
    ;
    var $0i = new RegExp("(^|\\s)" + name + "($|\\s)");
    return str.replace($0i, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
  };
  DayPilot.Util.removeClass = function ($F, name) {
    if (!$F) {
      return;
    }
    ;
    if (DayPilot.isArray($F)) {
      for (var i = 0; i < $F.length; i++) {
        DayPilot.Util.removeClass($F[i], name);
      }
      ;
      return;
    }
    ;
    var $0i = new RegExp("(^|\\s)" + name + "($|\\s)");
    $F.className = $F.className.replace($0i, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
  };
  DayPilot.Util.props = function (o) {
    var t = [];
    for (a in o) {
      t.push(a);
      t.push(o[a]);
    }
    ;
    return t.join("-");
  };
  DayPilot.Util.propArray = function ($0j, name) {
    var $c = [];
    if (!$0j || !$0j.length) {
      return $c;
    }
    ;
    for (var i = 0; i < $0j.length; i++) {
      $c.push($0j[i][name]);
    }
    ;
    return $c;
  };
  DayPilot.Util.updatePropsFromArray = function ($0j, name, $i) {
    for (var i = 0; i < $i.length; i++) {
      $0j[i][name] = $i[i];
    }
  };
  DayPilot.Util.copyProps = function ($m, $d, $0j) {
    if (!$m) {
      return;
    }
    ;
    if (typeof $0j === 'undefined') {
      for (var name in $m) {
        $d[name] = $m[name];
      }
    } else {
      for (var i = 0; i < $0j.length; i++) {
        var name = $0j[i];
        $d[name] = $m[name];
      }
    }
  };
  DayPilot.Util.createArrayCopy = function ($m, $0k) {
    if (!DayPilot.isArray($m)) {
      return [];
    }
    ;
    var $k = [];
    for (var i = 0; i < $m.length; i++) {
      var $0l = {};
      DayPilot.Util.copyProps($m[i], $0l, $0k);
      $k.push($0l);
    }
    ;
    return $k;
  };
  DayPilot.Util.avg = function (a, b) {
    return (a + b) / 2;
  };
  DayPilot.Util.div = function (parent, $r, top, $p, $0f) {
    var $b = document.createElement("div");
    if ($r || top || $p || $0f) {
      if ($p < 0) {
        $r += $p;
        $p *= -1;
      }
      ;
      if ($0f < 0) {
        top += $0f;
        $0f *= -1;
      }
      ;
      $b.style.position = "absolute";
      if (typeof $r === "number") {
        $b.style.left = $r + "px";
      }
      ;
      if (typeof top === "number") {
        $b.style.top = top + "px";
      }
      ;
      if (typeof $p === "number") {
        $b.style.width = $p + "px";
      }
      ;
      if (typeof $0f === "number") {
        $b.style.height = $0f + "px";
      }
    }
    ;
    if (parent) {
      parent.appendChild($b);
    }
    ;
    return $b;
  };
  DayPilot.Util.overlaps = function ($0m, $0n, $0o, $0p) {
    return !($0n <= $0o || $0m >= $0p);
  };
  DayPilot.Util.mouseButton = function (ev) {
    var $c = {};
    ev = ev || window.event;
    if (typeof ev.which === 'undefined') {
      switch (ev.button) {
        case 1:
          $c.left = true;
          break;
        case 4:
          $c.middle = true;
          break;
        case 2:
          $c.right = true;
          break;
        case 0:
          $c.unknown = true;
          break;
      }
    } else {
      switch (ev.which) {
        case 1:
          $c.left = true;
          break;
        case 2:
          $c.middle = true;
          break;
        case 3:
          $c.right = true;
          break;
      }
    }
    ;
    return $c;
  };
  DayPilot.Util.membersPlain = function ($0q) {
    var $0r = DayPilot.Util.members($0q, 2);
    var $0s = function ($i) {
      for (var i = 0; i < $i.length; i++) {
        var $0l = $i[i];
        name = $0l.name;
        if ($0l.obsolete) {
          name += " (obsolete)";
        }
        ;
        if ($0l.noCssOnly) {
          name += " (!cssOnly)";
        }
        ;
        if ($0l.aspnet) {
          name += " (ASP.NET)";
        }
        ;
        if ($0l.mvc) {
          name += "(MVC)";
        }
        ;
        $i[i] = name;
      }
    };
    $0s($0r.events);
    $0s($0r.methods);
    $0s($0r.properties);
    return $0r;
  };
  DayPilot.Util.members = function ($0q, $0t) {
    var $0u = [];
    var $0v = [];
    var $0w = [];
    var $0x = ($0q && $0q.members) ? $0q.members.obsolete : [];
    var $0y = ($0q && $0q.members) ? $0q.members.noCssOnly : [];
    var $0z = ($0q && $0q.members) ? $0q.members.ignore : [];
    var $0A = ($0q && $0q.members && $0q.members.ignoreFilter) ? $0q.members.ignoreFilter : function () {
      return false;
    };
    for (var name in $0q) {
      if (name.indexOf("$") === 0) {
        continue;
      }
      ;
      if (name.indexOf("_") === 0) {
        continue;
      }
      ;
      if (name.indexOf("number") === 0) {
        continue;
      }
      ;
      if (name.indexOf("is") === 0) {
        continue;
      }
      ;
      if (name === "v") {
        continue;
      }
      ;
      if (DayPilot.contains($0z, name)) {
        continue;
      }
      ;
      if ($0A(name)) {
        continue;
      }
      ;
      if (name.indexOf("on") === 0) {
        $0u.push(name);
        continue;
      }
      ;
      if (typeof $0q[name] === 'function') {
        $0v.push(name);
        continue;
      }
      ;
      if (typeof $0q[name] === 'object') {
        var o = $0q[name];
        if ($0t === 0) {
          $0w.push(name);
          continue;
        }
        ;
        if (o && o.nodeType > 0) {
          $0w.push(name);
          continue;
        }
        ;
        if (o instanceof DayPilot.Bubble) {
          $0w.push(name);
          continue;
        }
        ;
        if (o instanceof DayPilot.Date) {
          $0w.push(name);
          continue;
        }
        ;
        if (o instanceof DayPilot.Menu) {
          $0w.push(name);
          continue;
        }
        ;
        if (o instanceof DayPilot.Scheduler) {
          $0w.push(name);
          continue;
        }
        ;
        if (DayPilot.isArray(o)) {
          $0w.push(name);
          continue;
        }
        ;
        if (o === null) {
          $0w.push(name);
        }
        ;
        var ml = null;
        if (typeof $0t === "number") {
          ml = $0t - 1;
        }
        ;
        var $0r = DayPilot.Util.members(o, ml);
        for (var i = 0; i < $0r.events.length; i++) {
          $0u.push(name + "." + $0r.events[i].name);
        }
        ;
        for (var i = 0; i < $0r.methods.length; i++) {
          $0v.push(name + "." + $0r.methods[i].name);
        }
        ;
        for (var i = 0; i < $0r.properties.length; i++) {
          $0w.push(name + "." + $0r.properties[i].name);
        }
        ;
        continue;
      }
      ;
      $0w.push(name);
    }
    ;
    $0u.sort();
    $0v.sort();
    $0w.sort();
    var $0s = function ($i) {
      for (var i = 0; i < $i.length; i++) {
        var name = $i[i];
        var $0l = {};
        $0l.name = name;
        $i[i] = $0l;
        if (DayPilot.contains($0x, name)) {
          $0l.obsolete = true;
        }
        ;
        if (DayPilot.contains($0y, name)) {
          $0l.noCssOnly = true;
        }
        ;
        if (name.indexOf("CallBack") !== -1) {
          $0l.aspnet = true;
          $0l.mvc = true;
        }
        ;
        if (name.indexOf("PostBack") !== -1) {
          $0l.aspnet = true;
        }
        ;
        if (name.indexOf("Notify") !== -1) {
          $0l.aspnet = true;
          $0l.mvc = true;
        }
      }
    };
    $0s($0u);
    $0s($0v);
    $0s($0w);
    return {"events": $0u, "methods": $0v, "properties": $0w};
  };
  DayPilot.Areas = {};
  DayPilot.Areas.attach = function ($b, e, $04) {
    var $0B = $04.areas;
    var $0C = $04.allowed || function () {
        return true;
      };
    DayPilot.re($b, "mousemove", function (ev) {
      if (!$b.active && $0C()) {
        DayPilot.Areas.showAreas($b, e, ev, $0B);
      }
    });
    DayPilot.re($b, "mouseout", function (ev) {
      DayPilot.Areas.hideAreas($b, ev);
    });
    $0B = $0D(e, $0B);
    for (var j = 0; j < $0B.length; j++) {
      var $0E = $0B[j];
      var v = $0E.v || "Visible";
      if (v !== "Visible") {
        continue;
      }
      ;
      var a = DayPilot.Areas.createArea($b, e, $0E);
      $b.appendChild(a);
    }
  };
  var $0D = function (e, $0B) {
    if (!DayPilot.isArray($0B)) {
      $0B = e.areas;
      if (!$0B) {
        if (e.cache) {
          $0B = e.cache.areas;
        } else if (e.data) {
          $0B = e.data.areas;
        }
      }
    }
    ;
    return $0B;
  };
  DayPilot.Areas.showAreas = function ($b, e, ev, $0B) {
    if (DayPilot.Global.resizing) {
      return;
    }
    ;
    if (DayPilot.Global.moving) {
      return;
    }
    ;
    if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0) {
      for (var i = 0; i < DayPilot.Areas.all.length; i++) {
        var d = DayPilot.Areas.all[i];
        if (d !== $b) {
          DayPilot.Areas.hideAreas(d, ev);
        }
      }
    }
    ;
    if ($b.active) {
      return;
    }
    ;
    $b.active = {};
    if (!DayPilot.isArray($0B)) {
      $0B = e.areas;
      if (!$0B) {
        if (e.cache) {
          $0B = e.cache.areas;
        } else if (e.data) {
          $0B = e.data.areas;
        }
      }
    }
    ;
    if (!$0B || $0B.length === 0) {
      return;
    }
    ;
    if ($b.areas && $b.areas.length > 0) {
      return;
    }
    ;
    $b.areas = [];
    for (var i = 0; i < $0B.length; i++) {
      var $0E = $0B[i];
      var v = $0E.v || "Visible";
      if (v !== 'Hover') {
        continue;
      }
      ;
      var a = DayPilot.Areas.createArea($b, e, $0E);
      $b.areas.push(a);
      $b.appendChild(a);
      DayPilot.Areas.all.push($b);
    }
    ;
    $b.active.children = DayPilot.ac($b);
  };
  DayPilot.Areas.createArea = function ($b, e, $0E) {
    var a = document.createElement("div");
    a.isActiveArea = true;
    a.setAttribute("unselectable", "on");
    var w = $0E.w || $0E.width;
    var h = $0E.h || $0E.height;
    var $0F = $0E.css || $0E.className;
    if (typeof $0E.style !== "undefined") {
      a.setAttribute("style", $0E.style);
    }
    ;
    a.style.position = "absolute";
    if (typeof w !== 'undefined') {
      a.style.width = w + "px";
    }
    ;
    if (typeof h !== 'undefined') {
      a.style.height = h + "px";
    }
    ;
    if (typeof $0E.right !== 'undefined') {
      a.style.right = $0E.right + "px";
    }
    ;
    if (typeof $0E.top !== 'undefined') {
      a.style.top = $0E.top + "px";
    }
    ;
    if (typeof $0E.left !== 'undefined') {
      a.style.left = $0E.left + "px";
    }
    ;
    if (typeof $0E.bottom !== 'undefined') {
      a.style.bottom = $0E.bottom + "px";
    }
    ;
    if (typeof $0E.html !== 'undefined' && $0E.html) {
      a.innerHTML = $0E.html;
    }
    ;
    if ($0F) {
      a.className = $0F;
    }
    ;
    if ($0E.backColor) {
      a.style.background = $0E.backColor;
    }
    ;
    if ($0E.action === "ResizeEnd" || $0E.action === "ResizeStart" || $0E.action === "Move") {
      if (e.calendar.isCalendar) {
        switch ($0E.action) {
          case "ResizeEnd":
            $0E.cursor = "s-resize";
            $0E.dpBorder = "bottom";
            break;
          case "ResizeStart":
            $0E.cursor = "n-resize";
            $0E.dpBorder = "top";
            break;
          case "Move":
            $0E.cursor = "move";
            break;
        }
      }
      ;
      if (e.calendar.isScheduler || e.calendar.isMonth) {
        switch ($0E.action) {
          case "ResizeEnd":
            $0E.cursor = "e-resize";
            $0E.dpBorder = "right";
            break;
          case "ResizeStart":
            $0E.cursor = "w-resize";
            $0E.dpBorder = "left";
            break;
          case "Move":
            $0E.cursor = "move";
            break;
        }
      }
      ;
      a.onmousemove = (function ($b, e, $0E) {
        return function (ev) {
          var ev = ev || window.event;
          $b.style.cursor = $0E.cursor;
          if ($0E.dpBorder) {
            $b.dpBorder = $0E.dpBorder;
          }
          ;
          ev.cancelBubble = true;
        };
      })($b, e, $0E);
      a.onmouseout = (function ($b, e, $0E) {
        return function (ev) {
          $b.style.cursor = '';
        };
      })($b, e, $0E);
    }
    ;
    if ($0E.action === "Move" && e.isEvent) {
      if (e.calendar.internal.touch) {
        var $0G = (function ($b, e, $0E) {
          return function (ev) {
            ev.cancelBubble = true;
            var $0H = e.calendar.internal.touch;
            var t = ev.touches ? ev.touches[0] : ev;
            var $a = {x: t.pageX, y: t.pageY};
            e.calendar.coords = $0H.relativeCoords(ev);
            $0H.preventEventTap = true;
            $0H.startMoving($b, $a);
          };
        })($b, e, $0E);
        DayPilot.re(a, DayPilot.touch.start, $0G);
      }
    }
    ;
    if ($0E.action === "Move" && e.isRow) {
      if (e.calendar.internal.touch) {
      }
    }
    ;
    if ($0E.action === "Bubble" && e.isEvent) {
      a.onmousemove = (function ($b, e, $0E) {
        return function (ev) {
          if (e.calendar.bubble) {
            e.calendar.bubble.showEvent(e);
          }
        };
      })($b, e, $0E);
      a.onmouseout = (function ($b, e, $0E) {
        return function (ev) {
          if (typeof DayPilot.Bubble !== "undefined") {
            if (e.calendar.bubble) {
              e.calendar.bubble.hideOnMouseOut();
            }
          }
        };
      })($b, e, $0E);
    }
    ;
    if ($0E.action === "HoverMenu") {
      a.onmousemove = (function ($b, e, $0E) {
        return function (ev) {
          var m = $0E.menu;
          if (typeof m === 'string') {
            m = eval(m);
          }
          ;
          if (m && m.show) {
            if (!m.visible) {
              m.show(e);
            } else if (m.source && typeof m.source.id !== 'undefined' && m.source.id !== e.id) {
              m.show(e);
            }
            ;
            m.cancelHideTimeout();
          }
        };
      })($b, e, $0E);
      a.onmouseout = (function ($b, e, $0E) {
        return function (ev) {
          var m = $0E.menu;
          if (typeof m === 'string') {
            m = eval(m);
          }
          ;
          if (!m) {
            return;
          }
          ;
          if (m.hideOnMouseOver) {
            m.delayedHide();
          }
        };
      })($b, e, $0E);
    }
    ;
    a.onmousedown = (function ($b, e, $0E) {
      return function (ev) {
        if (typeof $0E.onmousedown === 'function') {
          $0E.onmousedown(ev);
        }
        ;
        if ($0E.action === "Move" && e.isRow) {
          var $0I = e.$.row;
          var $0J = e.calendar.internal.rowtools;
          $0J.startMoving($0I);
        }
        ;
        var $0K = true;
        if ($0K) {
          if ($0E.action === "Move" || $0E.action === "ResizeEnd" || $0E.action === "ResizeStart") {
            return;
          }
          ;
          ev = ev || window.event;
          ev.cancelBubble = true;
        }
      };
    })($b, e, $0E);
    a.onclick = (function ($b, e, $0E) {
      return function (ev) {
        var ev = ev || window.event;
        switch ($0E.action) {
          case "JavaScript":
            var f = $0E.js;
            if (typeof f === 'string') {
              f = eval("0, " + $0E.js);
            }
            ;
            if (typeof f === 'function') {
              f.call(this, e);
            }
            ;
            break;
          case "ContextMenu":
            var m = $0E.menu;
            if (typeof m === 'string') {
              m = eval(m);
            }
            ;
            if (m && m.show) {
              m.show(e);
            }
            ;
            break;
          case "CallBack":
            alert("callback not implemented yet, id: " + $0E.id);
            break;
        }
        ;
        ev.cancelBubble = true;
      };
    })($b, e, $0E);
    return a;
  };
  DayPilot.Areas.all = [];
  DayPilot.Areas.hideAreas = function ($b, ev) {
    if (!$b) {
      return;
    }
    ;
    if (!$b || !$b.active) {
      return;
    }
    ;
    var $0L = $b.active;
    var $0B = $b.areas;
    if ($0L && $0L.children) {
      var ev = ev || window.event;
      if (ev) {
        var $d = ev.toElement || ev.relatedTarget;
        if (~DayPilot.indexOf($0L.children, $d)) {
          return;
        }
      }
    }
    ;
    if (!$0B || $0B.length === 0) {
      $b.active = null;
      return;
    }
    ;
    DayPilot.de($0B);
    $b.active = null;
    $b.areas = [];
    DayPilot.rfa(DayPilot.Areas.all, $b);
    $0L.children = null;
  };
  DayPilot.Areas.hideAll = function (ev) {
    if (!DayPilot.Areas.all || DayPilot.Areas.all.length === 0) {
      return;
    }
    ;
    for (var i = 0; i < DayPilot.Areas.all.length; i++) {
      DayPilot.Areas.hideAreas(DayPilot.Areas.all[i], ev);
    }
  };
  DayPilot.Action = function ($L, $0M, $0N, $0O) {
    this.calendar = $L;
    this.isAction = true;
    this.action = $0M;
    this.params = $0N;
    this.data = $0O;
    this.notify = function () {
      $L.internal.invokeEvent("Immediate", this.action, this.params, this.data);
    };
    this.auto = function () {
      $L.internal.invokeEvent("Notify", this.action, this.params, this.data);
    };
    this.queue = function () {
      $L.queue.add(this);
    };
    this.toJSON = function () {
      var $0P = {};
      $0P.name = this.action;
      $0P.params = this.params;
      $0P.data = this.data;
      return $0P;
    };
  };
  DayPilot.Selection = function ($0Q, end, $0R, $0S) {
    this.type = 'selection';
    this.start = $0Q.isDayPilotDate ? $0Q : new DayPilot.Date($0Q);
    this.end = end.isDayPilotDate ? end : new DayPilot.Date(end);
    this.resource = $0R;
    this.root = $0S;
    this.toJSON = function ($0T) {
      var $0P = {};
      $0P.start = this.start;
      $0P.end = this.end;
      $0P.resource = this.resource;
      return $0P;
    };
  };
  DayPilot.Link = function ($0O, $L) {
    this.isLink = true;
    this.data = $0O;
    this.calendar = $L;
    this.to = function () {
      return this.data.to;
    };
    this.from = function () {
      return this.data.from;
    };
    this.type = function () {
      return this.data.type;
    };
    this.id = function () {
      return this.data.id;
    };
    this.toJSON = function () {
      var $0P = {};
      $0P.from = this.data.from;
      $0P.to = this.data.to;
      $0P.id = this.data.id;
      $0P.type = this.data.type;
      return $0P;
    };
  };
  DayPilot.Event = function ($0O, $L, $0U) {
    var e = this;
    this.calendar = $L;
    this.data = $0O ? $0O : {};
    this.part = $0U ? $0U : {};
    if (typeof this.data.id === 'undefined') {
      this.data.id = this.data.value;
    }
    ;
    var $0V = {};
    var $0W = ["id", "text", "start", "end", "resource"];
    this.isEvent = true;
    this.temp = function () {
      if ($0V.dirty) {
        return $0V;
      }
      ;
      for (var i = 0; i < $0W.length; i++) {
        $0V[$0W[i]] = e.data[$0W[i]];
      }
      ;
      $0V.dirty = true;
      return $0V;
    };
    this.copy = function () {
      var $c = {};
      DayPilot.Util.copyProps(e.data, $c);
      return $c;
    };
    this.commit = function () {
      if (!$0V.dirty) {
        return;
      }
      ;
      for (var i = 0; i < $0W.length; i++) {
        e.data[$0W[i]] = $0V[$0W[i]];
      }
      ;
      $0V.dirty = false;
    };
    this.dirty = function () {
      return $0V.dirty;
    };
    this.id = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.data.id;
      } else {
        this.temp().id = $0X;
      }
    };
    this.value = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.id();
      } else {
        e.id($0X);
      }
    };
    this.text = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.data.text;
      } else {
        this.temp().text = $0X;
        this.client.innerHTML($0X);
      }
    };
    this.start = function ($0X) {
      if (typeof $0X === 'undefined') {
        return new DayPilot.Date(e.data.start);
      } else {
        this.temp().start = new DayPilot.Date($0X);
      }
    };
    this.end = function ($0X) {
      if (typeof $0X === 'undefined') {
        if ($L && $L.eventEndSpec == "Date") {
          return new DayPilot.Date(e.data.end).getDatePart().addDays(1);
        }
        ;
        return new DayPilot.Date(e.data.end);
      } else {
        this.temp().end = new DayPilot.Date($0X);
      }
    };
    this.partStart = function () {
      return new DayPilot.Date(this.part.start);
    };
    this.partEnd = function () {
      return new DayPilot.Date(this.part.end);
    };
    this.row = function () {
      return this.resource();
    };
    this.allday = function () {
      if (typeof $0X === 'undefined') {
        return e.data.allday;
      } else {
        this.temp().allday = $0X;
      }
    };
    this.isAllDay = this.allday;
    this.resource = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.data.resource;
      } else {
        this.temp().resource = $0X;
      }
    };
    this.recurrent = function () {
      return e.data.recurrent;
    };
    this.recurrentMasterId = function () {
      return e.data.recurrentMasterId;
    };
    this.useBox = function () {
      return this.part.box;
    };
    this.staticBubbleHTML = function () {
      return this.bubbleHtml();
    };
    this.bubbleHtml = function () {
      if (e.cache) {
        return e.cache.bubbleHtml || e.data.bubbleHtml;
      }
      ;
      return e.data.bubbleHtml;
    };
    this.tag = function ($0Y) {
      var $0Z = e.data.tag;
      if (!$0Z) {
        return null;
      }
      ;
      if (typeof $0Y === 'undefined') {
        return e.data.tag;
      }
      ;
      var $j = e.calendar.tagFields;
      var $K = -1;
      for (var i = 0; i < $j.length; i++) {
        if ($0Y === $j[i])$K = i;
      }
      ;
      if ($K === -1) {
        throw "Field name not found.";
      }
      ;
      return $0Z[$K];
    };
    this.client = {};
    this.client.innerHTML = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.html !== "undefined") {
          return e.cache.html;
        }
        ;
        if (typeof e.data.html !== "undefined") {
          return e.data.html;
        }
        ;
        return e.data.text;
      } else {
        e.data.html = $0X;
      }
    };
    this.client.html = this.client.innerHTML;
    this.client.header = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.data.header;
      } else {
        e.data.header = $0X;
      }
    };
    this.client.cssClass = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.data.cssClass;
      } else {
        e.data.cssClass = $0X;
      }
    };
    this.client.toolTip = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.toolTip !== "undefined") {
          return e.cache.toolTip;
        }
        ;
        return typeof e.data.toolTip !== 'undefined' ? e.data.toolTip : e.data.text;
      } else {
        e.data.toolTip = $0X;
      }
    };
    this.client.backColor = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.backColor !== "undefined") {
          return e.cache.backColor;
        }
        ;
        return typeof e.data.backColor !== "undefined" ? e.data.backColor : e.calendar.eventBackColor;
      } else {
        e.data.backColor = $0X;
      }
    };
    this.client.borderColor = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.borderColor !== "undefined") {
          return e.cache.borderColor;
        }
        ;
        return typeof e.data.borderColor !== "undefined" ? e.data.borderColor : e.calendar.eventBorderColor;
      } else {
        e.data.borderColor = $0X;
      }
    };
    this.client.barColor = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.barColor !== "undefined") {
          return e.cache.barColor;
        }
        ;
        return typeof e.data.barColor !== "undefined" ? e.data.barColor : e.calendar.durationBarColor;
      } else {
        e.data.barColor = $0X;
      }
    };
    this.client.barVisible = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.barHidden !== "undefined") {
          return !e.cache.barHidden;
        }
        ;
        return e.calendar.durationBarVisible && !e.data.barHidden;
      } else {
        e.data.barHidden = !$0X;
      }
    };
    this.client.contextMenu = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.oContextMenu) {
          return e.oContextMenu;
        }
        ;
        return (e.data.contextMenu) ? eval(e.data.contextMenu) : null;
      } else {
        e.oContextMenu = $0X;
      }
    };
    this.client.moveEnabled = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.moveDisabled !== "undefined") {
          return !e.cache.moveDisabled;
        }
        ;
        return e.calendar.eventMoveHandling !== 'Disabled' && !e.data.moveDisabled;
      } else {
        e.data.moveDisabled = !$0X;
      }
    };
    this.client.resizeEnabled = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.resizeDisabled !== "undefined") {
          return !e.cache.resizeDisabled;
        }
        ;
        return e.calendar.eventResizeHandling !== 'Disabled' && !e.data.resizeDisabled;
      } else {
        e.data.resizeDisabled = !$0X;
      }
    };
    this.client.rightClickEnabled = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.rightClickDisabled !== "undefined") {
          return !e.cache.rightClickDisabled;
        }
        ;
        return e.calendar.rightClickHandling !== 'Disabled' && !e.data.rightClickDisabled;
      } else {
        e.data.rightClickDisabled = !$0X;
      }
    };
    this.client.clickEnabled = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.clickDisabled !== "undefined") {
          return !e.cache.clickDisabled;
        }
        ;
        return e.calendar.clickHandling !== 'Disabled' && !e.data.clickDisabled;
      } else {
        e.data.clickDisabled = !$0X;
      }
    };
    this.client.deleteEnabled = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
          return !e.cache.deleteDisabled;
        }
        ;
        return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
      } else {
        e.data.deleteDisabled = !$0X;
      }
    };
    this.client.doubleClickEnabled = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.doubleClickDisabled !== "undefined") {
          return !e.cache.doubleClickDisabled;
        }
        ;
        return e.calendar.eventDoubleClickHandling !== 'Disabled' && !e.data.doubleClickDisabled;
      } else {
        e.data.doubleClickDisabled = !$0X;
      }
    };
    this.client.deleteClickEnabled = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
          return !e.cache.deleteDisabled;
        }
        ;
        return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
      } else {
        e.data.deleteDisabled = !$0X;
      }
    };
    this.toJSON = function ($0T) {
      var $0P = {};
      $0P.value = this.id();
      $0P.id = this.id();
      $0P.text = this.text();
      $0P.start = this.start().toJSON();
      $0P.end = this.end().toJSON();
      $0P.resource = this.resource();
      $0P.isAllDay = false;
      $0P.recurrentMasterId = this.recurrentMasterId();
      $0P.tag = {};
      if (e.calendar.tagFields) {
        var $j = e.calendar.tagFields;
        for (var i = 0; i < $j.length; i++) {
          $0P.tag[$j[i]] = this.tag($j[i]);
        }
      }
      ;
      return $0P;
    };
  };
  DayPilot.Task = function ($0O, $L) {
    if (!$0O) {
      throw "Trying to initialize DayPilot.Task with null data parameter";
    }
    ;
    var e = this;
    var event = null;
    if ($0O instanceof DayPilot.Event) {
      event = $0O;
      this.data = $0O.data.task;
    } else if ($0O instanceof DayPilot.Task) {
      return $0O;
    } else if ($0O.isTaskWrapper) {
      this.data = $0O.data;
    } else {
      this.data = $0O;
    }
    ;
    var $0V = {};
    var $0W = ["id", "text", "start", "end", "complete", "type"];
    this.isTask = true;
    this.temp = function () {
      if ($0V.dirty) {
        return $0V;
      }
      ;
      for (var i = 0; i < $0W.length; i++) {
        $0V[$0W[i]] = e.data[$0W[i]];
      }
      ;
      $0V.dirty = true;
      return $0V;
    };
    this.copy = function () {
      var $c = {};
      DayPilot.Util.copyProps(e.data, $c);
      return $c;
    };
    this.commit = function () {
      if (!$0V.dirty) {
        return;
      }
      ;
      for (var i = 0; i < $0W.length; i++) {
        e.data[$0W[i]] = $0V[$0W[i]];
      }
      ;
      $0V.dirty = false;
    };
    this.dirty = function () {
      return $0V.dirty;
    };
    this.id = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.data.id;
      } else {
        this.temp().id = $0X;
      }
    };
    this.text = function ($0X) {
      if (typeof $0X === 'undefined') {
        return e.data.text;
      } else {
        this.temp().text = $0X;
        this.client.innerHTML($0X);
      }
    };
    this.start = function ($0X) {
      if (typeof $0X === 'undefined') {
        return new DayPilot.Date(e.data.start);
      } else {
        this.temp().start = new DayPilot.Date($0X);
      }
    };
    this.end = function ($0X) {
      if (typeof $0X === 'undefined') {
        if ($L && $L.eventEndSpec === "Date") {
          return new DayPilot.Date(e.data.end).getDatePart().addDays(1);
        }
        ;
        return new DayPilot.Date(e.data.end);
      } else {
        this.temp().end = new DayPilot.Date($0X);
      }
    };
    this.type = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (event) {
          return event.data.type;
        }
        ;
        return e.data.type;
      } else {
        this.temp().type = $0X;
      }
    };
    this.complete = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (!e.data.complete) {
          return 0;
        }
        ;
        return e.data.complete;
      } else {
        this.temp().complete = $0X;
      }
    };
    this.children = function () {
      var $k = [];
      $k.add = function ($0O) {
        var $10 = new DayPilot.Task($0O);
        if (!this.data.children) {
          this.data.children = [];
        }
        ;
        this.children.push($10.data);
      };
      for (var i = 0; this.data.children && i < this.data.children.length; i++) {
        $k.push(new DayPilot.Task(this.data.children[i], $L));
      }
      ;
      return $k;
    };
    this.row = {};
    var $0I = this.row;
    $0I.expanded = function ($0X) {
      if (typeof $0X === 'undefined') {
        if (!e.data.row) {
          return true;
        }
        ;
        return !e.data.row.collapsed;
      } else {
        if (!e.data.row) {
          e.data.row = {};
        }
        ;
        if (!!e.data.row.collapsed !== !$0X) {
          $L.internal.rowObjectForTaskData(e.data).toggle();
        }
        ;
        e.data.row.collapsed = !$0X;
      }
    };
    $0I.expand = function () {
      $0I.expanded(true);
    };
    $0I.collapse = function () {
      $0I.expanded(false);
    };
    $0I.toggle = function () {
      $0I.expanded(!$0I.expanded());
    };
  };
  DayPilot.request = function ($11, $12, $13, $14) {
    var $15 = DayPilot.createXmlHttp();
    if (!$15) {
      return;
    }
    ;
    $15.open("POST", $11, true);
    $15.setRequestHeader('Content-type', 'text/plain');
    $15.onreadystatechange = function () {
      if ($15.readyState !== 4)return;
      if ($15.status !== 200 && $15.status !== 304) {
        if ($14) {
          $14($15);
        } else {
          if (console) {
            console.log('HTTP error ' + $15.status);
          }
        }
        ;
        return;
      }
      ;
      $12($15);
    };
    if ($15.readyState === 4) {
      return;
    }
    ;
    if (typeof $13 === 'object') {
      $13 = DayPilot.JSON.stringify($13);
    }
    ;
    $15.send($13);
  };
  DayPilot.ajax = function ($F) {
    var $15 = DayPilot.createXmlHttp();
    if (!$15) {
      return;
    }
    ;
    var $16 = $F.method || "GET";
    var $17 = $F.success || function () {
      };
    var $18 = $F.error || function () {
      };
    var $0O = $F.data;
    var $11 = $F.url;
    $15.open($16, $11, true);
    $15.setRequestHeader('Content-type', 'text/plain');
    $15.onreadystatechange = function () {
      if ($15.readyState !== 4)return;
      if ($15.status !== 200 && $15.status !== 304) {
        if ($18) {
          var $19 = {};
          $19.request = $15;
          $18($19);
        } else {
          if (console) {
            console.log('HTTP error ' + $15.status);
          }
        }
        ;
        return;
      }
      ;
      var $19 = {};
      $19.request = $15;
      $17($19);
    };
    if ($15.readyState === 4) {
      return;
    }
    ;
    if (typeof $0O === 'object') {
      $0O = DayPilot.JSON.stringify($13);
    }
    ;
    $15.send($0O);
  };
  DayPilot.createXmlHttp = function () {
    var $1a;
    try {
      $1a = new XMLHttpRequest();
    } catch (e) {
      try {
        $1a = new ActiveXObject("Microsoft.XMLHTTP");
      } catch (e) {
      }
    }
    ;
    return $1a;
  };
  DayPilot.TimeSpan = function ($1b) {
    var $1c = 1000 * 60 * 60 * 24;
    var $1d = 1000 * 60 * 60;
    var $1e = 1000 * 60;
    var $1f = 1000;
    this.ticks = $1b;
    this.toString = function ($1g) {
      if (!$1g) {
        return this.days() + "." + this.hours() + ":" + this.minutes() + ":" + this.seconds() + "." + this.milliseconds();
      }
      ;
      var $1h = this.minutes();
      $1h = ($1h < 10 ? "0" : "") + $1h;
      var $c = $1g;
      $c = $c.replace("mm", $1h);
      $c = $c.replace("m", this.minutes());
      $c = $c.replace("H", this.hours());
      $c = $c.replace("h", this.hours());
      $c = $c.replace("d", this.days());
      $c = $c.replace("s", this.seconds());
      return $c;
    };
    this.totalHours = function () {
      return $1b / $1d;
    };
    this.totalDays = function () {
      return $1b / $1c;
    };
    this.totalHours = function () {
      return $1b / $1d;
    };
    this.totalMinutes = function () {
      return $1b / $1e;
    };
    this.totalSeconds = function () {
      return $1b / $1i;
    };
    this.days = function () {
      return Math.floor(this.totalDays());
    };
    this.hours = function () {
      var $1j = $1b - this.days() * $1c;
      return Math.floor($1j / $1d);
    };
    this.minutes = function () {
      var $1k = $1b - Math.floor(this.totalHours()) * $1d;
      return Math.floor($1k / $1e);
    };
    this.seconds = function () {
      var $1l = $1b - Math.floor(this.totalMinutes()) * $1e;
      return Math.floor($1l / $1f);
    };
    this.milliseconds = function () {
      return $1b % $1f;
    };
  };
  DayPilot.Date = function ($1m, $1n) {
    if (typeof $1m === 'undefined') {
      this.isDayPilotDate = true;
      this.d = DayPilot.Date.fromLocal();
      this.ticks = this.d.getTime();
      this.value = this.toStringSortable();
      return;
    }
    ;
    if ($1m.isDayPilotDate) {
      return $1m;
    }
    ;
    var $1o = DayPilot.Date.Cache.Ctor;
    if ($1o[$1m]) {
      return $1o[$1m];
    }
    ;
    if (typeof $1m === "string") {
      var $c = DayPilot.Date.fromStringSortable($1m);
      $1o[$1m] = $c;
      return $c;
    }
    ;
    if (typeof $1m === "number") {
      return new DayPilot.Date(new Date($1m));
    }
    ;
    if (!$1m.getFullYear) {
      throw "date parameter is not a Date object: " + $1m;
    }
    ;
    if ($1n) {
      this.isDayPilotDate = true;
      this.d = DayPilot.Date.fromLocal($1m);
      this.ticks = this.d.getTime();
    } else {
      this.isDayPilotDate = true;
      this.d = $1m;
      this.ticks = this.d.getTime();
    }
    ;
    this.value = this.toStringSortable();
  };
  DayPilot.Date.Cache = {};
  DayPilot.Date.Cache.Parsing = {};
  DayPilot.Date.Cache.Ctor = {};
  DayPilot.Date.prototype.addDays = function ($1p) {
    return new DayPilot.Date(DayPilot.Date.addDays(this.d, $1p));
  };
  DayPilot.Date.prototype.addHours = function ($1q) {
    return this.addTime($1q * 60 * 60 * 1000);
  };
  DayPilot.Date.prototype.addMilliseconds = function ($1r) {
    return this.addTime($1r);
  };
  DayPilot.Date.prototype.addMinutes = function ($1h) {
    return this.addTime($1h * 60 * 1000);
  };
  DayPilot.Date.prototype.addMonths = function ($1s) {
    return new DayPilot.Date(DayPilot.Date.addMonths(this.d, $1s));
  };
  DayPilot.Date.prototype.addSeconds = function ($1i) {
    return this.addTime($1i * 1000);
  };
  DayPilot.Date.prototype.addTime = function ($1b) {
    return new DayPilot.Date(DayPilot.Date.addTime(this.d, $1b));
  };
  DayPilot.Date.prototype.addYears = function ($1t) {
    var n = this.clone();
    n.d.setUTCFullYear(this.getYear() + $1t);
    return n;
  };
  DayPilot.Date.prototype.clone = function () {
    return new DayPilot.Date(DayPilot.Date.clone(this.d));
  };
  DayPilot.Date.prototype.dayOfWeek = function () {
    return this.d.getUTCDay();
  };
  DayPilot.Date.prototype.getDayOfWeek = function () {
    return this.d.getUTCDay();
  };
  DayPilot.Date.prototype.daysInMonth = function () {
    return DayPilot.Date.daysInMonth(this.d);
  };
  DayPilot.Date.prototype.dayOfYear = function () {
    return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 86400000) + 1;
  };
  DayPilot.Date.prototype.equals = function ($1u) {
    if ($1u === null) {
      return false;
    }
    ;
    if ($1u.isDayPilotDate) {
      return DayPilot.Date.equals(this.d, $1u.d);
    } else {
      throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
    }
  };
  DayPilot.Date.prototype.firstDayOfMonth = function () {
    var $1v = DayPilot.Date.firstDayOfMonth(this.getYear(), this.getMonth() + 1);
    return new DayPilot.Date($1v);
  };
  DayPilot.Date.prototype.firstDayOfYear = function () {
    var $1w = this.getYear();
    var d = new Date();
    d.setUTCFullYear($1w, 0, 1);
    d.setUTCHours(0);
    d.setUTCMinutes(0);
    d.setUTCSeconds(0);
    d.setUTCMilliseconds(0);
    return new DayPilot.Date(d);
  };
  DayPilot.Date.prototype.firstDayOfWeek = function ($1x) {
    var $1v = DayPilot.Date.firstDayOfWeek(this.d, $1x);
    return new DayPilot.Date($1v);
  };
  DayPilot.Date.prototype.getDay = function () {
    return this.d.getUTCDate();
  };
  DayPilot.Date.prototype.getDatePart = function () {
    return new DayPilot.Date(DayPilot.Date.getDate(this.d));
  };
  DayPilot.Date.prototype.getYear = function () {
    return this.d.getUTCFullYear();
  };
  DayPilot.Date.prototype.getHours = function () {
    return this.d.getUTCHours();
  };
  DayPilot.Date.prototype.getMilliseconds = function () {
    return this.d.getUTCMilliseconds();
  };
  DayPilot.Date.prototype.getMinutes = function () {
    return this.d.getUTCMinutes();
  };
  DayPilot.Date.prototype.getMonth = function () {
    return this.d.getUTCMonth();
  };
  DayPilot.Date.prototype.getSeconds = function () {
    return this.d.getUTCSeconds();
  };
  DayPilot.Date.prototype.getTotalTicks = function () {
    return this.getTime();
  };
  DayPilot.Date.prototype.getTime = function () {
    return this.ticks;
  };
  DayPilot.Date.prototype.getTimePart = function () {
    return DayPilot.Date.getTime(this.d);
  };
  DayPilot.Date.prototype.lastDayOfMonth = function () {
    var $1v = DayPilot.Date.lastDayOfMonth(this.getYear(), this.getMonth() + 1);
    return new DayPilot.Date($1v);
  };
  DayPilot.Date.prototype.weekNumber = function () {
    var $1y = this.firstDayOfYear();
    var $1p = (this.getTime() - $1y.getTime()) / 86400000;
    return Math.ceil(($1p + $1y.dayOfWeek() + 1) / 7);
  };
  DayPilot.Date.prototype.local = function () {
    if (typeof this.offset === 'undefined') {
      return new DayPilot.Date(this.d);
    }
    ;
    return this.addMinutes(this.offset);
  };
  DayPilot.Date.prototype.weekNumberISO = function () {
    var $1z = false;
    var $1A = this.dayOfYear();
    var $1B = this.firstDayOfYear().dayOfWeek();
    var $1C = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
    if ($1B === 0) {
      $1B = 7;
    }
    ;
    if ($1C === 0) {
      $1C = 7;
    }
    ;
    var $1D = 8 - ($1B);
    if ($1B === 4 || $1C === 4) {
      $1z = true;
    }
    ;
    var $1E = Math.ceil(($1A - ($1D)) / 7.0);
    var $1F = $1E;
    if ($1D >= 4) {
      $1F = $1F + 1;
    }
    ;
    if ($1F > 52 && !$1z) {
      $1F = 1;
    }
    ;
    if ($1F === 0) {
      $1F = this.firstDayOfYear().addDays(-1).weekNumberISO();
    }
    ;
    return $1F;
  };
  DayPilot.Date.prototype.toDateLocal = function () {
    return DayPilot.Date.toLocal(this.d);
  };
  DayPilot.Date.prototype.toJSON = function () {
    return this.value;
  };
  DayPilot.Date.prototype.toString = function ($1g, $1G) {
    if (typeof $1g === 'undefined') {
      return this.toStringSortable();
    }
    ;
    return new $1H($1g, $1G).print(this);
  };
  DayPilot.Date.prototype.toStringSortable = function () {
    return DayPilot.Date.toStringSortable(this.d);
  };
  DayPilot.Date.parse = function (str, $1g) {
    var p = new $1H($1g);
    return p.parse(str);
  };
  DayPilot.Date.fromStringSortable = function ($1I) {
    var $c;
    if (!$1I) {
      throw "Can't create DayPilot.Date from empty string";
    }
    ;
    var $W = $1I.length;
    var $1m = $W === 10;
    var $1J = $W = 19;
    var $1K = $W === 25;
    if (!$1m && !$1J && !$1K) {
      throw "Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";
    }
    ;
    if (DayPilot.Date.Cache.Parsing[$1I]) {
      return DayPilot.Date.Cache.Parsing[$1I];
    }
    ;
    var $1w = $1I.substring(0, 4);
    var $1L = $1I.substring(5, 7);
    var $1c = $1I.substring(8, 10);
    var d = new Date();
    d.setUTCFullYear($1w, $1L - 1, $1c);
    if ($1m) {
      d.setUTCHours(0);
      d.setUTCMinutes(0);
      d.setUTCSeconds(0);
      d.setUTCMilliseconds(0);
      $c = new DayPilot.Date(d);
      DayPilot.Date.Cache.Parsing[$1I] = $c;
      return $c;
    }
    ;
    var $1q = $1I.substring(11, 13);
    var $1h = $1I.substring(14, 16);
    var $1i = $1I.substring(17, 19);
    d.setUTCHours($1q);
    d.setUTCMinutes($1h);
    d.setUTCSeconds($1i);
    d.setUTCMilliseconds(0);
    var $c = new DayPilot.Date(d);
    if ($1J) {
      DayPilot.Date.Cache.Parsing[$1I] = $c;
      return $c;
    }
    ;
    var $1M = $1I[20];
    var $1N = $1I.substring(21, 23);
    var $1O = $1I.substring(24);
    var $1P = $1N * 60 + $1O;
    if ($1M === "-") {
      $1P = -$1P;
    }
    ;
    $c = $c.addMinutes(-$1P);
    $c.offset = $1Q;
    DayPilot.Date.Cache.Parsing[$1I] = $c;
    return $c;
  };
  DayPilot.Date.addDays = function ($1m, $1p) {
    var d = new Date();
    d.setTime($1m.getTime() + $1p * 24 * 60 * 60 * 1000);
    return d;
  };
  DayPilot.Date.addMinutes = function ($1m, $1h) {
    var d = new Date();
    d.setTime($1m.getTime() + $1h * 60 * 1000);
    return d;
  };
  DayPilot.Date.addMonths = function ($1m, $1s) {
    if ($1s === 0)return $1m;
    var y = $1m.getUTCFullYear();
    var m = $1m.getUTCMonth() + 1;
    if ($1s > 0) {
      while ($1s >= 12) {
        $1s -= 12;
        y++;
      }
      ;
      if ($1s > 12 - m) {
        y++;
        m = $1s - (12 - m);
      } else {
        m += $1s;
      }
    } else {
      while ($1s <= -12) {
        $1s += 12;
        y--;
      }
      ;
      if (m <= $1s) {
        y--;
        m = 12 - ($1s + m);
      } else {
        m = m + $1s;
      }
    }
    ;
    var d = DayPilot.Date.clone($1m);
    d.setUTCFullYear(y);
    d.setUTCMonth(m - 1);
    return d;
  };
  DayPilot.Date.addTime = function ($1m, $1R) {
    var d = new Date();
    d.setTime($1m.getTime() + $1R);
    return d;
  };
  DayPilot.Date.clone = function ($1S) {
    var d = new Date();
    return DayPilot.Date.dateFromTicks($1S.getTime());
  };
  DayPilot.Date.daysDiff = function ($1y, $1f) {
    if ($1y.getTime() > $1f.getTime()) {
      return null;
    }
    ;
    var i = 0;
    var $1T = DayPilot.Date.getDate($1y);
    var $1U = DayPilot.Date.getDate($1f);
    while ($1T < $1U) {
      $1T = DayPilot.Date.addDays($1T, 1);
      i++;
    }
    ;
    return i;
  };
  DayPilot.Date.daysInMonth = function ($1w, $1L) {
    if ($1w.getUTCFullYear) {
      $1L = $1w.getUTCMonth() + 1;
      $1w = $1w.getUTCFullYear();
    }
    ;
    var m = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
    if ($1L !== 2)return m[$1L - 1];
    if ($1w % 4 !== 0)return m[1];
    if ($1w % 100 === 0 && $1w % 400 !== 0)return m[1];
    return m[1] + 1;
  };
  DayPilot.Date.daysSpan = function ($1y, $1f) {
    if ($1y.getTime() === $1f.getTime()) {
      return 0;
    }
    ;
    var $1V = DayPilot.Date.daysDiff($1y, $1f);
    if (DayPilot.Date.equals($1f, DayPilot.Date.getDate($1f))) {
      $1V--;
    }
    ;
    return $1V;
  };
  DayPilot.Date.diff = function ($1y, $1f) {
    if (!($1y && $1f && $1y.getTime && $1f.getTime)) {
      throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
    }
    ;
    return $1y.getTime() - $1f.getTime();
  };
  DayPilot.Date.equals = function ($1y, $1f) {
    return $1y.getTime() === $1f.getTime();
  };
  DayPilot.Date.fromLocal = function ($1W) {
    if (!$1W) {
      $1W = new Date();
    }
    ;
    var d = new Date();
    d.setUTCFullYear($1W.getFullYear(), $1W.getMonth(), $1W.getDate());
    d.setUTCHours($1W.getHours());
    d.setUTCMinutes($1W.getMinutes());
    d.setUTCSeconds($1W.getSeconds());
    d.setUTCMilliseconds($1W.getMilliseconds());
    return d;
  };
  DayPilot.Date.firstDayOfMonth = function ($1w, $1L) {
    var d = new Date();
    d.setUTCFullYear($1w, $1L - 1, 1);
    d.setUTCHours(0);
    d.setUTCMinutes(0);
    d.setUTCSeconds(0);
    d.setUTCMilliseconds(0);
    return d;
  };
  DayPilot.Date.firstDayOfWeek = function (d, $1x) {
    var $1x = $1x || 0;
    var $1c = d.getUTCDay();
    while ($1c !== $1x) {
      d = DayPilot.Date.addDays(d, -1);
      $1c = d.getUTCDay();
    }
    ;
    return d;
  };
  DayPilot.Date.dateFromTicks = function ($1b) {
    var d = new Date();
    d.setTime($1b);
    return d;
  };
  DayPilot.Date.getDate = function ($1S) {
    var d = DayPilot.Date.clone($1S);
    d.setUTCHours(0);
    d.setUTCMinutes(0);
    d.setUTCSeconds(0);
    d.setUTCMilliseconds(0);
    return d;
  };
  DayPilot.Date.getStart = function ($1w, $1L, $1x) {
    var $1X = DayPilot.Date.firstDayOfMonth($1w, $1L);
    d = DayPilot.Date.firstDayOfWeek($1X, $1x);
    return d;
  };
  DayPilot.Date.getTime = function ($1S) {
    var $1m = DayPilot.Date.getDate($1S);
    return DayPilot.Date.diff($1S, $1m);
  };
  DayPilot.Date.hours = function ($1m, $1Y) {
    var $1e = $1m.getUTCMinutes();
    if ($1e < 10)$1e = "0" + $1e;
    var $1d = $1m.getUTCHours();
    if ($1Y) {
      var am = $1d < 12;
      var $1d = $1d % 12;
      if ($1d === 0) {
        $1d = 12;
      }
      ;
      var $1Z = am ? "AM" : "PM";
      return $1d + ':' + $1e + ' ' + $1Z;
    } else {
      return $1d + ':' + $1e;
    }
  };
  DayPilot.Date.lastDayOfMonth = function ($1w, $1L) {
    var d = DayPilot.Date.firstDayOfMonth($1w, $1L);
    var length = DayPilot.Date.daysInMonth($1w, $1L);
    d.setUTCDate(length);
    return d;
  };
  DayPilot.Date.max = function ($1y, $1f) {
    if ($1y.getTime() > $1f.getTime()) {
      return $1y;
    } else {
      return $1f;
    }
  };
  DayPilot.Date.min = function ($1y, $1f) {
    if ($1y.getTime() < $1f.getTime()) {
      return $1y;
    } else {
      return $1f;
    }
  };
  DayPilot.Date.today = function () {
    var $20 = new Date();
    var d = new Date();
    d.setUTCFullYear($20.getFullYear());
    d.setUTCMonth($20.getMonth());
    d.setUTCDate($20.getDate());
    return d;
  };
  DayPilot.Date.toLocal = function ($1m) {
    if (!$1m) {
      $1m = new Date();
    }
    ;
    var d = new Date();
    d.setFullYear($1m.getUTCFullYear(), $1m.getUTCMonth(), $1m.getUTCDate());
    d.setHours($1m.getUTCHours());
    d.setMinutes($1m.getUTCMinutes());
    d.setSeconds($1m.getUTCSeconds());
    d.setMilliseconds($1m.getUTCMilliseconds());
    return d;
  };
  DayPilot.Date.toStringSortable = function ($1m) {
    if ($1m.isDayPilotDate) {
      return $1m.toStringSortable();
    }
    ;
    var d = $1m;
    var $1f = d.getUTCSeconds();
    if ($1f < 10)$1f = "0" + $1f;
    var $1e = d.getUTCMinutes();
    if ($1e < 10)$1e = "0" + $1e;
    var $1d = d.getUTCHours();
    if ($1d < 10)$1d = "0" + $1d;
    var $1c = d.getUTCDate();
    if ($1c < 10)$1c = "0" + $1c;
    var $1L = d.getUTCMonth() + 1;
    if ($1L < 10)$1L = "0" + $1L;
    var $1w = d.getUTCFullYear();
    if ($1w <= 0) {
      throw "The minimum year supported is 1.";
    }
    ;
    if ($1w < 10) {
      $1w = "000" + $1w;
    } else if ($1w < 100) {
      $1w = "00" + $1w;
    } else if ($1w < 1000) {
      $1w = "0" + $1w;
    }
    ;
    return $1w + "-" + $1L + "-" + $1c + 'T' + $1d + ":" + $1e + ":" + $1f;
  };
  var $1H = function ($1g, $1G) {
    if (typeof $1G === "string") {
      $1G = DayPilot.Locale.find($1G);
    }
    ;
    var $1G = $1G || DayPilot.Locale.US;
    var $21 = [{
      "seq": "yyyy", "expr": "[0-9]{4,4\u007d", "str": function (d) {
        return d.getYear();
      }
    }, {
      "seq": "MMMM", "expr": "[a-z]*", "str": function (d) {
        var r = $1G.monthNames[d.getMonth()];
        return r;
      }
    }, {
      "seq": "MMM", "expr": "[a-z]*", "str": function (d) {
        var r = $1G.monthNamesShort[d.getMonth()];
        return r;
      }
    }, {
      "seq": "MM", "expr": "[0-9]{2,2\u007d", "str": function (d) {
        var r = d.getMonth() + 1;
        return r < 10 ? "0" + r : r;
      }
    }, {
      "seq": "M", "expr": "[0-9]{1,2\u007d", "str": function (d) {
        var r = d.getMonth() + 1;
        return r;
      }
    }, {
      "seq": "ww", "expr": "[a-z]*", "str": function (d) {
        var r = d.weekNumber();
        return r;
      }
    }, {
      "seq": "dddd", "expr": "[a-z]*", "str": function (d) {
        var r = $1G.dayNames[d.getDayOfWeek()];
        return r;
      }
    }, {
      "seq": "ddd", "expr": "[a-z]*", "str": function (d) {
        var r = $1G.dayNamesShort[d.getDayOfWeek()];
        return r;
      }
    }, {
      "seq": "dd", "expr": "[0-9]{2,2\u007d", "str": function (d) {
        var r = d.getDay();
        return r < 10 ? "0" + r : r;
      }
    }, {
      "seq": "d", "expr": "[0-9]{1,2\u007d", "str": function (d) {
        var r = d.getDay();
        return r;
      }
    }, {
      "seq": "m", "expr": "[0-9]{1,2\u007d", "str": function (d) {
        var r = d.getMinutes();
        return r;
      }
    }, {
      "seq": "mm", "expr": "[0-9]{2,2\u007d", "str": function (d) {
        var r = d.getMinutes();
        return r < 10 ? "0" + r : r;
      }
    }, {
      "seq": "H", "expr": "[0-9]{1,2\u007d", "str": function (d) {
        var r = d.getHours();
        return r;
      }
    }, {
      "seq": "HH", "expr": "[0-9]{2,2\u007d", "str": function (d) {
        var r = d.getHours();
        return r < 10 ? "0" + r : r;
      }
    }, {
      "seq": "h", "expr": "[0-9]{1,2\u007d", "str": function (d) {
        var $1d = d.getHours();
        var $1d = $1d % 12;
        if ($1d === 0) {
          $1d = 12;
        }
        ;
        return $1d;
      }
    }, {
      "seq": "hh", "expr": "[0-9]{2,2\u007d", "str": function (d) {
        var $1d = d.getHours();
        var $1d = $1d % 12;
        if ($1d === 0) {
          $1d = 12;
        }
        ;
        var r = $1d;
        return r < 10 ? "0" + r : r;
      }
    }, {
      "seq": "tt", "expr": "(AM|PM)", "str": function (d) {
        var $1d = d.getHours();
        var am = $1d < 12;
        return am ? "AM" : "PM";
      }
    }, {
      "seq": "s", "expr": "[0-9]{1,2\u007d", "str": function (d) {
        var r = d.getSeconds();
        return r;
      }
    }, {
      "seq": "ss", "expr": "[0-9]{2,2\u007d", "str": function (d) {
        var r = d.getSeconds();
        return r < 10 ? "0" + r : r;
      }
    }];
    var $22 = function ($P) {
      return $P.replace(/[-[\]{};()*+?.,\\^$|#\s]/g, "\\$&");
    };
    this.init = function () {
      this.year = this.findSequence("yyyy");
      this.month = this.findSequence("MM") || this.findSequence("M");
      this.week = this.findSequence("ww");
      this.day = this.findSequence("dd") || this.findSequence("d");
      this.hours = this.findSequence("HH") || this.findSequence("H");
      this.minutes = this.findSequence("mm") || this.findSequence("m");
      this.seconds = this.findSequence("ss") || this.findSequence("s");
    };
    this.findSequence = function ($23) {
      var $K = $1g.indexOf($23);
      if ($K === -1) {
        return null;
      }
      ;
      return {
        "findValue": function ($24) {
          var $25 = $22($1g);
          for (var i = 0; i < $21.length; i++) {
            var $W = $21[i].length;
            var $26 = ($23 === $21[i].seq);
            var $27 = $21[i].expr;
            if ($26) {
              $27 = "(" + $27 + ")";
            }
            ;
            $25 = $25.replace($21[i].seq, $27);
          }
          ;
          try {
            var r = new RegExp($25);
            var $i = r.exec($24);
            if (!$i) {
              return null;
            }
            ;
            return parseInt($i[1]);
          } catch (e) {
            throw "unable to create regex from: " + $25;
          }
        }
      };
    };
    this.print = function ($1m) {
      var find = function (t) {
        for (var i = 0; i < $21.length; i++) {
          if ($21[i].seq === t) {
            return $21[i];
          }
        }
        ;
        return null;
      };
      var $28 = $1g.length <= 0;
      var $29 = 0;
      var $2a = [];
      while (!$28) {
        var $2b = $1g.substring($29);
        var $2c = /(.)\1*/.exec($2b);
        if ($2c && $2c.length > 0) {
          var $2d = $2c[0];
          var q = find($2d);
          if (q) {
            $2a.push(q);
          } else {
            $2a.push($2d);
          }
          ;
          $29 += $2d.length;
          $28 = $1g.length <= $29;
        } else {
          $28 = true;
        }
      }
      ;
      for (var i = 0; i < $2a.length; i++) {
        var c = $2a[i];
        if (typeof c !== 'string') {
          $2a[i] = c.str($1m);
        }
      }
      ;
      return $2a.join("");
    };
    this.parse = function ($24) {
      var $1w = this.year.findValue($24);
      if (!$1w) {
        return null;
      }
      ;
      var $1L = this.month.findValue($24);
      var $1c = this.day.findValue($24);
      var $1q = this.hours ? this.hours.findValue($24) : 0;
      var $1h = this.minutes ? this.minutes.findValue($24) : 0;
      var $1i = this.seconds ? this.seconds.findValue($24) : 0;
      var d = new Date();
      d.setUTCFullYear($1w, $1L - 1, $1c);
      d.setUTCHours($1q);
      d.setUTCMinutes($1h);
      d.setUTCSeconds($1i);
      d.setUTCMilliseconds(0);
      return new DayPilot.Date(d);
    };
    this.init();
  };
  DayPilot.Action = function ($L, $0M, $0N, $0O) {
    this.calendar = $L;
    this.isAction = true;
    this.action = $0M;
    this.params = $0N;
    this.data = $0O;
    this.notify = function () {
      $L.invokeEvent("Immediate", this.action, this.params, this.data);
    };
    this.auto = function () {
      $L.invokeEvent("Notify", this.action, this.params, this.data);
    };
    this.queue = function () {
      $L.queue.add(this);
    };
    this.toJSON = function () {
      var $0P = {};
      $0P.name = this.action;
      $0P.params = this.params;
      $0P.data = this.data;
      return $0P;
    };
  };
  DayPilot.Locale = function (id, $05) {
    this.id = id;
    this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
    this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    this.monthNamesShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    this.datePattern = "M/d/yyyy";
    this.timePattern = "H:mm";
    this.dateTimePattern = "M/d/yyyy H:mm";
    this.timeFormat = "Clock12Hours";
    this.weekStarts = 0;
    if ($05) {
      for (var name in $05) {
        this[name] = $05[name];
      }
    }
  };
  DayPilot.Locale.all = {};
  DayPilot.Locale.find = function (id) {
    if (!id) {
      return null;
    }
    ;
    var $2e = id.toLowerCase();
    if ($2e.length > 2) {
      $2e[2] = '-';
    }
    ;
    return DayPilot.Locale.all[$2e];
  };
  DayPilot.Locale.register = function ($1G) {
    DayPilot.Locale.all[$1G.id] = $1G;
  };
  DayPilot.Locale.register(new DayPilot.Locale('ca-es', {
    'dayNames': ['diumenge', 'dilluns', 'dimarts', 'dimecres', 'dijous', 'divendres', 'dissabte'],
    'dayNamesShort': ['dg', 'dl', 'dt', 'dc', 'dj', 'dv', 'ds'],
    'monthNames': ['gener', 'febrer', 'març', 'abril', 'maig', 'juny', 'juliol', 'agost', 'setembre', 'octubre', 'novembre', 'desembre', ''],
    'monthNamesShort': ['gen.', 'febr.', 'març', 'abr.', 'maig', 'juny', 'jul.', 'ag.', 'set.', 'oct.', 'nov.', 'des.', ''],
    'timePattern': 'H:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('cs-cz', {
    'dayNames': ['neděle', 'pondělí', 'úterý', 'středa', 'čtvrtek', 'pátek', 'sobota'],
    'dayNamesShort': ['ne', 'po', 'út', 'st', 'čt', 'pá', 'so'],
    'monthNames': ['leden', 'únor', 'březen', 'duben', 'květen', 'červen', 'červenec', 'srpen', 'září', 'říjen', 'listopad', 'prosinec', ''],
    'monthNamesShort': ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', 'XII', ''],
    'timePattern': 'H:mm',
    'datePattern': 'd. M. yyyy',
    'dateTimePattern': 'd. M. yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('da-dk', {
    'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
    'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
    'monthNames': ['januar', 'februar', 'marts', 'april', 'maj', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'december', ''],
    'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd-MM-yyyy',
    'dateTimePattern': 'dd-MM-yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('de-at', {
    'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
    'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
    'monthNames': ['Jänner', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
    'monthNamesShort': ['Jän', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('de-ch', {
    'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
    'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
    'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
    'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('de-de', {
    'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
    'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
    'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
    'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('de-lu', {
    'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
    'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
    'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
    'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('en-au', {
    'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
    'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
    'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
    'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
    'timePattern': 'h:mm tt',
    'datePattern': 'd/MM/yyyy',
    'dateTimePattern': 'd/MM/yyyy h:mm tt',
    'timeFormat': 'Clock12Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('en-ca', {
    'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
    'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
    'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
    'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
    'timePattern': 'h:mm tt',
    'datePattern': 'yyyy-MM-dd',
    'dateTimePattern': 'yyyy-MM-dd h:mm tt',
    'timeFormat': 'Clock12Hours',
    'weekStarts': 0
  }));
  DayPilot.Locale.register(new DayPilot.Locale('en-gb', {
    'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
    'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
    'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
    'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('en-us', {
    'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
    'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
    'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
    'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
    'timePattern': 'h:mm tt',
    'datePattern': 'M/d/yyyy',
    'dateTimePattern': 'M/d/yyyy h:mm tt',
    'timeFormat': 'Clock12Hours',
    'weekStarts': 0
  }));
  DayPilot.Locale.register(new DayPilot.Locale('es-es', {
    'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
    'dayNamesShort': ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
    'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
    'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
    'timePattern': 'H:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('es-mx', {
    'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
    'dayNamesShort': ['do.', 'lu.', 'ma.', 'mi.', 'ju.', 'vi.', 'sá.'],
    'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
    'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
    'timePattern': 'hh:mm tt',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy hh:mm tt',
    'timeFormat': 'Clock12Hours',
    'weekStarts': 0
  }));
  DayPilot.Locale.register(new DayPilot.Locale('eu-es', {
    'dayNames': ['igandea', 'astelehena', 'asteartea', 'asteazkena', 'osteguna', 'ostirala', 'larunbata'],
    'dayNamesShort': ['ig', 'al', 'as', 'az', 'og', 'or', 'lr'],
    'monthNames': ['urtarrila', 'otsaila', 'martxoa', 'apirila', 'maiatza', 'ekaina', 'uztaila', 'abuztua', 'iraila', 'urria', 'azaroa', 'abendua', ''],
    'monthNamesShort': ['urt.', 'ots.', 'mar.', 'api.', 'mai.', 'eka.', 'uzt.', 'abu.', 'ira.', 'urr.', 'aza.', 'abe.', ''],
    'timePattern': 'H:mm',
    'datePattern': 'yyyy/MM/dd',
    'dateTimePattern': 'yyyy/MM/dd H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('fi-fi', {
    'dayNames': ['sunnuntai', 'maanantai', 'tiistai', 'keskiviikko', 'torstai', 'perjantai', 'lauantai'],
    'dayNamesShort': ['su', 'ma', 'ti', 'ke', 'to', 'pe', 'la'],
    'monthNames': ['tammikuu', 'helmikuu', 'maaliskuu', 'huhtikuu', 'toukokuu', 'kesäkuu', 'heinäkuu', 'elokuu', 'syyskuu', 'lokakuu', 'marraskuu', 'joulukuu', ''],
    'monthNamesShort': ['tammi', 'helmi', 'maalis', 'huhti', 'touko', 'kesä', 'heinä', 'elo', 'syys', 'loka', 'marras', 'joulu', ''],
    'timePattern': 'H:mm',
    'datePattern': 'd.M.yyyy',
    'dateTimePattern': 'd.M.yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('fr-be', {
    'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
    'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
    'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
    'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd-MM-yy',
    'dateTimePattern': 'dd-MM-yy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('fr-ch', {
    'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
    'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
    'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
    'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('fr-fr', {
    'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
    'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
    'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
    'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('fr-lu', {
    'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
    'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
    'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
    'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('gl-es', {
    'dayNames': ['domingo', 'luns', 'martes', 'mércores', 'xoves', 'venres', 'sábado'],
    'dayNamesShort': ['do', 'lu', 'ma', 'mé', 'xo', 've', 'sá'],
    'monthNames': ['xaneiro', 'febreiro', 'marzo', 'abril', 'maio', 'xuño', 'xullo', 'agosto', 'setembro', 'outubro', 'novembro', 'decembro', ''],
    'monthNamesShort': ['xan', 'feb', 'mar', 'abr', 'maio', 'xuño', 'xul', 'ago', 'set', 'out', 'nov', 'dec', ''],
    'timePattern': 'H:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('it-it', {
    'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
    'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
    'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
    'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('it-ch', {
    'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
    'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
    'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
    'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('ja-jp', {
    'dayNames': ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'],
    'dayNamesShort': ['日', '月', '火', '水', '木', '金', '土'],
    'monthNames': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
    'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
    'timePattern': 'H:mm',
    'datePattern': 'yyyy/MM/dd',
    'dateTimePattern': 'yyyy/MM/dd H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 0
  }));
  DayPilot.Locale.register(new DayPilot.Locale('nb-no', {
    'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
    'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
    'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
    'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('nl-nl', {
    'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
    'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
    'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
    'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'd-M-yyyy',
    'dateTimePattern': 'd-M-yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('nl-be', {
    'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
    'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
    'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
    'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
    'timePattern': 'H:mm',
    'datePattern': 'd/MM/yyyy',
    'dateTimePattern': 'd/MM/yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('nn-no', {
    'dayNames': ['søndag', 'måndag', 'tysdag', 'onsdag', 'torsdag', 'fredag', 'laurdag'],
    'dayNamesShort': ['sø', 'må', 'ty', 'on', 'to', 'fr', 'la'],
    'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
    'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('pt-br', {
    'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
    'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
    'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
    'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 0
  }));
  DayPilot.Locale.register(new DayPilot.Locale('pl-pl', {
    'dayNames': ['niedziela', 'poniedziałek', 'wtorek', 'środa', 'czwartek', 'piątek', 'sobota'],
    'dayNamesShort': ['N', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'So'],
    'monthNames': ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień', ''],
    'monthNamesShort': ['sty', 'lut', 'mar', 'kwi', 'maj', 'cze', 'lip', 'sie', 'wrz', 'paź', 'lis', 'gru', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'yyyy-MM-dd',
    'dateTimePattern': 'yyyy-MM-dd HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('pt-pt', {
    'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
    'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
    'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
    'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'dd/MM/yyyy',
    'dateTimePattern': 'dd/MM/yyyy HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 0
  }));
  DayPilot.Locale.register(new DayPilot.Locale('ru-ru', {
    'dayNames': ['воскресенье', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота'],
    'dayNamesShort': ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
    'monthNames': ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь', ''],
    'monthNamesShort': ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя', 'дек', ''],
    'timePattern': 'H:mm',
    'datePattern': 'dd.MM.yyyy',
    'dateTimePattern': 'dd.MM.yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('sk-sk', {
    'dayNames': ['nedeľa', 'pondelok', 'utorok', 'streda', 'štvrtok', 'piatok', 'sobota'],
    'dayNamesShort': ['ne', 'po', 'ut', 'st', 'št', 'pi', 'so'],
    'monthNames': ['január', 'február', 'marec', 'apríl', 'máj', 'jún', 'júl', 'august', 'september', 'október', 'november', 'december', ''],
    'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
    'timePattern': 'H:mm',
    'datePattern': 'd.M.yyyy',
    'dateTimePattern': 'd.M.yyyy H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('sv-se', {
    'dayNames': ['söndag', 'måndag', 'tisdag', 'onsdag', 'torsdag', 'fredag', 'lördag'],
    'dayNamesShort': ['sö', 'må', 'ti', 'on', 'to', 'fr', 'lö'],
    'monthNames': ['januari', 'februari', 'mars', 'april', 'maj', 'juni', 'juli', 'augusti', 'september', 'oktober', 'november', 'december', ''],
    'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
    'timePattern': 'HH:mm',
    'datePattern': 'yyyy-MM-dd',
    'dateTimePattern': 'yyyy-MM-dd HH:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.register(new DayPilot.Locale('zh-cn', {
    'dayNames': ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
    'dayNamesShort': ['日', '一', '二', '三', '四', '五', '六'],
    'monthNames': ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月', ''],
    'monthNamesShort': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
    'timePattern': 'H:mm',
    'datePattern': 'yyyy/M/d',
    'dateTimePattern': 'yyyy/M/d H:mm',
    'timeFormat': 'Clock24Hours',
    'weekStarts': 1
  }));
  DayPilot.Locale.US = DayPilot.Locale.find("en-us");
  DayPilot.Switcher = function () {
    var $2f = this;
    this.views = [];
    this.switchers = [];
    this.navigator = {};
    this.selectedClass = null;
    this.active = null;
    this.day = new DayPilot.Date();
    this.navigator.updateMode = function ($2g) {
      var $2h = $2f.navigator.control;
      if (!$2h) {
        return;
      }
      ;
      $2h.selectMode = $2g;
      $2h.select($2f.day);
    };
    this.addView = function ($2i, $04) {
      var element;
      if (typeof $2i === 'string') {
        element = document.getElementById($2i);
        if (!element) {
          throw "Element not found: " + $2i;
        }
      } else {
        element = $2i;
      }
      ;
      var $2h = element;
      var $2j = {};
      $2j.isView = true;
      $2j.id = $2h.id;
      $2j.control = $2h;
      $2j.options = $04 || {};
      $2j.hide = function () {
        if ($2h.hide) {
          $2h.hide();
        } else if ($2h.nav && $2h.nav.top) {
          $2h.nav.top.style.display = 'none';
        } else {
          $2h.style.display = 'none';
        }
      };
      $2j.sendNavigate = function ($1m) {
        var $2k = (function () {
          if ($2h.backendUrl) {
            return true;
          }
          ;
          if (typeof WebForm_DoCallback === 'function' && $2h.uniqueID) {
            return true;
          }
          ;
          return false;
        })();
        if ($2k) {
          if ($2h.commandCallBack) {
            $2h.commandCallBack("navigate", {"day": $1m});
          }
        }
      };
      $2j.show = function () {
        $2f.$2K();
        if ($2h.show) {
          $2h.show();
        } else if ($2h.nav && $2h.nav.top) {
          $2h.nav.top.style.display = '';
        } else {
          $2h.style.display = '';
        }
      };
      $2j.selectMode = function () {
        if ($2j.options.navigatorSelectMode) {
          return $2j.options.navigatorSelectMode;
        }
        ;
        if ($2h.isCalendar) {
          switch ($2h.viewType) {
            case "Day":
              return "day";
            case "Week":
              return "week";
            case "WorkWeek":
              return "week";
            default:
              return "day";
          }
        } else if ($2h.isMonth) {
          switch ($2h.viewType) {
            case "Month":
              return "month";
            case "Weeks":
              return "week";
            default:
              return "day";
          }
        }
        ;
        return "day";
      };
      this.views.push($2j);
      return $2j;
    };
    this.addButton = function (id, $2h) {
      var element;
      if (typeof id === 'string') {
        element = document.getElementById(id);
        if (!element) {
          throw "Element not found: " + id;
        }
      } else {
        element = id;
      }
      ;
      var $2j = this.$2L($2h);
      if (!$2j) {
        $2j = this.addView($2h);
      }
      ;
      var $2l = {};
      $2l.isSwitcher = true;
      $2l.element = element;
      $2l.id = element.id;
      $2l.view = $2j;
      $2l.onClick = function (ev) {
        $2f.show($2l);
        $2f.$2M($2l);
        ev = ev || window.event;
        if (ev) {
          ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
        }
      };
      DayPilot.re(element, 'click', $2l.onClick);
      this.switchers.push($2l);
      return $2l;
    };
    this.select = function (id) {
      var $2l = this.$2N(id);
      if ($2l) {
        $2l.onClick();
      } else if (this.switchers.length > 0) {
        this.switchers[0].onClick();
      }
    };
    this.$2N = function (id) {
      for (var i = 0; i < this.switchers.length; i++) {
        var $2l = this.switchers[i];
        if ($2l.id === id) {
          return $2l;
        }
      }
      ;
      return null;
    };
    this.$2M = function ($2l) {
      if (!this.selectedClass) {
        return;
      }
      ;
      for (var i = 0; i < this.switchers.length; i++) {
        var s = this.switchers[i];
        DayPilot.Util.removeClass(s.element, this.selectedClass);
      }
      ;
      DayPilot.Util.addClass($2l.element, this.selectedClass);
    };
    this.addNavigator = function ($2h) {
      $2f.navigator.control = $2h;
      $2h.timeRangeSelectedHandling = "JavaScript";
      $2h.onTimeRangeSelected = function () {
        var $0Q, end, $1c;
        if ($2h.api === 1) {
          $0Q = arguments[0];
          end = arguments[1];
          $1c = arguments[2];
        } else {
          var $19 = arguments[0];
          $0Q = $19.start;
          end = $19.end;
          $1c = $19.day;
        }
        ;
        $2f.day = $1c;
        $2f.active.sendNavigate($2f.day);
        if ($2f.onTimeRangeSelected) {
          var $19 = {};
          $19.start = $0Q;
          $19.end = end;
          $19.day = $1c;
          $19.target = $2f.active.control;
          $2f.onTimeRangeSelected($19);
        }
      };
    };
    this.show = function (el) {
      var $2j, $2l;
      if (el.isSwitcher) {
        $2l = el;
        $2j = $2l.view;
      } else {
        $2j = el.isView ? el : this.$2L(el);
        if (this.active === $2j) {
          return;
        }
      }
      ;
      if ($2f.onSelect) {
        var $19 = {};
        $19.source = $2l ? $2l.element : null;
        $19.target = $2j.control;
        $2f.onSelect($19);
      }
      ;
      this.active = $2j;
      $2j.show();
      var $2g = $2j.selectMode();
      $2f.navigator.updateMode($2g);
      $2f.active.sendNavigate(this.day);
    };
    this.$2L = function ($2h) {
      for (var i = 0; i < this.views.length; i++) {
        if (this.views[i].control === $2h) {
          return this.views[i];
        }
      }
      ;
      return null;
    };
    this.$2K = function () {
      for (var i = 0; i < this.views.length; i++) {
        this.views[i].hide();
      }
    };
  };
  (function () {
    if (DayPilot.Global.defaultCss) {
      return;
    }
    ;
    var $H = DayPilot.sheet();
    $H.add(".bubble_default_main", "cursor: default;");
    $H.add(".bubble_default_main_inner", 'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);');
    $H.add(".calendar_default_main", "border: 1px solid #999; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
    $H.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #666;background: #eee;");
    $H.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #999;");
    $H.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
    $H.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
    $H.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;");
    $H.add(".calendar_default_colheader_inner", "text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
    $H.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;");
    $H.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff");
    $H.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
    $H.add(".calendar_default_message", "opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;");
    $H.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'color: #666; border: 1px solid #999;');
    $H.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;");
    $H.add(".calendar_default_event_bar_inner", "position: absolute;width: 4px;background-color: #1066a8;");
    $H.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
    $H.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;");
    $H.add(".calendar_default_alldayevent_inner", "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;");
    $H.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;");
    $H.add(".calendar_default_event", "cursor: default;");
    $H.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;");
    $H.add(".calendar_default_shadow_inner", "background-color: #666666;	opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
    $H.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;");
    $H.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
    $H.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);");
    $H.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);");
    $H.add(".menu_default_main", "font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);");
    $H.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;");
    $H.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;");
    $H.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;");
    $H.add(".menu_default_main a span", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;");
    $H.add(".menu_default_main a:hover", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");');
    $H.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;");
    $H.add(".month_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #666;");
    $H.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;");
    $H.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;");
    $H.add(".month_default_cell_header", "text-align: right;padding-right: 2px;");
    $H.add(".month_default_header_inner", 'text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;');
    $H.add(".month_default_message", 'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");');
    $H.add(".month_default_event_inner", 'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;');
    $H.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;");
    $H.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;");
    $H.add(".month_default_event_hover .month_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");');
    $H.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner", "background: #ddd;");
    $H.add(".month_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
    $H.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
    $H.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
    $H.add(".navigator_default_main", "border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;");
    $H.add(".navigator_default_month", "font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;");
    $H.add(".navigator_default_day", "color: black;");
    $H.add(".navigator_default_weekend", "background-color: #f0f0f0;");
    $H.add(".navigator_default_dayheader", "color: black;");
    $H.add(".navigator_default_line", "border-bottom: 1px solid #A0A0A0;");
    $H.add(".navigator_default_dayother", "color: gray;");
    $H.add(".navigator_default_todaybox", "border: 1px solid red;");
    $H.add(".navigator_default_select, .navigator_default_weekend.navigator_default_select", "background-color: #FFE794;");
    $H.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", 'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");');
    $H.add(".navigator_default_busy", "font-weight: bold;");
    $H.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;");
    $H.add(".scheduler_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
    $H.add(".scheduler_default_timeheader", "cursor: default;color: #666;");
    $H.add(".scheduler_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
    $H.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #666;background: #eee;");
    $H.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #666;background: #eee;");
    $H.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
    $H.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
    $H.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol", "text-align: center;");
    $H.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
    $H.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
    $H.add(".scheduler_default_divider", "background-color: #aaa;");
    $H.add(".scheduler_default_divider_horizontal", "background-color: #aaa;");
    $H.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;");
    $H.add(".scheduler_default_matrix_vertical_break", "background-color: #000;");
    $H.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;");
    $H.add(".scheduler_default_resourcedivider", "background-color: #aaa;");
    $H.add(".scheduler_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
    $H.add(".scheduler_default_event", "font-size:12px;color:#666;");
    $H.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
    $H.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
    $H.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
    $H.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
    $H.add(".scheduler_default_event_float_inner", "padding:6px 2px 2px 8px;");
    $H.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
    $H.add(".scheduler_default_columnheader_inner", "font-weight: bold;");
    $H.add(".scheduler_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
    $H.add(".scheduler_default_columnheader_cell_inner", "padding: 2px;");
    $H.add(".scheduler_default_cell", "background-color: #f9f9f9;");
    $H.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;");
    $H.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
    $H.add(".scheduler_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
    $H.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
    $H.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
    $H.add(".scheduler_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
    $H.add(".scheduler_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
    $H.add(".scheduler_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
    $H.add(".scheduler_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
    $H.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
    $H.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;");
    $H.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;");
    $H.add(".scheduler_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
    $H.add(".scheduler_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
    $H.add(".scheduler_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
    $H.add(".scheduler_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
    $H.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red");
    $H.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: red");
    $H.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
    $H.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
    $H.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
    $H.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "background-color: red;");
    $H.add(".scheduler_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
    $H.add(".scheduler_default_event_group", "box-sizing: border-box; font-size:12px; color:#666; padding:2px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;");
    $H.add(".scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5;");
    $H.add(".scheduler_default_header_icon:hover", "background-color: #ccc;");
    $H.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';");
    $H.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';");
    $H.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;");
    $H.add(".gantt_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
    $H.add(".gantt_default_timeheader", "cursor: default;color: #666;");
    $H.add(".gantt_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
    $H.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #666;background: #eee;");
    $H.add(".gantt_default_rowheader,.gantt_default_corner", "color: #666;background: #eee;");
    $H.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
    $H.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
    $H.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol", "text-align: center;");
    $H.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
    $H.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
    $H.add(".gantt_default_divider", "background-color: #aaa;");
    $H.add(".gantt_default_divider_horizontal", "background-color: #aaa;");
    $H.add(".gantt_default_matrix_vertical_line", "background-color: #eee;");
    $H.add(".gantt_default_matrix_vertical_break", "background-color: #000;");
    $H.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;");
    $H.add(".gantt_default_resourcedivider", "background-color: #aaa;");
    $H.add(".gantt_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
    $H.add(".gantt_default_event", "font-size:12px;color:#666;");
    $H.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
    $H.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
    $H.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
    $H.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
    $H.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;");
    $H.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
    $H.add(".gantt_default_columnheader_inner", "font-weight: bold;");
    $H.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
    $H.add(".gantt_default_columnheader_cell_inner", "padding: 2px;");
    $H.add(".gantt_default_cell", "background-color: #f9f9f9;");
    $H.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;");
    $H.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
    $H.add(".gantt_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
    $H.add(".gantt_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
    $H.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
    $H.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
    $H.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
    $H.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
    $H.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
    $H.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
    $H.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;");
    $H.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;");
    $H.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
    $H.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
    $H.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
    $H.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
    $H.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;");
    $H.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
    $H.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
    $H.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
    $H.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:$2m.Microsoft.Matrix($2n='auto expand',$2o=0.7071067811865476,$2p=-0.7071067811865475,$2q=0.7071067811865475,$2r=0.7071067811865476);\"");
    $H.add(".gantt_default_event_left", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
    $H.add(".gantt_default_event_right", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
    $H.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red;");
    $H.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: red;");
    $H.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
    $H.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
    $H.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
    $H.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: red;");
    $H.add(".gantt_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
    $H.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)");
    $H.add(".gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5;");
    $H.add(".gantt_default_header_icon:hover", "background-color: #ccc;");
    $H.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';");
    $H.add(".gantt_default_header_icon_show:before", "content: '\\00BB';");
    $H.commit();
    DayPilot.Global.defaultCss = true;
  })();
  var $2s = function (id) {
    var $2f = this;
    this.id = id;
    this.widths = [];
    this.titles = [];
    this.height = null;
    this.splitterWidth = 3;
    this.css = {};
    this.css.title = null;
    this.css.titleInner = null;
    this.css.splitter = null;
    this.blocks = [];
    this.drag = {};
    this.updated = function () {
    };
    this.updating = function () {
    };
    this.init = function () {
      var $b;
      if (!id) {
        throw "error: id not provided";
      } else if (typeof id === 'string') {
        $b = document.getElementById(id);
      } else if (id.appendChild) {
        $b = id;
      } else {
        throw "error: invalid object provided";
      }
      ;
      this.div = $b;
      this.blocks = [];
      for (var i = 0; i < this.widths.length; i++) {
        var s = document.createElement("div");
        s.style.display = "inline-block";
        if ($2f.height !== null) {
          s.style.height = $2f.height + "px";
        } else {
          s.style.height = "100%";
        }
        ;
        s.style.width = (this.widths[i] - this.splitterWidth) + "px";
        s.style.display.overflow = 'hidden';
        s.style.verticalAlign = "top";
        s.style.position = "relative";
        s.setAttribute("unselectable", "on");
        s.className = this.css.title;
        $b.appendChild(s);
        var $03 = document.createElement("div");
        $03.innerHTML = this.titles[i];
        $03.setAttribute("unselectable", "on");
        $03.className = this.css.titleInner;
        s.appendChild($03);
        var $2t = document.createElement("div");
        $2t.style.display = "inline-block";
        if ($2f.height !== null) {
          $2t.style.height = $2f.height + "px";
        } else {
          $2t.style.height = "100%";
        }
        ;
        $2t.style.width = this.splitterWidth + "px";
        $2t.style.position = "relative";
        $2t.appendChild(document.createElement("div"));
        $2t.style.cursor = "col-resize";
        $2t.setAttribute("unselectable", "on");
        $2t.className = this.css.splitter;
        var $0O = {};
        $0O.index = i;
        $0O.width = this.widths[i];
        $2t.data = $0O;
        $2t.onmousedown = function (ev) {
          $2f.drag.start = DayPilot.page(ev);
          $2f.drag.data = this.data;
          $2f.div.style.cursor = "col-resize";
          ev = ev || window.event;
          ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
        };
        $b.appendChild($2t);
        var $2u = {};
        $2u.section = s;
        $2u.handle = $2t;
        this.blocks.push($2u);
      }
      ;
      this.registerGlobalHandlers();
    };
    this.updateWidths = function () {
      for (var i = 0; i < this.blocks.length; i++) {
        var $2u = this.blocks[i];
        var $p = this.widths[i];
        $2u.handle.data.width = $p;
        this.$2O(i);
      }
    };
    this.$2O = function (i) {
      var $2u = this.blocks[i];
      var $p = this.widths[i];
      $2u.section.style.width = ($p - this.splitterWidth) + "px";
    };
    this.totalWidth = function () {
      var t = 0;
      for (var i = 0; i < this.widths.length; i++) {
        t += this.widths[i];
      }
      ;
      return t;
    };
    this.gMouseMove = function (ev) {
      if (!$2f.drag.start) {
        return;
      }
      ;
      var $0O = $2f.drag.data;
      var $2v = DayPilot.page(ev);
      var $2w = $2v.x - $2f.drag.start.x;
      var i = $0O.index;
      $2f.widths[i] = $0O.width + $2w;
      $2f.$2O(i);
      var $0N = {};
      $0N.widths = this.widths;
      $0N.index = $0O.index;
      $2f.updating($0N);
    };
    this.gMouseUp = function (ev) {
      if (!$2f.drag.start) {
        return;
      }
      ;
      $2f.drag.start = null;
      document.body.style.cursor = "";
      $2f.div.style.cursor = "";
      var $0O = $2f.drag.data;
      $0O.width = $2f.widths[$0O.index];
      var $0N = {};
      $0N.widths = this.widths;
      $0N.index = $0O.index;
      $2f.updated($0N);
    };
    this.registerGlobalHandlers = function () {
      DayPilot.re(document, 'mousemove', this.gMouseMove);
      DayPilot.re(document, 'mouseup', this.gMouseUp);
    };
  };
  DayPilot.Splitter = $2s;
})();
DayPilot.JSON = {};
(function () {
  function f(n) {
    return n < 10 ? '0' + n : n;
  };
  if (typeof Date.prototype.toJSON2 !== 'function') {
    Date.prototype.toJSON2 = function ($0T) {
      return this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + '';
    };
    String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function ($0T) {
      return this.valueOf();
    };
  }
  ;
  var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, $2x = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, $2y, $2z, $2A = {
    '\b': '\\b',
    '\t': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '"': '\\"',
    '\\': '\\\\'
  }, $2B;

  function quote($1I) {
    $2x.lastIndex = 0;
    return $2x.test($1I) ? '"' + $1I.replace($2x, function (a) {
      var c = $2A[a];
      if (typeof c === 'string') {
        return c;
      }
      ;
      return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
    }) + '"' : '"' + $1I + '"';
  };
  function str($0T, $2C) {
    var i, k, v, length, $2D = $2y, $2E, $2F = $2C[$0T];
    if ($2F && typeof $2F === 'object' && typeof $2F.toJSON2 === 'function') {
      $2F = $2F.toJSON2($0T);
    } else if ($2F && typeof $2F === 'object' && typeof $2F.toJSON === 'function' && !$2F.ignoreToJSON) {
      $2F = $2F.toJSON($0T);
    }
    ;
    if (typeof $2B === 'function') {
      $2F = $2B.call($2C, $0T, $2F);
    }
    ;
    switch (typeof $2F) {
      case 'string':
        return quote($2F);
      case 'number':
        return isFinite($2F) ? String($2F) : 'null';
      case 'boolean':
      case 'null':
        return String($2F);
      case 'object':
        if (!$2F) {
          return 'null';
        }
        ;
        $2y += $2z;
        $2E = [];
        if (typeof $2F.length === 'number' && !$2F.propertyIsEnumerable('length')) {
          length = $2F.length;
          for (i = 0; i < length; i += 1) {
            $2E[i] = str(i, $2F) || 'null';
          }
          ;
          v = $2E.length === 0 ? '[]' : $2y ? '[\n' + $2y + $2E.join(',\n' + $2y) + '\n' + $2D + ']' : '[' + $2E.join(',') + ']';
          $2y = $2D;
          return v;
        }
        ;
        if ($2B && typeof $2B === 'object') {
          length = $2B.length;
          for (i = 0; i < length; i += 1) {
            k = $2B[i];
            if (typeof k === 'string') {
              v = str(k, $2F);
              if (v) {
                $2E.push(quote(k) + ($2y ? ': ' : ':') + v);
              }
            }
          }
        } else {
          for (k in $2F) {
            if (Object.hasOwnProperty.call($2F, k)) {
              v = str(k, $2F);
              if (v) {
                $2E.push(quote(k) + ($2y ? ': ' : ':') + v);
              }
            }
          }
        }
        ;
        v = ($2E.length === 0) ? '{\u007D' : $2y ? '{\n' + $2y + $2E.join(',\n' + $2y) + '\n' + $2D + '\u007D' : '{' + $2E.join(',') + '\u007D';
        $2y = $2D;
        return v;
    }
  };
  if (typeof DayPilot.JSON.stringify !== 'function') {
    DayPilot.JSON.stringify = function ($2F, $2G, $2H) {
      var i;
      $2y = '';
      $2z = '';
      if (typeof $2H === 'number') {
        for (i = 0; i < $2H; i += 1) {
          $2z += ' ';
        }
      } else if (typeof $2H === 'string') {
        $2z = $2H;
      }
      ;
      $2B = $2G;
      if ($2G && typeof $2G !== 'function' && (typeof $2G !== 'object' || typeof $2G.length !== 'number')) {
        throw new Error('JSON.stringify');
      }
      ;
      return str('', {'': $2F});
    };
  }
  ;
  if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
    Sys.Application.notifyScriptLoaded();
  }
})();


if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
if (typeof DayPilotBubble === 'undefined') {
  var DayPilotBubble = DayPilot.BubbleVisible = {};
}
;
(function () {
  if (typeof DayPilot.Bubble !== 'undefined') {
    return;
  }
  ;
  var DayPilotBubble = {};
  DayPilotBubble.mouseMove = function (ev) {
    if (typeof(DayPilotBubble) === 'undefined') {
      return;
    }
    ;
    DayPilotBubble.mouse = DayPilotBubble.mousePosition(ev);
    var b = DayPilotBubble.active;
    if (b && b.showPosition) {
      var $a = b.showPosition;
      var $b = DayPilotBubble.mouse;
      if ($a.clientX !== $b.clientX || $a.clientY !== $b.clientY) {
      }
    }
  };
  DayPilotBubble.mousePosition = function (e) {
    var $c = DayPilot.page(e);
    if (e) {
      $c.clientY = e.clientY;
      $c.clientX = e.clientX;
    }
    ;
    return $c;
  };
  DayPilot.Bubble = function ($d) {
    this.v = '1204';
    var $e = this;
    this.backgroundColor = "#ffffff";
    this.border = "1px solid #000000";
    this.corners = 'Rounded';
    this.cssOnly = true;
    this.hideAfter = 500;
    this.loadingText = "Loading...";
    this.animated = true;
    this.animation = "fast";
    this.position = "EventTop";
    this.hideOnClick = true;
    this.showAfter = 500;
    this.showLoadingLabel = true;
    this.useShadow = true;
    this.zIndex = 10;
    this.cssClassPrefix = "bubble_default";
    this.elements = {};
    this.callBack = function ($f) {
      if (this.aspnet()) {
        WebForm_DoCallback(this.uniqueID, DayPilot.JSON.stringify($f), this.updateView, this, this.callbackError, true);
      } else {
        if ($f.calendar.internal.bubbleCallBack) {
          $f.calendar.internal.bubbleCallBack($f, this);
        } else {
          $f.calendar.bubbleCallBack($f, this);
        }
      }
    };
    this.callbackError = function ($c, $g) {
      alert($c);
    };
    this.updateView = function ($c, $g) {
      if ($e !== $g) {
        throw "Callback object mismatch (internal error)";
      }
      ;
      if (!$c) {
        $e.removeDiv();
        $e.removeShadow();
        return;
      }
      ;
      DayPilotBubble.active = $e;
      if ($e) {
        if ($e.elements.inner) {
          $e.elements.inner.innerHTML = $c;
        }
        ;
        $e.adjustPosition();
        if (!$e.animated) {
          $e.addShadow();
        }
      }
    };
    this.init = function () {
      DayPilot.re(document.body, 'mousemove', DayPilotBubble.mouseMove);
    };
    this.aspnet = function () {
      return (typeof WebForm_DoCallback !== 'undefined');
    };
    this.rounded = function () {
      return this.corners === 'Rounded';
    };
    this.showEvent = function (e, $h) {
      var a = new DayPilotBubble.CallBackArgs(e.calendar || e.root, 'Event', e, e.bubbleHtml ? e.bubbleHtml() : null);
      if ($h) {
        this.show(a);
      } else {
        this.showOnMouseOver(a);
      }
    };
    this.showCell = function ($i) {
      var a = new DayPilotBubble.CallBackArgs($i.calendar || $i.root, 'Cell', $i, $i.staticBubbleHTML ? $i.staticBubbleHTML() : null);
      this.showOnMouseOver(a);
    };
    this.showTime = function ($j) {
      var a = new DayPilotBubble.CallBackArgs($j.calendar || $j.root, 'Time', $j, $j.staticBubbleHTML ? $j.staticBubbleHTML() : null);
      this.showOnMouseOver(a);
    };
    this.showResource = function ($k) {
      var a = new DayPilotBubble.CallBackArgs($k.calendar || $k.root, 'Resource', $k, $k.staticBubbleHTML ? $k.staticBubbleHTML() : null);
      this.showOnMouseOver(a);
    };
    this.showHtml = function ($l, $m) {
      var a = new DayPilotBubble.CallBackArgs(null, 'Html', null, $l);
      a.div = $m;
      this.show(a);
    };
    this.show = function ($n) {
      var $o = this.animated;
      this.showPosition = DayPilotBubble.mouse;
      var id;
      try {
        id = DayPilot.JSON.stringify($n.object);
      } catch (e) {
        return;
      }
      ;
      if (DayPilotBubble.active === this && this.sourceId === id) {
        return;
      }
      ;
      if (typeof DayPilot.Menu !== 'undefined' && DayPilot.Menu.active) {
        return;
      }
      ;
      DayPilotBubble.hideActive();
      DayPilotBubble.active = this;
      this.sourceId = id;
      var $m = document.createElement("div");
      $m.setAttribute("unselectable", "on");
      if (!this.showLoadingLabel) {
        $m.style.display = 'none';
      }
      ;
      document.body.appendChild($m);
      $m.style.position = 'absolute';
      if (!this.cssOnly) {
        if (this.width) {
          $m.style.width = this.width;
        }
        ;
        $m.style.cursor = 'default';
      } else {
        $m.className = this.$Q("_main");
      }
      ;
      $m.style.top = '0px';
      $m.style.left = '0px';
      $m.style.zIndex = this.zIndex + 1;
      if ($o) {
        $m.style.visibility = 'hidden';
      }
      ;
      if (this.hideOnClick) {
        $m.onclick = function () {
          DayPilotBubble.hideActive();
        };
      }
      ;
      $m.onmousemove = function (e) {
        DayPilotBubble.cancelTimeout();
        var e = e || window.event;
        e.cancelBubble = true;
      };
      $m.oncontextmenu = function () {
        return false;
      };
      $m.onmouseout = this.delayedHide;
      var $p = document.createElement("div");
      $m.appendChild($p);
      if (this.cssOnly) {
        $p.className = this.$Q("_main_inner");
      } else {
        $p.style.padding = '4px';
        if (this.border) {
          $p.style.border = this.border;
        }
        ;
        if (this.rounded()) {
          $p.style.MozBorderRadius = "5px";
          $p.style.webkitBorderRadius = "5px";
          $p.style.borderRadius = "5px";
        }
        ;
        $p.style.backgroundColor = this.backgroundColor;
      }
      ;
      $p.innerHTML = this.loadingText;
      this.elements.div = $m;
      this.elements.inner = $p;
      var $m = this.getDiv($n);
      if (this.position === "EventTop" && $m) {
        var $q = 2;
        var $r = DayPilot.abs($m, true);
        this.mouse = DayPilotBubble.mouse;
        this.mouse.x = $r.x;
        this.mouse.y = $r.y;
        this.mouse.h = $r.h + $q;
        this.mouse.w = $r.w;
      } else {
        this.mouse = DayPilotBubble.mouse;
      }
      ;
      if (this.showLoadingLabel && !$o) {
        this.adjustPosition();
        this.addShadow();
      }
      ;
      if ($n.staticHTML) {
        this.updateView($n.staticHTML, this);
      } else if (typeof this.onLoad === 'function') {
        var $f = {};
        $f.source = $n.object;
        $f.async = false;
        $f.loaded = function () {
          if (this.async) {
            $e.updateView($f.html, $e);
          }
        };
        this.onLoad($f);
        if (!$f.async) {
          $e.updateView($f.html, $e);
        }
      } else if (this.$R($n)) {
        this.callBack($n);
      }
    };
    this.getDiv = function ($n) {
      if ($n.div) {
        return $n.div;
      }
      ;
      if ($n.type === 'Event' && $n.calendar && $n.calendar.internal.findEventDiv) {
        return $n.calendar.internal.findEventDiv($n.object);
      }
    };
    this.$Q = function ($s) {
      var $t = this.theme || this.cssClassPrefix;
      if ($t) {
        return $t + $s;
      } else {
        return "";
      }
    };
    this.loadingElement = null;
    this.loadingStart = function ($r) {
    };
    this.loadingStop = function () {
    };
    this.adjustPosition = function () {
      var $o = this.animated;
      var $u = this.position;
      var $v = 10;
      if (!this.elements.div) {
        return;
      }
      ;
      if (!this.mouse) {
        return;
      }
      ;
      if (!this.mouse.x || !this.mouse.y) {
        DayPilotBubble.hideActive();
        return;
      }
      ;
      var $m = this.elements.div;
      $m.style.display = '';
      var $w = $m.offsetHeight;
      var $x = $m.offsetWidth;
      $m.style.display = 'none';
      var wd = DayPilot.wd();
      var $y = wd.width;
      var $z = wd.height;
      if ($u === 'Mouse') {
        var $A = 22;
        var $B = 10;
        var top = 0;
        if (this.mouse.clientY > $z - $w + $v) {
          var $C = this.mouse.clientY - ($z - $w) + $v;
          top = (this.mouse.y - $w - $B);
        } else {
          top = this.mouse.y + $A;
        }
        ;
        if (typeof top === 'number') {
          $m.style.top = Math.max(top, 0) + "px";
        }
        ;
        if (this.mouse.clientX > $y - $x + $v) {
          var $D = this.mouse.clientX - ($y - $x) + $v;
          $m.style.left = (this.mouse.x - $D) + 'px';
        } else {
          $m.style.left = this.mouse.x + 'px';
        }
      } else if ($u === 'EventTop') {
        var $E = 2;
        var top = this.mouse.y - $w - $E;
        var $F = wd.scrollTop;
        if (top < $F) {
          top = this.mouse.y + this.mouse.h + $E;
        }
        ;
        if (typeof top === 'number') {
          $m.style.top = Math.max(top, 0) + 'px';
        }
        ;
        var $G = this.mouse.x;
        if (this.mouse.x + $x + $v > $y) {
          $G = $y - $x - $v;
        }
        ;
        $m.style.left = $G + 'px';
      }
      ;
      $m.style.display = '';
      if ($o) {
        $m.style.display = '';
        var $H = {};
        $H.color = $m.firstChild.style.color;
        $H.overflow = $m.style.overflow;
        $m.firstChild.style.color = "transparent";
        $m.style.overflow = 'hidden';
        this.removeShadow();
        DayPilot.pop($m, {
          "finished": function () {
            $m.firstChild.style.color = $H.color;
            $m.style.overflow = $H.overflow;
            $e.addShadow();
          }, "vertical": "bottom", "horizontal": "left", "animation": $e.animation
        });
      }
    };
    this.delayedHide = function () {
      DayPilotBubble.cancelTimeout();
      if ($e.hideAfter > 0) {
        DayPilotBubble.timeout = window.setTimeout(DayPilotBubble.hideActive, $e.hideAfter);
      }
    };
    this.showOnMouseOver = function ($n) {
      DayPilotBubble.cancelTimeout();
      var $I = function ($J) {
        return function () {
          $e.show($J);
        };
      };
      DayPilotBubble.timeout = window.setTimeout($I($n), this.showAfter);
    };
    this.hideOnMouseOut = function () {
      this.delayedHide();
    };
    this.$R = function ($f) {
      if ($f.calendar.backendUrl) {
        return true;
      }
      ;
      if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
        return true;
      }
      ;
      return false;
    };
    this.addShadow = function () {
      if (!this.useShadow) {
        return;
      }
      ;
      if (this.cssOnly) {
        return;
      }
      ;
      if (!this.elements.div) {
        return;
      }
      ;
      var $m = this.elements.div;
      if (this.shadows && this.shadows.length > 0) {
        this.removeShadow();
      }
      ;
      this.shadows = [];
      for (var i = 0; i < 5; i++) {
        var $K = document.createElement('div');
        $K.setAttribute("unselectable", "on");
        $K.style.position = 'absolute';
        $K.style.width = $m.offsetWidth + 'px';
        $K.style.height = $m.offsetHeight + 'px';
        $K.style.top = $m.offsetTop + i + 'px';
        $K.style.left = $m.offsetLeft + i + 'px';
        $K.style.zIndex = this.zIndex;
        $K.style.filter = 'alpha(opacity:10)';
        $K.style.opacity = 0.1;
        $K.style.backgroundColor = '#000000';
        if (this.rounded()) {
          $K.style.MozBorderRadius = "5px";
          $K.style.webkitBorderRadius = "5px";
          $K.style.borderRadius = "5px";
        }
        ;
        document.body.appendChild($K);
        this.shadows.push($K);
      }
    };
    this.removeShadow = function () {
      if (!this.shadows) {
        return;
      }
      ;
      for (var i = 0; i < this.shadows.length; i++) {
        document.body.removeChild(this.shadows[i]);
      }
      ;
      this.shadows = [];
    };
    this.removeDiv = function () {
      if (!this.elements.div) {
        return;
      }
      ;
      document.body.removeChild(this.elements.div);
      this.elements.div = null;
    };
    if ($d) {
      for (var name in $d) {
        this[name] = $d[name];
      }
    }
    ;
    this.init();
  };
  DayPilotBubble.cancelTimeout = function () {
    if (DayPilotBubble.timeout) {
      window.clearTimeout(DayPilotBubble.timeout);
    }
  };
  DayPilotBubble.hideActive = function () {
    DayPilotBubble.cancelTimeout();
    var $e = DayPilotBubble.active;
    if ($e) {
      $e.removeDiv();
      $e.removeShadow();
    }
    ;
    DayPilotBubble.active = null;
  };
  DayPilotBubble.CallBackArgs = function ($L, $M, $N, $O) {
    this.calendar = $L;
    this.type = $M;
    this.object = $N;
    this.staticHTML = $O;
    this.toJSON = function () {
      var $P = {};
      $P.uid = this.calendar.uniqueID;
      $P.type = this.type;
      $P.object = $N;
      return $P;
    };
  };
  DayPilot.BubbleVisible.Bubble = DayPilotBubble.Bubble;
  DayPilot.BubbleVisible.hideActive = DayPilotBubble.hideActive;
  DayPilot.BubbleVisible.cancelTimeout = DayPilotBubble.cancelTimeout;
  DayPilot.Bubble.hideActive = DayPilotBubble.hideActive;
  if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
    Sys.Application.notifyScriptLoaded();
  }
})();

if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
/*
 if (typeof DayPilotCalendar === 'undefined') {
 var DayPilotCalendar = DayPilot.CalendarVisible = {};
 }
 ;
 (function () {
 if (typeof DayPilot.Calendar !== 'undefined') {
 return;
 }
 ;
 DayPilot.Calendar = function (id, $a) {
 this.v = '1204';
 var $b = false;
 if (this instanceof DayPilot.Calendar && !this.$3Q) {
 $b = true;
 this.$3Q = true;
 }
 ;
 if (!$b) {
 throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";
 }
 ;
 var $c = this;
 this.uniqueID = null;
 this.id = id;
 this.isCalendar = true;
 this.api = 2;
 this.clientName = id;
 this.clientState = {};
 this.$3R = {};
 this.$3R.pixels = {};
 this.$3R.events = [];
 this.elements = {};
 this.elements.events = [];
 this.nav = {};
 this.events = {};
 this.hideUntilInit = true;
 this.$3S = true;
 this.allDayEventBorderColor = "#000000";
 this.allDayEventFontFamily = 'Tahoma';
 this.allDayEventFontSize = '8pt';
 this.allDayEventFontColor = "#000000";
 this.allDayEventHeight = 25;
 this.allowEventOverlap = true;
 this.allowMultiSelect = true;
 this.autoRefreshCommand = 'refresh';
 this.autoRefreshEnabled = false;
 this.autoRefreshInterval = 60;
 this.autoRefreshMaxCount = 20;
 this.borderColor = "#000000";
 this.businessBeginsHour = 9;
 this.businessEndsHour = 18;
 this.cellBackColor = "#FFFFD5";
 this.cellBackColorNonBusiness = "#FFF4BC";
 this.cellBorderColor = "#999999";
 this.cellHeight = 20;
 this.cellDuration = 30;
 this.columnMarginRight = 5;
 this.columnWidth = 200;
 this.columnWidthSpec = "Auto";
 this.cornerBackColor = "#ECE9D8";
 this.cornerHtml = '';
 this.crosshairColor = 'Gray';
 this.crosshairOpacity = 20;
 this.crosshairType = "Header";
 this.cssOnly = true;
 this.dayBeginsHour = 0;
 this.dayEndsHour = 24;
 this.days = 1;
 this.deleteImageUrl = null;
 this.durationBarColor = 'blue';
 this.durationBarVisible = true;
 this.durationBarWidth = 5;
 this.durationBarImageUrl = null;
 this.eventArrangement = "SideBySide";
 this.eventBackColor = '#ffffff';
 this.eventBorderColor = "#000000";
 this.eventFontFamily = 'Tahoma';
 this.eventFontSize = '8pt';
 this.eventFontColor = "#000000";
 this.eventSelectColor = 'blue';
 this.headerFontSize = '10pt';
 this.headerFontFamily = 'Tahoma';
 this.headerFontColor = "#000000";
 this.headerHeight = 20;
 this.headerLevels = 1;
 this.height = 300;
 this.heightSpec = 'BusinessHours';
 this.hideFreeCells = false;
 this.headerDateFormat = null;
 this.hourHalfBorderColor = "#F3E4B1";
 this.hourBorderColor = "#EAD098";
 this.hourFontColor = "#000000";
 this.hourFontFamily = "Tahoma";
 this.hourFontSize = "16pt";
 this.hourNameBackColor = "#ECE9D8";
 this.hourNameBorderColor = "#ACA899";
 this.hourWidth = 45;
 this.initScrollPos = null;
 this.loadingLabelText = "Loading...";
 this.loadingLabelVisible = true;
 this.loadingLabelBackColor = "orange";
 this.loadingLabelFontColor = "#ffffff";
 this.loadingLabelFontFamily = "Tahoma";
 this.loadingLabelFontSize = "10pt";
 this.locale = "en-us";
 this.messageHideAfter = 5000;
 this.moveBy = "Full";
 this.notifyCommit = 'Immediate';
 this.numberFormat = "0.00";
 this.roundedCorners = false;
 this.rtl = false;
 this.selectedColor = "#316AC5";
 this.shadow = 'Fill';
 this.showToolTip = true;
 this.showAllDayEvents = false;
 this.showAllDayEventStartEnd = true;
 this.showEventStartEnd = false;
 this.showHeader = true;
 this.showHours = true;
 this.startDate = new DayPilot.Date().getDatePart();
 this.cssClassPrefix = "calendar_default";
 this.timeFormat = 'Auto';
 this.timeHeaderCellDuration = 60;
 this.useEventBoxes = 'Always';
 this.useEventSelectionBars = false;
 this.viewType = 'Days';
 this.eventClickHandling = 'Enabled';
 this.eventDoubleClickHandling = 'Enabled';
 this.eventRightClickHandling = 'ContextMenu';
 this.eventDeleteHandling = 'Disabled';
 this.eventEditHandling = 'Update';
 this.eventHoverHandling = 'Bubble';
 this.eventResizeHandling = 'Update';
 this.eventMoveHandling = 'Update';
 this.eventSelectHandling = 'Update';
 this.eventTapAndHoldHandling = 'Move';
 this.headerClickHandling = 'Enabled';
 this.timeRangeTapAndHoldHandling = 'Select';
 this.timeRangeSelectedHandling = 'Enabled';
 this.timeRangeDoubleClickHandling = "Enabled";
 this.$3T = true;
 this.$3U = false;
 this.autoRefreshCount = 0;
 this.doubleClickTimeout = 300;
 this.members = {};
 this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix"];
 this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members"];
 this.members.noCssOnly = ["allDayEventBorderColor", "allDayEventFontColor", "allDayEventFontFamily", "allDayEventFontSize", "borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cornerBackColor", "durationBarColor", "eventBackColor", "eventBorderColor", "eventFontColor", "eventFontFamily", "eventFontSize", "eventSelectColor", "headerFontColor", "headerFontFamily", "headerFontSize", "hourBorderColor", "hourFontColor", "hourFontFamily", "hourFontSize", "hourHalfBorderColor", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "selectedColor", "useEventSelectionBars"];
 this.$3V = {};
 this.$3V.ie = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
 this.$3V.ie9 = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE 9") !== -1);
 this.$3V.ielt9 = (function () {
 var $d = document.createElement("div");
 $d.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
 var $e = ($d.getElementsByTagName("i").length === 1);
 return $e;
 })();
 this.$3V.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
 this.$3V.opera105 = (function () {
 if (/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
 var v = new Number(RegExp.$1);
 return v >= 10.5;
 }
 ;
 return false;
 })();
 this.$3V.webkit522 = (function () {
 if (/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
 var v = new Number(RegExp.$1);
 return v >= 522;
 }
 ;
 return false;
 })();
 this.clearSelection = function () {
 if (!this.selectedCells) {
 this.selectedCells = [];
 return;
 }
 ;
 this.$3W();
 this.selectedCells = [];
 };
 this.$3W = function () {
 if (!this.selectedCells) {
 return;
 }
 ;
 for (var j = 0; j < this.selectedCells.length; j++) {
 var $f = this.selectedCells[j];
 if ($f) {
 if ($f.selected) {
 $f.removeChild($f.selected);
 $f.firstChild.style.display = '';
 $f.selected = null;
 }
 }
 }
 };
 this.cleanSelection = this.clearSelection;
 this.$3X = function ($g, $h, $i) {
 var $j = {};
 $j.action = $g;
 $j.parameters = $i;
 $j.data = $h;
 $j.header = this.$3Y();
 var $k = "JSON" + DayPilot.JSON.stringify($j);
 __doPostBack($c.uniqueID, $k);
 };
 this.$3Z = function ($g, $i, $h, $l) {
 if (!this.$40()) {
 $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
 return;
 }
 ;
 if (this.callbackTimeout) {
 window.clearTimeout(this.callbackTimeout);
 }
 ;
 if (typeof $l === 'undefined') {
 $l = "CallBack";
 }
 ;
 this.callbackTimeout = window.setTimeout(function () {
 $c.$41();
 }, 100);
 var $j = {};
 $j.action = $g;
 $j.type = $l;
 $j.parameters = $i;
 $j.data = $h;
 $j.header = this.$3Y();
 var $k = "JSON" + DayPilot.JSON.stringify($j);
 if (this.backendUrl) {
 DayPilot.request(this.backendUrl, this.$42, $k, this.$43);
 } else if (typeof WebForm_DoCallback === 'function') {
 WebForm_DoCallback(this.uniqueID, $k, this.$44, this.clientName, this.onCallbackError, true);
 }
 };
 this.$40 = function () {
 if (this.backendUrl) {
 return true;
 }
 ;
 if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
 return true;
 }
 ;
 return false;
 };
 this.$43 = function ($m) {
 if (typeof $c.onAjaxError === 'function') {
 var $n = {};
 $n.request = $m;
 $c.onAjaxError($n);
 } else if (typeof $c.ajaxError === 'function') {
 $c.ajaxError($m);
 }
 };
 this.dispose = function () {
 var c = $c;
 if (!c.nav.top) {
 return;
 }
 ;
 c.$45();
 c.$46();
 if (c.nav.messageClose) {
 c.nav.messageClose.onclick = null;
 }
 ;
 if (c.nav.hourTable)c.nav.hourTable.oncontextmenu = null;
 if (c.nav.hourTable)c.nav.hourTable.onmousemove = null;
 if (c.nav.header)c.nav.header.oncontextmenu = null;
 if (c.nav.corner)c.nav.corner.oncontextmenu = null;
 c.nav.zoom.onmousemove = null;
 c.nav.scroll.onscroll = null;
 c.nav.scroll.root = null;
 DayPilot.pu(c.nav.loading);
 c.$47();
 c.$48();
 c.nav.select = null;
 c.nav.cornerRight = null;
 c.nav.scrollable = null;
 c.nav.bottomLeft = null;
 c.nav.bottomRight = null;
 c.nav.allday = null;
 c.nav.zoom = null;
 c.nav.loading = null;
 c.nav.events = null;
 c.nav.header = null;
 c.nav.hourTable = null;
 c.nav.scrolltop = null;
 c.nav.scroll = null;
 c.nav.vsph = null;
 c.nav.main = null;
 c.nav.message = null;
 c.nav.messageClose = null;
 c.nav.top.removeAttribute("style");
 c.nav.top.removeAttribute("class");
 c.nav.top.innerHTML = '';
 c.nav.top.dp = null;
 c.nav.top = null;
 DayPilot.ue(window, 'resize', c.$49);
 DayPilotCalendar.unregister(c);
 };
 this.$4a = function () {
 this.nav.top.dispose = this.dispose;
 };
 this.$42 = function ($o) {
 $c.$44($o.responseText);
 };
 this.$3Y = function () {
 var h = {};
 h.v = this.v;
 h.control = "dpc";
 h.id = this.id;
 h.clientState = $c.clientState;
 h.columns = this.$4b();
 h.days = $c.days;
 h.startDate = $c.startDate;
 h.cellDuration = $c.cellDuration;
 h.cssOnly = $c.cssOnly;
 h.cssClassPrefix = $c.cssClassPrefix;
 h.heightSpec = $c.heightSpec;
 h.businessBeginsHour = $c.businessBeginsHour;
 h.businessEndsHour = $c.businessEndsHour;
 h.viewType = $c.viewType;
 h.dayBeginsHour = $c.dayBeginsHour;
 h.dayEndsHour = $c.dayEndsHour;
 h.headerLevels = $c.headerLevels;
 h.backColor = $c.cellBackColor;
 h.nonBusinessBackColor = $c.cellBackColorNonBusiness;
 h.eventHeaderVisible = $c.eventHeaderVisible;
 h.timeFormat = $c.timeFormat;
 h.timeHeaderCellDuration = $c.timeHeaderCellDuration;
 h.locale = $c.locale;
 h.showAllDayEvents = $c.showAllDayEvents;
 h.tagFields = $c.tagFields;
 h.hourNameBackColor = $c.hourNameBackColor;
 h.hourFontFamily = $c.hourFontFamily;
 h.hourFontSize = $c.hourFontSize;
 h.hourFontColor = $c.hourFontColor;
 h.selected = $c.multiselect.events();
 h.hashes = $c.hashes;
 return h;
 };
 this.$4c = function () {
 this.$4d();
 DayPilot.Areas.hideAll();
 };
 this.$4b = function () {
 var $p = [];
 $p.ignoreToJSON = true;
 if (!this.columns) {
 return $p;
 }
 ;
 for (var i = 0; i < this.columns.length; i++) {
 var $q = this.columns[i];
 var $r = this.$4e($q);
 $p.push($r);
 }
 ;
 return $p;
 };
 this.$4e = function ($q) {
 var $r = {};
 $r.Value = $q.id;
 $r.Name = $q.name;
 $r.ToolTip = $q.toolTip;
 $r.Date = $q.start;
 $r.Children = this.$4f($q.children);
 return $r;
 };
 this.$4f = function ($s) {
 var $t = [];
 $t.ignoreToJSON = true;
 if (!$s) {
 return $t;
 }
 ;
 for (var i = 0; i < $s.length; i++) {
 $t.push(this.$4e($s[i]));
 }
 ;
 return $t;
 };
 this.$44 = function ($u, $v) {
 var $u = eval("(" + $u + ")");
 if ($u.BubbleGuid) {
 var $w = $u.BubbleGuid;
 var $x = this.bubbles[$w];
 delete this.bubbles[$w];
 $c.$4g();
 if (typeof $u.Result.BubbleHTML !== 'undefined') {
 $x.updateView($u.Result.BubbleHTML, $x);
 }
 ;
 return;
 }
 ;
 if ($u.CallBackRedirect) {
 document.location.href = $u.CallBackRedirect;
 return;
 }
 ;
 if (typeof $u.ClientState !== 'undefined') {
 $c.clientState = $u.ClientState;
 }
 ;
 if ($u.UpdateType === "None") {
 $c.$4g();
 $c.$4h($u.CallBackData, true);
 if ($u.Message) {
 $c.message($u.Message);
 }
 ;
 return;
 }
 ;
 if ($u.VsUpdate) {
 var $y = document.createElement("input");
 $y.type = 'hidden';
 $y.name = $c.id + "_vsupdate";
 $y.id = $y.name;
 $y.value = $u.VsUpdate;
 $c.nav.vsph.innerHTML = '';
 $c.nav.vsph.appendChild($y);
 }
 ;
 $c.$46();
 $c.multiselect.clear(true);
 $c.multiselect.$4i = $u.SelectedEvents;
 if (typeof $u.TagFields !== 'undefined') {
 $c.tagFields = $u.TagFields;
 }
 ;
 if (typeof $u.SortDirections !== 'undefined') {
 $c.sortDirections = $u.SortDirections;
 }
 ;
 if ($u.UpdateType === "Full") {
 $c.colors = $u.Colors;
 $c.palette = $u.Palette;
 $c.dirtyColors = $u.DirtyColors;
 $c.cellProperties = $u.CellProperties;
 $c.cellConfig = $u.CellConfig;
 $c.columns = $u.Columns;
 $c.days = $u.Days;
 $c.startDate = new DayPilot.Date($u.StartDate).getDatePart();
 $c.cellDuration = $u.CellDuration;
 $c.heightSpec = $u.HeightSpec ? $u.HeightSpec : $c.heightSpec;
 $c.businessBeginsHour = $u.BusinessBeginsHour ? $u.BusinessBeginsHour : $c.businessBeginsHour;
 $c.businessEndsHour = $u.BusinessEndsHour ? $u.BusinessEndsHour : $c.businessEndsHour;
 $c.viewType = $u.ViewType;
 $c.headerLevels = $u.HeaderLevels;
 $c.backColor = $u.BackColor ? $u.BackColor : $c.backColor;
 $c.nonBusinessBackColor = $u.NonBusinessBackColor ? $u.NonBusinessBackColor : $c.nonBusinessBackColor;
 $c.eventHeaderVisible = $u.EventHeaderVisible ? $u.EventHeaderVisible : $c.eventHeaderVisible;
 $c.timeFormat = $u.TimeFormat ? $u.TimeFormat : $c.timeFormat;
 $c.timeHeaderCellDuration = typeof $u.TimeHeaderCellDuration !== 'undefined' ? $u.TimeHeaderCellDuration : $c.timeHeaderCellDuration;
 $c.locale = $u.Locale ? $u.Locale : $c.locale;
 $c.dayBeginsHour = typeof $u.DayBeginsHour !== 'undefined' ? $u.DayBeginsHour : $c.dayBeginsHour;
 $c.dayEndsHour = typeof $u.DayEndsHour !== 'undefined' ? $u.DayEndsHour : $c.dayEndsHour;
 $c.cornerBackColor = $u.CornerBackColor;
 $c.cornerHtml = $u.CornerHTML;
 $c.hours = $u.Hours;
 $c.$4j();
 $c.$4k();
 }
 ;
 if ($u.Hashes) {
 for ($z in $u.Hashes) {
 $c.hashes[$z] = $u.Hashes[$z];
 }
 }
 ;
 $c.$4l($u.Events);
 $c.$4m();
 if ($u.UpdateType === "Full" || $c.hideFreeCells) {
 $c.$4n();
 $c.$4o();
 $c.$4p();
 $c.$4q();
 $c.$4r();
 $c.$4s();
 $c.$4t();
 $c.$4u();
 $c.clearSelection();
 }
 ;
 $c.$4v();
 $c.$4w();
 $c.$4x();
 if ($c.heightSpec === "Parent100Pct") {
 $c.$49();
 }
 ;
 if ($c.timeRangeSelectedHandling !== "HoldForever") {
 $c.clearSelection();
 }
 ;
 $c.$4y();
 if ($c.todo) {
 if ($c.todo.del) {
 var $A = $c.todo.del;
 $A.parentNode.removeChild($A);
 $c.todo.del = null;
 }
 }
 ;
 $c.$4h($u.CallBackData, true);
 $c.$4g();
 $c.$4z();
 if ($u.Message) {
 $c.message($u.Message);
 }
 };
 this.$4h = function ($h, $B) {
 var $C = function ($h, $D) {
 return function () {
 if ($c.$4A()) {
 if (typeof $c.onAfterRender === 'function') {
 var $n = {};
 $n.isCallBack = $D;
 $n.data = $h;
 $c.onAfterRender($n);
 }
 } else {
 if ($c.afterRender) {
 $c.afterRender($h, $D);
 }
 }
 };
 };
 window.setTimeout($C($h, $B), 0);
 };
 this.$4B = function ($E, $F, $l) {
 var $G = $c.nav.events;
 var $H = $G.clientWidth / $G.rows[0].cells.length;
 var i = Math.floor($c.coords.x / $H);
 if (i < 0) {
 i = 0;
 }
 ;
 if ($c.rtl) {
 i = $c.$4C.length - i - 1;
 }
 ;
 var $q = $G.rows[0].cells[i];
 var $I = 0;
 var $J = 0;
 var top = 0;
 if (typeof $E.duration !== 'undefined') {
 var $K = $E.duration;
 top = Math.floor((($c.coords.y - $I) + $c.cellHeight / 2) / $c.cellHeight) * $c.cellHeight + $I;
 $J = $K * $c.cellHeight / (60 * $c.cellDuration);
 $J = Math.max($J, $c.cellHeight);
 } else {
 var e = $E.event;
 $J = e.part.height;
 top = e.part.top;
 }
 ;
 var $L = document.createElement('div');
 $L.setAttribute('unselectable', 'on');
 $L.style.position = 'absolute';
 $L.style.width = '100%';
 $L.style.height = $J + 'px';
 $L.style.left = '0px';
 $L.style.top = top + 'px';
 $L.style.zIndex = 101;
 $L.exclude = true;
 var $M = document.createElement("div");
 $L.appendChild($M);
 if (this.cssOnly) {
 $L.className = $c.$4D("_shadow");
 $M.className = this.$4D("_shadow_inner");
 }
 ;
 if (!this.cssOnly) {
 $M.style.position = "absolute";
 $M.style.top = "0px";
 $M.style.bottom = "0px";
 $M.style.left = "0px";
 $M.style.right = "0px";
 if ($l === 'Fill') {
 $M.style.backgroundColor = "#aaaaaa";
 $M.style.opacity = 0.5;
 $M.style.filter = "alpha(opacity=50)";
 $M.style.border = '2px solid #aaaaaa';
 } else {
 $M.style.border = '2px dotted #666666';
 }
 ;
 if (this.roundedCorners) {
 $M.style.MozBorderRadius = "5px";
 $M.style.webkitBorderRadius = "5px";
 $M.style.borderRadius = "5px";
 }
 }
 ;
 $q.firstChild.appendChild($L);
 return $L;
 };
 this.$4E = function () {
 return this.$4F() / (3600 * 1000);
 };
 this.$4G = function () {
 if (this.businessBeginsHour > this.businessEndsHour) {
 return 24 - this.businessBeginsHour + this.businessEndsHour;
 } else {
 return this.businessEndsHour - this.businessBeginsHour;
 }
 };
 this.$4H = function () {
 if (this.dayBeginsHour >= this.dayEndsHour) {
 return 24 - this.dayBeginsHour + this.dayEndsHour;
 } else {
 return this.dayEndsHour - this.dayBeginsHour;
 }
 };
 this.$4F = function ($N) {
 var $O = 0;
 if (this.heightSpec === 'BusinessHoursNoScroll') {
 $O = this.$4G();
 } else if (this.hideFreeCells && !$N) {
 var $P = (this.$4I - 1) * this.cellDuration / this.cellHeight;
 var $Q = Math.ceil($P / 60);
 var $R = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
 $O = Math.max(this.dayBeginsHour + $Q, $R) - this.$4J();
 } else {
 $O = this.$4H();
 }
 ;
 return $O * 60 * 60 * 1000;
 };
 this.message = function ($S, $T, $U, $V) {
 if (!$S) {
 return;
 }
 ;
 var $T = $T || this.messageHideAfter || 2000;
 var $U = $U || "#ffffff";
 var $V = $V || "#000000";
 var $W = 0.8;
 var $d;
 var top = this.$4K();
 var $X = this.showHours ? this.hourWidth : 0;
 var $Y = DayPilot.sw($c.nav.scroll);
 if (!this.cssOnly) {
 top += 1;
 $X += 2;
 $Y -= 2;
 }
 ;
 if ($c.rtl) {
 var $Z = $X;
 $X = $Y;
 $Y = $Z;
 }
 ;
 if (!this.nav.message) {
 $d = document.createElement("div");
 $d.style.position = "absolute";
 $d.style.left = ($X) + "px";
 $d.style.top = (top) + "px";
 $d.style.right = "0px";
 $d.style.display = 'none';
 $d.onmousemove = function () {
 if ($c.messageTimeout) {
 clearTimeout($c.messageTimeout);
 }
 };
 $d.onmouseout = function () {
 if ($c.nav.message.style.display !== 'none') {
 $c.messageTimeout = setTimeout($c.$4L, 500);
 }
 };
 var $M = document.createElement("div");
 $M.onclick = function () {
 $c.nav.message.style.display = 'none';
 };
 if (!this.cssOnly) {
 $M.style.padding = "5px";
 $M.style.opacity = $W;
 $M.style.filter = "alpha(opacity=" + ($W * 100) + ")";
 } else {
 $M.className = this.$4D("_message");
 }
 ;
 $d.appendChild($M);
 var close = document.createElement("div");
 close.style.position = "absolute";
 if (!this.cssOnly) {
 close.style.top = "5px";
 close.style.right = (DayPilot.sw($c.nav.scroll) + 5) + "px";
 close.style.color = $U;
 close.style.lineHeight = "100%";
 close.style.cursor = "pointer";
 close.style.fontWeight = "bold";
 close.innerHTML = "X";
 } else {
 close.className = this.$4D("_message_close");
 }
 ;
 close.onclick = function () {
 $c.nav.message.style.display = 'none';
 };
 $d.appendChild(close);
 this.nav.top.insertBefore($d, this.nav.loading);
 this.nav.message = $d;
 this.nav.messageClose = close;
 } else {
 this.nav.message.style.top = top + "px";
 }
 ;
 if (this.nav.cornerRight) {
 this.nav.message.style.right = $Y + "px";
 } else {
 this.nav.message.style.right = "0px";
 }
 ;
 var $00 = function () {
 var $M = $c.nav.message.firstChild;
 if (!$c.cssOnly) {
 $M.style.padding = "5px";
 $M.style.opacity = $W;
 $M.style.backgroundColor = $V;
 $M.style.color = $U;
 }
 ;
 $M.innerHTML = $S;
 var end = function () {
 $c.messageTimeout = setTimeout($c.$4L, $T);
 };
 DayPilot.fade($c.nav.message, 0.2, end);
 };
 clearTimeout($c.messageTimeout);
 if (this.nav.message.style.display !== 'none') {
 DayPilot.fade($c.nav.message, -0.2, $00);
 } else {
 $00();
 }
 };
 this.message.show = function ($S) {
 $c.message($S);
 };
 this.message.hide = function () {
 $c.$4L();
 };
 this.$4L = function () {
 var end = function () {
 $c.nav.message.style.display = 'none';
 };
 DayPilot.fade($c.nav.message, -0.2, end);
 };
 this.$4q = function () {
 if (this.nav.message) {
 this.nav.message.style.top = (this.$4K()) + "px";
 }
 };
 this.$4M = function () {
 return this.$4F() / (60 * 1000 * this.cellDuration);
 };
 this.eventClickPostBack = function (e, $h) {
 this.$3X('EventClick', $h, e);
 };
 this.eventClickCallBack = function (e, $h) {
 this.$3Z('EventClick', e, $h);
 };
 this.$4N = function (e) {
 var $d = this;
 var e = e || window.event;
 var $01 = e.ctrlKey;
 if (typeof(DayPilot.Bubble) !== 'undefined') {
 DayPilot.Bubble.hideActive();
 }
 ;
 if ($c.eventDoubleClickHandling === 'Disabled') {
 $c.$4O($d, $01);
 return;
 }
 ;
 if (!$c.timeouts) {
 $c.timeouts = [];
 } else {
 for (var $02 in $c.timeouts) {
 window.clearTimeout($c.timeouts[$02]);
 }
 ;
 $c.timeouts = [];
 }
 ;
 var $03 = function ($d, $01) {
 return function () {
 $c.$4O($d, $01);
 };
 };
 $c.timeouts.push(window.setTimeout($03(this, $01), $c.doubleClickTimeout));
 };
 this.$4O = function ($04, $01) {
 var e = $04.event;
 if (!e.client.clickEnabled()) {
 return;
 }
 ;
 if ($c.$4A()) {
 var $n = {};
 $n.e = e;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventClick === 'function') {
 $c.onEventClick($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventClickHandling) {
 case 'PostBack':
 $c.eventClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventClickCallBack(e);
 break;
 case 'Edit':
 $c.$4P($04);
 break;
 case 'Select':
 $c.$4Q($04, e, $01);
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 case 'ContextMenu':
 var $05 = e.client.contextMenu();
 if ($05) {
 $05.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(e);
 }
 }
 ;
 break;
 }
 ;
 if (typeof $c.onEventClicked === 'function') {
 $c.onEventClicked($n);
 }
 } else {
 switch ($c.eventClickHandling) {
 case 'PostBack':
 $c.eventClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventClickCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventClick(e);
 break;
 case 'Edit':
 $c.$4P($04);
 break;
 case 'Select':
 $c.$4Q($04, e, $01);
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 case 'ContextMenu':
 var $05 = e.client.contextMenu();
 if ($05) {
 $05.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(e);
 }
 }
 ;
 break;
 }
 }
 };
 this.eventDoubleClickPostBack = function (e, $h) {
 this.$3X('EventDoubleClick', $h, e);
 };
 this.eventDoubleClickCallBack = function (e, $h) {
 this.$3Z('EventDoubleClick', e, $h);
 };
 this.$4R = function (ev) {
 if (typeof(DayPilotBubble) !== 'undefined') {
 DayPilotBubble.hideActive();
 }
 ;
 if ($c.timeouts) {
 for (var $02 in $c.timeouts) {
 window.clearTimeout($c.timeouts[$02]);
 }
 ;
 $c.timeouts = null;
 }
 ;
 var e = this.event;
 var ev = ev || window.event;
 if ($c.$4A()) {
 var $n = {};
 $n.e = e;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventDoubleClick === 'function') {
 $c.onEventDoubleClick($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventDoubleClickHandling) {
 case 'PostBack':
 $c.eventDoubleClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventDoubleClickCallBack(e);
 break;
 case 'Edit':
 if (!e.allday()) {
 $c.$4P(this);
 }
 ;
 break;
 case 'Select':
 if (!e.allday()) {
 $c.$4Q(this, e, ev.ctrlKey);
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 ;
 if (typeof $c.onEventDoubleClicked === 'function') {
 $c.onEventDoubleClicked($n);
 }
 } else {
 switch ($c.eventDoubleClickHandling) {
 case 'PostBack':
 $c.eventDoubleClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventDoubleClickCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventDoubleClick(e);
 break;
 case 'Edit':
 if (!e.allday()) {
 $c.$4P(this);
 }
 ;
 break;
 case 'Select':
 if (!e.allday()) {
 $c.$4Q(this, e, ev.ctrlKey);
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 }
 };
 this.eventRightClickPostBack = function (e, $h) {
 this.$3X('EventRightClick', $h, e);
 };
 this.eventRightClickCallBack = function (e, $h) {
 this.$3Z('EventRightClick', e, $h);
 };
 this.$4S = function (ev) {
 var e = this.event;
 if (!e.client.rightClickEnabled()) {
 return false;
 }
 ;
 if ($c.$4A()) {
 var $n = {};
 $n.e = e;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventRightClick === 'function') {
 $c.onEventRightClick($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventRightClickHandling) {
 case 'PostBack':
 $c.eventRightClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventRightClickCallBack(e);
 break;
 case 'ContextMenu':
 var $05 = e.client.contextMenu();
 if ($05) {
 $05.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(this.event);
 }
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 ;
 if (typeof $c.onEventRightClicked === 'function') {
 $c.onEventRightClicked($n);
 }
 } else {
 switch ($c.eventRightClickHandling) {
 case 'PostBack':
 $c.eventRightClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventRightClickCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventRightClick(e);
 break;
 case 'ContextMenu':
 var $05 = e.client.contextMenu();
 if ($05) {
 $05.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(this.event);
 }
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 }
 ;
 return false;
 };
 this.headerClickPostBack = function (c, $h) {
 this.$3X('HeaderClick', $h, c);
 };
 this.headerClickCallBack = function (c, $h) {
 this.$3Z('HeaderClick', c, $h);
 };
 this.$4T = function ($E) {
 var $h = this.data;
 var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
 if ($c.$4A()) {
 var $n = {};
 $n.header = {};
 $n.header.id = $h.id;
 $n.header.name = $h.name;
 $n.header.start = $h.start;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onHeaderClick === 'function') {
 $c.onHeaderClick($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.headerClickHandling) {
 case 'PostBack':
 $c.headerClickPostBack(c);
 break;
 case 'CallBack':
 $c.headerClickCallBack(c);
 break;
 }
 ;
 if (typeof $c.onHeaderClicked === 'function') {
 $c.onHeaderClicked($n);
 }
 } else {
 switch ($c.headerClickHandling) {
 case 'PostBack':
 $c.headerClickPostBack(c);
 break;
 case 'CallBack':
 $c.headerClickCallBack(c);
 break;
 case 'JavaScript':
 $c.onHeaderClick(c);
 break;
 }
 }
 };
 this.$4U = function () {
 if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
 if ($c.viewType === "Resources") {
 var $06 = {};
 $06.calendar = $c;
 $06.id = this.data.id;
 $06.toJSON = function () {
 var $07 = {};
 $07.id = this.id;
 return $07;
 };
 $c.columnBubble.showResource($06);
 } else {
 var $08 = new DayPilot.Date(this.data.start);
 var end = $08.addDays(1);
 var $09 = {};
 $09.calendar = $c;
 $09.start = $08;
 $09.end = end;
 $09.toJSON = function () {
 var $07 = {};
 $07.start = this.start;
 $07.end = this.end;
 return $07;
 };
 $c.columnBubble.showTime($09);
 }
 }
 ;
 var $f = this;
 var $d = $f.firstChild;
 if (!$d.active) {
 var $h = $f.data;
 var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
 c.areas = $f.data.areas;
 DayPilot.Areas.showAreas($d, c);
 }
 };
 this.$4V = function (ev) {
 if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
 $c.columnBubble.hideOnMouseOut();
 }
 ;
 DayPilot.Areas.hideAreas(this.firstChild, ev);
 };
 this.eventDeletePostBack = function (e, $h) {
 this.$3X('EventDelete', $h, e);
 };
 this.eventDeleteCallBack = function (e, $h) {
 this.$3Z('EventDelete', e, $h);
 };
 this.$4W = function ($E) {
 var e;
 if ($E && $E.isEvent) {
 e = $E;
 } else {
 e = $E.parentNode.parentNode.event;
 }
 ;
 if ($c.$4A()) {
 var $n = {};
 $n.e = e;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventDelete === 'function') {
 $c.onEventDelete($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventDeleteHandling) {
 case 'PostBack':
 $c.eventDeletePostBack(e);
 break;
 case 'CallBack':
 $c.eventDeleteCallBack(e);
 break;
 case 'Update':
 $c.events.remove(e);
 break;
 }
 ;
 if (typeof $c.onEventDeleted === 'function') {
 $c.onEventDeleted($n);
 }
 } else {
 switch ($c.eventDeleteHandling) {
 case 'PostBack':
 $c.eventDeletePostBack(e);
 break;
 case 'CallBack':
 $c.eventDeleteCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventDelete(e);
 break;
 }
 }
 };
 this.eventResizePostBack = function (e, $0a, $0b, $h) {
 if (!$0a) {
 throw 'newStart is null';
 }
 ;
 if (!$0b) {
 throw 'newEnd is null';
 }
 ;
 var $0c = {};
 $0c.e = e;
 $0c.newStart = $0a;
 $0c.newEnd = $0b;
 this.$3X('EventResize', $h, $0c);
 };
 this.eventResizeCallBack = function (e, $0a, $0b, $h) {
 if (!$0a)throw 'newStart is null';
 if (!$0b)throw 'newEnd is null';
 var $0c = {};
 $0c.e = e;
 $0c.newStart = $0a;
 $0c.newEnd = $0b;
 this.$3Z('EventResize', $0c, $h);
 };
 this.$4X = function ($l, $g, $0c, $h) {
 if ($l === 'PostBack') {
 $c.postBack2($g, $0c, $h);
 } else if ($l === 'CallBack') {
 $c.$3Z($g, $0c, $h, "CallBack");
 } else if ($l === 'Immediate') {
 $c.$3Z($g, $0c, $h, "Notify");
 } else if ($l === 'Queue') {
 $c.queue.add(new DayPilot.Action(this, $g, $0c, $h));
 } else if ($l === 'Notify') {
 if ($0d.notifyType() === 'Notify') {
 $c.$3Z($g, $0c, $h, "Notify");
 } else {
 $c.queue.add(new DayPilot.Action($c, $g, $0c, $h));
 }
 } else {
 throw "Invalid event invocation type";
 }
 };
 this.$4J = function ($N) {
 if (this.heightSpec === 'BusinessHoursNoScroll') {
 return this.businessBeginsHour;
 } else if (this.hideFreeCells && !$N) {
 var $P = (this.$4Y) * this.cellDuration / this.cellHeight;
 var $Q = Math.floor($P / 60);
 $Q = Math.max(0, $Q);
 return Math.min(this.dayBeginsHour + $Q, this.businessBeginsHour);
 } else {
 return this.dayBeginsHour;
 }
 };
 this.$4A = function () {
 return $c.api === 2;
 };
 this.$4Z = function (e, $0e, $0f, $0g) {
 if (this.eventResizeHandling === 'Disabled') {
 return;
 }
 ;
 var $I = 0;
 var $0a = new Date();
 var $0b = new Date();
 var $08 = e.start();
 var end = e.end();
 var $0h = $c.cellDuration;
 var $0i = $c.$4C[e.part.dayIndex].start;
 if ($0g === 'top') {
 var $0i = $08.getDatePart();
 var $0j = Math.floor(($0f - $I) / $c.cellHeight);
 var $0k = $0j * $0h;
 var ts = $0k * 60 * 1000;
 var $0l = $c.$4J() * 60 * 60 * 1000;
 $0a = $0i.addTime(ts + $0l);
 $0b = e.end();
 } else if ($0g === 'bottom') {
 var $0j = Math.floor(($0f + $0e - $I) / $c.cellHeight);
 var $0k = $0j * $0h;
 var ts = $0k * 60 * 1000;
 var $0l = $c.$4J() * 60 * 60 * 1000;
 $0a = $08;
 $0b = $0i.addTime(ts + $0l);
 }
 ;
 if ($c.$4A()) {
 var $n = {};
 $n.e = e;
 $n.newStart = $0a;
 $n.newEnd = $0b;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventResize === 'function') {
 $c.onEventResize($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventResizeHandling) {
 case 'PostBack':
 $c.eventResizePostBack(e, $0a, $0b);
 break;
 case 'CallBack':
 $c.eventResizeCallBack(e, $0a, $0b);
 break;
 case 'Notify':
 $c.eventResizeNotify(e, $0a, $0b);
 break;
 case 'Update':
 e.start($0a);
 e.end($0b);
 $c.events.update(e);
 break;
 }
 ;
 if (typeof $c.onEventResized === 'function') {
 $c.onEventResized($n);
 }
 } else {
 switch ($c.eventResizeHandling) {
 case 'PostBack':
 $c.eventResizePostBack(e, $0a, $0b);
 break;
 case 'CallBack':
 $c.eventResizeCallBack(e, $0a, $0b);
 break;
 case 'JavaScript':
 $c.onEventResize(e, $0a, $0b);
 break;
 case 'Notify':
 $c.eventResizeNotify(e, $0a, $0b);
 break;
 }
 }
 };
 this.eventResizeNotify = function (e, $0a, $0b, $h) {
 var $0m = new DayPilot.Event(e.copy(), this);
 e.start($0a);
 e.end($0b);
 e.commit();
 $c.update();
 this.$50("Notify", $0m, $0a, $0b, $h);
 };
 this.$50 = function ($l, e, $0a, $0b, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.newStart = $0a;
 $0c.newEnd = $0b;
 this.$4X($l, "EventResize", $0c, $h);
 };
 this.eventMovePostBack = function (e, $0a, $0b, $0n, $h) {
 if (!$0a)throw 'newStart is null';
 if (!$0b)throw 'newEnd is null';
 var $0c = {};
 $0c.e = e;
 $0c.newStart = $0a;
 $0c.newEnd = $0b;
 $0c.newResource = $0n;
 this.$3X('EventMove', $h, $0c);
 };
 this.eventMoveCallBack = function (e, $0a, $0b, $0n, $h) {
 if (!$0a)throw 'newStart is null';
 if (!$0b)throw 'newEnd is null';
 var $0c = {};
 $0c.e = e;
 $0c.newStart = $0a;
 $0c.newEnd = $0b;
 $0c.newResource = $0n;
 this.$3Z('EventMove', $0c, $h);
 };
 this.$51 = function (e, $0o, $0f, ev, $0p) {
 if ($c.eventMoveHandling === 'Disabled') {
 return;
 }
 ;
 var $I = 0;
 var $0j = Math.floor(($0f - $I) / $c.cellHeight);
 var $0h = $c.cellDuration;
 var $0q = $0j * $0h * 60 * 1000;
 var $08 = e.start();
 var end = e.end();
 var $0i = new Date();
 if ($08.isDayPilotDate) {
 $08 = $08.d;
 }
 ;
 $0i.setTime(Date.UTC($08.getUTCFullYear(), $08.getUTCMonth(), $08.getUTCDate()));
 var $0r = ($c.useEventBoxes !== 'Never') ? $08.getTime() - ($0i.getTime() + $08.getUTCHours() * 3600 * 1000 + Math.floor($08.getUTCMinutes() / $0h) * $0h * 60 * 1000) : 0;
 var length = end.getTime() - $08.getTime();
 var $0l = $c.$4J() * 3600 * 1000;
 var $0s = this.$4C[$0o];
 var $0t = $0s.start.getTime();
 var $0u = new Date();
 $0u.setTime($0t + $0q + $0r + $0l);
 var $0a = new DayPilot.Date($0u);
 var $0b = $0a.addTime(length);
 var external = !!$0p;
 var $0n = $0s.id;
 if ($c.$4A()) {
 var $n = {};
 $n.e = e;
 $n.newStart = $0a;
 $n.newEnd = $0b;
 $n.newResource = $0n;
 $n.external = external;
 $n.ctrl = false;
 if (ev) {
 $n.ctrl = ev.ctrlKey;
 }
 ;
 $n.shift = false;
 if (ev) {
 $n.shift = ev.shiftKey;
 }
 ;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventMove === 'function') {
 $c.onEventMove($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventMoveHandling) {
 case 'PostBack':
 $c.eventMovePostBack(e, $0a, $0b, $0n);
 break;
 case 'CallBack':
 $c.eventMoveCallBack(e, $0a, $0b, $0n);
 break;
 case 'Notify':
 $c.eventMoveNotify(e, $0a, $0b, $0n);
 break;
 case 'Update':
 e.start($0a);
 e.end($0b);
 e.resource($0n);
 if (external) {
 e.commit();
 $c.events.add(e);
 } else {
 $c.events.update(e);
 }
 ;
 $c.$52();
 break;
 }
 ;
 if (typeof $c.onEventMoved === 'function') {
 $c.onEventMoved($n);
 }
 } else {
 switch ($c.eventMoveHandling) {
 case 'PostBack':
 $c.eventMovePostBack(e, $0a, $0b, $0n);
 break;
 case 'CallBack':
 $c.eventMoveCallBack(e, $0a, $0b, $0n);
 break;
 case 'JavaScript':
 $c.onEventMove(e, $0a, $0b, $0n, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false);
 break;
 case 'Notify':
 $c.eventMoveNotify(e, $0a, $0b, $0n, null);
 break;
 }
 }
 };
 this.eventMoveNotify = function (e, $0a, $0b, $0n, $h) {
 var $0m = new DayPilot.Event(e.copy(), this);
 e.start($0a);
 e.end($0b);
 e.resource($0n);
 e.commit();
 $c.update();
 this.$53("Notify", $0m, $0a, $0b, $0n, $h);
 };
 this.$53 = function ($l, e, $0a, $0b, $0n, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.newStart = $0a;
 $0c.newEnd = $0b;
 $0c.newResource = $0n;
 this.$4X($l, "EventMove", $0c, $h);
 };
 this.$52 = function () {
 if ($c.todo) {
 if ($c.todo.del) {
 var $A = $c.todo.del;
 $A.parentNode.removeChild($A);
 $c.todo.del = null;
 }
 }
 };
 this.$54 = function ($n, $x) {
 var $w = $c.$55($x);
 var $0c = {};
 $0c.args = $n;
 $0c.guid = $w;
 $c.$3Z("Bubble", $0c);
 };
 this.$55 = function ($x) {
 var $w = DayPilot.guid();
 if (!this.bubbles) {
 this.bubbles = [];
 }
 ;
 this.bubbles[$w] = $x;
 return $w;
 };
 this.eventMenuClickPostBack = function (e, $0v, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.command = $0v;
 this.$3X('EventMenuClick', $h, $0c);
 };
 this.eventMenuClickCallBack = function (e, $0v, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.command = $0v;
 this.$3Z('EventMenuClick', $0c, $h);
 };
 this.$56 = function ($0v, e, $0w) {
 switch ($0w) {
 case 'PostBack':
 $c.eventMenuClickPostBack(e, $0v);
 break;
 case 'CallBack':
 $c.eventMenuClickCallBack(e, $0v);
 break;
 }
 };
 this.timeRangeMenuClickPostBack = function (e, $0v, $h) {
 var $0c = {};
 $0c.selection = e;
 $0c.command = $0v;
 this.$3X("TimeRangeMenuClick", $h, $0c);
 };
 this.timeRangeMenuClickCallBack = function (e, $0v, $h) {
 var $0c = {};
 $0c.selection = e;
 $0c.command = $0v;
 this.$3Z("TimeRangeMenuClick", $0c, $h);
 };
 this.$57 = function ($0v, e, $0w) {
 switch ($0w) {
 case 'PostBack':
 $c.timeRangeMenuClickPostBack(e, $0v);
 break;
 case 'CallBack':
 $c.timeRangeMenuClickCallBack(e, $0v);
 break;
 }
 };
 this.timeRangeSelectedPostBack = function ($08, end, $0x, $h) {
 var $0y = {};
 $0y.start = $08;
 $0y.end = end;
 $0y.resource = $0x;
 this.$3X('TimeRangeSelected', $h, $0y);
 };
 this.timeRangeSelectedCallBack = function ($08, end, $0x, $h) {
 var $0y = {};
 $0y.start = $08;
 $0y.end = end;
 $0y.resource = $0x;
 this.$3Z('TimeRangeSelected', $0y, $h);
 };
 this.$58 = function ($08, end, $q) {
 if (!$08.isDayPilotDate) {
 $08 = new DayPilot.Date($08);
 }
 ;
 if (!end.isDayPilotDate) {
 end = new DayPilot.Date(end);
 }
 ;
 var $0x = $q;
 if ($c.$4A()) {
 var $n = {};
 $n.start = $08;
 $n.end = end;
 $n.resource = $0x;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onTimeRangeSelect === 'function') {
 $c.onTimeRangeSelect($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.timeRangeSelectedHandling) {
 case 'PostBack':
 $c.timeRangeSelectedPostBack($08, end, $0x);
 break;
 case 'CallBack':
 $c.timeRangeSelectedCallBack($08, end, $0x);
 break;
 }
 ;
 if (typeof $c.onTimeRangeSelected === 'function') {
 $c.onTimeRangeSelected($n);
 }
 } else {
 switch ($c.timeRangeSelectedHandling) {
 case 'PostBack':
 $c.timeRangeSelectedPostBack($08, end, $q);
 break;
 case 'CallBack':
 $c.timeRangeSelectedCallBack($08, end, $q);
 break;
 case 'JavaScript':
 $c.onTimeRangeSelected($08, end, $q);
 break;
 }
 }
 };
 this.timeRangeDoubleClickPostBack = function ($08, end, $q, $h) {
 var $0y = {};
 $0y.start = $08;
 $0y.end = end;
 $0y.resource = $q;
 this.$3X('TimeRangeDoubleClick', $h, $0y);
 };
 this.timeRangeDoubleClickCallBack = function ($08, end, $q, $h) {
 var $0y = {};
 $0y.start = $08;
 $0y.end = end;
 $0y.resource = $q;
 this.$3Z('TimeRangeDoubleClick', $0y, $h);
 };
 this.$59 = function ($08, end, $q) {
 if ($c.$4A()) {
 var $0x = $q;
 var $n = {};
 $n.start = $08;
 $n.end = end;
 $n.resource = $0x;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onTimeRangeDoubleClick === 'function') {
 $c.onTimeRangeDoubleClick($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.timeRangeDoubleClickHandling) {
 case 'PostBack':
 $c.timeRangeDoubleClickPostBack($08, end, $0x);
 break;
 case 'CallBack':
 $c.timeRangeDoubleClickCallBack($08, end, $0x);
 break;
 }
 ;
 if (typeof $c.onTimeRangeDoubleClicked === 'function') {
 $c.onTimeRangeDoubleClicked($n);
 }
 } else {
 switch ($c.timeRangeDoubleClickHandling) {
 case 'PostBack':
 $c.timeRangeDoubleClickPostBack($08, end, $q);
 break;
 case 'CallBack':
 $c.timeRangeDoubleClickCallBack($08, end, $q);
 break;
 case 'JavaScript':
 $c.onTimeRangeDoubleClick($08, end, $q);
 break;
 }
 }
 };
 this.eventEditPostBack = function (e, $0z, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.newText = $0z;
 this.$3X("EventEdit", $h, $0c);
 };
 this.eventEditCallBack = function (e, $0z, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.newText = $0z;
 this.$3Z("EventEdit", $0c, $h);
 };
 this.$5a = function (e, $0z) {
 if ($c.$4A()) {
 var $n = {};
 $n.e = e;
 $n.newText = $0z;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventEdit === 'function') {
 $c.onEventEdit($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventEditHandling) {
 case 'PostBack':
 $c.eventEditPostBack(e, $0z);
 break;
 case 'CallBack':
 $c.eventEditCallBack(e, $0z);
 break;
 case 'Update':
 e.text($0z);
 $c.events.update(e);
 break;
 }
 ;
 if (typeof $c.onEventEdited === 'function') {
 $c.onEventEdited($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 } else {
 switch ($c.eventEditHandling) {
 case 'PostBack':
 $c.eventEditPostBack(e, $0z);
 break;
 case 'CallBack':
 $c.eventEditCallBack(e, $0z);
 break;
 case 'JavaScript':
 $c.onEventEdit(e, $0z);
 break;
 }
 }
 };
 this.eventSelectPostBack = function (e, $0A, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.change = $0A;
 this.$3X('EventSelect', $h, $0c);
 };
 this.eventSelectCallBack = function (e, $0A, $h) {
 var $0c = {};
 $0c.e = e;
 $0c.change = $0A;
 this.$3Z('EventSelect', $0c, $h);
 };
 this.$5b = function ($d, e, $01) {
 if ($c.$4A()) {
 var m = $c.multiselect;
 m.previous = m.events();
 var $n = {};
 $n.e = e;
 $n.selected = m.isSelected(e);
 $n.ctrl = $01;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventSelect === 'function') {
 $c.onEventSelect($n);
 if ($n.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventSelectHandling) {
 case 'PostBack':
 $c.eventSelectPostBack(e, $0A);
 break;
 case 'CallBack':
 if (typeof WebForm_InitCallback !== 'undefined') {
 __theFormPostData = "";
 __theFormPostCollection = [];
 WebForm_InitCallback();
 }
 ;
 $c.eventSelectCallBack(e, $0A);
 break;
 case 'Update':
 m.$5c($d, $01);
 break;
 }
 ;
 if (typeof $c.onEventSelected === 'function') {
 $n.change = m.isSelected(e) ? "selected" : "deselected";
 $n.selected = m.isSelected(e);
 $c.onEventSelected($n);
 }
 } else {
 var m = $c.multiselect;
 m.previous = m.events();
 m.$5c($d, $01);
 var $0A = m.isSelected(e) ? "selected" : "deselected";
 switch ($c.eventSelectHandling) {
 case 'PostBack':
 $c.eventSelectPostBack(e, $0A);
 break;
 case 'CallBack':
 if (typeof WebForm_InitCallback !== 'undefined') {
 __theFormPostData = "";
 __theFormPostCollection = [];
 WebForm_InitCallback();
 }
 ;
 $c.eventSelectCallBack(e, $0A);
 break;
 case 'JavaScript':
 $c.onEventSelect(e, $0A);
 break;
 }
 }
 };
 this.commandCallBack = function ($0v, $h) {
 this.$45();
 var $0c = {};
 $0c.command = $0v;
 this.$3Z('Command', $0c, $h);
 };
 this.$5d = function (ev) {
 if ($0B.active || $0B.using) {
 return;
 }
 ;
 clearTimeout(DayPilotCalendar.selectedTimeout);
 if (DayPilotCalendar.selecting) {
 return;
 }
 ;
 if (DayPilotCalendar.editing) {
 DayPilotCalendar.editing.blur();
 return;
 }
 ;
 if ($c.selectedCells && $c.timeRangeDoubleClickHandling !== 'Disabled') {
 for (var i = 0; i < $c.selectedCells.length; i++) {
 if (this === $c.selectedCells[i]) {
 return;
 }
 }
 }
 ;
 if ($c.timeRangeSelectedHandling === "Disabled") {
 return;
 }
 ;
 var $0C = DayPilot.Util.mouseButton(ev);
 if (!$0C.left) {
 return;
 }
 ;
 DayPilotCalendar.firstMousePos = DayPilot.mc(ev || window.event);
 $c.clearSelection();
 DayPilotCalendar.topSelectedCell = this;
 DayPilotCalendar.bottomSelectedCell = this;
 DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
 $c.selectedCells.push(this);
 DayPilotCalendar.firstSelected = this;
 };
 this.$5e = function () {
 var $0D = this.getSelection();
 if (!$0D) {
 return;
 }
 ;
 if (!$c.selectedCells) {
 return;
 }
 ;
 for (var j = 0; j < $c.selectedCells.length; j++) {
 var $f = $c.selectedCells[j];
 if ($f && !$f.selected) {
 var $d = document.createElement("div");
 $d.style.height = ($c.cellHeight - 1) + "px";
 $d.style.backgroundColor = $c.selectedColor;
 $f.firstChild.style.display = "none";
 $f.insertBefore($d, $f.firstChild);
 $f.selected = $d;
 }
 }
 };
 this.$5f = function (ev) {
 if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
 $c.cellBubble.hideOnMouseOut();
 }
 };
 this.$5g = function (ev) {
 if (typeof(DayPilotCalendar) === 'undefined') {
 return;
 }
 ;
 if ($0B.active || $0B.using) {
 return;
 }
 ;
 if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
 var $q = DayPilotCalendar.getColumn(this);
 var $06 = $c.$4C[$q].id;
 var $f = {};
 $f.calendar = $c;
 $f.start = this.start;
 $f.end = this.end;
 $f.resource = $06;
 $f.toJSON = function () {
 var $07 = {};
 $07.start = this.start;
 $07.end = this.end;
 $07.resource = this.resource;
 return $07;
 };
 $c.cellBubble.showCell($f);
 }
 ;
 if (DayPilotCalendar.firstMousePos) {
 var $0E = DayPilotCalendar.firstMousePos;
 var $0F = DayPilot.mc(ev || window.event);
 if ($0E.x !== $0F.x || $0E.y !== $0F.y) {
 DayPilotCalendar.selecting = true;
 $c.clearSelection();
 $c.$5e();
 }
 }
 ;
 if (!DayPilotCalendar.selecting) {
 return;
 }
 ;
 var $0G = DayPilot.mc(ev || window.event);
 var $0H = DayPilotCalendar.getColumn(this);
 if ($0H !== DayPilotCalendar.column) {
 return;
 }
 ;
 $c.clearSelection();
 if ($0G.y < DayPilotCalendar.firstMousePos.y) {
 $c.selectedCells = DayPilotCalendar.getCellsBelow(this);
 DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
 DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
 } else {
 $c.selectedCells = DayPilotCalendar.getCellsAbove(this);
 DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
 DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
 }
 ;
 $c.$5e();
 };
 this.getSelection = function () {
 if (!DayPilotCalendar.topSelectedCell) {
 return null;
 }
 ;
 if (!DayPilotCalendar.bottomSelectedCell) {
 return null;
 }
 ;
 var $08 = DayPilotCalendar.topSelectedCell.start;
 var end = DayPilotCalendar.bottomSelectedCell.end;
 var $0I = DayPilotCalendar.topSelectedCell.resource;
 return new DayPilot.Selection($08, end, $0I, $c);
 };
 this.$5h = function (ev) {
 if (DayPilotCalendar.firstMousePos) {
 var $0J = function () {
 DayPilotCalendar.selecting = true;
 $c.$5e();
 DayPilotCalendar.firstMousePos = null;
 DayPilotCalendar.selecting = false;
 var $0K = $c.getSelection();
 $c.$58($0K.start, $0K.end, $0K.resource);
 };
 if (DayPilotCalendar.selecting && DayPilotCalendar.topSelectedCell !== null) {
 $0J();
 } else {
 DayPilotCalendar.selectedTimeout = setTimeout($0J, 100);
 }
 } else {
 DayPilotCalendar.selecting = false;
 }
 };
 this.$5i = function (ev) {
 if (!$c.initScrollPos) {
 return;
 }
 ;
 var $0L = $c.columnWidthSpec === "Fixed";
 if ($0L) {
 $c.nav.bottomLeft.scrollTop = $c.nav.bottomRight.scrollTop;
 $c.nav.upperRight.scrollLeft = $c.nav.bottomRight.scrollLeft;
 }
 ;
 var scroll = $0L ? $c.nav.bottomRight : $c.nav.scroll;
 $c.scrollPos = scroll.scrollTop;
 $c.scrollHeight = scroll.clientHeight;
 $c.nav.scrollpos.value = $c.scrollPos;
 $c.$4y();
 };
 this.$4y = function () {
 if (!this.scrollLabelsVisible) {
 return;
 }
 ;
 if (!this.$5j) {
 return;
 }
 ;
 var $0M = this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0;
 if (!$0M) {
 return;
 }
 ;
 var $0N = this.$4C;
 var $0O = (this.showHours ? this.hourWidth : 0);
 var $H = this.nav.main.rows[0].cells[0].clientWidth;
 var iw = 10;
 var $0P = 1;
 for (var i = 0; i < this.nav.scrollUp.length; i++) {
 var $0Q = this.nav.scrollUp[i];
 var $0R = this.nav.scrollDown[i];
 var $X = Math.floor($0O + i * $H + $H / 2 - (iw / 2) + $0P);
 if ($X < 0) {
 $X = 0;
 }
 ;
 if ($0Q && $0Q.style) {
 $0Q.style.left = $X + "px";
 }
 ;
 if ($0R && $0R.style) {
 $0R.style.left = $X + "px";
 }
 }
 ;
 var $0S = this.$5k();
 for (var i = 0; i < this.nav.scrollUp.length; i++) {
 var up = this.nav.scrollUp[i];
 var $0T = this.nav.scrollDown[i];
 var $0U = this.$5j[i].minEnd - $0S;
 var $0V = this.$5j[i].maxStart - $0S;
 if (up && $0T) {
 if ($0U <= $c.scrollPos) {
 up.style.top = (this.$4K()) + "px";
 up.style.display = '';
 } else {
 up.style.display = 'none';
 }
 ;
 if ($0V >= $c.scrollPos + $c.scrollHeight) {
 $0T.style.top = (this.$4K() + this.scrollHeight - 10) + "px";
 $0T.style.display = '';
 } else {
 $0T.style.display = 'none';
 }
 }
 }
 };
 this.$5l = function ($E) {
 var $0W = $E.parentNode;
 while ($0W && $0W.tagName !== "TD") {
 $0W = $0W.parentNode;
 }
 ;
 var $X = 0;
 var top = $E.offsetTop;
 var $0X = $E.parentNode.offsetWidth;
 var $J = $E.offsetHeight;
 if ($E.event.allday()) {
 $X = $E.offsetLeft;
 $0X = $E.offsetWidth;
 }
 ;
 var $0Y = document.createElement('textarea');
 $0Y.style.boxSizing = "border-box";
 $0Y.style.position = 'absolute';
 $0Y.style.width = $0X + 'px';
 $0Y.style.height = $J + 'px';
 var $0Z = DayPilot.gs($E, 'fontFamily');
 if (!$0Z)$0Z = DayPilot.gs($E, 'font-family');
 $0Y.style.fontFamily = $0Z;
 var $10 = DayPilot.gs($E, 'fontSize');
 if (!$10)$10 = DayPilot.gs($E, 'font-size');
 $0Y.style.fontSize = $10;
 $0Y.style.left = $X + 'px';
 $0Y.style.top = top + 'px';
 $0Y.style.border = '1px solid black';
 $0Y.style.padding = '0px';
 $0Y.style.marginTop = '0px';
 $0Y.style.backgroundColor = 'white';
 $0Y.value = DayPilot.tr($E.event.text());
 $0Y.event = $E.event;
 $0W.firstChild.appendChild($0Y);
 return $0Y;
 };
 this.$4Q = function ($d, e, $01) {
 $c.$5b($d, e, $01);
 };
 this.multiselect = {};
 this.multiselect.$4i = [];
 this.multiselect.$5m = [];
 this.multiselect.$5n = [];
 this.multiselect.$5o = [];
 this.multiselect.$5p = function () {
 var m = $c.multiselect;
 return DayPilot.JSON.stringify(m.events());
 };
 this.multiselect.events = function () {
 var m = $c.multiselect;
 var $11 = [];
 $11.ignoreToJSON = true;
 for (var i = 0; i < m.$5m.length; i++) {
 $11.push(m.$5m[i]);
 }
 ;
 return $11;
 };
 this.multiselect.$5q = function () {
 var h = $c.nav.select;
 h.value = $c.multiselect.$5p();
 };
 this.multiselect.$5c = function ($d, $12) {
 var m = $c.multiselect;
 if (m.isSelected($d.event)) {
 if ($c.allowMultiSelect) {
 if ($12) {
 m.remove($d.event, true);
 } else {
 var $13 = m.$5m.length;
 m.clear(true);
 if ($13 > 1) {
 m.add($d.event, true);
 }
 }
 } else {
 m.clear(true);
 }
 } else {
 if ($c.allowMultiSelect) {
 if ($12) {
 m.add($d.event, true);
 } else {
 m.clear(true);
 m.add($d.event, true);
 }
 } else {
 m.clear(true);
 m.add($d.event, true);
 }
 }
 ;
 m.redraw();
 m.$5q();
 };
 this.multiselect.$5r = function (ev) {
 var m = $c.multiselect;
 return m.$5s(ev, m.$4i);
 };
 this.multiselect.$5t = function () {
 var m = $c.multiselect;
 var $14 = [];
 for (var i = 0; i < m.$5m.length; i++) {
 var event = m.$5m[i];
 $14.push(event.value());
 }
 ;
 alert($14.join("\n"));
 };
 this.multiselect.add = function (ev, $15) {
 var m = $c.multiselect;
 if (m.$5u(ev) === -1) {
 m.$5m.push(ev);
 }
 ;
 m.$5q();
 if ($15) {
 return;
 }
 ;
 m.redraw();
 };
 this.multiselect.remove = function (ev, $15) {
 var m = $c.multiselect;
 var i = m.$5u(ev);
 if (i !== -1) {
 m.$5m.splice(i, 1);
 }
 ;
 m.$5q();
 if ($15) {
 return;
 }
 ;
 m.redraw();
 };
 this.multiselect.clear = function ($15) {
 var m = $c.multiselect;
 m.$5m = [];
 m.$5q();
 if ($15) {
 return;
 }
 ;
 m.redraw();
 };
 this.multiselect.redraw = function () {
 var m = $c.multiselect;
 for (var i = 0; i < $c.elements.events.length; i++) {
 var $d = $c.elements.events[i];
 if (m.isSelected($d.event)) {
 m.$5v($d);
 } else {
 m.$5w($d);
 }
 }
 };
 this.multiselect.$5v = function ($d) {
 var m = $c.multiselect;
 var cn = $c.cssOnly ? $c.$4D("_selected") : $c.$4D("selected");
 var c = m.$5x($d);
 DayPilot.Util.addClass(c, cn);
 if ($c.useEventSelectionBars) {
 m.$5y($d);
 }
 ;
 m.$5n.push($d);
 };
 this.multiselect.$5x = function ($d) {
 if ($c.cssOnly) {
 return $d;
 }
 ;
 for (var i = 0; i < $d.childNodes.length; i++) {
 var c = $d.childNodes[i];
 if (c.getAttribute("c") === "1") {
 return c;
 }
 }
 ;
 return null;
 };
 this.multiselect.$5z = function () {
 var m = $c.multiselect;
 for (var i = 0; i < m.$5n.length; i++) {
 var $d = m.$5n[i];
 m.$5w($d, true);
 }
 ;
 m.$5n = [];
 };
 this.multiselect.$5w = function ($d, $16) {
 var m = $c.multiselect;
 var cn = $c.cssOnly ? $c.$4D("_selected") : $c.$4D("selected");
 var c = m.$5x($d);
 DayPilot.Util.removeClass(c, cn);
 if ($c.useEventSelectionBars) {
 m.$5A($d);
 }
 ;
 if ($16) {
 return;
 }
 ;
 var i = DayPilot.indexOf(m.$5n, $d);
 if (i !== -1) {
 m.$5n.splice(i, 1);
 }
 };
 this.multiselect.isSelected = function (ev) {
 return $c.multiselect.$5s(ev, $c.multiselect.$5m);
 };
 this.multiselect.$5u = function (ev) {
 return DayPilot.indexOf($c.multiselect.$5m, ev);
 };
 this.multiselect.$5s = function (e, $14) {
 if (!$14) {
 return false;
 }
 ;
 for (var i = 0; i < $14.length; i++) {
 var ei = $14[i];
 if (e === ei) {
 return true;
 }
 ;
 if (typeof ei.value === 'function') {
 if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
 return true;
 }
 ;
 if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
 return true;
 }
 } else {
 if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
 return true;
 }
 ;
 if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
 return true;
 }
 }
 }
 ;
 return false;
 };
 this.multiselect.$5y = function ($17) {
 var w = 5;
 if (!$17.top) {
 var top = document.createElement("div");
 top.setAttribute("unselectable", "on");
 top.style.position = 'absolute';
 top.style.left = $17.offsetLeft + 'px';
 top.style.width = $17.offsetWidth + 'px';
 top.style.top = ($17.offsetTop - w) + 'px';
 top.style.height = w + 'px';
 top.style.backgroundColor = $c.eventSelectColor;
 top.style.zIndex = 100;
 $17.parentNode.appendChild(top);
 $17.top = top;
 }
 ;
 if (!$17.bottom) {
 var $18 = document.createElement("div");
 $18.setAttribute("unselectable", "on");
 $18.style.position = 'absolute';
 $18.style.left = $17.offsetLeft + 'px';
 $18.style.width = $17.offsetWidth + 'px';
 $18.style.top = ($17.offsetTop + $17.offsetHeight) + 'px';
 $18.style.height = w + 'px';
 $18.style.backgroundColor = $c.eventSelectColor;
 $18.style.zIndex = 100;
 $17.parentNode.appendChild($18);
 $17.bottom = $18;
 }
 };
 this.multiselect.$5A = function ($17) {
 if ($17.top) {
 $17.parentNode.removeChild($17.top);
 $17.top = null;
 }
 ;
 if ($17.bottom) {
 $17.parentNode.removeChild($17.bottom);
 $17.bottom = null;
 }
 };
 this.$4P = function ($E) {
 if (DayPilotCalendar.editing) {
 DayPilotCalendar.editing.blur();
 return;
 }
 ;
 var $0Y = this.$5l($E);
 DayPilotCalendar.editing = $0Y;
 $0Y.onblur = function () {
 var id = $E.event.value();
 var $19 = $E.event.tag();
 var $1a = $E.event.text();
 var $0z = $0Y.value;
 DayPilotCalendar.editing = null;
 $0Y.parentNode.removeChild($0Y);
 if ($1a === $0z) {
 return;
 }
 ;
 $E.style.display = 'none';
 $c.$5a($E.event, $0z);
 };
 $0Y.onkeypress = function (e) {
 var $1b = (window.event) ? event.keyCode : e.keyCode;
 if ($1b === 13) {
 this.onblur();
 return false;
 } else if ($1b === 27) {
 $0Y.parentNode.removeChild($0Y);
 DayPilotCalendar.editing = false;
 }
 ;
 return true;
 };
 $0Y.select();
 $0Y.focus();
 };
 this.$4j = function () {
 if (!this.columns) {
 this.$4C = this.$5B();
 this.$5C(this.$4C);
 } else {
 this.$5C(this.columns);
 this.$4C = this.$5D(this.headerLevels, true);
 }
 };
 this.$5E = function () {
 var $08 = this.startDate.getDatePart();
 var $1c = this.days;
 switch (this.viewType) {
 case "Day":
 $1c = 1;
 break;
 case "Week":
 $1c = 7;
 $08 = $08.firstDayOfWeek($0d.weekStarts());
 break;
 case "WorkWeek":
 $1c = 5;
 $08 = $08.firstDayOfWeek(1);
 break;
 }
 ;
 var end = $08.addDays($1c);
 var $u = {};
 $u.start = $08;
 $u.end = end;
 $u.days = $1c;
 return $u;
 };
 this.$5B = function () {
 var $0N = [];
 var $1d = this.$5E();
 var $08 = $1d.start;
 var $1c = $1d.days;
 for (var i = 0; i < $1c; i++) {
 var $q = {};
 $q.start = $08.addDays(i);
 var $1e = $0d.locale().datePattern;
 if ($c.headerDateFormat) {
 $1e = $c.headerDateFormat;
 }
 ;
 $q.name = $q.start.toString($1e);
 $q.html = $q.name;
 $0N.push($q);
 }
 ;
 return $0N;
 };
 this.$5F = function ($q) {
 if ($q.Start) {
 $q.id = $q.Value;
 $q.start = $q.Start;
 $q.name = $q.Name;
 $q.html = $q.InnerHTML;
 $q.toolTip = $q.ToolTip;
 $q.backColor = $q.BackColor;
 $q.areas = $q.Areas;
 $q.children = $q.Children;
 delete $q.Value;
 delete $q.Start;
 delete $q.Name;
 delete $q.InnerHTML;
 delete $q.ToolTip;
 delete $q.BackColor;
 delete $q.Areas;
 delete $q.Children;
 }
 ;
 $q.start = $q.start || $c.startDate;
 $q.start = new DayPilot.Date($q.start);
 $q.html = $q.html || $q.name;
 $q.getChildren = function ($1f, $1g) {
 var $14 = [];
 if ($1f <= 1) {
 $14.push(this);
 return $14;
 }
 ;
 if (!this.children || this.children.length === 0) {
 if ($1g) {
 $14.push(this);
 } else {
 $14.push("empty");
 }
 ;
 return $14;
 }
 ;
 for (var i = 0; i < this.children.length; i++) {
 var $1h = this.children[i];
 var $1i = $1h.getChildren($1f - 1, $1g);
 for (var j = 0; j < $1i.length; j++) {
 $14.push($1i[j]);
 }
 }
 ;
 return $14;
 };
 $q.getChildrenCount = function ($1f) {
 var $13 = 0;
 if (!this.children || this.children.length <= 0 || $1f <= 1) {
 return 1;
 }
 ;
 for (var i = 0; i < this.children.length; i++) {
 $13 += this.children[i].getChildrenCount($1f - 1);
 }
 ;
 return $13;
 };
 $q.putIntoBlock = function (ep) {
 for (var i = 0; i < this.blocks.length; i++) {
 var $1j = this.blocks[i];
 if ($1j.overlapsWith(ep.part.top, ep.part.height)) {
 $1j.events.push(ep);
 $1j.min = Math.min($1j.min, ep.part.top);
 $1j.max = Math.max($1j.max, ep.part.top + ep.part.height);
 return i;
 }
 }
 ;
 var $1j = [];
 $1j.lines = [];
 $1j.events = [];
 $1j.overlapsWith = function ($08, $0X) {
 var end = $08 + $0X - 1;
 if (!(end < this.min || $08 > this.max - 1)) {
 return true;
 }
 ;
 return false;
 };
 $1j.putIntoLine = function (ep) {
 var $1k = this;
 for (var i = 0; i < this.lines.length; i++) {
 var $1l = this.lines[i];
 if ($1l.isFree(ep.part.top, ep.part.height)) {
 $1l.push(ep);
 return i;
 }
 }
 ;
 var $1l = [];
 $1l.isFree = function ($08, $0X) {
 var end = $08 + $0X - 1;
 var $N = this.length;
 for (var i = 0; i < $N; i++) {
 var e = this[i];
 if (!(end < e.part.top || $08 > e.part.top + e.part.height - 1)) {
 return false;
 }
 }
 ;
 return true;
 };
 $1l.push(ep);
 this.lines.push($1l);
 return this.lines.length - 1;
 };
 $1j.events.push(ep);
 $1j.min = ep.part.top;
 $1j.max = ep.part.top + ep.part.height;
 this.blocks.push($1j);
 return this.blocks.length - 1;
 };
 $q.putIntoLine = function (ep) {
 var $1k = this;
 for (var i = 0; i < this.lines.length; i++) {
 var $1l = this.lines[i];
 if ($1l.isFree(ep.part.top, ep.part.height)) {
 $1l.push(ep);
 return i;
 }
 }
 ;
 var $1l = [];
 $1l.isFree = function ($08, $0X) {
 var end = $08 + $0X - 1;
 var $N = this.length;
 for (var i = 0; i < $N; i++) {
 var e = this[i];
 if (!(end < e.part.top || $08 > e.part.top + e.part.height - 1)) {
 return false;
 }
 }
 ;
 return true;
 };
 $1l.push(ep);
 this.lines.push($1l);
 return this.lines.length - 1;
 };
 if ($q.children) {
 this.$5C($q.children);
 }
 };
 this.$5C = function (cc) {
 for (var i = 0; i < cc.length; i++) {
 this.$5F(cc[i]);
 }
 };
 this.$5D = function ($1f, $1g) {
 var $1m = this.columns || this.$4C;
 var $14 = [];
 for (var i = 0; i < $1m.length; i++) {
 var $t = $1m[i].getChildren($1f, $1g);
 for (var j = 0; j < $t.length; j++) {
 $14.push($t[j]);
 }
 }
 ;
 return $14;
 };
 this.$4x = function () {
 if (!this.showAllDayEvents) {
 return;
 }
 ;
 var $1n = this.nav.header;
 if (!$1n) {
 return;
 }
 ;
 $1n.style.display = 'none';
 var $0N = this.$4C.length;
 for (var j = 0; j < this.$5G.lines.length; j++) {
 var $1l = this.$5G.lines[j];
 for (var i = 0; i < $1l.length; i++) {
 var $h = $1l[i];
 var $d = document.createElement("div");
 $d.event = $h;
 $d.setAttribute("unselectable", "on");
 $d.style.position = 'absolute';
 if ($c.rtl) {
 $d.style.right = (100.0 * $h.part.colStart / $0N) + "%";
 } else {
 $d.style.left = (100.0 * $h.part.colStart / $0N) + "%";
 }
 ;
 $d.style.width = (100.0 * $h.part.colWidth / $0N) + "%";
 $d.style.height = $0d.allDayEventHeight() + 'px';
 if (!this.cssOnly) {
 $d.style.top = (3 + this.headerLevels * $0d.headerHeight() + j * ($0d.allDayEventHeight() + 2)) + "px";
 } else {
 $d.className = this.$4D("_alldayevent");
 $d.style.top = (this.headerLevels * $0d.headerHeight() + j * ($0d.allDayEventHeight())) + "px";
 }
 ;
 $d.style.textAlign = 'left';
 $d.style.lineHeight = "1.2";
 if ($h.client.clickEnabled()) {
 $d.onclick = this.$4N;
 }
 ;
 if ($h.client.doubleClickEnabled()) {
 $d.ondblclick = this.$4R;
 }
 ;
 if ($h.client.clickEnabled() || $h.client.doubleClickEnabled()) {
 $d.style.cursor = "pointer";
 } else {
 $d.style.cursor = "default";
 }
 ;
 DayPilot.re($d, "contextmenu", this.$4S);
 $d.onmousemove = function (ev) {
 var $d = this;
 if (!$d.active) {
 var $1o = [];
 if ($h.client.deleteEnabled()) {
 $1o.push({
 "action": "JavaScript",
 "v": "Hover",
 "w": 17,
 "h": 17,
 "top": 3,
 "right": 3,
 "css": $c.$4D("_event_delete"),
 "js": function (e) {
 $c.$4W(e);
 }
 });
 }
 ;
 var $14 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
 if ($14 && $14.length > 0) {
 $1o = $1o.concat($14);
 }
 ;
 DayPilot.Areas.showAreas($d, $d.event, null, $1o);
 if ($c.cssOnly) {
 DayPilot.Util.addClass($d, $c.$4D("_alldayevent_hover"));
 }
 }
 ;
 if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
 $c.bubble.showEvent(this.event);
 }
 };
 $d.onmouseout = function (ev) {
 var $d = this;
 if ($c.cssOnly) {
 DayPilot.Util.removeClass($d, $c.$4D("_alldayevent_hover"));
 }
 ;
 DayPilot.Areas.hideAreas(this, ev);
 if ($c.bubble) {
 $c.bubble.hideOnMouseOut();
 }
 };
 if (this.showToolTip && !this.bubble) {
 $d.setAttribute("title", $h.client.toolTip());
 }
 ;
 var $1p = $h.start().getTime() === $h.part.start.getTime();
 var $1q = $h.end().getTime() === $h.part.end.getTime();
 var back = $h.data.backColor;
 if (!this.cssOnly) {
 var $M = document.createElement("div");
 $M.setAttribute("unselectable", "on");
 $M.style.marginLeft = '2px';
 $M.style.marginRight = '3px';
 $M.style.paddingLeft = '2px';
 $M.style.height = ($0d.allDayEventHeight() - 2) + 'px';
 $M.style.border = '1px solid ' + this.allDayEventBorderColor;
 $M.style.overflow = 'hidden';
 $M.style.position = 'relative';
 $M.style.backgroundColor = back;
 $M.className = this.$4D("alldayevent");
 if (this.roundedCorners) {
 $M.style.MozBorderRadius = "5px";
 $M.style.webkitBorderRadius = "5px";
 $M.style.borderRadius = "5px";
 }
 ;
 var $1r = [];
 var $1s = true;
 var $1t = this.showAllDayEventStartEnd;
 var $1u = this.showAllDayEventStartEnd;
 var $1v = "Center";
 var $1w = 0;
 if ($1t) {
 if ($1v === 'Left') {
 $1r.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");
 $1r.push("width:");
 $1r.push($1w - 4);
 $1r.push("px;");
 $1r.push("><span style='background-color:");
 } else {
 $1r.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");
 }
 ;
 $1r.push('transparent');
 $1r.push("' unselectable='on'>");
 if ($1p) {
 if ($h.start().getDatePart().getTime() !== $h.start().getTime()) {
 $1r.push(DayPilot.Date.hours($h.start().d, this.$5H.timeFormat() === 'Clock12Hours'));
 }
 } else {
 $1r.push("~");
 }
 ;
 $1r.push("</span></div></div>");
 }
 ;
 if ($1u) {
 $1r.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");
 $1r.push('transparent');
 $1r.push("' unselectable='on'>");
 if ($1q) {
 if ($h.end().getDatePart().getTime() !== $h.end().getTime()) {
 $1r.push(DayPilot.Date.hours($h.end().d, this.$5H.timeFormat() === 'Clock12Hours'));
 }
 } else {
 $1r.push("~");
 }
 ;
 $1r.push("</span></div></div>");
 }
 ;
 if ($1v === 'Left') {
 var $X = $1t ? $1w : 0;
 $1r.push("<div style='margin-top:0px;height:");
 $1r.push($0d.allDayEventHeight() - 2);
 $1r.push("px;");
 $1r.push(";overflow:hidden;text-align:left;padding-left:");
 $1r.push($X);
 $1r.push("px;font-size:");
 $1r.push(this.allDayEventFontSize);
 $1r.push(";color:");
 $1r.push(this.allDayEventFontColor);
 $1r.push(";font-family:");
 $1r.push(this.eventFontFamily);
 $1r.push("' unselectable='on'>");
 if ($h.client.innerHTML()) {
 $1r.push($h.client.innerHTML());
 } else {
 $1r.push($h.text());
 }
 ;
 $1r.push("</div>");
 } else if ($1v === 'Center') {
 if ($1s) {
 $1r.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");
 $1r.push("<span style='background-color:");
 $1r.push('transparent');
 $1r.push(";font-size:");
 $1r.push(this.allDayEventFontSize);
 $1r.push(";color:");
 $1r.push(this.allDayEventFontColor);
 $1r.push(";font-family:");
 $1r.push(this.allDayEventFontFamily);
 $1r.push("' unselectable='on'>");
 if ($h.client.innerHTML()) {
 $1r.push($h.client.innerHTML());
 } else {
 $1r.push($h.text());
 }
 ;
 $1r.push("</span>");
 $1r.push("</div>");
 } else {
 $1r.push("<div style='margin-top:0px;height:");
 $1r.push($0d.allDayEventHeight() - 2);
 $1r.push("px;");
 $1r.push(";overflow:hidden;text-align:center;font-size:");
 $1r.push(this.allDayEventFontSize);
 $1r.push(";color:");
 $1r.push(this.allDayEventFontColor);
 $1r.push(";font-family:");
 $1r.push(this.allDayEventFontFamily);
 $1r.push("' unselectable='on'>");
 if ($h.client.innerHTML()) {
 $1r.push($h.client.innerHTML());
 } else {
 $1r.push($h.text());
 }
 ;
 $1r.push("</div>");
 }
 }
 ;
 $M.innerHTML = $1r.join('');
 $d.appendChild($M);
 } else {
 var $M = document.createElement("div");
 $M.setAttribute("unselectable", "on");
 $M.className = this.$4D("_alldayevent_inner");
 if (back) {
 $M.style.background = back;
 }
 ;
 if ($c.rtl) {
 if (!$1p) {
 DayPilot.Util.addClass($d, this.$4D("_alldayevent_continueright"));
 }
 ;
 if (!$1q) {
 DayPilot.Util.addClass($d, this.$4D("_alldayevent_continueleft"));
 }
 } else {
 if (!$1p) {
 DayPilot.Util.addClass($d, this.$4D("_alldayevent_continueleft"));
 }
 ;
 if (!$1q) {
 DayPilot.Util.addClass($d, this.$4D("_alldayevent_continueright"));
 }
 }
 ;
 if ($h.client.innerHTML()) {
 $M.innerHTML = $h.client.innerHTML();
 } else {
 $M.innerHTML = $h.text();
 }
 ;
 $d.appendChild($M);
 }
 ;
 if ($c.$4A()) {
 if (typeof $c.onAfterEventRender === 'function') {
 var $n = {};
 $n.e = $d.event;
 $n.div = $d;
 $c.onAfterEventRender($n);
 }
 } else {
 if ($c.afterEventRender) {
 $c.afterEventRender($d.event, $d);
 }
 }
 ;
 this.nav.allday.appendChild($d);
 this.elements.events.push($d);
 }
 }
 ;
 $1n.style.display = '';
 };
 this.$46 = function ($1x) {
 $c.multiselect.$5z();
 if (this.elements.events) {
 for (var i = 0; i < this.elements.events.length; i++) {
 var $d = this.elements.events[i];
 var $E = $d.event;
 if ($E && $1x && !$E.allday()) {
 continue;
 }
 ;
 if ($E) {
 $E.div = null;
 $E.root = null;
 }
 ;
 $d.onclick = null;
 $d.onclickSave = null;
 $d.ondblclick = null;
 $d.oncontextmenu = null;
 $d.onmouseover = null;
 $d.onmouseout = null;
 $d.onmousemove = null;
 $d.onmousedown = null;
 if ($d.firstChild && $d.firstChild.firstChild && $d.firstChild.firstChild.tagName && $d.firstChild.firstChild.tagName.toUpperCase() === 'IMG') {
 var $1y = $d.firstChild.firstChild;
 $1y.onmousedown = null;
 $1y.onmousemove = null;
 $1y.onclick = null;
 }
 ;
 $d.helper = null;
 $d.event = null;
 DayPilot.de($d);
 }
 }
 ;
 this.elements.events = [];
 };
 this.$5I = function ($h) {
 var $G = this.nav.events;
 var $1z = this.roundedCorners;
 var $1A = this.roundedCorners && (this.$3V.ff || this.$3V.opera105 || this.$3V.webkit522 || !this.$3V.ielt9);
 var $1B = this.roundedCorners && !$1A;
 var $1C = $h.cache || $h.data;
 var $1D = $1C.borderColor || this.eventBorderColor;
 var $d = document.createElement("div");
 $d.setAttribute("unselectable", "on");
 $d.style.MozUserSelect = 'none';
 $d.style.KhtmlUserSelect = 'none';
 $d.style.WebkitUserSelect = 'none';
 $d.style.position = 'absolute';
 if (!this.cssOnly) {
 $d.style.fontFamily = this.eventFontFamily;
 $d.style.fontSize = this.eventFontSize;
 $d.style.color = $1C.fontColor || this.eventFontColor;
 if (!$1z) {
 $d.style.backgroundColor = $1D;
 }
 } else {
 $d.className = this.$4D("_event");
 }
 ;
 $d.style.left = $h.part.left + '%';
 $d.style.top = ($h.part.top - this.$5k()) + 'px';
 $d.style.width = $h.part.width + '%';
 $d.style.height = Math.max($h.part.height, 2) + 'px';
 $d.style.overflow = 'hidden';
 $d.isFirst = $h.part.start.getTime() === $h.start().getTime();
 $d.isLast = $h.part.end.getTime() === $h.end().getTime();
 if ($h.client.clickEnabled()) {
 $d.onclick = this.$4N;
 }
 ;
 if ($h.client.doubleClickEnabled()) {
 $d.ondblclick = this.$4R;
 }
 ;
 DayPilot.re($d, "contextmenu", this.$4S);
 $d.onmousemove = this.$5J;
 $d.onmouseout = this.$5K;
 $d.onmousedown = this.$5L;
 DayPilot.re($d, DayPilot.touch.start, this.$5M.onEventTouchStart);
 DayPilot.re($d, DayPilot.touch.move, this.$5M.onEventTouchMove);
 DayPilot.re($d, DayPilot.touch.end, this.$5M.onEventTouchEnd);
 var $1r = [];
 if (!this.cssOnly) {
 if (this.eventDeleteHandling !== 'Disabled' && $h.client.deleteEnabled()) {
 $1r.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;");
 if (this.deleteImageUrl) {
 $1r.push("background-image:url(\"" + this.deleteImageUrl + "\");");
 }
 ;
 $1r.push("' class='");
 $1r.push(this.$4D("event_delete"));
 $1r.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&");
 $1r.push(this.clientName);
 $1r.push(".bubble && ");
 $1r.push(this.clientName);
 $1r.push(".bubble.hideAfter > 0");
 $1r.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='");
 $1r.push(this.clientName);
 $1r.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>");
 }
 ;
 if ($1B) {
 $1r.push("<div style='margin-right:2px;'>");
 $1r.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:");
 $1r.push($1D);
 $1r.push(";'>&nbsp;</div>");
 $1r.push("</div>");
 $1r.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>");
 $1r.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid ");
 $1r.push($1D);
 $1r.push(";border-left:1px solid ");
 $1r.push($1D);
 $1r.push(";background-color:");
 $1r.push($h.client.header() ? $1D : $h.BackgroundColor);
 $1r.push("'>");
 $1r.push("&nbsp;</div>");
 $1r.push("</div>");
 } else if (!$1A) {
 $1r.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>");
 }
 ;
 $1r.push("<div");
 if (this.showToolTip && !this.bubble) {
 $1r.push(" title='");
 $1r.push($h.client.toolTip().replace(/'/g, "&apos;"));
 $1r.push("'");
 }
 ;
 var $J = Math.max($h.part.height - 2, 0);
 $1r.push(" c='1'");
 $1r.push(" class='");
 $1r.push($1C.cssClass || this.$4D('event'));
 $1r.push("'");
 if ($1B) {
 $1r.push(" style='margin-top:1px;height:");
 $1r.push($J - 2);
 } else {
 $1r.push(" style='margin-top:0px;height:");
 $1r.push($J);
 }
 ;
 $1r.push("px;background-color:");
 $1r.push($h.client.backColor());
 if ($1A) {
 $1r.push(";border:1px solid ");
 $1r.push($1D);
 $1r.push(";-moz-border-radius:5px;");
 $1r.push(";-webkit-border-radius:5px;");
 $1r.push(";border-radius:5px;");
 } else {
 $1r.push(";border-left:1px solid ");
 $1r.push($1D);
 $1r.push(";border-right:1px solid ");
 $1r.push($1D);
 }
 ;
 $1r.push(";");
 if ($h.data.backgroundImage) {
 $1r.push("background-image:url(");
 $1r.push($h.data.backgroundImage);
 $1r.push(");");
 if ($h.data.backgroundRepeat) {
 $1r.push("background-repeat:");
 $1r.push($h.data.backgroundRepeat);
 $1r.push(";");
 }
 }
 ;
 if ($c.rtl) {
 $1r.push("direction:rtl;");
 }
 ;
 $1r.push("' unselectable='on'>");
 if (this.durationBarVisible) {
 var $1E = $h.client.barColor() || $c.durationBarColor;
 $1r.push("<div style='position:absolute;left:1px;top:1px;width:");
 $1r.push($c.durationBarWidth - 1);
 $1r.push("px;height:");
 $1r.push($h.part.barTop);
 $1r.push("px;background-color:white;font-size:1px' unselectable='on'></div>");
 $1r.push("<div style='position:absolute;left:1px;top:");
 $1r.push($h.part.barTop + $h.part.barHeight);
 $1r.push("px;width:");
 $1r.push($c.durationBarWidth - 1);
 $1r.push("px;height:");
 $1r.push($J - ($h.part.barTop + $h.part.barHeight));
 $1r.push("px;background-color:white;font-size:1px' unselectable='on'></div>");
 $1r.push("<div style='position:absolute;left:1px;width:");
 $1r.push($c.durationBarWidth);
 $1r.push("px;height:");
 $1r.push($h.part.barHeight);
 $1r.push("px;");
 if ($h.data.durationBarImageUrl) {
 $1r.push("background-image:url(");
 $1r.push($h.data.durationBarImageUrl);
 $1r.push(");");
 } else if ($c.durationBarImageUrl) {
 $1r.push("background-image:url(");
 $1r.push($c.durationBarImageUrl);
 $1r.push(");");
 }
 ;
 $1r.push("top:");
 $1r.push($h.part.barTop + 1);
 $1r.push("px;background-color:");
 $1r.push($1E);
 $1r.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:");
 $1r.push($c.durationBarWidth);
 $1r.push("px;top:1px;width:1px;background-color:");
 $1r.push($1D);
 $1r.push(";height:100%' unselectable='on'></div>");
 }
 ;
 var $1F = $h.client.header() ? this.eventHeaderHeight : 0;
 if ($h.client.header()) {
 $1r.push("<div unselectable='on' style='overflow:hidden;height:");
 $1r.push(this.eventHeaderHeight);
 $1r.push("px; background-color:");
 $1r.push($1D);
 $1r.push(";font-size:");
 $1r.push(this.eventHeaderFontSize);
 $1r.push(";color:");
 $1r.push(this.eventHeaderFontColor);
 $1r.push("'>");
 $1r.push($h.client.header());
 $1r.push("</div>");
 }
 ;
 if (this.durationBarVisible) {
 $1r.push("<div unselectable='on' style='padding-left:");
 $1r.push($c.durationBarWidth + 3);
 $1r.push("px;");
 } else {
 $1r.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:");
 $1r.push($J - $1F - 1);
 $1r.push("px;");
 }
 ;
 $1r.push("'>");
 $1r.push($h.client.innerHTML());
 $1r.push("</div></div>");
 if ($1B) {
 $1r.push("<div unselectable='on' style='margin-right:2px;'>");
 $1r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:");
 $1r.push($1D);
 $1r.push(";'><!-- --></div>");
 $1r.push("</div>");
 $1r.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>");
 $1r.push("<div unselectable='on' style='margin-right:0px;position:relative;'>");
 $1r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid ");
 $1r.push($1D);
 $1r.push(";border-left:1px solid ");
 $1r.push($1D);
 $1r.push(";background-color:");
 $1r.push($h.client.backColor());
 $1r.push("'>");
 $1r.push("<!-- --></div>");
 $1r.push("</div>");
 $1r.push("</div>");
 }
 ;
 $d.innerHTML = $1r.join('');
 } else {
 if ($1C.cssClass) {
 DayPilot.Util.addClass($d, $1C.cssClass);
 }
 ;
 if (this.showToolTip && !this.bubble) {
 $d.setAttribute("title", $h.client.toolTip());
 }
 ;
 var $M = document.createElement("div");
 $M.setAttribute("unselectable", "on");
 $M.className = $c.$4D("_event_inner");
 $M.innerHTML = $h.client.innerHTML();
 if ($1C.fontColor) {
 $M.style.color = $1C.fontColor;
 }
 ;
 if ($1C.backColor) {
 $M.style.background = $1C.backColor;
 }
 ;
 if ($1C.borderColor) {
 $M.style.borderColor = $1C.borderColor;
 }
 ;
 if ($1C.backgroundImage) {
 $M.style.backgroundImage = "url(" + $1C.backgroundImage + ")";
 if ($1C.backgroundRepeat) {
 $M.style.backgroundRepeat = $1C.backgroundRepeat;
 }
 }
 ;
 $d.appendChild($M);
 if ($h.client.barVisible()) {
 var $J = $h.part.height - 2;
 var $1G = 100 * $h.part.barTop / $J;
 var $1H = Math.ceil(100 * $h.part.barHeight / $J);
 if (this.durationBarMode === "PercentComplete") {
 $1I = 0;
 $1J = $1C.complete;
 }
 ;
 var $1K = document.createElement("div");
 $1K.setAttribute("unselectable", "on");
 $1K.className = this.$4D("_event_bar");
 $1K.style.position = "absolute";
 var $1L = document.createElement("div");
 $1L.setAttribute("unselectable", "on");
 $1L.className = this.$4D("_event_bar_inner");
 $1L.style.top = $1G + "%";
 if (0 < $1H && $1H <= 1) {
 $1L.style.height = "1px";
 } else {
 $1L.style.height = $1H + "%";
 }
 ;
 $1K.appendChild($1L);
 $d.appendChild($1K);
 }
 }
 ;
 if ($1C.areas) {
 for (var i = 0; i < $1C.areas.length; i++) {
 var $1M = $1C.areas[i];
 if ($1M.v !== 'Visible') {
 continue;
 }
 ;
 var a = DayPilot.Areas.createArea($d, $h, $1M);
 $d.appendChild(a);
 }
 }
 ;
 if ($G.rows[0].cells[$h.part.dayIndex]) {
 var $1N = $G.rows[0].cells[$h.part.dayIndex].firstChild;
 $1N.appendChild($d);
 $c.$5N($d);
 $d.event = $h;
 if ($c.multiselect.$5r($h)) {
 $c.multiselect.add($d.event, true);
 }
 ;
 if ($c.$4A()) {
 if (typeof $c.onAfterEventRender === 'function') {
 var $n = {};
 $n.e = $d.event;
 $n.div = $d;
 $c.onAfterEventRender($n);
 }
 } else {
 if ($c.afterEventRender) {
 $c.afterEventRender($d.event, $d);
 }
 }
 }
 ;
 $c.elements.events.push($d);
 };
 this.$5N = function (el) {
 var c = (el && el.childNodes) ? el.childNodes.length : 0;
 for (var i = 0; i < c; i++) {
 try {
 var $1h = el.childNodes[i];
 if ($1h.nodeType === 1) {
 $1h.setAttribute("unselectable", "on");
 this.$5N($1h);
 }
 } catch (e) {
 }
 }
 };
 this.$4w = function () {
 this.multiselect.$5m = [];
 var $08 = new Date();
 for (var i = 0; i < this.$4C.length; i++) {
 var $1O = this.$4C[i];
 if (!$1O.blocks) {
 continue;
 }
 ;
 for (var m = 0; m < $1O.blocks.length; m++) {
 var $1j = $1O.blocks[m];
 for (var j = 0; j < $1j.lines.length; j++) {
 var $1l = $1j.lines[j];
 for (var k = 0; k < $1l.length; k++) {
 var e = $1l[k];
 e.part.width = 100 / $1j.lines.length;
 e.part.left = e.part.width * j;
 if (this.eventArrangement === 'Cascade') {
 var $1P = (j === $1j.lines.length - 1);
 if (!$1P) {
 e.part.width = e.part.width * 1.5;
 }
 }
 ;
 if (this.eventArrangement === 'Full') {
 e.part.left = e.part.left / 2;
 e.part.width = 100 - e.part.left;
 }
 ;
 if (!e.allday()) {
 this.$5I(e);
 }
 }
 }
 }
 }
 ;
 this.multiselect.redraw();
 var end = new Date();
 var $1Q = end.getTime() - $08.getTime();
 };
 this.$5O = function () {
 this.multiselect.$5m = [];
 for (var i = 0; i < this.$4C.length; i++) {
 var $1O = this.$4C[i];
 for (var j = 0; j < $1O.lines.length; j++) {
 var $1l = $1O.lines[j];
 for (var k = 0; k < $1l.length; k++) {
 var e = $1l[k];
 e.part.width = 100 / $1O.lines.length;
 e.part.left = e.Width * j;
 if (!e.allday()) {
 this.$5I(e);
 }
 }
 }
 }
 };
 this.$4D = function ($1R) {
 var $1S = this.theme || this.cssClassPrefix;
 if ($1S) {
 return $1S + $1R;
 } else {
 return "";
 }
 };
 this.$4v = function () {
 if (this.nav.top.style.visibility === 'hidden') {
 this.nav.top.style.visibility = 'visible';
 }
 };
 this.$5P = function () {
 var $J = this.$4K() + this.$5Q();
 $c.debug.message("Getting totalHeight, headerHeight: " + this.$4K() + " scrollable: " + this.$5Q());
 if ($J < 0) {
 return 0;
 }
 ;
 return $J;
 };
 this.$5R = function () {
 this.nav.top.dp = this;
 this.nav.top.innerHTML = '';
 this.nav.top.style.MozUserSelect = 'none';
 this.nav.top.style.KhtmlUserSelect = 'none';
 this.nav.top.style.WebkitUserSelect = 'none';
 this.nav.top.style.position = 'relative';
 if (this.width) {
 this.nav.top.style.width = this.width;
 }
 ;
 if (this.rtl) {
 this.nav.top.style.direction = "rtl";
 }
 ;
 if (!this.cssOnly) {
 this.nav.top.style.lineHeight = "1.2";
 this.nav.top.style.textAlign = "left";
 }
 ;
 if (this.heightSpec === "Parent100Pct") {
 this.nav.top.style.height = "100%";
 } else {
 this.nav.top.style.height = this.$5P() + "px";
 }
 ;
 if (this.hideUntilInit) {
 this.nav.top.style.visibility = 'hidden';
 }
 ;
 this.nav.scroll = document.createElement("div");
 this.nav.scroll.style.height = this.$5Q() + "px";
 if (this.cssOnly) {
 DayPilot.Util.addClass(this.nav.top, this.$4D("_main"));
 }
 ;
 var $0L = this.columnWidthSpec === 'Fixed';
 if (!$0L) {
 if (this.heightSpec === "Fixed") {
 this.nav.scroll.style.overflowY = "scroll";
 } else if (this.heightSpec === 'BusinessHours' && this.$4E() <= this.businessEndsHour - this.businessBeginsHour) {
 this.nav.scroll.style.overflow = "hidden";
 } else if (this.heightSpec !== "Full" && this.heightSpec !== "BusinessHoursNoScroll") {
 this.nav.scroll.style.overflow = "auto";
 } else {
 this.nav.scroll.style.overflow = "hidden";
 }
 }
 ;
 this.nav.scroll.style.position = "relative";
 if (!this.cssOnly) {
 this.nav.scroll.style.border = "1px solid " + this.borderColor;
 this.nav.scroll.style.backgroundColor = this.hourNameBackColor;
 }
 ;
 if (this.showHeader) {
 var $1n = this.$5S();
 this.nav.top.appendChild($1n);
 }
 ;
 this.nav.scroll.style.zoom = 1;
 this.nav.scroll.setAttribute("data-id", "nav.scroll");
 this.nav.scroll.style.position = "absolute";
 this.nav.scroll.style.left = "0px";
 this.nav.scroll.style.right = "0px";
 this.nav.scroll.style.top = this.$4K() + "px";
 var $1T = this.$5T();
 this.nav.scrollable = $1T.firstChild;
 this.nav.scroll.appendChild($1T);
 this.nav.top.appendChild(this.nav.scroll);
 this.nav.vsph = document.createElement("div");
 this.nav.vsph.style.display = "none";
 this.nav.top.appendChild(this.nav.vsph);
 this.nav.scrollpos = document.createElement("input");
 this.nav.scrollpos.type = "hidden";
 this.nav.scrollpos.id = $c.id + "_scrollpos";
 this.nav.scrollpos.name = this.nav.scrollpos.id;
 this.nav.top.appendChild(this.nav.scrollpos);
 this.nav.select = document.createElement("input");
 this.nav.select.type = "hidden";
 this.nav.select.id = $c.id + "_select";
 this.nav.select.name = this.nav.select.id;
 this.nav.select.value = null;
 this.nav.top.appendChild(this.nav.select);
 this.nav.scrollLayer = document.createElement("div");
 this.nav.scrollLayer.style.position = 'absolute';
 this.nav.scrollLayer.style.top = '0px';
 this.nav.scrollLayer.style.left = '0px';
 this.nav.top.appendChild(this.nav.scrollLayer);
 this.nav.scrollUp = [];
 this.nav.scrollDown = [];
 this.nav.loading = document.createElement("div");
 this.nav.loading.style.position = 'absolute';
 this.nav.loading.style.top = '0px';
 this.nav.loading.style.left = (this.hourWidth + 5) + "px";
 this.nav.loading.style.backgroundColor = this.loadingLabelBackColor;
 this.nav.loading.style.fontSize = this.loadingLabelFontSize;
 this.nav.loading.style.fontFamily = this.loadingLabelFontFamily;
 this.nav.loading.style.color = this.loadingLabelFontColor;
 this.nav.loading.style.padding = '2px';
 this.nav.loading.innerHTML = this.loadingLabelText;
 this.nav.loading.style.display = 'none';
 this.nav.top.appendChild(this.nav.loading);
 };
 this.$4s = function () {
 if (!this.$3S) {
 DayPilot.pu(this.nav.hourTable);
 } else {
 this.$5U();
 }
 ;
 if (this.nav.hoursPlaceholder) {
 this.nav.hoursPlaceholder.innerHTML = '';
 this.nav.hourTable = this.$5V();
 this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);
 }
 };
 this.$5U = function () {
 if (!this.nav.hourTable) {
 return;
 }
 ;
 for (var i = 0; i < this.nav.hourTable.rows.length; i++) {
 var $1U = this.nav.hourTable.rows[i];
 var $d = $1U.cells[0].firstChild;
 $d.data = null;
 $d.onmousemove = null;
 $d.onmouseout = null;
 }
 };
 this.$5T = function () {
 var $1V = document.createElement("div");
 $1V.style.zoom = 1;
 $1V.style.position = 'relative';
 $1V.onmousemove = this.$5W;
 DayPilot.re($1V, DayPilot.touch.start, this.$5M.onMainTouchStart);
 DayPilot.re($1V, DayPilot.touch.move, this.$5M.onMainTouchMove);
 DayPilot.re($1V, DayPilot.touch.end, this.$5M.onMainTouchEnd);
 DayPilot.re($1V, "contextmenu", function (ev) {
 var ev = ev || window.event;
 ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
 });
 if (navigator.msPointerEnabled) {
 $1V.style.msTouchAction = "none";
 $1V.style.touchAction = "none";
 }
 ;
 var $1W = null;
 var $1X = null;
 var $1Y = null;
 var $0L = this.columnWidthSpec === 'Fixed';
 if ($0L) {
 if (this.showHours) {
 var $X = document.createElement("div");
 $X.style.cssFloat = "left";
 $X.style.styleFloat = "left";
 $X.style.width = (this.hourWidth) + "px";
 $X.style.height = this.$5Q() + "px";
 $X.style.overflow = "hidden";
 $1V.appendChild($X);
 $1W = $X;
 var $1Z = 30;
 var $J = (this.$4F() * this.cellHeight) / (60000 * this.cellDuration) + $1Z;
 $1Y = document.createElement("div");
 $1Y.style.height = ($J) + "px";
 $X.appendChild($1Y);
 }
 ;
 var $Y = document.createElement("div");
 $Y.style.height = this.$5Q() + "px";
 if (this.showHours) {
 $Y.style.marginLeft = (this.hourWidth) + "px";
 }
 ;
 $Y.style.position = "relative";
 $Y.style.overflow = "auto";
 $1V.appendChild($Y);
 $1X = $Y;
 } else {
 var $20 = document.createElement("table");
 $20.cellSpacing = "0";
 $20.cellPadding = "0";
 $20.border = "0";
 $20.style.border = "0px none";
 $20.style.width = "100%";
 $20.style.position = 'relative';
 var r = $20.insertRow(-1);
 var c;
 if (this.showHours) {
 c = r.insertCell(-1);
 c.style.verticalAlign = "top";
 c.style.padding = '0px';
 c.style.border = '0px none';
 $1Y = c;
 }
 ;
 c = r.insertCell(-1);
 c.width = "100%";
 c.style.padding = '0px';
 c.style.border = '0px none';
 c.style.verticalAlign = "top";
 if (!this.cssOnly) {
 c.style.borderLeft = "1px solid " + this.borderColor;
 }
 ;
 $1X = c;
 $1V.appendChild($20);
 }
 ;
 if ($1Y) {
 this.nav.hourTable = this.$5V();
 $1Y.appendChild(this.nav.hourTable);
 }
 ;
 if (!this.cssOnly && !this.$3T) {
 $1X.appendChild(this.$5X());
 } else {
 var parent = document.createElement("div");
 parent.style.height = "0px";
 parent.style.position = "relative";
 parent.appendChild(this.$5X());
 var $21 = document.createElement("div");
 $21.style.position = "absolute";
 $21.style.top = "0px";
 $21.style.left = "0px";
 $21.style.right = "0px";
 $21.style.height = "0px";
 parent.appendChild($21);
 this.nav.crosshair = $21;
 parent.appendChild(this.$5Y());
 $1X.appendChild(parent);
 }
 ;
 this.nav.zoom = $1V;
 this.nav.bottomLeft = $1W;
 this.nav.bottomRight = $1X;
 this.nav.hoursPlaceholder = $1Y;
 return $1V;
 };
 this.$5X = function () {
 var $20 = document.createElement("table");
 $20.cellPadding = "0";
 $20.cellSpacing = "0";
 $20.border = "0";
 var $0L = this.columnWidthSpec === 'Fixed';
 if (!$0L) {
 $20.style.width = "100%";
 }
 ;
 $20.style.border = "0px none";
 if (!this.cssOnly) {
 }
 ;
 $20.style.tableLayout = 'fixed';
 this.nav.main = $20;
 this.nav.events = $20;
 return $20;
 };
 this.$5Z = function () {
 var $0L = this.columnWidthSpec === 'Fixed';
 if (!$0L) {
 return "100%";
 } else {
 var $22 = 0;
 for (var i = 0; i < $c.$4C.length; i++) {
 var $q = $c.$4C[i];
 if ($q.width) {
 $22 += $q.width;
 } else {
 $22 += $c.columnWidth;
 }
 }
 ;
 return $22 + "px";
 }
 };
 this.$5Y = function () {
 var $20 = document.createElement("table");
 var $0L = this.columnWidthSpec === 'Fixed';
 $20.style.position = "absolute";
 $20.style.top = "0px";
 $20.cellPadding = "0";
 $20.cellSpacing = "0";
 $20.border = "0";
 $20.style.width = $c.$5Z();
 $20.style.border = "0px none";
 $20.style.tableLayout = 'fixed';
 this.nav.events = $20;
 var $23 = true;
 var $0N = this.$4C;
 var cl = $0N.length;
 var r = ($23) ? $20.insertRow(-1) : $20.rows[0];
 for (var j = 0; j < cl; j++) {
 var c = ($23) ? r.insertCell(-1) : r.cells[j];
 if ($23) {
 c.style.padding = '0px';
 c.style.border = '0px none';
 c.style.height = '0px';
 c.style.overflow = 'visible';
 if (!$c.rtl) {
 c.style.textAlign = 'left';
 }
 ;
 if ($c.columnWidthSpec === "Fixed") {
 if ($0N[j].width) {
 c.style.width = $0N[j].width + "px";
 } else {
 c.style.width = $c.columnWidth + "px";
 }
 }
 ;
 var $d = document.createElement("div");
 $d.style.marginRight = $c.columnMarginRight + "px";
 $d.style.position = 'relative';
 $d.style.height = '1px';
 if (!this.cssOnly) {
 $d.style.fontSize = '1px';
 $d.style.lineHeight = '1.2';
 }
 ;
 $d.style.marginTop = '-1px';
 c.appendChild($d);
 }
 }
 ;
 return $20;
 };
 this.$5V = function () {
 var $20 = document.createElement("table");
 $20.cellSpacing = "0";
 $20.cellPadding = "0";
 $20.border = "0";
 $20.style.border = '0px none';
 $20.style.width = this.hourWidth + "px";
 $20.oncontextmenu = function () {
 return false;
 };
 $20.onmousemove = function () {
 $c.$4d();
 };
 var $24 = this.$4F() / (this.timeHeaderCellDuration * 60 * 1000);
 for (var i = 0; i < $24; i++) {
 this.$60($20, i);
 }
 ;
 return $20;
 };
 this.$61 = function () {
 return (this.$4J() - this.$4J(true)) * (60 / this.cellDuration);
 };
 this.$62 = function () {
 return (this.$4J() - this.$4J(true));
 };
 this.$5k = function () {
 return this.$61() * this.cellHeight;
 };
 this.$60 = function ($20, i) {
 var $J = (this.cellHeight * 60 / this.cellDuration) / (60 / this.timeHeaderCellDuration);
 var r = $20.insertRow(-1);
 r.style.height = $J + "px";
 var c = r.insertCell(-1);
 c.valign = "bottom";
 c.setAttribute("unselectable", "on");
 if (!this.cssOnly) {
 c.className = this.$4D("rowheader");
 c.style.backgroundColor = this.hourNameBackColor;
 c.style.cursor = "default";
 }
 ;
 c.style.padding = '0px';
 c.style.border = '0px none';
 var $25 = document.createElement("div");
 if (this.cssOnly) {
 $25.className = this.$4D("_rowheader");
 }
 ;
 $25.style.position = "relative";
 $25.style.width = this.hourWidth + "px";
 $25.style.height = ($J) + "px";
 $25.style.overflow = 'hidden';
 $25.setAttribute("unselectable", "on");
 var $1j = document.createElement("div");
 if (this.cssOnly) {
 $1j.className = this.$4D("_rowheader_inner");
 }
 ;
 $1j.setAttribute("unselectable", "on");
 if (!this.cssOnly) {
 $1j.style.borderBottom = "1px solid " + this.hourNameBorderColor;
 $1j.style.textAlign = "right";
 $1j.style.height = ($J - 1) + "px";
 }
 ;
 var $S = null;
 var $h = null;
 if (this.hours) {
 var $26 = i + this.$62();
 $h = this.hours[$26];
 $S = $h.html;
 }
 ;
 var $08 = this.startDate.addHours(i + this.$4J());
 var $27 = $08.getHours();
 if (typeof $c.onBeforeTimeHeaderRender === 'function') {
 var $n = {};
 $n.header = {};
 $n.header.hours = $27;
 $n.header.minutes = $08.getMinutes();
 $n.header.start = $08.toString("HH:mm");
 $n.header.html = $S;
 $n.header.areas = $h ? $h.areas : null;
 $c.onBeforeTimeHeaderRender($n);
 if ($n.header.html !== null) {
 $S = $n.header.html;
 }
 ;
 $h = $n.header;
 }
 ;
 if ($h) {
 $25.data = $h;
 $25.onmousemove = $c.$63;
 $25.onmouseout = $c.$64;
 }
 ;
 if ($S) {
 $1j.innerHTML = $S;
 } else {
 var $28 = document.createElement("div");
 $28.setAttribute("unselectable", "on");
 if (!this.cssOnly) {
 $28.style.padding = "2px";
 $28.style.fontFamily = this.hourFontFamily;
 $28.style.fontSize = this.hourFontSize;
 $28.style.color = this.hourFontColor;
 }
 ;
 var am = $27 < 12;
 if (this.$5H.timeFormat() === "Clock12Hours") {
 $27 = $27 % 12;
 if ($27 === 0) {
 $27 = 12;
 }
 }
 ;
 $28.innerHTML = $27;
 var $29 = document.createElement("span");
 $29.setAttribute("unselectable", "on");
 if (!this.cssOnly) {
 $29.style.fontSize = "10px";
 $29.style.verticalAlign = "super";
 } else {
 $29.className = this.$4D("_rowheader_minutes");
 }
 ;
 var $2a;
 if (this.$5H.timeFormat() === "Clock12Hours") {
 if (am) {
 $2a = "AM";
 } else {
 $2a = "PM";
 }
 } else {
 $2a = "00";
 }
 ;
 if (!this.cssOnly) {
 $29.innerHTML = "&nbsp;" + $2a;
 } else {
 $29.innerHTML = $2a;
 }
 ;
 $28.appendChild($29);
 $1j.appendChild($28);
 }
 ;
 $25.appendChild($1j);
 c.appendChild($25);
 };
 this.$63 = function (ev) {
 $c.$4d();
 var $d = this;
 if (!$d.active) {
 DayPilot.Areas.showAreas($d, $d.data);
 }
 };
 this.$64 = function (ev) {
 DayPilot.Areas.hideAreas(this, ev);
 };
 this.$5Q = function () {
 switch (this.heightSpec) {
 case "Fixed":
 return this.height;
 case "Parent100Pct":
 return this.height;
 case "Full":
 return (this.$4F() * this.cellHeight) / (60000 * this.cellDuration);
 case "BusinessHours":
 case "BusinessHoursNoScroll":
 var $O = this.$4G();
 return $O * this.cellHeight * 60 / this.cellDuration;
 default:
 throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";
 }
 };
 this.$4K = function () {
 if (!this.showHeader) {
 return 0;
 }
 ;
 var $2b = this.headerLevels * $0d.headerHeight() + this.headerLevels - 1;
 if (this.showAllDayEvents && $0d.allDayHeaderHeight()) {
 if (!this.cssOnly) {
 return $2b + $0d.allDayHeaderHeight();
 } else {
 return $2b + $0d.allDayHeaderHeight();
 }
 } else {
 return $2b;
 }
 };
 this.$4o = function () {
 if (!this.headerHeightAutoFit) {
 return;
 }
 ;
 if (this.headerLevels > 1) {
 throw "Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";
 return;
 }
 ;
 var $N = 0;
 for (var i = 0; i < this.$4C.length; i++) {
 var $f = this.nav.header.rows[this.headerLevels - 1].cells[i];
 var $d = $f.firstChild;
 var $M = $d.firstChild;
 var $2c = $d.style.height;
 $d.style.height = "auto";
 $M.style.position = "static";
 var h = $d.offsetHeight;
 $d.style.height = $2c;
 $M.style.position = '';
 $N = Math.max($N, h);
 }
 ;
 if ($N > this.headerHeight) {
 this.$3R.headerHeight = $N;
 this.$4m();
 this.$4n();
 }
 };
 this.$65 = function () {
 if (this.cssOnly) {
 return DayPilot.sw($c.nav.scroll) > 0;
 } else {
 return DayPilot.sw($c.nav.scroll) > 2;
 }
 };
 this.$5S = function () {
 var $1n = document.createElement("div");
 if (!this.cssOnly) {
 $1n.style.borderLeft = "1px solid " + this.borderColor;
 $1n.style.borderRight = "1px solid " + this.borderColor;
 }
 ;
 var $0L = this.columnWidthSpec === 'Fixed';
 if (!$0L) {
 $1n.style.overflow = "auto";
 }
 ;
 $1n.style.position = "absolute";
 $1n.style.left = "0px";
 $1n.style.right = "0px";
 var $1V = document.createElement("div");
 $1V.style.position = "relative";
 $1V.style.zoom = "1";
 var $2d = null;
 var $0L = this.columnWidthSpec === 'Fixed';
 if ($0L) {
 var $X = document.createElement("div");
 $X.style.cssFloat = "left";
 $X.style.styleFloat = "left";
 $X.style.width = (this.hourWidth) + "px";
 if (this.showHours) {
 var $2e = this.$66();
 this.nav.corner = $2e;
 $X.appendChild($2e);
 $1V.appendChild($X);
 this.nav.upperLeft = $X;
 }
 ;
 var $1Z = 30;
 var $Y = document.createElement("div");
 if (this.showHours) {
 $Y.style.marginLeft = (this.hourWidth) + "px";
 }
 ;
 $Y.style.position = "relative";
 $Y.style.overflow = "hidden";
 $Y.style.height = this.$4K() + "px";
 $1V.appendChild($Y);
 this.nav.upperRight = $Y;
 $2d = document.createElement("div");
 $2d.style.width = (this.$4C.length * this.columnWidth + $1Z) + "px";
 $Y.appendChild($2d);
 } else {
 var $20 = document.createElement("table");
 $20.cellPadding = "0";
 $20.cellSpacing = "0";
 $20.border = "0";
 $20.style.width = "100%";
 $20.style.borderCollapse = 'separate';
 $20.style.border = "0px none";
 var r = $20.insertRow(-1);
 this.nav.fullHeader = $20;
 if (this.showHours) {
 var c = r.insertCell(-1);
 c.style.padding = '0px';
 c.style.border = '0px none';
 var $2e = this.$66();
 c.appendChild($2e);
 this.nav.corner = $2e;
 }
 ;
 c = r.insertCell(-1);
 c.style.width = "100%";
 if (!this.cssOnly) {
 c.style.backgroundColor = this.hourNameBackColor;
 }
 ;
 c.valign = "top";
 c.style.position = 'relative';
 c.style.padding = '0px';
 c.style.border = '0px none';
 $2d = document.createElement("div");
 $2d.style.position = "relative";
 $2d.style.height = this.$4K() + "px";
 $2d.style.overflow = "hidden";
 c.appendChild($2d);
 this.nav.mid = $2d;
 $1V.appendChild($20);
 }
 ;
 this.nav.headerParent = $2d;
 this.$67();
 var $2f = this.$65();
 var $0L = this.columnWidthSpec === 'Fixed';
 if ($2f && !$0L) {
 this.$68();
 }
 ;
 $1n.appendChild($1V);
 return $1n;
 };
 this.$67 = function () {
 this.nav.header = document.createElement("table");
 this.nav.header.cellPadding = "0";
 this.nav.header.cellSpacing = "0";
 var $0L = this.columnWidthSpec === 'Fixed';
 if (!$0L) {
 this.nav.header.width = "100%";
 }
 ;
 this.nav.header.style.tableLayout = "fixed";
 if (!this.cssOnly) {
 this.nav.header.style.borderBottom = "0px none #000000";
 this.nav.header.style.borderLeft = "1px solid " + this.borderColor;
 this.nav.header.style.borderTop = "1px solid " + this.borderColor;
 }
 ;
 this.nav.header.oncontextmenu = function () {
 return false;
 };
 var $2f = this.$65();
 if (!this.cssOnly) {
 if ($2f) {
 this.nav.header.style.borderRight = "1px solid " + this.borderColor;
 }
 }
 ;
 this.nav.headerParent.appendChild(this.nav.header);
 if (this.nav.allday) {
 DayPilot.de(this.nav.allday);
 }
 ;
 if (this.showAllDayEvents) {
 var $2g = document.createElement("div");
 $2g.style.position = 'absolute';
 $2g.style.top = "0px";
 $2g.style.height = "0px";
 var $0L = this.columnWidthSpec === 'Fixed';
 if (!$0L) {
 $2g.style.width = "100%";
 } else {
 $2g.style.width = (this.$4C.length * this.columnWidth) + "px";
 }
 ;
 this.nav.allday = $2g;
 this.nav.headerParent.appendChild($2g);
 }
 };
 this.$68 = function () {
 if (!this.nav.fullHeader) {
 return;
 }
 ;
 var r = this.nav.fullHeader.rows[0];
 var c = r.insertCell(-1);
 if (!this.cssOnly) {
 c.className = this.$4D('cornerright');
 c.style.backgroundColor = this.hourNameBackColor;
 c.style.borderBottom = "0px none";
 c.style.borderLeft = "1px solid " + this.borderColor;
 c.style.borderRight = "0px none";
 }
 ;
 c.style.padding = '0px';
 c.style.verticalAlign = 'top';
 c.setAttribute("unselectable", "on");
 var $1r = document.createElement("div");
 $1r.setAttribute("unselectable", "on");
 if (this.cssOnly) {
 $1r.className = this.$4D('_cornerright');
 }
 ;
 $1r.style.overflow = "hidden";
 $1r.style.position = "relative";
 $1r.style.width = "16px";
 $1r.style.height = this.$4K() + "px";
 var $M = document.createElement("div");
 if (this.cssOnly) {
 $M.className = this.$4D('_cornerright_inner');
 } else {
 $M.style.borderTop = "1px solid " + this.borderColor;
 }
 ;
 $1r.appendChild($M);
 c.appendChild($1r);
 this.nav.cornerRight = $1r;
 };
 this.$66 = function () {
 var $1T = document.createElement("div");
 $1T.style.position = 'relative';
 if (!this.cssOnly) {
 $1T.style.backgroundColor = this.cornerBackColor;
 $1T.style.fontFamily = this.headerFontFamily;
 $1T.style.fontSize = this.headerFontSize;
 $1T.style.color = this.headerFontColor;
 $1T.className = this.$4D("corner");
 } else {
 $1T.className = this.$4D("_corner");
 }
 ;
 $1T.style.width = this.hourWidth + "px";
 $1T.style.height = this.$4K() + "px";
 $1T.style.overflow = "hidden";
 $1T.oncontextmenu = function () {
 return false;
 };
 var $2e = document.createElement("div");
 if (this.cssOnly) {
 $2e.className = this.$4D("_corner_inner");
 } else {
 $2e.style.borderTop = "1px solid " + this.borderColor;
 }
 ;
 $2e.setAttribute("unselectable", "on");
 var $S = this.cornerHTML || this.cornerHtml;
 $2e.innerHTML = $S ? $S : '';
 $1T.appendChild($2e);
 if (!this.numberFormat)return $1T;
 var $2h = document.createElement("div");
 $2h.style.position = 'absolute';
 $2h.style.padding = '2px';
 $2h.style.top = '0px';
 $2h.style.left = '1px';
 //$2h.style.backgroundColor = "#FF6600";
 $2h.style.color = "white";
 //$2h.innerHTML = "\u0044\u0045\u004D\u004F";
 $2h.setAttribute("unselectable", "on");
 $1T.appendChild($2h);
 return $1T;
 };
 this.$47 = function () {
 var $20 = this.nav.main;
 $20.root = null;
 $20.onmouseup = null;
 for (var y = 0; y < $20.rows.length; y++) {
 var r = $20.rows[y];
 for (var x = 0; x < r.cells.length; x++) {
 var c = r.cells[x];
 c.root = null;
 c.onmousedown = null;
 c.onmousemove = null;
 c.onmouseout = null;
 c.onmouseup = null;
 c.onclick = null;
 c.ondblclick = null;
 c.oncontextmenu = null;
 }
 }
 ;
 if (!this.$3S)DayPilot.pu($20);
 };
 this.$4p = function () {
 for (var i = 0; this.nav.scrollUp && i < this.nav.scrollUp.length; i++) {
 this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);
 }
 ;
 for (var i = 0; this.nav.scrollDown && i < this.nav.scrollDown.length; i++) {
 this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);
 }
 ;
 this.nav.scrollUp = [];
 this.nav.scrollDown = [];
 };
 this.$4r = function () {
 var $20 = this.nav.main;
 var $0j = this.cellDuration * 60 * 1000;
 var $2i = this.$4M();
 var $2j = this.$62() * (60 / this.cellDuration);
 var $0N = $c.$4C;
 var $23 = !this.$69 || $20.rows.length === 0 || $0N.length !== $20.rows[0].cells.length || $2i !== $20.rows.length;
 if ($20) {
 this.$47();
 if ($c.$3V.ielt9 && $23) {
 DayPilot.de(this.nav.scrollable.parentNode);
 var $1T = this.$5T();
 this.nav.scrollable = $1T.firstChild;
 this.nav.scroll.appendChild($1T);
 $20 = this.nav.main;
 }
 }
 ;
 this.nav.scrollable.daypilotMainD = true;
 this.nav.scrollable.calendar = this;
 while ($20 && $20.rows && $20.rows.length > 0 && $23) {
 if (!this.$3S)DayPilot.pu($20.rows[0]);
 $20.deleteRow(0);
 }
 ;
 this.$69 = true;
 if (this.scrollLabelsVisible) {
 var $0N = this.$4C;
 var $0O = (this.showHours ? this.hourWidth : 0);
 var $H = (this.nav.scroll.clientWidth - $0O) / $0N.length;
 for (var i = 0; i < $0N.length; i++) {
 var $0Q = document.createElement("div");
 $0Q.style.position = 'absolute';
 $0Q.style.top = '0px';
 $0Q.style.left = ($0O + 2 + i * $H + $H / 2) + "px";
 $0Q.style.display = 'none';
 var $1y = document.createElement("div");
 $1y.style.height = '10px';
 $1y.style.width = '10px';
 if (this.cssOnly) {
 $1y.className = this.$4D("_scroll_up");
 } else {
 $1y.style.backgroundRepeat = "no-repeat";
 if (this.scrollUpUrl) {
 $1y.style.backgroundImage = "url('" + this.scrollUpUrl + "')";
 }
 ;
 $1y.className = this.$4D("scroll_up");
 }
 ;
 $0Q.appendChild($1y);
 this.nav.scrollLayer.appendChild($0Q);
 this.nav.scrollUp.push($0Q);
 var $0R = document.createElement("div");
 $0R.style.position = 'absolute';
 $0R.style.top = '0px';
 $0R.style.left = ($0O + 2 + i * $H + $H / 2) + "px";
 $0R.style.display = 'none';
 var $1y = document.createElement("div");
 $1y.style.height = '10px';
 $1y.style.width = '10px';
 if (this.cssOnly) {
 $1y.className = this.$4D("_scroll_down");
 } else {
 $1y.style.backgroundRepeat = "no-repeat";
 if (this.scrollDownUrl) {
 $1y.style.backgroundImage = "url('" + this.scrollDownUrl + "')";
 }
 ;
 $1y.className = this.$4D("scroll_down");
 }
 ;
 $0R.appendChild($1y);
 this.nav.scrollLayer.appendChild($0R);
 this.nav.scrollDown.push($0R);
 }
 }
 ;
 var cl = $0N.length;
 if (this.cssOnly || this.$3T) {
 var $11 = this.nav.events;
 while ($11 && $11.rows && $11.rows.length > 0 && $23) {
 if (!this.$3S)DayPilot.pu($11.rows[0]);
 $11.deleteRow(0);
 }
 ;
 var r = ($23) ? $11.insertRow(-1) : $11.rows[0];
 for (var j = 0; j < cl; j++) {
 var c = ($23) ? r.insertCell(-1) : r.cells[j];
 if ($23) {
 c.style.padding = '0px';
 c.style.border = '0px none';
 c.style.height = '1px';
 c.style.overflow = 'visible';
 var $0L = this.columnWidthSpec === 'Fixed';
 if ($0L) {
 if ($0N[j].width) {
 c.style.width = $0N[j].width + "px";
 } else {
 c.style.width = this.columnWidth + "px";
 }
 }
 ;
 if (!$c.rtl) {
 c.style.textAlign = 'left';
 }
 ;
 var $d = document.createElement("div");
 $d.style.marginRight = $c.columnMarginRight + "px";
 $d.style.position = 'relative';
 $d.style.height = '1px';
 if (!this.cssOnly) {
 $d.style.fontSize = '1px';
 $d.style.lineHeight = '1.2';
 }
 ;
 $d.style.marginTop = '-1px';
 c.appendChild($d);
 }
 }
 }
 ;
 for (var i = 0; i < $2i; i++) {
 var r = ($23) ? $20.insertRow(-1) : $20.rows[i];
 var y = i + $2j;
 if ($23) {
 r.style.MozUserSelect = 'none';
 r.style.KhtmlUserSelect = 'none';
 r.style.WebkitUserSelect = 'none';
 }
 ;
 for (var j = 0; j < cl; j++) {
 var $1O = this.$4C[j];
 var c = ($23) ? r.insertCell(-1) : r.cells[j];
 c.start = $1O.start.addTime(y * $0j).addHours(this.$4J());
 c.end = c.start.addTime($0j);
 c.resource = $1O.id;
 if (typeof this.onBeforeCellRender === 'function') {
 if (!this.cellProperties) {
 this.cellProperties = {};
 }
 ;
 var $f = {};
 $f.resource = c.resource;
 $f.start = c.start;
 $f.end = c.end;
 var $26 = j + "_" + y;
 $f.cssClass = null;
 $f.html = null;
 $f.backImage = null;
 $f.backRepeat = null;
 $f.backColor = null;
 $f.business = this.$6a(c.start, c.end);
 if (this.cellProperties[$26]) {
 DayPilot.Util.copyProps(this.cellProperties[$26], $f, ['cssClass', 'html', 'backImage', 'backRepeat', 'backColor', 'business']);
 }
 ;
 var $n = {};
 $n.cell = $f;
 this.onBeforeCellRender($n);
 this.cellProperties[$26] = $f;
 }
 ;
 var $2k = $c.$6b(j, y);
 if ($23) {
 c.root = this;
 c.style.padding = '0px';
 c.style.border = '0px none';
 c.style.verticalAlign = 'top';
 c.style.height = $c.cellHeight + 'px';
 c.style.overflow = 'hidden';
 c.setAttribute("unselectable", "on");
 if (!this.cssOnly) {
 var $2l = document.createElement("div");
 $2l.style.height = ($c.cellHeight - 1) + "px";
 $2l.style.width = '100%';
 $2l.style.overflow = 'hidden';
 $2l.setAttribute("unselectable", "on");
 c.appendChild($2l);
 var $d = document.createElement("div");
 $d.setAttribute("unselectable", "on");
 $d.style.fontSize = '1px';
 $d.style.height = '0px';
 c.appendChild($d);
 if ((!$c.rtl && j !== cl - 1) || $c.rtl) {
 c.style.borderRight = '1px solid ' + $c.cellBorderColor;
 }
 ;
 var $2m = (c.end.getMinutes() + c.end.getSeconds() + c.end.getMilliseconds()) > 0;
 if ($2m) {
 if ($c.hourHalfBorderColor !== '') {
 $d.style.borderBottom = '1px solid ' + $c.hourHalfBorderColor;
 }
 ;
 $d.className = $c.$4D("hourhalfcellborder");
 } else {
 if ($c.hourBorderColor !== '') {
 $d.style.borderBottom = '1px solid ' + $c.hourBorderColor;
 }
 ;
 $d.className = $c.$4D("hourcellborder");
 }
 } else {
 var $2l = document.createElement("div");
 $2l.className = $c.$4D("_cell");
 $2l.style.position = "relative";
 $2l.style.height = ($c.cellHeight) + "px";
 $2l.style.overflow = 'hidden';
 $2l.setAttribute("unselectable", "on");
 var $M = document.createElement("div");
 $M.className = $c.$4D("_cell_inner");
 $2l.appendChild($M);
 c.appendChild($2l);
 }
 } else {
 $2l = c.firstChild;
 $2l.className = $c.$4D("_cell");
 }
 ;
 c.onmousedown = this.$5d;
 c.onmousemove = this.$5g;
 c.onmouseout = this.$5f;
 DayPilot.re(c, DayPilot.touch.end, this.$5M.onCellTouchEnd);
 c.onmouseup = function () {
 return false;
 };
 c.onclick = function () {
 return false;
 };
 c.ondblclick = function () {
 DayPilotCalendar.firstMousePos = null;
 $c.$5e();
 clearTimeout(DayPilotCalendar.selectedTimeout);
 if ($c.timeRangeDoubleClickHandling === 'Disabled') {
 return;
 }
 ;
 var $0K = $c.getSelection();
 $c.$59($0K.start, $0K.end, $0K.resource);
 };
 c.oncontextmenu = function () {
 if (!this.selected) {
 $c.clearSelection();
 DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
 $c.selectedCells.push(this);
 DayPilotCalendar.firstSelected = this;
 DayPilotCalendar.topSelectedCell = this;
 DayPilotCalendar.bottomSelectedCell = this;
 $c.$5e();
 }
 ;
 if ($c.contextMenuSelection) {
 $c.contextMenuSelection.show($c.getSelection());
 }
 ;
 return false;
 };
 var $V = $c.$6c(j, y);
 $2l = c.firstChild;
 var $0L = this.columnWidthSpec === 'Fixed';
 if ($0L) {
 if ($1O.width) {
 $2l.style.width = $1O.width + "px";
 } else {
 $2l.style.width = this.columnWidth + "px";
 }
 }
 ;
 if ($V) {
 if (this.cssOnly) {
 $2l.firstChild.style.background = $V;
 } else {
 $2l.style.background = $V;
 }
 }
 ;
 var $2n = $2k ? $2k.business : this.$6a(c.start, c.end);
 if ($2n && this.cssOnly) {
 DayPilot.Util.addClass($2l, $c.$4D("_cell_business"));
 }
 ;
 var $S = this.cssOnly ? $2l.firstChild : $2l;
 if ($S) {
 $S.innerHTML = '';
 }
 ;
 $2l.style.backgroundImage = "";
 $2l.style.backgroundRepeat = "";
 if ($2k) {
 if ($2k.html) {
 $S.innerHTML = $2k.html;
 }
 ;
 if ($2k.cssClass) {
 if (this.cssOnly) {
 DayPilot.Util.addClass($2l, $2k.cssClass);
 } else {
 DayPilot.Util.addClass(c, $c.$4D($2k.cssClass));
 }
 }
 ;
 if ($2k.backImage) {
 $2l.style.backgroundImage = "url('" + $2k.backImage + "')";
 }
 ;
 if ($2k.backRepeat) {
 $2l.style.backgroundRepeat = $2k.backRepeat;
 }
 }
 ;
 if (!this.cssOnly) {
 DayPilot.Util.addClass(c, $c.$4D("cellbackground"));
 }
 }
 }
 ;
 $20.onmouseup = this.$5h;
 $20.root = this;
 $c.nav.scrollable.style.display = '';
 };
 this.$6a = function ($08, end) {
 if (this.businessBeginsHour < this.businessEndsHour) {
 return !($08.getHours() < this.businessBeginsHour || $08.getHours() >= this.businessEndsHour || $08.getDayOfWeek() === 6 || $08.getDayOfWeek() === 0);
 }
 ;
 if ($08.getHours() >= this.businessBeginsHour) {
 return true;
 }
 ;
 if ($08.getHours() < this.businessEndsHour) {
 return true;
 }
 ;
 return false;
 };
 this.$5W = function (ev) {
 ev = ev || window.event;
 ev.insideMainD = true;
 if (window.event) {
 window.event.srcElement.inside = true;
 }
 ;
 DayPilotCalendar.activeCalendar = this;
 var $2o = $c.nav.main;
 $c.coords = DayPilot.mo3($2o, ev);
 var $0G = DayPilot.mc(ev);
 var $21 = $c.crosshairType && $c.crosshairType !== "Disabled";
 var $2p = $c.coords.x < $c.hourWidth;
 if (DayPilot.Global.moving || DayPilot.Global.resizing || DayPilotCalendar.selecting || $2p) {
 $c.$4d();
 } else if ($21) {
 $c.$6d();
 }
 ;
 if (DayPilot.Global.resizing) {
 if (!DayPilotCalendar.resizingShadow) {
 DayPilotCalendar.resizingShadow = $c.$4B(DayPilot.Global.resizing, false, $c.shadow);
 }
 ;
 var $2q = DayPilot.Global.resizing.event.calendar.cellHeight;
 var $I = 0;
 var $2r = ($0G.y - DayPilotCalendar.originalMouse.y);
 if (DayPilot.Global.resizing.dpBorder === 'bottom') {
 var $2s = Math.floor(((DayPilotCalendar.originalHeight + DayPilotCalendar.originalTop + $2r) + $2q / 2) / $2q) * $2q - DayPilotCalendar.originalTop + $I;
 if ($2s < $2q)$2s = $2q;
 var $N = DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;
 if (DayPilotCalendar.originalTop + $2s > $N) {
 $2s = $N - DayPilotCalendar.originalTop;
 }
 ;
 DayPilotCalendar.resizingShadow.style.height = ($2s) + 'px';
 } else if (DayPilot.Global.resizing.dpBorder === 'top') {
 var $2t = Math.floor(((DayPilotCalendar.originalTop + $2r - $I) + $2q / 2) / $2q) * $2q + $I;
 if ($2t < $I) {
 $2t = $I;
 }
 ;
 if ($2t > DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2q) {
 $2t = DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2q;
 }
 ;
 var $2s = DayPilotCalendar.originalHeight - ($2t - DayPilotCalendar.originalTop);
 if ($2s < $2q) {
 $2s = $2q;
 } else {
 DayPilotCalendar.resizingShadow.style.top = $2t + 'px';
 }
 ;
 DayPilotCalendar.resizingShadow.style.height = ($2s) + 'px';
 }
 } else if (DayPilot.Global.moving) {
 if (!DayPilotCalendar.movingShadow) {
 var $2u = 3;
 if (DayPilot.distance($0G, DayPilotCalendar.originalMouse) > $2u) {
 DayPilotCalendar.movingShadow = $c.$4B(DayPilot.Global.moving, !$c.$3V.ie, $c.shadow);
 DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
 } else {
 return;
 }
 }
 ;
 if (!$c.coords) {
 return;
 }
 ;
 var $2q = $c.cellHeight;
 var $I = 0;
 var $0P = DayPilotCalendar.moveOffsetY;
 if (!$0P) {
 $0P = $2q / 2;
 }
 ;
 if (this.moveBy === "Top") {
 $0P = 0;
 }
 ;
 var $2t = Math.floor((($c.coords.y - $0P - $I) + $2q / 2) / $2q) * $2q + $I;
 if ($2t < $I) {
 $2t = $I;
 }
 ;
 var $G = $c.nav.main;
 var $N = $G.clientHeight;
 var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
 if ($2t + $J > $N) {
 $2t = $N - $J;
 }
 ;
 DayPilotCalendar.movingShadow.style.top = $2t + 'px';
 var $H = $G.clientWidth / $G.rows[0].cells.length;
 var $q = Math.floor(($c.coords.x) / $H);
 if ($q < 0) {
 $q = 0;
 }
 ;
 if ($c.rtl) {
 $q = $c.$4C.length - $q - 1;
 }
 ;
 var $11 = $c.nav.events;
 if ($q < $11.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
 DayPilotCalendar.movingShadow.column = $q;
 DayPilotCalendar.moveShadow($11.rows[0].cells[$q]);
 }
 }
 ;
 if (DayPilotCalendar.drag) {
 if (DayPilotCalendar.gShadow) {
 document.body.removeChild(DayPilotCalendar.gShadow);
 }
 ;
 DayPilotCalendar.gShadow = null;
 if (!DayPilotCalendar.movingShadow && $c.coords) {
 var $L = $c.$4B(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
 if ($L) {
 DayPilotCalendar.movingShadow = $L;
 var $0F = new DayPilot.Date().getDatePart();
 var ev = {
 'value': DayPilotCalendar.drag.id,
 'start': $0F,
 'end': $0F.addSeconds(DayPilotCalendar.drag.duration),
 'text': DayPilotCalendar.drag.text
 };
 var event = new DayPilot.Event(ev, $c);
 event.external = true;
 DayPilot.Global.moving = {};
 DayPilot.Global.moving.event = event;
 DayPilot.Global.moving.helper = {};
 }
 }
 ;
 ev.cancelBubble = true;
 }
 };
 this.temp = {};
 this.temp.getPosition = function () {
 var $2v = $c.$6e.getCellCoords();
 if (!$2v) {
 return null;
 }
 ;
 var $q = $c.$4C[$2v.x];
 var $f = {};
 $f.resource = $q.id;
 $f.start = new DayPilot.Date($q.start).addHours($c.$4J(true)).addMinutes($2v.y * $c.cellDuration);
 $f.end = $f.start.addMinutes($c.cellDuration);
 return $f;
 };
 this.$6e = {};
 this.$6e.getCellCoords = function () {
 var $u = {};
 $u.x = 0;
 $u.y = 0;
 if (!$c.coords) {
 return null;
 }
 ;
 var $G = $c.nav.main;
 var $2w = $c.coords.x;
 var i = 0;
 var $1O = this.col($G, i);
 while ($1O && $2w > $1O.left) {
 i += 1;
 $1O = this.col($G, i);
 }
 ;
 $u.x = i - 1;
 var $I = 0;
 var $1U = Math.floor(($c.coords.y - $I) / $c.cellHeight);
 $u.y = $1U;
 if ($u.x < 0) {
 return null;
 }
 ;
 return $u;
 };
 this.$6e.col = function ($20, x) {
 var $u = {};
 $u.left = 0;
 $u.width = 0;
 if (!$20) {
 return null;
 }
 ;
 if (!$20.rows) {
 return null;
 }
 ;
 if ($20.rows.length === 0) {
 return null;
 }
 ;
 if ($20.rows[0].cells.length == 0) {
 return null;
 }
 ;
 var $f = $20.rows[0].cells[x];
 if (!$f) {
 return null;
 }
 ;
 var t = DayPilot.abs($20);
 var c = DayPilot.abs($f);
 $u.left = c.x - t.x;
 $u.width = $f.offsetWidth;
 return $u;
 };
 this.$6d = function () {
 this.$4d();
 if (!this.elements.crosshair) {
 this.elements.crosshair = [];
 }
 ;
 var $2x = this.$6e.getCellCoords();
 if (!$2x) {
 return;
 }
 ;
 var $q = $2x.x;
 var y = Math.floor($2x.y / (60 / $c.cellDuration) * (60 / $c.timeHeaderCellDuration));
 if (y < 0) {
 return;
 }
 ;
 if (this.nav.hourTable) {
 if (y >= this.nav.hourTable.rows.length) {
 return;
 }
 ;
 var $2y = document.createElement("div");
 $2y.style.position = "absolute";
 $2y.style.left = "0px";
 $2y.style.right = "0px";
 $2y.style.top = "0px";
 $2y.style.bottom = "0px";
 $2y.style.opacity = .5;
 $2y.style.backgroundColor = this.crosshairColor;
 $2y.style.opacity = this.crosshairOpacity / 100;
 $2y.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
 this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2y);
 this.elements.crosshair.push($2y);
 }
 ;
 if (this.nav.header) {
 var $2z = document.createElement("div");
 $2z.style.position = "absolute";
 $2z.style.left = "0px";
 $2z.style.right = "0px";
 $2z.style.top = "0px";
 $2z.style.bottom = "0px";
 $2z.style.opacity = .5;
 $2z.style.backgroundColor = this.crosshairColor;
 $2z.style.opacity = this.crosshairOpacity / 100;
 $2z.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
 var $1U = this.nav.header.rows[this.headerLevels - 1];
 if ($1U.cells[$q]) {
 $1U.cells[$q].firstChild.appendChild($2z);
 this.elements.crosshair.push($2z);
 }
 }
 ;
 if (this.crosshairType === "Header") {
 return;
 }
 ;
 var $2A = this.nav.crosshair;
 var $I = 0;
 var top = Math.floor((($c.coords.y - $I)) / $c.cellHeight) * $c.cellHeight + $I;
 var $J = $c.cellHeight;
 var $2B = document.createElement("div");
 $2B.style.position = "absolute";
 $2B.style.left = "0px";
 $2B.style.right = "0px";
 $2B.style.top = top + "px";
 $2B.style.height = $J + "px";
 $2B.style.backgroundColor = this.crosshairColor;
 $2B.style.opacity = this.crosshairOpacity / 100;
 $2B.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
 $2B.onmousedown = this.$6f;
 $2A.appendChild($2B);
 this.elements.crosshair.push($2B);
 var $1O = this.$6e.col(this.nav.main, $q);
 $J = this.nav.main.clientHeight;
 if ($1O) {
 var $2C = document.createElement("div");
 $2C.style.position = "absolute";
 $2C.style.left = $1O.left + "px";
 $2C.style.width = $1O.width + "px";
 $2C.style.top = "0px";
 $2C.style.height = $J + "px";
 $2C.style.backgroundColor = this.crosshairColor;
 $2C.style.opacity = this.crosshairOpacity / 100;
 $2C.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
 $2C.onmousedown = this.$6f;
 $2A.appendChild($2C);
 this.elements.crosshair.push($2C);
 }
 };
 this.$6f = function (ev) {
 $c.$4d();
 var $2x = $c.$6e.getCellCoords();
 var $2D = 0;
 var $f = $c.nav.main.rows[$2x.y + $2D].cells[$2x.x];
 $c.$5d.apply($f, [ev]);
 };
 this.$4d = function () {
 if (!this.elements.crosshair || this.elements.crosshair.length === 0) {
 return;
 }
 ;
 for (var i = 0; i < this.elements.crosshair.length; i++) {
 var e = this.elements.crosshair[i];
 if (e && e.parentNode) {
 e.parentNode.removeChild(e);
 }
 }
 ;
 this.elements.crosshair = [];
 };
 this.$4k = function () {
 if (!this.cellConfig) {
 return;
 }
 ;
 var $2E = this.cellConfig;
 if ($2E.vertical) {
 for (var x = 0; x < $2E.x; x++) {
 var $2F = this.cellProperties[x + "_0"];
 for (var y = 1; y < $2E.y; y++) {
 this.cellProperties[x + "_" + y] = $2F;
 }
 }
 }
 ;
 if ($2E.horizontal) {
 for (var y = 0; y < $2E.y; y++) {
 var $2F = this.cellProperties["0_" + y];
 for (var x = 1; x < $2E.x; x++) {
 this.cellProperties[x + "_" + y] = $2F;
 }
 }
 }
 ;
 if ($2E["default"]) {
 var $2F = $2E["default"];
 for (var y = 0; y < $2E.y; y++) {
 for (var x = 0; x < $2E.x; x++) {
 if (!this.cellProperties[x + "_" + y]) {
 this.cellProperties[x + "_" + y] = $2F;
 }
 }
 }
 }
 };
 this.$6b = function (x, y) {
 if (!this.cellProperties) {
 return null;
 }
 ;
 return this.cellProperties[x + "_" + y];
 };
 this.$6g = function (x, y) {
 var $26 = x + '_' + y;
 if (this.cellProperties && this.cellProperties[$26]) {
 return this.cellProperties[$26].business;
 }
 ;
 return false;
 };
 this.$6c = function (x, y) {
 var $26 = x + '_' + y;
 if (this.cellProperties && this.cellProperties[$26]) {
 return this.cellProperties[$26].backColor;
 }
 ;
 return null;
 };
 this.$48 = function () {
 var $20 = this.nav.header;
 if ($20 && $20.rows) {
 for (var y = 0; y < $20.rows.length; y++) {
 var r = $20.rows[y];
 for (var x = 0; x < r.cells.length; x++) {
 var c = r.cells[x];
 c.onclick = null;
 c.onmousemove = null;
 c.onmouseout = null;
 }
 }
 }
 ;
 if (!this.$3S)DayPilot.pu($20);
 };
 this.$6h = function ($1f, $23) {
 var r = ($23) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$1f - 1];
 var $0N = this.$5D($1f);
 var $2G = $0N.length;
 var $2H = ($1f === $c.headerLevels);
 for (var i = 0; i < $2G; i++) {
 var $h = $0N[i];
 if ($c.$4A()) {
 if (typeof $c.onBeforeHeaderRender === 'function') {
 var $n = {};
 $n.header = {};
 DayPilot.Util.copyProps($h, $n.header, ['id', 'start', 'name', 'html', 'backColor', 'toolTip', 'areas', 'children']);
 this.onBeforeHeaderRender($n);
 DayPilot.Util.copyProps($n.header, $h, ['html', 'backColor', 'toolTip', 'areas']);
 }
 }
 ;
 var $2I = $h.getChildren ? true : false;
 var $f = ($23) ? r.insertCell(-1) : r.cells[i];
 $f.data = $h;
 if ($2H) {
 } else {
 var $2J = 1;
 if ($2I) {
 $2J = $h.getChildrenCount($c.headerLevels - $1f + 1);
 }
 ;
 $f.colSpan = $2J;
 }
 ;
 if ($2I) {
 $f.onclick = this.$4T;
 $f.onmousemove = this.$4U;
 $f.onmouseout = this.$4V;
 if ($h.toolTip) {
 $f.title = $h.toolTip;
 }
 }
 ;
 $f.style.overflow = 'hidden';
 $f.style.padding = '0px';
 $f.style.border = '0px none';
 $f.style.height = ($0d.headerHeight()) + "px";
 if (!this.cssOnly) {
 $f.style.borderLeft = "0px none";
 if (i !== $2G - 1) {
 $f.style.borderRight = "1px solid " + this.borderColor;
 }
 }
 ;
 var $d = ($23) ? document.createElement("div") : $f.firstChild;
 var $0L = this.columnWidthSpec === 'Fixed';
 if ($0L && $2H) {
 if ($h.width) {
 $d.style.width = $h.width + "px";
 } else {
 $d.style.width = $c.columnWidth + "px";
 }
 }
 ;
 if ($23) {
 $d.setAttribute("unselectable", "on");
 $d.style.MozUserSelect = 'none';
 $d.style.KhtmlUserSelect = 'none';
 $d.style.WebkitUserSelect = 'none';
 $d.style.position = 'relative';
 $d.style.height = $0d.headerHeight() + "px";
 if (!this.cssOnly) {
 $d.className = $c.$4D('colheader');
 $d.style.cursor = 'default';
 $d.style.fontFamily = this.headerFontFamily;
 $d.style.fontSize = this.headerFontSize;
 $d.style.color = this.headerFontColor;
 $d.style.backgroundColor = $h.backColor;
 $d.style.textAlign = 'center';
 var $28 = document.createElement("div");
 $28.style.position = 'absolute';
 $28.style.left = '0px';
 $28.style.right = '0px';
 $28.style.top = "0px";
 $28.style.bottom = "0px";
 $28.style.padding = "2px";
 $28.setAttribute("unselectable", "on");
 if ($1f !== 1) {
 $28.style.borderTop = '1px solid ' + this.borderColor;
 }
 ;
 if (this.headerClickHandling !== "Disabled") {
 $28.style.cursor = 'pointer';
 }
 ;
 $d.appendChild($28);
 } else {
 $d.className = $c.$4D('_colheader');
 var $M = document.createElement("div");
 $M.className = $c.$4D('_colheader_inner');
 if ($h.backColor) {
 $M.style.background = $h.backColor;
 }
 ;
 $d.appendChild($M);
 }
 ;
 $f.appendChild($d);
 } else {
 $d.style.height = $0d.headerHeight() + "px";
 }
 ;
 this.$6i($d, $h);
 if ($2I) {
 $d.firstChild.innerHTML = $h.html;
 }
 }
 };
 this.$6i = function ($d, $h) {
 var $2K = [];
 for (var j = 0; j < $d.childNodes.length; j++) {
 var $r = $d.childNodes[j];
 if ($r.isActiveArea) {
 $2K.push($r);
 }
 }
 ;
 for (var j = 0; j < $2K.length; j++) {
 var $r = $2K[j];
 DayPilot.de($r);
 }
 ;
 if ($h.areas) {
 var $1o = $h.areas;
 for (var j = 0; j < $1o.length; j++) {
 var $1M = $1o[j];
 if ($1M.v !== 'Visible') {
 continue;
 }
 ;
 var o = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
 var a = DayPilot.Areas.createArea($d, o, $1M);
 $d.appendChild(a);
 }
 }
 };
 this.$4n = function () {
 if (!this.showHeader) {
 return;
 }
 ;
 var $1n = this.nav.header;
 var $23 = true;
 var $0N = this.$5D($c.headerLevels, true);
 var $2G = $0N.length;
 if (this.$6j && $1n && $1n.rows && $1n.rows.length > 0) {
 $23 = $1n.rows[$1n.rows.length - 1].cells.length !== $2G;
 }
 ;
 if (this.$6j && $c.$3V.ielt9 && $23) {
 DayPilot.de(this.nav.header);
 this.$67();
 }
 while (this.$6j && $1n && $1n.rows && $1n.rows.length > 0 && $23) {
 if (!this.$3S)DayPilot.pu($1n.rows[0]);
 $1n.deleteRow(0);
 }
 ;
 this.$6j = true;
 var $S = $c.cornerHTML || $c.cornerHtml;
 if (!$23) {
 var $2e = $c.nav.corner;
 if ($2e) {
 if (!this.cssOnly) {
 if ($c.cornerBackColor) {
 $2e.style.backgroundColor = $c.cornerBackColor;
 } else {
 $2e.style.backgroundColor = $c.hourBackColor;
 }
 }
 ;
 if (!this.$3S)DayPilot.pu($2e.firstChild);
 $2e.firstChild.innerHTML = $S ? $S : '';
 }
 }
 ;
 for (var i = 0; i < $c.headerLevels; i++) {
 this.$6h(i + 1, $23);
 }
 ;
 if (!this.showAllDayEvents) {
 return;
 }
 ;
 var r = ($23) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$c.headerLevels];
 for (var i = 0; i < $2G; i++) {
 var $h = $0N[i];
 var $f = ($23) ? r.insertCell(-1) : r.cells[i];
 $f.data = $h;
 $f.style.padding = '0px';
 $f.style.border = '0px none';
 $f.style.overflow = 'hidden';
 if (!this.cssOnly) {
 $f.style.lineHeight = '1.2';
 }
 ;
 var $d = ($23) ? document.createElement("div") : $f.firstChild;
 if ($23) {
 $d.setAttribute("unselectable", "on");
 $d.style.MozUserSelect = 'none';
 $d.style.KhtmlUserSelect = 'none';
 $d.style.WebkitUserSelect = 'none';
 $d.style.overflow = 'hidden';
 $d.style.position = "relative";
 $d.style.height = $0d.allDayHeaderHeight() + "px";
 if (!this.cssOnly) {
 $d.className = this.$4D("alldayheader");
 $d.style.textAlign = 'center';
 $d.style.backgroundColor = $h.backColor;
 $d.style.cursor = 'default';
 var $28 = document.createElement("div");
 $28.style.position = "absolute";
 $28.style.left = '0px';
 $28.style.right = '0px';
 $28.style.top = "0px";
 $28.style.bottom = "0px";
 $28.setAttribute("unselectable", "on");
 $28.style.borderTop = '1px solid ' + this.borderColor;
 $d.appendChild($28);
 if ($c.rtl) {
 if (i === $2G - 1) {
 $28.style.borderLeft = "1px solid " + $h.backColor;
 } else {
 $28.style.borderLeft = "1px solid " + this.borderColor;
 }
 } else {
 if (i !== $2G - 1) {
 $28.style.borderRight = "1px solid " + this.borderColor;
 }
 }
 } else {
 $d.className = this.$4D("_alldayheader");
 var $M = document.createElement("div");
 $M.className = this.$4D("_alldayheader_inner");
 $d.appendChild($M);
 }
 ;
 $f.appendChild($d);
 }
 ;
 $d.style.height = $0d.allDayHeaderHeight() + "px";
 }
 };
 this.$41 = function () {
 if (this.loadingLabelVisible) {
 this.nav.loading.innerHTML = this.loadingLabelText;
 this.nav.loading.style.top = (this.$4K() + 5) + "px";
 this.nav.loading.style.display = '';
 }
 };
 this.$4g = function () {
 if (this.callbackTimeout) {
 window.clearTimeout(this.callbackTimeout);
 }
 ;
 this.nav.loading.style.display = 'none';
 };
 this.$6k = function () {
 var $0L = this.columnWidthSpec === 'Fixed';
 var $2L = $0L ? this.nav.bottomRight : this.nav.scroll;
 var $2M = this.initScrollPos;
 if (!$2M) {
 var $27 = this.businessBeginsHour;
 $2M = $27 * (60 / $c.cellDuration) * $c.cellHeight;
 }
 ;
 $2L.root = this;
 $2L.onscroll = this.$5i;
 if ($2L.scrollTop === 0) {
 $2L.scrollTop = $2M - this.$5k();
 } else {
 this.$5i();
 }
 };
 this.scrollToHour = function ($27) {
 var $0L = this.columnWidthSpec === 'Fixed';
 var $2L = $0L ? this.nav.bottomRight : this.nav.scroll;
 var $1B = $27 * (60 / $c.cellDuration) * $c.cellHeight;
 $2L.scrollTop = $1B - this.$5k();
 };
 this.onCallbackError = function ($u, $v) {
 alert("Error!\r\nResult: " + $u + "\r\nContext:" + $v);
 };
 this.scrollbarVisible = this.$65;
 this.$4u = function () {
 var $2N = this.$65();
 var $1d = !!this.nav.cornerRight;
 if ($2N !== $1d) {
 if ($2N) {
 this.$68();
 } else {
 if (this.nav.fullHeader && this.nav.fullHeader.rows[0].cells.length === 3) {
 var c = this.nav.fullHeader.rows[0].cells[2];
 if (c.parentNode) {
 c.parentNode.removeChild(c);
 }
 }
 ;
 this.nav.cornerRight = null;
 }
 }
 ;
 var d = this.nav.cornerRight;
 if (!d) {
 return;
 }
 ;
 var w = DayPilot.sw(this.nav.scroll);
 if (!this.cssOnly) {
 if (w >= 3) {
 d.style.width = (w - 3) + 'px';
 }
 } else {
 if (d) {
 d.style.width = (w) + 'px';
 }
 }
 ;
 return w;
 };
 this.$4z = function ($2O) {
 if ($2O) {
 this.autoRefreshEnabled = true;
 }
 ;
 if (!this.autoRefreshEnabled) {
 return;
 }
 ;
 if (this.autoRefreshCount >= this.autoRefreshMaxCount) {
 return;
 }
 ;
 this.$45();
 var $2P = this.autoRefreshInterval;
 if (!$2P || $2P < 10) {
 throw "The minimum autoRefreshInterval is 10 seconds";
 }
 ;
 this.autoRefreshTimeout = window.setTimeout(function () {
 $c.$6l();
 }, this.autoRefreshInterval * 1000);
 };
 this.$45 = function () {
 if (this.autoRefreshTimeout) {
 window.clearTimeout(this.autoRefreshTimeout);
 }
 };
 this.$6l = function () {
 if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilotCalendar.drag && !DayPilotCalendar.selecting) {
 var $2Q = false;
 if (typeof this.onAutoRefresh === 'function') {
 var $n = {};
 $n.i = this.autoRefreshCount;
 $n.preventDefault = function () {
 this.preventDefault.value = true;
 };
 $c.onAutoRefresh($n);
 if ($n.preventDefault.value) {
 $2Q = true;
 }
 }
 ;
 if (!$2Q && this.$40()) {
 this.commandCallBack(this.autoRefreshCommand);
 }
 ;
 this.autoRefreshCount++;
 }
 ;
 if (this.autoRefreshCount < this.autoRefreshMaxCount) {
 this.autoRefreshTimeout = window.setTimeout(function () {
 $c.$6l();
 }, this.autoRefreshInterval * 1000);
 }
 };
 this.$49 = function () {
 if ($c.heightSpec === "Parent100Pct") {
 $c.setHeight(parseInt($c.nav.top.clientHeight, 10));
 }
 ;
 $c.$4t();
 $c.$4y();
 };
 this.$6m = function () {
 if (!DayPilotCalendar.globalHandlers) {
 DayPilotCalendar.globalHandlers = true;
 DayPilot.re(document, 'mousemove', DayPilotCalendar.gMouseMove);
 DayPilot.re(document, 'mouseup', DayPilotCalendar.gMouseUp);
 DayPilot.re(document, DayPilot.touch.move, DayPilotCalendar.gTouchMove);
 DayPilot.re(document, DayPilot.touch.end, DayPilotCalendar.gTouchEnd);
 }
 ;
 DayPilot.re(window, 'resize', this.$49);
 };
 this.$5L = function (ev) {
 if ($0B.active || $0B.using) {
 return;
 }
 ;
 ev = ev || window.event;
 var $0C = DayPilot.Util.mouseButton(ev);
 if (typeof(DayPilotBubble) !== 'undefined') {
 DayPilotBubble.hideActive();
 }
 ;
 if ((this.style.cursor === 'n-resize' || this.style.cursor === 's-resize') && $0C.left) {
 DayPilot.Global.resizing = this;
 DayPilotCalendar.originalMouse = DayPilot.mc(ev);
 DayPilotCalendar.originalHeight = this.offsetHeight;
 DayPilotCalendar.originalTop = this.offsetTop;
 $c.nav.top.style.cursor = this.style.cursor;
 } else if ((this.style.cursor === 'move' || ($c.moveBy === 'Full' && $c.eventMoveHandling !== 'Disabled')) && $0C.left) {
 DayPilot.Global.moving = this;
 var $2R = DayPilot.Global.moving.helper = {};
 $2R.oldColumn = $c.$4C[this.event.part.dayIndex].id;
 DayPilotCalendar.originalMouse = DayPilot.mc(ev);
 DayPilotCalendar.originalTop = this.offsetTop;
 var $0P = DayPilot.mo3(this, ev);
 if ($0P) {
 DayPilotCalendar.moveOffsetY = $0P.y;
 } else {
 DayPilotCalendar.moveOffsetY = 0;
 }
 ;
 $c.nav.top.style.cursor = this.style.cursor;
 }
 ;
 return false;
 };
 this.$6n = function (i) {
 var $1C = this.$3R.events;
 var $h = this.events.list[i];
 var $2S = {};
 for (var name in $h) {
 $2S[name] = $h[name];
 }
 ;
 if ($c.showEventStartEnd) {
 var $2T = $h.start.getDatePart().getTime() === $h.end.getDatePart().getTime();
 var $1e = $2T ? $0d.locale().timePattern : $0d.locale().dateTimePattern;
 var $2U = $h.start.toString($1e);
 var $2V = $h.end.toString($1e);
 $2S.html = $2S.text + " (" + $2U + " - " + $2V + ")";
 }
 ;
 if (typeof this.onBeforeEventRender === 'function') {
 var $n = {};
 $n.e = $2S;
 this.onBeforeEventRender($n);
 }
 ;
 $1C[i] = $2S;
 };
 this.$5M = {};
 var $0B = $c.$5M;
 $0B.active = false;
 $0B.start = null;
 $0B.timeout = null;
 $0B.startcell = null;
 this.$5M.getCellCoords = function (ev) {
 var x, y;
 if (ev.touches) {
 x = ev.touches[0].pageX;
 y = ev.touches[0].pageY;
 } else {
 x = ev.pageX;
 y = ev.pageY;
 }
 ;
 var $2W = DayPilot.abs($c.nav.main);
 var $2X = {x: x - $2W.x, y: y - $2W.y};
 var w = ($c.nav.main.clientWidth / $c.$4C.length);
 var $2v = {
 "pageX": x,
 "pageY": y,
 "x": Math.floor($2X.x / w),
 "y": Math.floor($2X.y / $c.cellHeight),
 "toString": function () {
 return "x: " + this.x + " y:" + this.y;
 }
 };
 return $2v;
 };
 this.$5M.startSelecting = function ($2v) {
 var $f = $c.nav.main.rows[$2v.y].cells[$2v.x];
 $0B.startcell = $2v;
 $c.clearSelection();
 DayPilotCalendar.column = DayPilotCalendar.getColumn($f);
 $c.selectedCells.push($f);
 DayPilotCalendar.firstSelected = $f;
 DayPilotCalendar.topSelectedCell = $f;
 DayPilotCalendar.bottomSelectedCell = $f;
 $c.$5e();
 };
 this.$5M.extendSelection = function ($2v) {
 var $f = $c.nav.main.rows[$2v.y].cells[$2v.x];
 $c.clearSelection();
 if ($2v.y < $0B.startcell.y) {
 $c.selectedCells = DayPilotCalendar.getCellsBelow($f);
 DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
 DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
 } else {
 $c.selectedCells = DayPilotCalendar.getCellsAbove($f);
 DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
 DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
 }
 ;
 $c.$5e();
 };
 this.$5M.onMainTouchStart = function (ev) {
 if (navigator.msPointerEnabled && ev.pointerType && ev.pointerType === "mouse") {
 return;
 }
 ;
 if ($0B.active) {
 return;
 }
 ;
 $0B.using = true;
 var $2v = $0B.getCellCoords(ev);
 $0B.startCoords = $2v;
 var $2Y = 500;
 $0B.timeout = window.setTimeout(function () {
 ev.preventDefault();
 $0B.active = true;
 switch ($c.timeRangeTapAndHoldHandling) {
 case "Select":
 $0B.startSelecting($2v);
 break;
 case "ContextMenu":
 $0B.startSelecting($2v);
 $0B.active = false;
 if ($c.contextMenuSelection) {
 $c.contextMenuSelection.show($c.getSelection());
 }
 ;
 break;
 }
 }, $2Y);
 };
 this.$5M.onCellTouchMove = function (ev) {
 };
 this.$5M.onCellTouchEnd = function (ev) {
 if (!$0B.active) {
 window.clearTimeout($0B.timeout);
 return;
 }
 ;
 ev.preventDefault();
 $0B.startcell = null;
 var $0K = $c.getSelection();
 $0K.toString = function () {
 return "start: " + this.start + "\nend: " + this.end;
 };
 $c.$58($0K.start, $0K.end, $0K.resource);
 window.setTimeout(function () {
 $0B.active = false;
 }, 500);
 };
 this.$5M.startMoving = function ($d, $2v) {
 DayPilot.Global.moving = $d;
 var $2R = DayPilot.Global.moving.helper = {};
 $2R.oldColumn = $c.$4C[$d.event.part.dayIndex].id;
 DayPilotCalendar.originalMouse = $2v;
 DayPilotCalendar.originalTop = this.offsetTop;
 var $2W = DayPilot.abs($d);
 DayPilotCalendar.moveOffsetY = $2v.y - $2W.y;
 if (!DayPilotCalendar.movingShadow) {
 DayPilotCalendar.movingShadow = $c.$4B(DayPilot.Global.moving, !$c.$3V.ie, $c.shadow);
 DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
 }
 };
 this.$5M.updateMoving = function () {
 var $2v = $c.coords;
 var $2q = $c.cellHeight;
 var $I = 0;
 var $0P = DayPilotCalendar.moveOffsetY;
 if (!$0P) {
 $0P = $2q / 2;
 }
 ;
 var $2t = Math.floor((($2v.y - $0P - $I) + $2q / 2) / $2q) * $2q + $I;
 if ($2t < $I) {
 $2t = $I;
 }
 ;
 var $G = $c.nav.main;
 var $N = $G.clientHeight;
 var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
 if ($2t + $J > $N) {
 $2t = $N - $J;
 }
 ;
 DayPilotCalendar.movingShadow.style.top = $2t + 'px';
 var $H = $G.clientWidth / $G.rows[0].cells.length;
 var $q = Math.floor($2v.x / $H);
 if ($q < 0) {
 $q = 0;
 }
 ;
 var $11 = $c.nav.events;
 if ($q < $11.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
 DayPilotCalendar.movingShadow.column = $q;
 DayPilotCalendar.moveShadow($11.rows[0].cells[$q]);
 }
 };
 this.$5M.onEventTouchStart = function (ev) {
 if ($0B.active) {
 return;
 }
 ;
 if (navigator.msPointerEnabled && ev.pointerType && ev.pointerType === "mouse") {
 return;
 }
 ;
 ev.stopPropagation();
 $0B.preventEventTap = false;
 $0B.using = true;
 $0B.startCoords = $0B.getCellCoords(ev);
 var $d = this;
 var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
 var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
 var $2v = {x: x, y: y, $d: this};
 $c.coords = $0B.relativeCoords(ev);
 var $2Y = 500;
 $0B.timeout = window.setTimeout(function () {
 $0B.active = true;
 switch ($c.eventTapAndHoldHandling) {
 case "Move":
 $0B.startMoving($d, $2v);
 break;
 case "ContextMenu":
 var e = $d.event;
 var $05 = e.client.contextMenu();
 if ($05) {
 $05.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(e);
 }
 }
 ;
 break;
 }
 }, $2Y);
 };
 this.$5M.onMainTouchMove = function (ev) {
 if (navigator.msPointerEnabled && ev.pointerType && ev.pointerType === "mouse") {
 return;
 }
 ;
 if ($0B.timeout) {
 var $2v = $0B.getCellCoords(ev);
 if ($2v && $0B.startCoords) {
 if ($2v.pageX !== $0B.startCoords.pageX || $2v.pageY !== $0B.startCoords.pageY) {
 window.clearTimeout($c.$5M.timeout);
 }
 }
 }
 ;
 if (DayPilot.Global.moving && DayPilotCalendar.movingShadow) {
 ev.preventDefault();
 $c.coords = $0B.relativeCoords(ev);
 $0B.updateMoving();
 return;
 } else if ($0B.startcell) {
 ev.preventDefault();
 if (!$0B.active) {
 window.clearTimeout($0B.timeout);
 return;
 }
 ;
 var $2v = $0B.getCellCoords(ev);
 $0B.extendSelection($2v);
 }
 ;
 $0B.preventEventTap = true;
 };
 this.$5M.relativeCoords = function (ev) {
 var $2o = $c.nav.main;
 var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
 var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
 var $2W = DayPilot.abs($2o);
 var $2v = {
 x: x - $2W.x, y: y - $2W.y, "toString": function () {
 return "x: " + this.x + ", y:" + this.y;
 }
 };
 return $2v;
 };
 this.$5M.onMainTouchEnd = function (ev) {
 if (navigator.msPointerEnabled && ev.pointerType && ev.pointerType === "mouse") {
 return;
 }
 ;
 if (DayPilot.Global.moving) {
 $0B.active = false;
 ev.preventDefault();
 ev.stopPropagation();
 var top = DayPilotCalendar.movingShadow.offsetTop;
 DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
 var $2Z = DayPilot.Global.moving.event;
 var $0o = DayPilotCalendar.movingShadow.column;
 DayPilot.Global.moving = null;
 DayPilotCalendar.movingShadow = null;
 $2Z.calendar.$51($2Z, $0o, top, ev, DayPilotCalendar.drag);
 } else if ($0B.startcell) {
 if (!$0B.active) {
 window.clearTimeout($0B.timeout);
 return;
 }
 ;
 ev.preventDefault();
 $0B.startcell = null;
 var $0K = $c.getSelection();
 $0K.toString = function () {
 return "start: " + this.start + "\nend: " + this.end;
 };
 $c.$58($0K.start, $0K.end, $0K.resource);
 window.setTimeout(function () {
 $0B.active = false;
 }, 500);
 }
 };
 this.$5M.onEventTouchMove = function (ev) {
 $0B.preventEventTap = true;
 };
 this.$5M.onEventTouchEnd = function (ev) {
 if (!$0B.active) {
 if ($0B.preventEventTap) {
 return;
 }
 ;
 ev.preventDefault();
 window.clearTimeout($0B.timeout);
 $c.$4O(this, false);
 return;
 }
 ;
 $0B.active = false;
 if ($0B.timeout) {
 window.clearTimeout($0B.timeout);
 return;
 }
 ;
 ev.preventDefault();
 };
 this.$5J = function (ev) {
 var $30 = 5;
 var $31 = Math.max($c.durationBarWidth, 10);
 var w = 5;
 var $1n = ($c.moveBy === 'Top');
 if (typeof(DayPilotCalendar) === 'undefined') {
 return;
 }
 ;
 var $0P = DayPilot.mo3(this, ev);
 if (!$0P) {
 return;
 }
 ;
 var $d = this;
 if (!$d.active) {
 var $1o = [];
 if ($d.event.client.deleteEnabled()) {
 $1o.push({
 "action": "JavaScript",
 "v": "Hover",
 "w": 17,
 "h": 17,
 "top": 2,
 "right": 2,
 "css": $c.$4D("_event_delete"),
 "js": function (e) {
 $c.$4W(e);
 }
 });
 }
 ;
 var $14 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
 if ($14 && $14.length > 0) {
 $1o = $1o.concat($14);
 }
 ;
 DayPilot.Areas.showAreas($d, $d.event, null, $1o);
 if ($c.cssOnly) {
 DayPilot.Util.addClass($d, $c.$4D("_event_hover"));
 }
 }
 ;
 if (DayPilot.Global.resizing || DayPilot.Global.moving) {
 return;
 }
 ;
 var $32 = this.isFirst;
 var $33 = this.isLast;
 if ($c.moveBy === "Disabled" || $c.moveBy === "None") {
 return;
 }
 ;
 if (!$1n && $0P.x <= $31 && this.event.client.moveEnabled()) {
 if ($32) {
 this.style.cursor = 'move';
 } else {
 this.style.cursor = 'not-allowed';
 }
 } else if (!$1n && $0P.y <= $30 && this.event.client.resizeEnabled()) {
 if ($32) {
 this.style.cursor = "n-resize";
 this.dpBorder = 'top';
 } else {
 this.style.cursor = 'not-allowed';
 }
 } else if ($1n && $0P.y <= $31 && this.event.client.moveEnabled()) {
 this.style.cursor = "move";
 } else if (this.offsetHeight - $0P.y <= $30 && this.event.client.resizeEnabled()) {
 if ($33) {
 this.style.cursor = "s-resize";
 this.dpBorder = 'bottom';
 } else {
 this.style.cursor = 'not-allowed';
 }
 } else if (!DayPilot.Global.resizing && !DayPilot.Global.moving) {
 if (this.event.client.clickEnabled())this.style.cursor = 'pointer'; else this.style.cursor = 'default';
 }
 ;
 if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
 if (this.style.cursor === 'default' || this.style.cursor === 'pointer') {
 var $34 = this.$6o && $0P.x === this.$6o.x && $0P.y === this.$6o.y;
 if (!$34) {
 this.$6o = $0P;
 $c.bubble.showEvent(this.event);
 }
 } else {
 }
 }
 };
 this.$5K = function (ev) {
 if ($c.cssOnly) {
 DayPilot.Util.removeClass(this, $c.$4D("_event_hover"));
 }
 ;
 if ($c.bubble) {
 $c.bubble.hideOnMouseOut();
 }
 ;
 DayPilot.Areas.hideAreas(this, ev);
 };
 this.$4l = function ($11) {
 if (!$11) {
 $11 = this.events.list;
 } else {
 this.events.list = $11;
 }
 ;
 if (!$11) {
 return;
 }
 ;
 this.$5G = {};
 this.$5G.events = [];
 this.$5G.lines = [];
 var length = $11.length;
 var $K = this.$4F(true);
 this.$3R.pixels = {};
 var $35 = [];
 this.$5j = [];
 this.$4Y = 10000;
 this.$4I = 0;
 this.startDate = new DayPilot.Date(this.startDate);
 for (var i = 0; i < length; i++) {
 var e = $11[i];
 e.start = new DayPilot.Date(e.start);
 e.end = new DayPilot.Date(e.end);
 }
 ;
 if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
 for (var i = 0; i < length; i++) {
 this.$6n(i);
 }
 }
 ;
 var $36 = this.viewType === 'Resources';
 var $1d = this.$5E();
 var $37 = $1d.start;
 var $38 = $1d.end;
 for (var i = 0; i < this.$4C.length; i++) {
 var scroll = {};
 scroll.minEnd = 1000000;
 scroll.maxStart = -1;
 this.$5j.push(scroll);
 var $1O = this.$4C[i];
 $1O.events = [];
 $1O.lines = [];
 $1O.blocks = [];
 var $39 = new DayPilot.Date($1O.start).addHours(this.$4J(true));
 var $3a = $39.getTime();
 var $3b = $39.addTime($K);
 var $3c = $3b.getTime();
 if ($36) {
 $37 = $39.getDatePart();
 $38 = $3b.getDatePart();
 }
 ;
 for (var j = 0; j < length; j++) {
 if ($35[j]) {
 continue;
 }
 ;
 var e = $11[j];
 var $08 = e.start;
 var end = e.end;
 var $3d = $08.getTime();
 var $3e = end.getTime();
 if ($3e < $3d) {
 continue;
 }
 ;
 if (e.allday) {
 var $3f = false;
 if ($c.allDayEnd === 'Date') {
 $3f = !($3e < $37.getTime() || $3d >= $38.getTime());
 } else {
 $3f = !($3e <= $37.getTime() || $3d >= $38.getTime());
 }
 ;
 if ($36) {
 $3f = $3f && (e.resource === $1O.id || $1O.id === "*");
 }
 ;
 if ($3f) {
 var ep = new DayPilot.Event(e, this);
 ep.part.start = $37.getTime() < $3d ? $08 : $37;
 ep.part.end = $38.getTime() > $3e ? end : $38;
 ep.part.colStart = DayPilot.Date.daysDiff($37.d, ep.part.start.d);
 ep.part.colWidth = DayPilot.Date.daysSpan(ep.part.start.d, ep.part.end.d) + 1;
 if ($36) {
 ep.part.colStart = i;
 ep.part.colWidth = 1;
 }
 ;
 this.$5G.events.push(ep);
 if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
 ep.cache = this.$3R.events[j];
 }
 ;
 $35[j] = true;
 if ($36 && (ep.part.start.getTime() !== $3d || ep.part.end.getTime() !== $3e)) {
 $35[j] = false;
 }
 }
 ;
 continue;
 }
 ;
 var $3f = false;
 if ($36) {
 $3f = ($1O.id === e.resource) && !($3e <= $3a || $3d >= $3c);
 } else {
 $3f = !($3e <= $3a || $3d >= $3c) || ($3e === $3d && $3d === $3a);
 }
 ;
 if ($3f) {
 var ep = new DayPilot.Event(e, $c);
 ep.part.dayIndex = i;
 ep.part.start = $3a < $3d ? $08 : $39;
 ep.part.end = $3c > $3e ? end : $3b;
 var $3g = this.$6p(ep.part.start, $1O.start);
 var $3h = this.$6p(ep.part.end, $1O.start);
 var top = $3g.top;
 var $18 = $3h.top;
 if (top === $18 && ($3g.cut || $3h.cut)) {
 continue;
 }
 ;
 ep.part.box = $0d.useBox($3e - $3d);
 var $I = 0;
 if (ep.part.box) {
 var $3i = $3h.boxBottom;
 ep.part.top = Math.floor(top / this.cellHeight) * this.cellHeight + $I;
 ep.part.height = Math.max(Math.ceil($3i / this.cellHeight) * this.cellHeight - ep.part.top, this.cellHeight - 1);
 ep.part.barTop = Math.max(top - ep.part.top - 1, 0);
 ep.part.barHeight = Math.max($18 - top - 2, 1);
 } else {
 ep.part.top = top + $I;
 ep.part.height = Math.max($18 - top, 0);
 ep.part.barTop = 0;
 ep.part.barHeight = Math.max($18 - top - 2, 1);
 }
 ;
 var $08 = ep.part.top;
 var end = ep.part.top + ep.part.height;
 if ($08 > scroll.maxStart) {
 scroll.maxStart = $08;
 }
 ;
 if (end < scroll.minEnd) {
 scroll.minEnd = end;
 }
 ;
 if ($08 < this.$4Y) {
 this.$4Y = $08;
 }
 ;
 if (end > this.$4I) {
 this.$4I = end;
 }
 ;
 $1O.events.push(ep);
 if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
 ep.cache = this.$3R.events[j];
 }
 ;
 if (ep.part.start.getTime() === $3d && ep.part.end.getTime() === $3e) {
 $35[j] = true;
 }
 }
 }
 }
 ;
 for (var i = 0; i < this.$4C.length; i++) {
 var $1O = this.$4C[i];
 $1O.events.sort(this.$6q);
 for (var j = 0; j < $1O.events.length; j++) {
 var e = $1O.events[j];
 $1O.putIntoBlock(e);
 }
 ;
 for (var j = 0; j < $1O.blocks.length; j++) {
 var $1j = $1O.blocks[j];
 $1j.events.sort(this.$6r);
 for (var k = 0; k < $1j.events.length; k++) {
 var e = $1j.events[k];
 $1j.putIntoLine(e);
 }
 }
 }
 ;
 this.$5G.events.sort(this.$6r);
 this.$5G.putIntoLine = function (ep) {
 var $1k = this;
 for (var i = 0; i < this.lines.length; i++) {
 var $1l = this.lines[i];
 if ($1l.isFree(ep.part.colStart, ep.part.colWidth)) {
 $1l.push(ep);
 return i;
 }
 }
 ;
 var $1l = [];
 $1l.isFree = function ($08, $0X) {
 var end = $08 + $0X - 1;
 var $N = this.length;
 for (var i = 0; i < $N; i++) {
 var e = this[i];
 if (!(end < e.part.colStart || $08 > e.part.colStart + e.part.colWidth - 1)) {
 return false;
 }
 }
 ;
 return true;
 };
 $1l.push(ep);
 this.lines.push($1l);
 return this.lines.length - 1;
 };
 for (var i = 0; i < this.$5G.events.length; i++) {
 var e = this.$5G.events[i];
 this.$5G.putIntoLine(e);
 }
 ;
 var $3j = Math.max(this.$5G.lines.length, 1);
 this.$3R.allDayHeaderHeight = $3j * ($0d.allDayEventHeight() + 2) + 2;
 };
 this.$6q = function (a, b) {
 if (!a || !b || !a.start || !b.start) {
 return 0;
 }
 ;
 var $3k = a.start().ticks - b.start().ticks;
 if ($3k !== 0) {
 return $3k;
 }
 ;
 var $3l = b.end().ticks - a.end().ticks;
 return $3l;
 };
 this.$6r = function (a, b) {
 if (!a || !b) {
 return 0;
 }
 ;
 if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
 return $c.$6q(a, b);
 }
 ;
 var $u = 0;
 var i = 0;
 while ($u === 0 && a.data.sort[i] && b.data.sort[i]) {
 if (a.data.sort[i] === b.data.sort[i]) {
 $u = 0;
 } else {
 $u = $c.$6s(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
 }
 ;
 i++;
 }
 ;
 return $u;
 };
 this.$6s = function (a, b, $3m) {
 var $3n = ($3m !== "desc");
 var $3o = $3n ? -1 : 1;
 var $3p = -$3o;
 if (a === null && b === null) {
 return 0;
 }
 ;
 if (b === null) {
 return $3p;
 }
 ;
 if (a === null) {
 return $3o;
 }
 ;
 var ar = [];
 ar[0] = a;
 ar[1] = b;
 ar.sort();
 return a === ar[0] ? $3o : $3p;
 };
 this.$6t = function (e) {
 for (var i = 0; i < $c.elements.events.length; i++) {
 var $d = $c.elements.events[i];
 if ($d.event === e || $d.event.data === e.data) {
 return $d;
 }
 }
 ;
 return null;
 };
 this.events.find = function (id) {
 if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
 return null;
 }
 ;
 var $2G = $c.events.list.length;
 for (var i = 0; i < $2G; i++) {
 if ($c.events.list[i].id === id) {
 return new DayPilot.Event($c.events.list[i], $c);
 }
 }
 ;
 return null;
 };
 this.events.findRecurrent = function ($3q, $09) {
 if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
 return null;
 }
 ;
 var $2G = $c.events.list.length;
 for (var i = 0; i < $2G; i++) {
 if ($c.events.list[i].recurrentMasterId === $3q && $c.events.list[i].start.getTime() === $09.getTime()) {
 return new DayPilot.Event($c.events.list[i], $c);
 }
 }
 ;
 return null;
 };
 this.events.update = function (e, $h) {
 var $0c = {};
 $0c.oldEvent = new DayPilot.Event(e.copy(), $c);
 $0c.newEvent = new DayPilot.Event(e.temp(), $c);
 var $g = new DayPilot.Action($c, "EventUpdate", $0c, $h);
 e.commit();
 if ($c.$3U) {
 $c.update();
 }
 ;
 $c.$6u.notify();
 return $g;
 };
 this.events.remove = function (e, $h) {
 var $0c = {};
 $0c.e = new DayPilot.Event(e.data, $c);
 var $g = new DayPilot.Action($c, "EventRemove", $0c, $h);
 var $26 = DayPilot.indexOf($c.events.list, e.data);
 $c.events.list.splice($26, 1);
 if ($c.$3U) {
 $c.update();
 }
 ;
 $c.$6u.notify();
 return $g;
 };
 this.events.add = function (e, $h) {
 e.calendar = $c;
 if (!$c.events.list) {
 $c.events.list = [];
 }
 ;
 $c.events.list.push(e.data);
 var $0c = {};
 $0c.e = e;
 var $g = new DayPilot.Action($c, "EventAdd", $0c, $h);
 if ($c.$3U) {
 $c.update();
 }
 ;
 $c.$6u.notify();
 return $g;
 };
 this.queue = {};
 this.queue.list = [];
 this.queue.list.ignoreToJSON = true;
 this.queue.add = function ($g) {
 if (!$g) {
 return;
 }
 ;
 if ($g.isAction) {
 $c.queue.list.push($g);
 } else {
 throw "DayPilot.Action object required for queue.add()";
 }
 };
 this.queue.notify = function ($h) {
 var $0c = {};
 $0c.actions = $c.queue.list;
 $c.$3Z('Notify', $0c, $h, "Notify");
 $c.queue.list = [];
 };
 this.queue.clear = function () {
 $c.queue.list = [];
 };
 this.queue.pop = function () {
 return $c.queue.list.pop();
 };
 this.$6v = function ($n) {
 if (!this.$3U || !this.$4C) {
 return;
 }
 ;
 var $n = $n || {};
 var $3r = !$n.eventsOnly;
 if ($3r) {
 $c.$46();
 this.$6w();
 this.$4j();
 this.$4l();
 $c.$4n();
 $c.$4o();
 $c.$4p();
 $c.$4q();
 $c.$3W();
 $c.$4r();
 $c.$5e();
 $c.$4s();
 $c.$4t();
 $c.$4u();
 this.$4w();
 this.$4x();
 $c.$4y();
 } else {
 $c.$46();
 $c.$4l();
 $c.$4m();
 $c.$4w();
 $c.$4x();
 $c.$4y();
 }
 };
 this.update = function () {
 this.$6v();
 };
 this.show = function () {
 $c.nav.top.style.display = '';
 $c.$49();
 $c.$4u();
 };
 this.hide = function () {
 $c.nav.top.style.display = 'none';
 };
 this.$6u = {};
 this.$6u.scope = null;
 this.$6u.notify = function () {
 if ($c.$6u.scope) {
 $c.$6u.scope["$apply"]();
 }
 };
 this.debug = new DayPilot.Debug(this);
 this.$6p = function ($0t, $08) {
 if (!$08)$08 = this.startDate;
 var $3d = $08.getTime();
 var $3s = $0t.getTime();
 var $1C = this.$3R.pixels[$3s + "_" + $3d];
 if ($1C) {
 return $1C;
 }
 ;
 $3d = $08.addHours(this.$4J(true)).getTime();
 var $3t = this.cellDuration * 60 * 1000;
 var $3u = $3s - $3d;
 var $3v = $3u % $3t;
 var $3w = $3u - $3v;
 var $3x = $3w + $3t;
 if ($3v === 0) {
 $3x = $3w;
 }
 ;
 var $u = {};
 $u.cut = false;
 $u.top = this.$6x($3u);
 $u.boxTop = this.$6x($3w);
 $u.boxBottom = this.$6x($3x);
 this.$3R.pixels[$3s + "_" + $3d] = $u;
 return $u;
 };
 this.$6x = function ($3s) {
 return Math.floor((this.cellHeight * $3s) / (1000 * 60 * this.cellDuration));
 };
 this.$6w = function () {
 this.startDate = new DayPilot.Date(this.startDate);
 this.allDayHeaderHeight = $0d.allDayEventHeight() + 4;
 };
 this.$4m = function () {
 var $1n = this.$4K();
 var $22 = this.$5P();
 if (this.nav.corner) {
 this.nav.corner.style.height = $1n + "px";
 }
 ;
 if (this.nav.cornerRight) {
 this.nav.cornerRight.style.height = $1n + "px";
 }
 ;
 if (this.nav.mid) {
 this.nav.mid.style.height = $1n + "px";
 }
 ;
 if (this.showAllDayEvents && this.nav.header) {
 var $1U = this.nav.header.rows[this.nav.header.rows.length - 1];
 for (var i = 0; i < $1U.cells.length; i++) {
 var $q = $1U.cells[i];
 $q.firstChild.style.height = $0d.allDayHeaderHeight() + "px";
 }
 }
 ;
 if (this.nav.upperRight) {
 this.nav.upperRight.style.height = $1n + "px";
 }
 ;
 this.nav.scroll.style.top = $1n + "px";
 this.nav.top.style.height = $22 + "px";
 };
 this.$4t = function () {
 var sh = this.$5Q();
 if (this.nav.scroll && sh > 0) {
 this.nav.scroll.style.height = sh + "px";
 this.scrollHeight = $c.nav.scroll.clientHeight;
 if (this.nav.bottomLeft) {
 this.nav.bottomLeft.style.height = sh + "px";
 }
 ;
 if (this.nav.bottomRight) {
 this.nav.bottomRight.style.height = sh + "px";
 }
 }
 ;
 if (this.heightSpec === "Parent100Pct") {
 this.nav.top.style.height = "100%";
 } else {
 this.nav.top.style.height = this.$5P() + "px";
 }
 };
 this.setHeight = function ($1B) {
 if (this.heightSpec !== "Parent100Pct") {
 this.heightSpec = "Fixed";
 }
 ;
 if (this.cssOnly) {
 this.height = $1B - (this.$4K());
 } else {
 this.height = $1B - (this.$4K() + 3);
 }
 ;
 this.$4t();
 };
 this.$6y = function ($3y) {
 var $d = document.createElement("div");
 $d.style.position = "absolute";
 $d.style.top = "-2000px";
 $d.style.left = "-2000px";
 $d.className = this.$4D($3y);
 document.body.appendChild($d);
 var $J = $d.offsetHeight;
 var $0X = $d.offsetWidth;
 document.body.removeChild($d);
 var $u = {};
 $u.height = $J;
 $u.width = $0X;
 return $u;
 };
 this.$5H = {};
 var $0d = this.$5H;
 $0d.locale = function () {
 return DayPilot.Locale.find($c.locale);
 };
 $0d.weekStarts = function () {
 if (typeof $c.weekStarts !== 'undefined') {
 return $c.weekStarts;
 } else {
 return $0d.locale().weekStarts;
 }
 };
 $0d.timeFormat = function () {
 if ($c.timeFormat !== 'Auto') {
 return $c.timeFormat;
 }
 ;
 return this.locale().timeFormat;
 };
 $0d.useBox = function ($3z) {
 if ($c.useEventBoxes === 'Always') {
 return true;
 }
 ;
 if ($c.useEventBoxes === 'Never') {
 return false;
 }
 ;
 return $3z < $c.cellDuration * 60 * 1000;
 };
 $0d.notifyType = function () {
 var $l;
 if ($c.notifyCommit === 'Immediate') {
 $l = "Notify";
 } else if ($c.notifyCommit === 'Queue') {
 $l = "Queue";
 } else {
 throw "Invalid notifyCommit value: " + $c.notifyCommit;
 }
 ;
 return $l;
 };
 $0d.allDayEventHeight = function () {
 if ($c.$3R.allDayEventHeight) {
 return $c.$3R.allDayEventHeight;
 }
 ;
 var $J = $c.$6y("_alldayevent_height").height;
 if (!$J) {
 $J = $c.allDayEventHeight;
 }
 ;
 $c.$3R.allDayEventHeight = $J;
 return $J;
 };
 $0d.allDayHeaderHeight = function () {
 if ($c.$3R.allDayHeaderHeight) {
 return $c.$3R.allDayHeaderHeight;
 }
 ;
 $J = $c.allDayHeaderHeight;
 $c.$3R.allDayHeaderHeight = $J;
 return $J;
 };
 $0d.headerHeight = function () {
 if ($c.$3R.headerHeight) {
 return $c.$3R.headerHeight;
 }
 ;
 var $J = $c.$6y("_header_height").height;
 if (!$J) {
 $J = $c.headerHeight;
 }
 ;
 $c.$3R.headerHeight = $J;
 return $J;
 };
 this.$6z = function () {
 if (this.backendUrl || typeof WebForm_DoCallback === 'function') {
 return (typeof $c.events.list === 'undefined') || (!$c.events.list);
 } else {
 return false;
 }
 };
 this.$6A = function () {
 if (this.id && this.id.tagName) {
 this.nav.top = this.id;
 } else if (typeof this.id === "string") {
 this.nav.top = document.getElementById(this.id);
 if (!this.nav.top) {
 throw "DayPilot.Calendar: The placeholder element not found: '" + id + "'.";
 }
 } else {
 throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";
 }
 };
 this.$6B = function () {
 this.$6A();
 this.$6w();
 this.$4j();
 this.$5R();
 this.$4n();
 this.$4o();
 this.$4r();
 this.$4u();
 this.$6k();
 this.$6m();
 this.$4a();
 DayPilotCalendar.register(this);
 this.$49();
 this.$4z();
 this.$3Z('Init');
 };
 this.init = function () {
 this.$6A();
 if (this.nav.top.dp) {
 return;
 }
 ;
 var $3A = this.$6z();
 if ($3A) {
 this.$6B();
 this.$3U = true;
 return;
 }
 ;
 this.$6w();
 this.$4j();
 this.$4k();
 if (this.events.list) {
 this.$4l();
 }
 ;
 this.$5R();
 this.$4n();
 this.$4o();
 this.$4r();
 this.$4v();
 this.$4u();
 this.$6k();
 this.$6m();
 this.$4a();
 DayPilotCalendar.register(this);
 if (this.events.list) {
 this.$4m();
 this.$4w();
 this.$4x();
 }
 ;
 this.$49();
 if (this.messageHTML) {
 this.message(this.messageHTML);
 }
 ;
 this.$4h(null, false);
 this.$4z();
 this.$3U = true;
 this.$6C();
 };
 this.$6D = null;
 this.$6E = function ($a) {
 var $3B = {
 "events": {
 "preInit": function () {
 var $11 = this.data;
 if (!$11) {
 return;
 }
 ;
 if (DayPilot.isArray($11.list)) {
 $c.events.list = $11.list;
 } else {
 $c.events.list = $11;
 }
 }
 }, "scrollTo": {
 "postInit": function () {
 if (typeof this.data !== 'undefined') {
 $c.scrollToHour(this.data);
 }
 }
 }
 };
 this.$6D = $3B;
 for (var name in $a) {
 if ($3B[name]) {
 var $3C = $3B[name];
 $3C.data = $a[name];
 if ($3C.preInit) {
 $3C.preInit();
 }
 } else {
 $c[name] = $a[name];
 }
 }
 };
 this.$6C = function () {
 var $3B = this.$6D;
 for (var name in $3B) {
 var $3C = $3B[name];
 if ($3C.postInit) {
 $3C.postInit();
 }
 }
 };
 this.internal = {};
 this.internal.initialized = function () {
 return $c.$3U;
 };
 this.internal.invokeEvent = this.$4X;
 this.internal.eventMenuClick = this.$56;
 this.internal.timeRangeMenuClick = this.$57;
 this.internal.bubbleCallBack = this.$54;
 this.internal.findEventDiv = this.$6t;
 this.internal.eventDeleteDispatch = this.$4W;
 this.internal.touch = this.$5M;
 this.Init = this.init;
 this.$6E($a);
 };
 var DayPilotCalendar = {};
 DayPilotCalendar.topSelectedCell = null;
 DayPilotCalendar.bottomSelectedCell = null;
 DayPilotCalendar.selecting = false;
 DayPilotCalendar.column = null;
 DayPilotCalendar.firstSelected = null;
 DayPilotCalendar.firstMousePos = null;
 DayPilotCalendar.originalMouse = null;
 DayPilotCalendar.originalHeight = null;
 DayPilotCalendar.originalTop = null;
 DayPilotCalendar.globalHandlers = false;
 DayPilotCalendar.editing = false;
 DayPilotCalendar.originalText = null;
 DayPilotCalendar.register = function ($c) {
 if (!DayPilotCalendar.registered) {
 DayPilotCalendar.registered = [];
 }
 ;
 var r = DayPilotCalendar.registered;
 for (var i = 0; i < r.length; i++) {
 if (r[i] === $c) {
 return;
 }
 }
 ;
 r.push($c);
 };
 DayPilotCalendar.unregister = function ($c) {
 var a = DayPilotCalendar.registered;
 if (a) {
 var i = DayPilot.indexOf(a, $c);
 if (i !== -1) {
 a.splice(i, 1);
 }
 ;
 if (a.length === 0) {
 a = null;
 }
 }
 ;
 if (!a) {
 DayPilot.ue(document, 'mousemove', DayPilotCalendar.gMouseMove);
 DayPilot.ue(document, 'mouseup', DayPilotCalendar.gMouseUp);
 DayPilot.ue(document, 'touchmove', DayPilotCalendar.gTouchMove);
 DayPilot.ue(document, 'touchend', DayPilotCalendar.gTouchEnd);
 DayPilotCalendar.globalHandlers = false;
 }
 };
 DayPilotCalendar.getCellsAbove = function ($f) {
 var $s = [];
 var c = DayPilotCalendar.getColumn($f);
 var tr = $f.parentNode;
 var $3D = null;
 while (tr && $3D !== DayPilotCalendar.firstSelected) {
 $3D = tr.getElementsByTagName("td")[c];
 $s.push($3D);
 tr = tr.previousSibling;
 while (tr && tr.tagName !== "TR") {
 tr = tr.previousSibling;
 }
 }
 ;
 return $s;
 };
 DayPilotCalendar.getCellsBelow = function ($f) {
 var $s = [];
 var c = DayPilotCalendar.getColumn($f);
 var tr = $f.parentNode;
 var $3D = null;
 while (tr && $3D !== DayPilotCalendar.firstSelected) {
 $3D = tr.getElementsByTagName("td")[c];
 $s.push($3D);
 tr = tr.nextSibling;
 while (tr && tr.tagName !== "TR") {
 tr = tr.nextSibling;
 }
 }
 ;
 return $s;
 };
 DayPilotCalendar.getColumn = function ($f) {
 var i = 0;
 while ($f.previousSibling) {
 $f = $f.previousSibling;
 if ($f.tagName === "TD") {
 i++;
 }
 }
 ;
 return i;
 };
 DayPilotCalendar.getShadowColumn = function ($E) {
 if (!$E) {
 return null;
 }
 ;
 var $0W = $E.parentNode;
 while ($0W && $0W.tagName !== "TD") {
 $0W = $0W.parentNode;
 }
 ;
 return $0W;
 };
 DayPilotCalendar.gTouchMove = function (ev) {
 if (DayPilotCalendar.drag) {
 ev.preventDefault();
 var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
 var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
 var $0G = {};
 $0G.x = x;
 $0G.y = y;
 var $c = (function () {
 var $3E = ev.touches ? ev.touches[0].clientX : ev.clientX;
 var $3F = ev.touches ? ev.touches[0].clientY : ev.clientY;
 var el = document.elementFromPoint($3E, $3F);
 while (el && el.parentNode) {
 el = el.parentNode;
 if (el.daypilotMainD) {
 return el.calendar;
 }
 }
 ;
 return false;
 })();
 if ($c) {
 if (DayPilotCalendar.gShadow) {
 document.body.removeChild(DayPilotCalendar.gShadow);
 }
 ;
 DayPilotCalendar.gShadow = null;
 $c.coords = $c.$5M.relativeCoords(ev);
 if (!DayPilotCalendar.movingShadow && $c.coords) {
 var $L = $c.$4B(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
 if ($L) {
 DayPilotCalendar.movingShadow = $L;
 var $0F = new DayPilot.Date().getDatePart();
 var ev = {
 'value': DayPilotCalendar.drag.id,
 'start': $0F,
 'end': $0F.addSeconds(DayPilotCalendar.drag.duration),
 'text': DayPilotCalendar.drag.text
 };
 var event = new DayPilot.Event(ev, $c);
 event.external = true;
 DayPilot.Global.moving = {};
 DayPilot.Global.moving.event = event;
 DayPilot.Global.moving.helper = {};
 }
 }
 ;
 if (DayPilot.Global.moving) {
 $c.$5M.updateMoving();
 }
 } else {
 DayPilot.de(DayPilotCalendar.movingShadow);
 DayPilot.Global.moving = null;
 DayPilotCalendar.movingShadow = null;
 if (!DayPilotCalendar.gShadow) {
 DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
 }
 ;
 var $L = DayPilotCalendar.gShadow;
 $L.style.left = $0G.x + 'px';
 $L.style.top = $0G.y + 'px';
 }
 }
 };
 DayPilotCalendar.gTouchEnd = function (ev) {
 DayPilotCalendar.gMouseUp(ev);
 };
 DayPilotCalendar.gMouseMove = function (ev) {
 if (typeof(DayPilotCalendar) === 'undefined') {
 return;
 }
 ;
 if (ev.insideMainD) {
 return;
 } else if (ev.srcElement) {
 if (ev.srcElement.inside) {
 return;
 }
 }
 ;
 var $0G = DayPilot.mc(ev);
 if (DayPilotCalendar.drag) {
 document.body.style.cursor = 'move';
 if (!DayPilotCalendar.gShadow) {
 DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
 }
 ;
 var $L = DayPilotCalendar.gShadow;
 $L.style.left = $0G.x + 'px';
 $L.style.top = $0G.y + 'px';
 DayPilot.Global.moving = null;
 DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
 DayPilotCalendar.movingShadow = null;
 }
 ;
 for (var i = 0; i < DayPilotCalendar.registered.length; i++) {
 if (DayPilotCalendar.registered[i].$4c) {
 DayPilotCalendar.registered[i].$4c();
 }
 }
 };
 DayPilotCalendar.gUnload = function (ev) {
 if (!DayPilotCalendar.registered) {
 return;
 }
 ;
 var r = DayPilotCalendar.registered;
 for (var i = 0; i < r.length; i++) {
 var c = r[i];
 DayPilotCalendar.unregister(c);
 }
 };
 DayPilotCalendar.gMouseUp = function (e) {
 var e = e || window.event;
 if (DayPilot.Global.resizing) {
 if (!DayPilotCalendar.resizingShadow) {
 DayPilot.Global.resizing.style.cursor = 'default';
 DayPilot.Global.resizing.event.calendar.nav.top.style.cursor = 'auto';
 DayPilot.Global.resizing = null;
 return;
 }
 ;
 var $2Z = DayPilot.Global.resizing.event;
 var $0g = DayPilot.Global.resizing.dpBorder;
 var $J = DayPilotCalendar.resizingShadow.clientHeight;
 var top = DayPilotCalendar.resizingShadow.offsetTop;
 DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);
 DayPilotCalendar.resizingShadow = null;
 DayPilot.Global.resizing.style.cursor = 'default';
 $2Z.calendar.nav.top.style.cursor = 'auto';
 DayPilot.Global.resizing.onclick = null;
 DayPilot.Global.resizing = null;
 if ($2Z.calendar.overlap) {
 return;
 }
 ;
 $2Z.calendar.$4Z($2Z, $J, top, $0g);
 } else if (DayPilot.Global.moving) {
 if (!DayPilotCalendar.movingShadow) {
 DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
 DayPilot.Global.moving = null;
 return;
 }
 ;
 var $3G = DayPilot.Global.moving.helper.oldColumn;
 var top = DayPilotCalendar.movingShadow.offsetTop;
 DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
 var $2Z = DayPilot.Global.moving.event;
 var $0o = DayPilotCalendar.movingShadow.column;
 var $0p = DayPilotCalendar.drag;
 DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
 DayPilot.Global.moving = null;
 DayPilotCalendar.movingShadow = null;
 if ($0p) {
 if (!$2Z.calendar.todo) {
 $2Z.calendar.todo = {};
 }
 ;
 $2Z.calendar.todo.del = $0p.element;
 }
 ;
 if ($2Z.calendar.overlap) {
 return;
 }
 ;
 var ev = e || window.event;
 $2Z.calendar.$51($2Z, $0o, top, ev, $0p);
 }
 ;
 if (DayPilotCalendar.drag) {
 DayPilotCalendar.drag = null;
 document.body.style.cursor = '';
 }
 ;
 if (DayPilotCalendar.gShadow) {
 document.body.removeChild(DayPilotCalendar.gShadow);
 DayPilotCalendar.gShadow = null;
 }
 ;
 DayPilotCalendar.moveOffsetY = null;
 };
 DayPilotCalendar.dragStart = function (element, $K, id, $28, $l) {
 DayPilot.us(element);
 var $0p = DayPilotCalendar.drag = {};
 $0p.element = element;
 $0p.duration = $K;
 $0p.text = $28;
 $0p.id = id;
 $0p.shadowType = $l ? $l : 'Fill';
 return false;
 };
 DayPilot.Calendar.makeDraggable = function ($a) {
 var element = $a.element;
 var $3H = $a.keepElement ? null : element;
 var $K = $a.duration || 1;
 if (navigator.msPointerEnabled) {
 element.style.msTouchAction = "none";
 element.style.touchAction = "none";
 }
 ;
 DayPilot.us(element);
 DayPilot.re(element, "mousedown", function (ev) {
 DayPilotCalendar.dragStart($3H, $K, $a.id, $a.text);
 var ev = ev || window.event;
 ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
 return false;
 });
 var $3I = function (ev) {
 var $2Y = 0;
 window.setTimeout(function () {
 var $0p = DayPilotCalendar.drag = {};
 $0p.element = $3H;
 $0p.id = $a.id;
 $0p.text = $a.text || "";
 $0p.duration = $K;
 $0p.shadowType = "Fill";
 DayPilotCalendar.gTouchMove(ev);
 ev.preventDefault();
 }, $2Y);
 ev.preventDefault();
 };
 DayPilot.re(element, DayPilot.touch.start, $3I);
 };
 DayPilotCalendar.deleteShadow = function ($L) {
 if (!$L) {
 return;
 }
 ;
 if (!$L.parentNode) {
 return;
 }
 ;
 $L.parentNode.removeChild($L);
 };
 DayPilotCalendar.createGShadow = function ($l) {
 var $L = document.createElement('div');
 $L.setAttribute('unselectable', 'on');
 $L.style.position = 'absolute';
 $L.style.width = '100px';
 $L.style.height = '20px';
 $L.style.border = '2px dotted #666666';
 $L.style.zIndex = 101;
 $L.style.pointerEvents = "none";
 if ($l === 'Fill') {
 $L.style.backgroundColor = "#aaaaaa";
 $L.style.opacity = 0.5;
 $L.style.filter = "alpha(opacity=50)";
 $L.style.border = '2px solid #aaaaaa';
 }
 ;
 document.body.appendChild($L);
 return $L;
 };
 DayPilotCalendar.moveShadow = function ($q) {
 var $L = DayPilotCalendar.movingShadow;
 $L.parentNode.removeChild($L);
 $q.firstChild.appendChild($L);
 $L.style.left = '0px';
 $L.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth) + 'px';
 };
 DayPilotCalendar.Column = function ($3J, name, $0t) {
 this.value = $3J;
 this.id = $3J;
 this.name = name;
 this.date = new DayPilot.Date($0t);
 };
 DayPilot.CalendarVisible.dragStart = DayPilotCalendar.dragStart;
 DayPilot.CalendarVisible.Calendar = DayPilotCalendar.Calendar;
 if (typeof jQuery !== 'undefined') {
 (function ($) {
 $.fn.daypilotCalendar = function ($a) {
 var $0E = null;
 var j = this.each(function () {
 if (this.daypilot) {
 return;
 }
 ;
 var $3K = new DayPilot.Calendar(this.id, $a);
 $3K.init();
 this.daypilot = $3K;
 if (!$0E) {
 $0E = $3K;
 }
 });
 if (this.length === 1) {
 return $0E;
 } else {
 return j;
 }
 };
 })(jQuery);
 }
 ;
 (function registerAngularModule() {
 var $3L = DayPilot.am();
 if (!$3L) {
 return;
 }
 ;
 $3L.directive("daypilotCalendar", function () {
 return {
 "restrict": "E", "template": "<div></div>", "replace": true, "link": function ($3M, element, $3N) {
 var $c = new DayPilot.Calendar(element[0]);
 $c.$6u.scope = $3M;
 $c.init();
 var $3O = $3N["id"];
 if ($3O) {
 $3M[$3O] = $c;
 }
 ;
 var $3P = $3M["$watch"];
 $3P.call($3M, $3N["daypilotConfig"], function ($3J) {
 for (var name in $3J) {
 $c[name] = $3J[name];
 }
 ;
 $c.update();
 });
 $3P.call($3M, $3N["daypilotEvents"], function ($3J) {
 $c.events.list = $3J;
 $c.$6v({"eventsOnly": true});
 }, true);
 }
 };
 });
 })();
 if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
 Sys.Application.notifyScriptLoaded();
 }
 })();
 */


if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
(function () {
  if (typeof DayPilot.DatePicker !== 'undefined') {
    return;
  }
  ;
  DayPilot.DatePicker = function ($a) {
    this.v = '1204';
    var $b = "navigator_" + new Date().getTime();
    var $c = this;
    this.prepare = function () {
      this.locale = "en-us";
      this.target = null;
      this.resetTarget = true;
      this.pattern = this.$m.locale().datePattern;
      this.theme = null;
      this.patterns = [];
      if ($a) {
        for (var name in $a) {
          this[name] = $a[name];
        }
      }
      ;
      this.init();
    };
    this.init = function () {
      this.date = new DayPilot.Date(this.date);
      var $d = this.$n();
      if (this.resetTarget && !$d) {
        this.$o(this.date);
      }
      ;
      DayPilot.re(document, "mousedown", function () {
        $c.close();
      });
    };
    this.close = function () {
      if (!this.$p) {
        return;
      }
      ;
      if (this.navigator) {
        this.navigator.dispose();
      }
      ;
      this.div.innerHTML = '';
      if (this.div && this.div.parentNode === document.body) {
        document.body.removeChild(this.div);
      }
    };
    this.$n = function () {
      var element = this.$q();
      if (!element) {
        return this.date;
      }
      ;
      var $d = null;
      if (element.tagName === "INPUT") {
        $d = element.value;
      } else {
        $d = element.innerText;
      }
      ;
      if (!$d) {
        return null;
      }
      ;
      var $e = DayPilot.Date.parse($d, $c.pattern);
      for (var i = 0; i < $c.patterns.length; i++) {
        if ($e) {
          return $e;
        }
        ;
        $e = DayPilot.Date.parse($d, $c.patterns[i]);
      }
      ;
      return $e;
    };
    this.$o = function ($e) {
      var element = this.$q();
      if (!element) {
        return;
      }
      ;
      var $d = $e.toString($c.pattern, $c.locale);
      if (element.tagName === "INPUT") {
        element.value = $d;
      } else {
        element.innerHTML = $d;
      }
    };
    this.$m = {};
    this.$m.locale = function () {
      return DayPilot.Locale.find($c.locale);
    };
    this.$q = function () {
      var id = this.target;
      var element = (id && id.nodeType && id.nodeType === 1) ? id : document.getElementById(id);
      return element;
    };
    this.show = function () {
      var element = this.$q();
      var navigator = this.navigator;
      var navigator = new DayPilot.Navigator($b);
      navigator.api = 2;
      navigator.cssOnly = true;
      navigator.theme = $c.theme;
      navigator.weekStarts = "Auto";
      navigator.locale = $c.locale;
      navigator.onTimeRangeSelected = function ($f) {
        $c.date = $f.start;
        var $g = $f.start;
        var $d = $g.toString($c.pattern, $c.locale);
        var $f = {};
        $f.start = $g;
        $f.date = $g;
        $f.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $c.onTimeRangeSelect === 'function') {
          $c.onTimeRangeSelect($f);
          if ($f.preventDefault.value) {
            return;
          }
        }
        ;
        $c.$o($d);
        $c.close();
        if (typeof $c.onTimeRangeSelected === 'function') {
          $c.onTimeRangeSelected($f);
        }
      };
      this.navigator = navigator;
      var $h = DayPilot.abs(element);
      var $i = element.offsetHeight;
      var $j = document.createElement("div");
      $j.style.position = "absolute";
      $j.style.left = $h.x + "px";
      $j.style.top = ($h.y + $i) + "px";
      var $k = document.createElement("div");
      $k.id = $b;
      $j.appendChild($k);
      DayPilot.re($j, "mousedown", function (ev) {
        var ev = ev || window.event;
        ev.cancelBubble = true;
        ev.stopPropagation && ev.stopPropagation();
      });
      document.body.appendChild($j);
      this.div = $j;
      var $l = $c.$n() || new DayPilot.Date().getDatePart();
      navigator.startDate = $l;
      navigator.selectionStart = $l;
      navigator.init();
      this.$p = true;
    };
    this.prepare();
  };
})();

if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
(function () {
  if (typeof DayPilot.Gantt !== 'undefined') {
    return;
  }
  ;
  var $a = function () {
  };
  DayPilot.Gantt = function (id, $b) {
    this.v = '1204';
    var $c = this;
    this.id = id;
    this.isGantt = true;
    var $d = new DayPilot.Scheduler(id);
    this.scheduler = $d;
    $d.viewType = "Resources";
    $d.onGetNodeState = function ($e) {
      var $f = function ($g) {
        var $h = $g.task;
        var $i = {};
        $i.start = $h.start;
        $i.end = $h.end;
        $i.id = $h.id;
        $i.complete = $h.complete;
        $i.text = $h.text;
        $i.type = $h.type;
        $i.expanded = $g.expanded;
        $i.loaded = $g.loaded;
        $i.children = $d.internal.getNodeChildren($g.children);
        return $i;
      };
      $e.result = $f($e.row);
      $e.preventDefault();
    };
    $d.onCallBackResult = function ($e) {
      var $i = $e.result;
      $e.preventDefault();
      if ($i.updateType === "None") {
        return;
      }
      ;
      var $j = function ($k) {
        for (var i = 0; i < $k.length; i++) {
          var name = $k[i];
          if (typeof $i[name] !== "undefined") {
            $c[name] = $i[name];
          }
        }
      };
      $c.links.list = $i.links;
      $c.tasks.list = $i.tasks;
      $c.startDate = new DayPilot.Date($i.startDate);
      $j(['days', 'cellDuration', 'cellGroupBy', 'cellWidth', 'cellWidthSpec', 'cornerHtml', 'separators']);
      $j(['cellProperties', 'cellConfig', 'timeHeader', 'timeHeaders', 'timeline']);
      $l.translate();
      $l.$0a();
      $l.$0b();
      $d.update();
    };
    this.taskGroupMode = "Auto";
    this.autoRefreshCommand = "refresh";
    this.autoRefreshEnabled = false;
    this.autoRefreshInterval = 60;
    this.autoRefreshMaxCount = 20;
    this.autoScroll = "Drag";
    this.bubbleTask = null;
    this.bubbleCell = null;
    this.bubbleRow = null;
    this.cellDuration = 1440;
    this.cellGroupBy = "Month";
    this.cellWidth = 40;
    this.cellWidthSpec = "Fixed";
    this.completeBarVisible = true;
    this.completeBarHeight = 3;
    this.contextMenuTask = null;
    this.contextMenuRow = null;
    this.contextMenuLink = null;
    this.cornerHtml = '';
    this.crosshairColor = 'Gray';
    this.crosshairOpacity = 20;
    this.crosshairType = 'Header';
    this.doubleClickTimeout = 300;
    this.progressiveTaskRendering = 'Progressive';
    this.progressiveTaskRenderingMargin = 500;
    this.progressiveTaskRenderingCacheSweeping = false;
    this.progressiveTaskRenderingCacheSize = 200;
    this.floatingTasks = true;
    this.floatingTimeHeaders = true;
    this.headerHeight = 20;
    this.height = 300;
    this.heightSpec = "Max";
    this.linkBottomMargin = 10;
    this.loadingLabelVisible = true;
    this.loadingLabelText = "Loading...";
    this.messageBarPosition = "Top";
    this.messageHideAfter = 5000;
    this.numberFormat = "0.00";
    this.progressiveRowRendering = true;
    this.progressiveRowRenderingPreload = 25;
    this.rowHeaderScrolling = false;
    this.rowHeaderSplitterWidth = 3;
    this.rowHeaderHideIcon = true;
    this.rowHeaderWidth = 80;
    this.rowHeaderWidthAutoFit = true;
    this.rowMarginBottom = 4;
    this.rowMinHeight = 0;
    this.scrollDelayTasks = 200;
    this.scrollDelayCells = 20;
    this.scrollDelayFloats = 0;
    this.scale = "Day";
    this.snapToGrid = true;
    this.syncTasks = true;
    this.syncLinks = true;
    this.taskHeight = 24;
    this.taskResizeMargin = 5;
    this.taskMovingStartEndEnabled = false;
    this.taskMovingStartEndFormat = "MMMM d, yyyy";
    this.taskResizingStartEndEnabled = false;
    this.taskResizingStartEndFormat = "MMMM d, yyyy";
    this.theme = "gantt_default";
    this.treeAutoExpand = true;
    this.treeIndent = 20;
    this.treeImageMarginLeft = 5;
    this.treeImageMarginTop = 5;
    this.timeline = null;
    this.timeHeaders = [{"groupBy": "Month", "format": "MMMM yyyy"}, {"groupBy": "Day", "format": "d"}];
    this.useEventBoxes = "Never";
    this.taskMoveHandling = "Update";
    this.taskClickHandling = "Enabled";
    this.taskResizeHandling = "Update";
    this.linkCreateHandling = "Update";
    this.taskRightClickHandling = "ContextMenu";
    this.taskDoubleClickHandling = "Disabled";
    this.rowMoveHandling = "Update";
    this.rowClickHandling = "Disabled";
    this.rowDoubleClickHandling = "Disabled";
    this.rowEditHandling = "Update";
    this.rowSelectHandling = "Update";
    this.separators = [];
    this.members = {};
    this.members.obsolete = [];
    this.members.ignore = ["members", "scheduler", "internal"];
    this.members.noCssOnly = [];
    this.links = {};
    this.links.list = [];
    this.links.add = function (link) {
      if (!link) {
        return;
      }
      ;
      var $m = link.isLink ? link.data : link;
      $c.links.list.push($m);
      if ($c.$0c) {
        $l.$0b();
        $d.update();
      }
      ;
      $c.$0d.notify();
    };
    this.links.remove = function (link) {
      if (!link || !link.isLink) {
        return;
      }
      ;
      var $n = DayPilot.indexOf($c.links.list, link.data);
      $c.links.list.splice($n, 1);
      if ($c.$0c) {
        $l.$0b();
        $d.update();
      }
      ;
      $c.$0d.notify();
    };
    this.links.find = function (id) {
      if (!DayPilot.isArray($c.links.list)) {
        return null;
      }
      ;
      for (var i = 0; i < $c.links.list.length; i++) {
        var link = $c.links.list[i];
        if (link.id === id) {
          return new DayPilot.Link(link, $c);
        }
      }
      ;
      return null;
    };
    this.tasks = {};
    this.tasks.list = [];
    this.tasks.add = function ($h) {
      if (!$h) {
        return;
      }
      ;
      if ($h instanceof DayPilot.Event) {
        throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
      }
      ;
      var $m = $h.isTask ? $h.data : $h;
      $c.tasks.list.push($m);
      if ($c.$0c) {
        $l.$0a();
        $d.update();
      }
      ;
      $c.$0d.notify();
    };
    this.tasks.find = function (id) {
      var $m = $o.findInCache(id);
      if (!$m) {
        return null;
      }
      ;
      return new DayPilot.Task($m, $c);
    };
    this.tasks.update = function ($h) {
      if (!$h) {
        return;
      }
      ;
      if (!$h.isTask) {
        throw "DayPilot.Task object expected";
      }
      ;
      $h.commit();
      if ($c.$0c) {
        $l.$0a();
        $d.update();
      }
      ;
      $c.$0d.notify();
    };
    this.tasks.remove = function ($h) {
      if (!$h) {
        return;
      }
      ;
      if (!$h.isTask) {
        throw "DayPilot.Task object expected";
      }
      ;
      var $p = $o.findParentArray($h.data);
      if (!$p) {
        return;
      }
      ;
      var $q = DayPilot.indexOf($p, $r);
      $p.splice($q, 1);
      if ($c.$0c) {
        $l.$0a();
        $d.update();
      }
      ;
      $c.$0d.notify();
    };
    this.onAfterRender = null;
    this.onBeforeRowHeaderRender = null;
    this.onBeforeTaskRender = null;
    this.onBeforeTimeHeaderRender = null;
    this.onBeforeCellRender = null;
    this.onTaskClick = null;
    this.onTaskClicked = null;
    this.onTaskDoubleClick = null;
    this.onTaskDoubleClicked = null;
    this.onTaskRightClick = null;
    this.onTaskRightClicked = null;
    this.onRowMove = null;
    this.onRowMoved = null;
    this.onRowMoving = null;
    this.onRowClick = null;
    this.onRowClicked = null;
    this.onRowDoubleClick = null;
    this.onRowDoubleClicked = null;
    this.onRowEdit = null;
    this.onRowEdited = null;
    this.onRowSelect = null;
    this.onRowSelected = null;
    this.onTaskMove = null;
    this.onTaskMoved = null;
    this.onTaskMoving = null;
    this.onTaskResize = null;
    this.onTaskResized = null;
    this.onTaskResizing = null;
    this.onLinkCreate = null;
    this.onLinkCreated = null;
    this.$0e = function () {
      if (this.backendUrl) {
        return true;
      }
      ;
      if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
        return true;
      }
      ;
      return false;
    };
    this.$0f = function () {
      if ($c.startDate && $c.days) {
        return;
      }
      ;
      var $s = null;
      var $t = null;
      for (var i = 0; i < $c.tasks.list.length; i++) {
        var e = $c.tasks.list[i];
        var $u = new DayPilot.Date(e.start);
        var end = new DayPilot.Date(e.end);
        if ($s === null || $u.getTime() < $s) {
          $s = $u.getTime();
        }
        ;
        if ($t === null || end.getTime() > $t) {
          $t = end.getTime();
        }
      }
      ;
      if ($s && $t) {
        var $u = new DayPilot.Date($s).getDatePart();
        var end = new DayPilot.Date($t).getDatePart().addDays(1);
        $d.startDate = $c.startDate || $u;
        $d.days = $c.days || DayPilot.Date.daysDiff($u, end);
      } else {
        $d.startDate = $c.startDate;
        $d.days = $c.days;
      }
    };
    this.commandCallBack = function ($v, $m) {
      $d.commandCallBack($v, $m);
    };
    this.message = function ($w, $x, $y, $z) {
      $d.message($w, $x, $y, $z);
    };
    this.setHeight = function ($A) {
      $d.setHeight($A);
    };
    this.$0g = function () {
      if (this.backendUrl || typeof WebForm_DoCallback === 'function') {
        return !DayPilot.isArray($c.tasks.list) || $c.tasks.list.length == 0;
      } else {
        return false;
      }
    };
    this.init = function () {
      $l.translate();
      $l.$0a();
      $l.$0b();
      this.$0f();
      $d.init();
      this.$0c = true;
      this.$0h();
      if (this.$0g()) {
        $d.internal.callback('Init');
      }
    };
    this.update = function () {
      $l.translate();
      $l.$0a();
      $l.$0b();
      $c.$0f();
      $d.update();
    };
    this.scrollTo = function ($B) {
      $d.scrollTo($B);
    };
    this.$0i = {};
    var $o = this.$0i;
    $o.cache = {};
    $o.clearCache = function () {
      $o.cache = {};
    };
    $o.addToCache = function ($m, parent) {
      var $C = $m.id;
      if (!$C) {
        return;
      }
      ;
      var $D = {};
      $D.isTaskWrapper = true;
      $D.data = $m;
      $D.parent = parent;
      if ($o.cache[$C]) {
        throw "Duplicate task id detected";
      }
      ;
      $o.cache[$C] = $D;
    };
    $o.findInCache = function (id) {
      if (!id) {
        return null;
      }
      ;
      return $o.cache[id.toString()];
    };
    $o.getProperty = function ($h, name) {
      if ($h.tags && $h.tags[name]) {
        return $h.tags[name];
      }
      ;
      return $h[name];
    };
    $o.findParentArray = function ($E) {
      return $o.findInArray($c.tasks.list, $E);
    };
    $o.findInArray = function ($F, $E) {
      if (DayPilot.indexOf($F, $E) !== -1) {
        return $F;
      }
      ;
      for (var i = 0; i < $F.length; i++) {
        var r = $F[i];
        if (r.children && r.children.length > 0) {
          var parent = $o.findInArray(r.children, $E);
          if (parent) {
            return parent;
          }
        }
      }
      ;
      return null;
    };
    this.$0j = {};
    var $l = this.$0j;
    var $G = function (p, $H) {
      if (typeof p !== "undefined") {
        return p;
      }
      ;
      return $H;
    };
    $l.translate = function () {
      $d.durationBarMode = "PercentComplete";
      $d.timeRangeSelectedHandling = "Disabled";
      $d.treeEnabled = true;
      $d.autoRefreshCommand = $c.autoRefreshCommand;
      $d.autoRefreshEnabled = $c.autoRefreshEnabled;
      $d.autoRefreshInterval = $c.autoRefreshInterval;
      $d.autoRefreshMaxCount = $c.autoRefreshMaxCount;
      $d.autoScroll = $c.autoScroll;
      $d.backendUrl = $c.backendUrl;
      $d.crosshairColor = $c.crosshairColor;
      $d.crosshairOpacity = $c.crosshairOpacity;
      $d.crosshairType = $c.crosshairType;
      $d.doubleClickTimeout = $c.doubleClickTimeout;
      $d.durationBarVisible = $c.completeBarVisible;
      $d.durationBarHeight = $c.completeBarHeight;
      $d.dynamicEventRendering = $c.progressiveTaskRendering ? "Progressive" : "Disabled";
      $d.dynamicEventRenderingMargin = $c.progressiveTaskRenderingMargin;
      $d.dynamicEventRenderingCacheSweeping = $c.progressiveTaskRenderingCacheSweeping;
      $d.dynamicEventRenderingCacheSize = $c.progressiveTaskRenderingCacheSize;
      $d.startDate = new DayPilot.Date($c.startDate);
      $d.days = $c.days;
      $d.cellDuration = $c.cellDuration;
      $d.cellGroupBy = $c.cellGroupBy;
      $d.cellWidth = $c.cellWidth;
      $d.cellWidthSpec = $c.cellWidthSpec;
      $d.cornerHtml = $c.cornerHtml;
      $d.eventHeight = $c.taskHeight;
      $d.eventResizeMargin = $c.taskResizeMargin;
      $d.floatingEvents = $c.floatingTasks;
      $d.floatingTimeHeaders = $c.floatingTimeHeaders;
      $d.headerHeight = $c.headerHeight;
      $d.heightSpec = $c.heightSpec;
      $d.height = $c.height;
      $d.linkBottomMargin = $c.linkBottomMargin;
      $d.loadingLabelVisible = $c.loadingLabelVisible;
      $d.loadingLabelText = $c.loadingLabelText;
      $d.messageBarPosition = $c.messageBarPosition;
      $d.messageHideAfter = $c.messageHideAfter;
      $d.numberFormat = $c.numberFormat;
      $d.progressiveRowRendering = $c.progressiveRowRendering;
      $d.progressiveRowRenderingPreload = $c.progressiveRowRenderingPreload;
      $d.scale = $c.scale;
      $d.scrollDelayEvents = $c.scrollDelayTasks;
      $d.scrollDelayCells = $c.scrollDelayCells;
      $d.scrollDelayFloats = $c.scrollDelayFloats;
      $d.separators = $c.separators;
      $d.eventMovingStartEndEnabled = $c.taskMovingStartEndEnabled;
      $d.eventMovingStartEndFormat = $c.taskMovingStartEndFormat;
      $d.eventResizingStartEndEnabled = $c.taskResizingStartEndEnabled;
      $d.eventResizingStartEndFormat = $c.taskResizingStartEndFormat;
      $d.treeIndent = $c.treeIndent;
      $d.treeAutoExpand = $c.treeAutoExpand;
      $d.treeImageMarginLeft = $c.treeImageMarginLeft;
      $d.treeImageMarginTop = $c.treeImageMarginTop;
      $d.timeHeaders = $c.timeHeaders;
      $d.rowHeaderHideIcon = $c.rowHeaderHideIcon;
      $d.rowHeaderScrolling = $c.rowHeaderScrolling;
      $d.rowHeaderSplitterWidth = $c.rowHeaderSplitterWidth;
      $d.rowHeaderWidth = $c.rowHeaderWidth;
      $d.rowHeaderWidthAutoFit = $c.rowHeaderWidthAutoFit;
      $d.rowMarginBottom = $c.rowMarginBottom;
      $d.rowMinHeight = $c.rowMinHeight;
      $d.theme = $c.theme;
      $d.useEventBoxes = $c.useEventBoxes;
      $d.snapToGrid = $c.snapToGrid;
      $d.uniqueID = $c.uniqueID;
      $d.bubble = $c.bubbleTask;
      $d.cellBubble = $c.bubbleCell;
      $d.resourceBubble = $c.bubbleRow;
      $d.contextMenu = $c.contextMenuTask;
      $d.contextMenuResource = $c.contextMenuRow;
      $d.contextMenuLink = $c.contextMenuLink;
      $d.syncResourceTree = $c.syncTasks;
      $d.syncLinks = $c.syncLinks;
      $d.eventMoveHandling = $c.taskMoveHandling;
      $d.eventClickHandling = $c.taskClickHandling;
      $d.eventResizeHandling = $c.taskResizeHandling;
      $d.linkCreateHandling = $c.linkCreateHandling;
      $d.eventRightClickHandling = $c.taskRightClickHandling;
      $d.eventDoubleClickHandling = $c.taskDoubleClickHandling;
      $d.rowMoveHandling = $c.rowMoveHandling;
      $d.rowClickHandling = $c.rowClickHandling;
      $d.rowDoubleClickHandling = $c.rowDoubleClickHandling;
      $d.rowEditHandling = $c.rowEditHandling;
      $d.rowSelectHandling = $c.rowSelectHandling;
      if (DayPilot.isArray($c.columns)) {
        $d.rowHeaderColumns = [];
        for (var i = 0; i < $c.columns.length; i++) {
          var c = $c.columns[i];
          var $I = {};
          DayPilot.Util.copyProps(c, $I, ['title', 'width']);
          $d.rowHeaderColumns.push($I);
        }
      }
      ;
      if ($c.$0e()) {
        $d.timeHeader = $c.timeHeader;
        $d.timeline = $c.timeline;
        $d.cellProperties = $c.cellProperties;
        $d.cellConfig = $c.cellConfig;
      }
      ;
      $d.onAfterRender = function ($e) {
        if (typeof $c.onAfterRender === "function") {
          $c.onAfterRender($e);
        }
      };
      $d.onRowHeaderResized = function ($e) {
        $c.rowHeaderWidth = $d.rowHeaderWidth;
      };
      $d.onAjaxError = function ($e) {
        if (typeof $c.onAjaxError === "function") {
          $c.onAjaxError($e);
        }
      };
      $d.onRowHeaderColumnResized = function ($e) {
        var $J = $e.column;
        var $n = DayPilot.indexOf($d.rowHeaderColumns, $J);
        for (var i = 0; i < $c.columns.length; i++) {
          var $I = $d.rowHeaderColumns[i];
          var c = $c.columns[i];
          c.width = $I.width;
        }
        ;
        if (typeof $c.onColumnResized === "function") {
          var $K = {};
          $K.column = $c.columns[$n];
          $c.onColumnResized($K);
        }
      };
      $d.onBeforeResHeaderRender = function ($e) {
        var $L = [];
        if (DayPilot.isArray($c.columns)) {
          for (var i = 0; i < $c.columns.length; i++) {
            var $J = $c.columns[i];
            var $M = $J.property;
            var $N = {};
            $N.value = $o.getProperty($e.resource.task, $M);
            $N.html = $N.value;
            $L.push($N);
          }
        }
        ;
        if (typeof $c.onBeforeRowHeaderRender === "function") {
          var $O = {};
          $O.task = new DayPilot.Task($e.resource.task, $c);
          $O.row = {};
          DayPilot.Util.copyProps($e.resource, $O.row, ['html', 'backColor', 'cssClass', 'expanded', 'minHeight', 'marginBottom', 'toolTip', 'contextMenu', 'areas']);
          $O.row.columns = $L;
          $c.onBeforeRowHeaderRender($O);
          DayPilot.Util.copyProps($O.row, $e.resource, ['html', 'backColor', 'cssClass', 'expanded', 'minHeight', 'marginBottom', 'toolTip', 'contextMenu', 'areas']);
        }
        ;
        if (DayPilot.isArray($c.columns)) {
          for (var i = 0; i < $c.columns.length; i++) {
            var $w = $L[i].html;
            if (i === 0) {
              $e.resource.html = $w;
            } else {
              $e.resource.columns[i - 1].html = $w;
            }
          }
        }
      };
      $d.onBeforeCellRender = function ($e) {
        $e.task = $c.tasks.find($e.cell.resource);
        delete $e.cell.resource;
        if (typeof $c.onBeforeCellRender === "function") {
          $c.onBeforeCellRender($e);
        }
      };
      $d.onBeforeTimeHeaderRender = function ($e) {
        if (typeof $c.onBeforeTimeHeaderRender === "function") {
          $c.onBeforeTimeHeaderRender($e);
        }
      };
      $d.onEventClick = function ($e) {
        $e.task = new DayPilot.Task($e.e, $c);
        if (typeof $c.onTaskClick === "function") {
          $c.onTaskClick($e);
        }
      };
      $d.onEventClicked = function ($e) {
        if (typeof $c.onTaskClicked === "function") {
          $c.onTaskClicked($e);
        }
      };
      $d.onEventDelete = function ($e) {
        if (typeof $c.onTaskDelete === "function") {
          $c.onTaskDelete($e);
        }
      };
      $d.onEventDeleted = function ($e) {
        if (typeof $c.onTaskDeleted === "function") {
          $c.onTaskDeleted($e);
        }
      };
      $d.onEventDoubleClick = function ($e) {
        $e.task = new DayPilot.Task($e.e, $c);
        if (typeof $c.onTaskDoubleClick === "function") {
          $c.onTaskDoubleClick($e);
        }
      };
      $d.onEventDoubleClicked = function ($e) {
        if (typeof $c.onTaskDoubleClicked === "function") {
          $c.onTaskDoubleClicked($e);
        }
      };
      $d.onEventRightClick = function ($e) {
        $e.task = new DayPilot.Task($e.e, $c);
        if (typeof $c.onTaskRightClick === "function") {
          $c.onTaskRightClick($e);
        }
      };
      $d.onEventRightClicked = function ($e) {
        if (typeof $c.onTaskRightClicked === "function") {
          $c.onTaskRightClicked($e);
        }
      };
      $d.onRowMoving = function ($e) {
        $e.$0k = $e.source;
        $e.$0l = $e.target;
        $e.source = new DayPilot.Task($e.$0k.$.row.task, $c);
        $e.target = new DayPilot.Task($e.$0l.$.row.task, $c);
        if (typeof $c.onRowMoving === "function") {
          $c.onRowMoving($e);
        }
      };
      $d.onRowMove = function ($e) {
        $e.$0k = $e.source;
        $e.$0l = $e.target;
        $e.source = new DayPilot.Task($e.$0k.$.row.task, $c);
        $e.target = new DayPilot.Task($e.$0l.$.row.task, $c);
        if (typeof $c.onRowMove === "function") {
          $c.onRowMove($e);
        }
        ;
        $e.source = $e.$0k;
        $e.target = $e.$0l;
      };
      $d.onRowMoved = function ($e) {
        var $r = $e.$0k.$.row.task;
        var $B = $e.$0l.$.row.task;
        var $P = $e.position;
        if ($P === "forbidden") {
          return;
        }
        ;
        var $Q = $o.findParentArray($r);
        if (!$Q) {
          throw "Cannot find source node parent";
        }
        ;
        var $q = DayPilot.indexOf($Q, $r);
        $Q.splice($q, 1);
        var $R = $o.findParentArray($B);
        if (!$R) {
          throw "Cannot find target node parent";
        }
        ;
        var $S = DayPilot.indexOf($R, $B);
        switch ($P) {
          case "before":
            $R.splice($S, 0, $r);
            break;
          case "after":
            $R.splice($S + 1, 0, $r);
            break;
          case "child":
            if (!$B.children) {
              $B.children = [];
              $B.expanded = true;
            }
            ;
            $B.children.push($r);
            break;
        }
        ;
        $c.$0d.notify();
        $c.update();
        $e.source = new DayPilot.Task($e.$0k.$.row.task, $c);
        $e.target = new DayPilot.Task($e.$0l.$.row.task, $c);
        if (typeof $c.onRowMoved === "function") {
          $c.onRowMoved($e);
        }
      };
      $d.onRowClick = function ($e) {
        $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
        if (typeof $c.onRowClick === "function") {
          $c.onRowClick($e);
        }
      };
      $d.onRowClicked = function ($e) {
        if (typeof $c.onRowClicked === "function") {
          $c.onRowClicked($e);
        }
      };
      $d.onRowDoubleClick = function ($e) {
        $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
        if (typeof $c.onRowDoubleClick === "function") {
          $c.onRowDoubleClick($e);
        }
      };
      $d.onRowDoubleClicked = function ($e) {
        if (typeof $c.onRowDoubleClicked === "function") {
          $c.onRowDoubleClicked($e);
        }
      };
      $d.onRowEdit = function ($e) {
        $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
        if (typeof $c.onRowEdit === "function") {
          $c.onRowEdit($e);
        }
      };
      $d.onRowEdited = function ($e) {
        if (typeof $c.onRowEdited === "function") {
          $c.onRowEdited($e);
        }
      };
      $d.onRowSelect = function ($e) {
        $e.task = new DayPilot.Task($e.row.$.row.task, $c);
        if (typeof $c.onRowSelect === "function") {
          $c.onRowSelect($e);
        }
      };
      $d.onRowSelected = function ($e) {
        if (typeof $c.onRowSelected === "function") {
          $c.onRowSelected($e);
        }
      };
      $d.onEventMove = function ($e) {
        $e._e = $e.e;
        $e.task = new DayPilot.Task($e.e, $c);
        delete $e.e;
        delete $e.position;
        delete $e.newResource;
        if (typeof $c.onTaskMove === "function") {
          $c.onTaskMove($e);
        }
      };
      $d.onEventMoved = function ($e) {
        if ($c.taskGroupMode === "Auto") {
          var e = $e._e;
          var $h = e.data.task;
          $h.start = e.start();
          $h.end = e.end();
          while (e.data.parent) {
            var parent = $d.events.find(e.data.parent.id);
            var $T = $l.childrenStartEnd(e.data.parent);
            parent.start($T.start);
            parent.end($T.end);
            $d.events.update(parent);
            e = parent;
          }
        }
        ;
        $c.$0d.notify();
        if (typeof $c.onTaskMoved === "function") {
          $c.onTaskMoved($e);
        }
      };
      $d.onEventMoving = function ($e) {
        $e.task = new DayPilot.Task($e.e, $c);
        $e._e = $e.e;
        delete $e.position;
        delete $e.overlapping;
        delete $e.resource;
        if (typeof $c.onTaskMoving === "function") {
          $c.onTaskMoving($e);
        }
      };
      $d.onEventResize = function ($e) {
        $e._e = $e.e;
        $e.task = new DayPilot.Task($e.e, $c);
        if (typeof $c.onTaskResize === "function") {
          $c.onTaskResize($e);
        }
      };
      $d.onEventResized = function ($e) {
        if ($c.taskGroupMode === "Auto") {
          var e = $e._e;
          var $h = e.data.task;
          $h.start = e.start();
          $h.end = e.end();
          while (e.data.parent) {
            var parent = $d.events.find(e.data.parent.id);
            var $T = $l.childrenStartEnd(e.data.parent);
            parent.start($T.start);
            parent.end($T.end);
            $d.events.update(parent);
            e = parent;
          }
        }
        ;
        $c.$0d.notify();
        if (typeof $c.onTaskResized === "function") {
          $c.onTaskResized($e);
        }
      };
      $d.onEventResizing = function ($e) {
        $e.task = new DayPilot.Task($e.e, $c);
        $e._e = $e.e;
        if (typeof $c.onTaskResizing === "function") {
          $c.onTaskResizing($e);
        }
      };
      $d.onLinkCreate = function ($e) {
        $e.source = $c.tasks.find($e.from);
        $e.target = $c.tasks.find($e.to);
        if (typeof $c.onLinkCreate === "function") {
          $c.onLinkCreate($e);
        }
      };
      $d.onLinkCreated = function ($e) {
        if (typeof $c.onLinkCreated === "function") {
          $c.onLinkCreated($e);
        }
      };
    };
    $l.$0m = function ($m) {
      for (var i = 0; i < $d.rowlist.length; i++) {
        var $g = $d.rowlist[i];
        if ($g.task === $m) {
          return $d.internal.createRowObject($g);
        }
      }
      ;
      return null;
    };
    $l.$0b = function () {
      $d.links = $c.links.list ? $c.links.list : [];
    };
    $l.$0a = function () {
      $d.resources = [];
      $d.events.list = [];
      $o.clearCache();
      $l.$0n($c.tasks.list, $d.resources, null);
    };
    $l.$0o = function ($h) {
      var $U = $h.type || "Task";
      if ($h.children && $h.children.length) {
        $U = "Group";
      }
      ;
      var $m = {};
      for (var name in $h) {
        if (name === "children") {
          continue;
        }
        ;
        $m[name] = $h[name];
      }
      ;
      var $e = {};
      $e.data = $m;
      $e.type = $U;
      if (!$m.box) {
        $m.box = {};
      }
      ;
      if (typeof $m.box.html === "undefined") {
        if ($e.type === "Task") {
          var $V = $m.complete || 0;
          $m.box.html = $V + "%";
        } else {
          $m.box.html = "";
        }
      }
      ;
      if (typeof $m.box.htmlRight === "undefined") {
        $m.box.htmlRight = $m.text;
      }
      ;
      if (typeof $c.onBeforeTaskRender === "function") {
        $c.onBeforeTaskRender($e);
      }
      ;
      $e.type = $U;
      return $e;
    };
    $l.$0n = function ($r, $B, parent) {
      if (!DayPilot.isArray($r)) {
        return;
      }
      ;
      for (var i = 0; i < $r.length; i++) {
        var $W = $r[i];
        $o.addToCache($W, parent);
        var $e = $l.$0o($W);
        var $h = $e.data;
        var $U = $e.type;
        var event = {};
        DayPilot.Util.copyProps($h, event, ['id', 'start', 'end', 'text', 'complete']);
        DayPilot.Util.copyProps($h.box, event);
        event.parent = parent;
        event.task = $W;
        event.resource = $h.id;
        if ($U == "Group") {
          event.type = "Group";
          event.html = "";
          delete event.backColor;
          if ($c.taskGroupMode === "Auto") {
            var $T = $l.childrenStartEnd($W);
            event.start = $T.start;
            event.end = $T.end;
            event.resizeDisabled = true;
            event.moveDisabled = true;
          }
        } else if ($U === "Milestone") {
          $W.end = $W.start;
          $h.end = $h.start;
          event.end = $h.start;
          event.barHidden = true;
          event.resizeDisabled = true;
          event.type = "Milestone";
          event.width = $c.taskHeight;
          delete event.backColor;
        } else if ($U === "Task") {
          $a();
        }
        ;
        event.moveVDisabled = true;
        event.htmlRight = $h.box.htmlRight;
        event.htmlLeft = $h.box.htmlLeft;
        $d.events.list.push(event);
        var r = {};
        r.task = $W;
        DayPilot.Util.copyProps($h.row, r);
        r.name = $h.text;
        r.id = $h.id;
        r.children = [];
        r.expanded = !$h.row || !$h.row.collapsed;
        if ($W.children && $W.children.length) {
          $l.$0n($W.children, r.children, $W);
        }
        ;
        $B.push(r);
      }
    };
    $l.childrenStartEnd = function ($h) {
      if (!$h.children || !$h.children.length) {
        var $u = $h.start;
        var end = $h.end;
        if ($h.type === "Milestone") {
          end = $u;
        }
        ;
        return {"start": new DayPilot.Date($u), "end": new DayPilot.Date(end)};
      }
      ;
      var $u = null;
      var end = null;
      for (var i = 0; i < $h.children.length; i++) {
        var $T = $l.childrenStartEnd($h.children[i]);
        if (!$u || $T.start.getTime() < $u.getTime()) {
          $u = $T.start;
        }
        ;
        if (!end || $T.end.getTime() > end.getTime()) {
          end = $T.end;
        }
      }
      ;
      return {"start": $u, "end": end};
    };
    this.rows = {};
    this.rows.expand = function ($X) {
      $d.rows.expand($X);
    };
    this.rows.expandAll = function () {
      $d.rows.expandAll();
    };
    this.internal = {};
    this.internal.initialized = function () {
      return $c.$0c;
    };
    this.internal.rowObjectForTaskData = $l.$0m;
    this.$0d = {};
    this.$0d.scope = null;
    this.$0d.notify = function () {
      if ($c.$0d.scope) {
        $c.$0d.scope["$apply"]();
      }
    };
    this.$0p = null;
    this.$0q = function ($b) {
      var $Y = {
        "tasks": {
          "preInit": function () {
            var $Z = this.data;
            if (!$Z) {
              return;
            }
            ;
            if (DayPilot.isArray($Z.list)) {
              $c.tasks.list = $Z.list;
            } else {
              $c.tasks.list = $Z;
            }
          }
        }, "links": {
          "preInit": function () {
            var $00 = this.data;
            if (!$00) {
              return;
            }
            ;
            if (DayPilot.isArray($00.list)) {
              $c.links.list = $00.list;
            } else {
              $c.links.list = $00;
            }
          }
        }, "scrollTo": {
          "postInit": function () {
            if (this.data) {
              $c.scrollTo(this.data);
            }
          }
        }
      };
      this.$0p = $Y;
      for (var name in $b) {
        if ($Y[name]) {
          var $01 = $Y[name];
          $01.data = $b[name];
          if ($01.preInit) {
            $01.preInit();
          }
        } else {
          $c[name] = $b[name];
        }
      }
    };
    this.$0h = function () {
      var $Y = this.$0p;
      for (var name in $Y) {
        var $01 = $Y[name];
        if ($01.postInit) {
          $01.postInit();
        }
      }
    };
    this.$0q($b);
  };
  if (typeof jQuery !== 'undefined') {
    (function ($) {
      $.fn.daypilotGantt = function ($b) {
        var $02 = null;
        var j = this.each(function () {
          if (this.daypilot) {
            return;
          }
          ;
          var $03 = new DayPilot.Gantt(this.id, $b);
          $03.init();
          this.daypilot = $03;
          if (!$02) {
            $02 = $03;
          }
        });
        if (this.length === 1) {
          return $02;
        } else {
          return j;
        }
      };
    })(jQuery);
  }
  ;
  (function registerAngularModule() {
    var $04 = DayPilot.am();
    if (!$04) {
      return;
    }
    ;
    $04.directive("daypilotGantt", function () {
      return {
        "restrict": "E", "template": "<div id='{{id}};'></div>", "compile": function compile(element, $05) {
          element.replaceWith(this["template"].replace("{{id}};", $05["id"]));
          return function link($06, element, $05) {
            var $c = new DayPilot.Gantt(element[0]);
            $c.$0d.scope = $06;
            $c.init();
            var $07 = $05["id"];
            if ($07) {
              $06[$07] = $c;
            }
            ;
            var $08 = $06["$watch"];
            $08.call($06, $05["daypilotConfig"], function ($09) {
              $c.$0q($09);
              $c.update();
            }, true);
          };
        }
      };
    });
  })();
  if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
    Sys.Application.notifyScriptLoaded();
  }
})();

if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
if (typeof DayPilotMenu === 'undefined') {
  var DayPilotMenu = DayPilot.MenuVisible = {};
}
;
(function () {
  if (typeof DayPilot.Menu !== 'undefined') {
    return;
  }
  ;
  var DayPilotMenu = {};
  DayPilotMenu.mouse = null;
  DayPilotMenu.menu = null;
  DayPilotMenu.clickRegistered = false;
  DayPilotMenu.hideTimeout = null;
  DayPilot.Menu = function ($a) {
    var $b = this;
    this.v = '1204';
    this.zIndex = 10;
    this.useShadow = true;
    this.cssClassPrefix = "menu_default";
    this.cssOnly = true;
    this.menuTitle = null;
    this.showMenuTitle = false;
    this.ref = null;
    this.hideOnMouseOut = false;
    if ($a && DayPilot.isArray($a)) {
      this.items = $a;
    }
    ;
    this.show = function (e, $c) {
      var $d = null;
      if (typeof e.id === 'string' || typeof e.id === 'number') {
        $d = e.id;
      } else if (typeof e.id === 'function') {
        $d = e.id();
      } else if (typeof e.value === 'function') {
        $d = e.value();
      }
      ;
      if (typeof(DayPilot.Bubble) !== 'undefined') {
        DayPilot.Bubble.hideActive();
      }
      ;
      if (!$c) {
        DayPilotMenu.menuClean();
      }
      ;
      this.submenu = null;
      if (DayPilotMenu.mouse === null) {
        return;
      }
      ;
      var $e = document.createElement("div");
      $e.style.position = "absolute";
      $e.style.top = "0px";
      $e.style.left = "0px";
      $e.style.display = 'none';
      $e.style.overflow = 'hidden';
      $e.style.zIndex = this.zIndex + 1;
      $e.className = this.applyCssClass('main');
      $e.onclick = function () {
        this.parentNode.removeChild(this);
      };
      if (this.hideOnMouseOut) {
        $e.onmousemove = function (ev) {
          clearTimeout(DayPilotMenu.hideTimeout);
        };
        $e.onmouseout = function (ev) {
          $b.delayedHide();
        };
      }
      ;
      if (!this.items || this.items.length === 0) {
        throw "No menu items defined.";
      }
      ;
      if (this.showMenuTitle) {
        var title = document.createElement("div");
        title.innerHTML = this.menuTitle;
        title.className = this.applyCssClass("title");
        $e.appendChild(title);
      }
      ;
      for (var i = 0; i < this.items.length; i++) {
        var mi = this.items[i];
        var $f = document.createElement("div");
        if (typeof mi === 'undefined') {
          continue;
        }
        ;
        if (mi.text === '-') {
          var $g = document.createElement("div");
          $f.appendChild($g);
        } else {
          var $h = document.createElement("a");
          $h.style.position = 'relative';
          $h.style.display = "block";
          if (mi.href) {
            $h.href = mi.href.replace(/\x7B0\x7D/gim, $d);
            if (mi.target) {
              $h.setAttribute("target", mi.target);
            }
          } else if (mi.onclick) {
            $h.item = mi;
            $h.onclick = mi.onclick;
            $h.ontouchend = mi.onclick;
          } else if (mi.command) {
            var $i = function (mi, $h) {
              return function (e) {
                var $j = $h.source;
                var $f = mi;
                $f.action = $f.action ? $f.action : 'CallBack';
                var $k = $j.calendar || $j.root;
                if ($j instanceof DayPilot.Link) {
                  $k.internal.linkMenuClick($f.command, $j, $f.action);
                  return;
                } else if ($j instanceof DayPilot.Selection) {
                  $k.internal.timeRangeMenuClick($f.command, $j, $f.action);
                  return;
                } else if ($j instanceof DayPilot.Event) {
                  //warren: event click
                  $k.internal.eventMenuClick($f.command, $j, $f.action);
                  return;
                } else {
                  switch ($j.type) {
                    case 'resource':
                      $k.internal.resourceHeaderMenuClick($f.command, $j, $f.action);
                      return;
                    case 'selection':
                      $k.internal.timeRangeMenuClick($f.command, $j, $f.action);
                      return;
                    default:
                      $k.internal.eventMenuClick($f.command, $j, $f.action);
                      return;
                  }
                }
                ;
                e.preventDefault();
              };
            };
            $h.onclick = $i(mi, $h);
            $h.ontouchend = $i(mi, $h);
          }
          ;
          $h.source = e;
          var $l = document.createElement("span");
          $l.innerHTML = mi.text;
          $h.appendChild($l);
          if (mi.image) {
            var $m = document.createElement("img");
            $m.src = mi.image;
            $m.style.position = 'absolute';
            $m.style.top = '0px';
            $m.style.left = '0px';
            $h.appendChild($m);
          }
          ;
          var $n = function (mi, $h) {
            return function () {
              var $j = $h.source;
              var $f = mi;
              setTimeout(function () {
                if ($b.submenu && $b.submenu.item === $f) {
                  return;
                }
                ;
                if ($b.submenu && $b.submenu.item !== $f) {
                  $b.submenu.menu.hide();
                  $b.submenu = null;
                }
                ;
                if (!$f.items) {
                  return;
                }
                ;
                var $o = $b.cloneOptions();
                $o.items = $f.items;
                $b.submenu = {};
                $b.submenu.menu = new DayPilot.Menu($o);
                $b.submenu.menu.show($j, true);
                $b.submenu.item = $f;
              }, 500);
            };
          };
          $h.onmouseover = $n(mi, $h);
          $f.appendChild($h);
        }
        ;
        $e.appendChild($f);
      }
      ;
      var $p = function (e) {
        window.setTimeout(function () {
          DayPilotMenu.menuClean();
        }, 100);
      };
      $e.onclick = $p;
      $e.ontouchend = $p;
      $e.onmousedown = function (e) {
        e = e || window.event;
        e.cancelBubble = true;
        if (e.stopPropagation)e.stopPropagation();
      };
      $e.oncontextmenu = function () {
        return false;
      };
      document.body.appendChild($e);
      $b.visible = true;
      $b.source = e;
      $e.style.display = '';
      var $q = $e.clientHeight;
      var $r = $e.offsetWidth;
      $e.style.display = 'none';
      var $s = document.documentElement.clientHeight;
      if (!this.ref) {
        var x = DayPilotMenu.mouse.x + 1;
        var y = DayPilotMenu.mouse.y + 1;
        if (DayPilotMenu.mouse.clientY > $s - $q && $s !== 0) {
          var $t = DayPilotMenu.mouse.clientY - ($s - $q) + 5;
          $e.style.top = (y - $t) + 'px';
        } else {
          $e.style.top = y + 'px';
        }
        ;
        var $u = document.documentElement.clientWidth;
        if (DayPilotMenu.mouse.clientX > $u - $r && $u !== 0) {
          var $v = DayPilotMenu.mouse.clientX - ($u - $r) + 5;
          $e.style.left = (x - $v) + 'px';
        } else {
          $e.style.left = x + 'px';
        }
      } else {
        var $w = DayPilot.abs(this.ref);
        var $q = this.ref.offsetHeight;
        $e.style.left = $w.x + "px";
        $e.style.top = ($w.y + $q) + "px";
      }
      ;
      $e.style.display = '';
      this.addShadow($e);
      this.div = $e;
      if (!$c) {
        DayPilot.Menu.active = this;
      }
      ;
      return;
    };
    this.applyCssClass = function ($x) {
      var $y = this.theme || this.cssClassPrefix;
      var $z = (this.cssOnly ? "_" : "");
      if ($y) {
        return $y + $z + $x;
      } else {
        return "";
      }
    };
    this.cloneOptions = function () {
      var $o = {};
      var $A = ['cssOnly', 'cssClassPrefix', 'useShadow', 'zIndex'];
      for (var i = 0; i < $A.length; i++) {
        var p = $A[i];
        $o[p] = this[p];
      }
      ;
      return $o;
    };
    this.hide = function () {
      if (this.submenu) {
        this.submenu.menu.hide();
      }
      ;
      this.removeShadow();
      if (this.div && this.div.parentNode === document.body) {
        document.body.removeChild(this.div);
      }
      ;
      $b.visible = false;
      $b.source = null;
    };
    this.delayedHide = function () {
      DayPilotMenu.hideTimeout = setTimeout(function () {
        $b.hide();
      }, 200);
    };
    this.cancelHideTimeout = function () {
      clearTimeout(DayPilotMenu.hideTimeout);
    };
    this.init = function (ev) {
      DayPilotMenu.mouseMove(ev);
    };
    this.addShadow = function ($B) {
      if (!this.useShadow || this.cssOnly) {
        return;
      }
      ;
      if (!$B) {
        return;
      }
      ;
      if (this.shadows && this.shadows.length > 0) {
        this.removeShadow();
      }
      ;
      this.shadows = [];
      for (var i = 0; i < 5; i++) {
        var $C = document.createElement('div');
        $C.style.position = 'absolute';
        $C.style.width = $B.offsetWidth + 'px';
        $C.style.height = $B.offsetHeight + 'px';
        $C.style.top = $B.offsetTop + i + 'px';
        $C.style.left = $B.offsetLeft + i + 'px';
        $C.style.zIndex = this.zIndex;
        $C.style.filter = 'alpha(opacity:10)';
        $C.style.opacity = 0.1;
        $C.style.backgroundColor = '#000000';
        document.body.appendChild($C);
        this.shadows.push($C);
      }
    };
    this.removeShadow = function () {
      if (!this.shadows) {
        return;
      }
      ;
      for (var i = 0; i < this.shadows.length; i++) {
        document.body.removeChild(this.shadows[i]);
      }
      ;
      this.shadows = [];
    };
    var $o = DayPilot.isArray($a) ? null : $a;
    if ($o) {
      for (var name in $o) {
        this[name] = $o[name];
      }
    }
    ;
    if (!DayPilotMenu.clickRegistered) {
      DayPilot.re(document, 'mousemove', DayPilotMenu.mouseMove);
      DayPilot.re(document, 'touchmove', DayPilotMenu.touchMove);
      DayPilot.re(document, 'touchstart', DayPilotMenu.touchStart);
      DayPilot.re(document, 'touchend', DayPilotMenu.touchEnd);
      DayPilot.re(document, 'mousedown', DayPilotMenu.menuClean);
      DayPilotMenu.clickRegistered = true;
    }
  };
  DayPilotMenu.menuClean = function (ev) {
    if (typeof(DayPilot.Menu.active) === 'undefined')return;
    if (DayPilot.Menu.active) {
      DayPilot.Menu.active.hide();
      DayPilot.Menu.active = null;
    }
  };
  DayPilotMenu.mouseMove = function (ev) {
    if (typeof(DayPilotMenu) === 'undefined')return;
    DayPilotMenu.mouse = DayPilotMenu.mousePosition(ev);
  };
  DayPilotMenu.touchMove = function (ev) {
    if (typeof(DayPilotMenu) === 'undefined') {
      return;
    }
    ;
    DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
  };
  DayPilotMenu.touchStart = function (ev) {
    if (typeof(DayPilotMenu) === 'undefined') {
      return;
    }
    ;
    DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
  };
  DayPilotMenu.touchEnd = function (ev) {
  };
  DayPilotMenu.touchPosition = function (ev) {
    var $D = ev.touches[0];
    var $E = {};
    $E.x = $D.pageX;
    $E.y = $D.pageY;
    $E.clientX = $D.clientX;
    $E.clientY = $D.clientY;
    return $E;
  };
  DayPilotMenu.mousePosition = function (e) {
    var $F = 0;
    var $G = 0;
    if (!e)var e = window.event;
    if (e.pageX || e.pageY) {
      $F = e.pageX;
      $G = e.pageY;
    } else if (e.clientX || e.clientY) {
      $F = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
      $G = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
    }
    ;
    var $H = {};
    $H.x = $F;
    $H.y = $G;
    $H.clientY = e.clientY;
    $H.clientX = e.clientX;
    return $H;
  };
  DayPilot.MenuVisible.Menu = DayPilotMenu.Menu;
  if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
    Sys.Application.notifyScriptLoaded();
  }
})();


if (typeof(DayPilot) === 'undefined') {
  DayPilot = {};
}
;
(function () {
  DayPilot.ModalStatic = {};
  DayPilot.ModalStatic.list = [];
  DayPilot.ModalStatic.hide = function () {
    if (this.list.length > 0) {
      var $a = this.list.pop();
      if ($a) {
        $a.hide();
      }
    }
  };
  DayPilot.ModalStatic.remove = function ($b) {
    var $c = DayPilot.ModalStatic.list;
    for (var i = 0; i < $c.length; i++) {
      if ($c[i] === $b) {
        $c.splice(i, 1);
        return;
      }
    }
  };
  DayPilot.ModalStatic.close = function ($d) {
    DayPilot.ModalStatic.result($d);
    DayPilot.ModalStatic.hide();
  };
  DayPilot.ModalStatic.result = function (r) {
    var $c = DayPilot.ModalStatic.list;
    if ($c.length > 0) {
      $c[$c.length - 1].result = r;
    }
  };
  DayPilot.ModalStatic.displayed = function ($b) {
    var $c = DayPilot.ModalStatic.list;
    for (var i = 0; i < $c.length; i++) {
      if ($c[i] === $b) {
        return true;
      }
    }
    ;
    return false;
  };
  var $e = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
  DayPilot.Modal = function () {
    this.autoStretch = true;
    this.autoStretchFirstLoadOnly = false;
    this.border = "10px solid #ccc";
    this.corners = 'Rounded';
    this.className = null;
    this.dragDrop = true;
    this.height = 200;
    this.maxHeight = null;
    this.opacity = 30;
    this.scrollWithPage = true;
    this.top = 20;
    this.useIframe = true;
    this.width = 500;
    this.zIndex = null;
    this.closed = null;
    var $f = this;
    this.id = '_' + new Date().getTime() + 'n' + (Math.random() * 10);
    this.registered = false;
    this.start = null;
    this.coords = null;
    this.showHtml = function ($g) {
      if (DayPilot.ModalStatic.displayed(this)) {
        throw "This modal dialog is already displayed.";
      }
      ;
      if (!this.div) {
        this.create();
      }
      ;
      this.update();
      if (this.useIframe) {
        var $h = function (p, $i) {
          return function () {
            p.setInnerHTML(p.id + "iframe", $i);
          };
        };
        window.setTimeout($h(this, $g), 0);
      } else {
        if ($g.nodeType) {
          this.div.appendChild($g);
        } else {
          this.div.innerHTML = $g;
        }
      }
      ;
      this.update();
      this.register();
    };
    this.rounded = function () {
      return this.corners && this.corners.toLowerCase() === 'rounded';
    };
    this.showUrl = function ($j) {
      if (DayPilot.ModalStatic.displayed(this)) {
        throw "This modal dialog is already displayed.";
      }
      ;
      this.useIframe = true;
      if (!this.div) {
        this.create();
      }
      ;
      this.re(this.iframe, "load", this.onIframeLoad);
      this.iframe.src = $j;
      this.update();
      this.register();
    };
    this.update = function () {
      var $k = window;
      var $l = document;
      var scrollY = $k.pageYOffset ? $k.pageYOffset : (($l.documentElement && $l.documentElement.scrollTop) ? $l.documentElement.scrollTop : $l.body.scrollTop);
      var $m = function () {
        return $f.windowRect().y;
      };
      this.hideDiv.style.filter = "alpha(opacity=" + this.opacity + ")";
      this.hideDiv.style.opacity = "0." + this.opacity;
      this.hideDiv.style.backgroundColor = "black";
      if (this.zIndex) {
        this.hideDiv.style.zIndex = this.zIndex;
      }
      ;
      this.hideDiv.style.display = '';
      window.setTimeout(function () {
        $f.hideDiv.onclick = function () {
          $f.hide();
        };
      }, 500);
      this.div.className = this.className;
      this.div.style.border = this.border;
      if (this.rounded()) {
        this.div.style.MozBorderRadius = "5px";
        this.div.style.webkitBorderRadius = "5px";
        this.div.style.borderRadius = "5px";
      }
      ;
      this.div.style.marginLeft = '-' + Math.floor(this.width / 2) + "px";
      this.div.style.position = 'absolute';
      this.div.style.top = (scrollY + this.top) + 'px';
      this.div.style.width = this.width + 'px';
      if (this.zIndex) {
        this.div.style.zIndex = this.zIndex;
      }
      ;
      if (this.height) {
        this.div.style.height = this.height + 'px';
      }
      ;
      if (this.useIframe && this.height) {
        this.iframe.style.height = (this.height) + 'px';
      }
      ;
      this.div.style.display = '';
      DayPilot.ModalStatic.list.push(this);
    };
    this.onIframeLoad = function () {
      $f.iframe.contentWindow.modal = $f;
      if ($f.autoStretch) {
        $f.stretch();
      }
    };
    this.stretch = function () {
      var $m = function () {
        return $f.windowRect().y;
      };
      var $n = this.maxHeight || $m() - 2 * this.top;
      for (var h = this.height; h < $n && this.hasScrollbar(); h += 10) {
        this.iframe.style.height = (h) + 'px';
        this.div.style.height = h + 'px';
      }
      ;
      if (this.autoStretchFirstLoadOnly) {
        this.ue(this.iframe, "load", this.onIframeLoad);
      }
    };
    this.hasScrollbar = function () {
      var document = this.iframe.contentWindow.document;
      var $o = document.compatMode === 'BackCompat' ? document.body : document.documentElement;
      var $p = $o.scrollHeight > $o.clientHeight;
      var $q = $o.scrollWidth > $o.clientWidth;
      return $p;
    };
    this.windowRect = function () {
      var $l = document;
      if ($l.compatMode === "CSS1Compat" && $l.documentElement && $l.documentElement.clientWidth) {
        var x = $l.documentElement.clientWidth;
        var y = $l.documentElement.clientHeight;
        return {x: x, y: y};
      } else {
        var x = $l.body.clientWidth;
        var y = $l.body.clientHeight;
        return {x: x, y: y};
      }
    };
    this.register = function () {
      if (this.registered) {
        return;
      }
      ;
      this.re(window, 'resize', this.resize);
      this.re(window, 'scroll', this.resize);
      if (this.dragDrop) {
        this.re(document, 'mousemove', this.drag);
        this.re(document, 'mouseup', this.drop);
      }
      ;
      this.registered = true;
    };
    this.drag = function (e) {
      if (!$f.coords) {
        return;
      }
      ;
      var e = e || window.event;
      var $r = $f.mc(e);
      var x = $r.x - $f.coords.x;
      var y = $r.y - $f.coords.y;
      $f.div.style.marginLeft = '0px';
      $f.div.style.top = ($f.start.y + y) + "px";
      $f.div.style.left = ($f.start.x + x) + "px";
    };
    this.drop = function (e) {
      if (!$f.coords) {
        return;
      }
      ;
      $f.unmaskIframe();
      $f.coords = null;
    };
    this.maskIframe = function () {
      if (!this.useIframe) {
        return;
      }
      ;
      var $s = 80;
      var $t = document.createElement("div");
      $t.style.backgroundColor = "#ffffff";
      $t.style.filter = "alpha(opacity=" + $s + ")";
      $t.style.opacity = "0." + $s;
      $t.style.width = "100%";
      $t.style.height = this.height + "px";
      $t.style.position = "absolute";
      $t.style.left = '0px';
      $t.style.top = '0px';
      this.div.appendChild($t);
      this.mask = $t;
    };
    this.unmaskIframe = function () {
      if (!this.useIframe) {
        return;
      }
      ;
      this.div.removeChild(this.mask);
      this.mask = null;
    };
    this.resize = function () {
      if (!$f.hideDiv) {
        return;
      }
      ;
      if (!$f.div) {
        return;
      }
      ;
      if ($f.hideDiv.style.display === 'none') {
        return;
      }
      ;
      if ($f.div.style.display === 'none') {
        return;
      }
      ;
      var scrollY = window.pageYOffset ? window.pageYOffset : ((document.documentElement && document.documentElement.scrollTop) ? document.documentElement.scrollTop : document.body.scrollTop);
      if (!$f.scrollWithPage) {
        $f.div.style.top = (scrollY + $f.top) + 'px';
      }
    };
    this.re = function (el, ev, $u) {
      if (el.addEventListener) {
        el.addEventListener(ev, $u, false);
      } else if (el.attachEvent) {
        el.attachEvent("on" + ev, $u);
      }
    };
    this.ue = function (el, ev, $u) {
      if (el.removeEventListener) {
        el.removeEventListener(ev, $u, false);
      } else if (el.detachEvent) {
        el.detachEvent("on" + ev, $u);
      }
    };
    this.mc = function (ev) {
      if (ev.pageX || ev.pageY) {
        return {x: ev.pageX, y: ev.pageY};
      }
      ;
      return {x: ev.clientX + document.documentElement.scrollLeft, y: ev.clientY + document.documentElement.scrollTop};
    };
    this.abs = function (element) {
      var r = {x: element.offsetLeft, y: element.offsetTop};
      while (element.offsetParent) {
        element = element.offsetParent;
        r.x += element.offsetLeft;
        r.y += element.offsetTop;
      }
      ;
      return r;
    };
    this.create = function () {
      var $v = document.createElement("div");
      $v.id = this.id + "hide";
      $v.style.position = 'fixed';
      $v.style.left = "0px";
      $v.style.top = "0px";
      $v.style.right = "0px";
      $v.style.bottom = "0px";
      $v.style.backgroundColor = "black";
      $v.style.opacity = 0.50;
      $v.oncontextmenu = function () {
        return false;
      };
      document.body.appendChild($v);
      var $w = document.createElement("div");
      $w.id = this.id + 'popup';
      $w.style.position = 'fixed';
      $w.style.left = '50%';
      $w.style.top = '0px';
      $w.style.backgroundColor = 'white';
      $w.style.width = "50px";
      $w.style.height = "50px";
      if (this.dragDrop) {
        $w.onmousedown = this.dragStart;
      }
      ;
      var $x = 50;
      var $y = null;
      if (this.useIframe) {
        $y = document.createElement("iframe");
        $y.id = this.id + "iframe";
        $y.name = this.id + "iframe";
        $y.frameBorder = '0';
        $y.style.width = '100%';
        $y.style.height = $x + 'px';
        $w.appendChild($y);
      }
      ;
      document.body.appendChild($w);
      this.div = $w;
      this.iframe = $y;
      this.hideDiv = $v;
    };
    this.dragStart = function (e) {
      $f.maskIframe();
      $f.coords = $f.mc(e || window.event);
      $f.start = {x: $f.div.offsetLeft, y: $f.div.offsetTop};
    };
    this.setInnerHTML = function (id, $i) {
      var $z = window.frames[id];
      var $l = $z.contentWindow || $z.document || $z.contentDocument;
      if ($l.document) {
        $l = $l.document;
      }
      ;
      if ($i.nodeType) {
        $l.body.appendChild($i);
      } else {
        $l.body.innerHTML = $i;
      }
    };
    this.close = function ($d) {
      this.result = $d;
      this.hide();
    };
    this.hide = function () {
      if (this.div) {
        this.div.style.display = 'none';
        this.hideDiv.style.display = 'none';
        if (!this.useIframe) {
          this.div.innerHTML = null;
        }
      }
      ;
      DayPilot.ModalStatic.remove(this);
      if (this.closed) {
        this.closed();
      }
    };
  };
})();


if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
/*
 if (typeof DayPilotMonth === 'undefined') {
 var DayPilotMonth = DayPilot.MonthVisible = {};
 }
 ;
 (function () {
 var $a = function () {
 };
 if (typeof DayPilot.Month !== 'undefined') {
 return;
 }
 ;
 var DayPilotMonth = {};
 DayPilot.Month = function (id, $b) {
 this.v = '1204';
 this.nav = {};
 var $c = this;
 this.id = id;
 this.isMonth = true;
 this.api = 2;
 this.$1P = false;
 this.hideUntilInit = true;
 this.startDate = new DayPilot.Date();
 this.width = '100%';
 this.cssClassPrefix = "month_default";
 this.cellHeight = 100;
 this.cellMarginBottom = 0;
 this.allowMultiSelect = true;
 this.autoRefreshCommand = 'refresh';
 this.autoRefreshEnabled = false;
 this.autoRefreshInterval = 60;
 this.autoRefreshMaxCount = 20;
 this.doubleClickTimeout = 300;
 this.eventFontColor = "#000000";
 this.eventFontFamily = "Tahoma";
 this.eventFontSize = "11px";
 this.headerBackColor = '#ECE9D8';
 this.headerFontColor = '#000000';
 this.headerFontFamily = "Tahoma";
 this.headerFontSize = "10pt";
 this.headerHeight = 20;
 this.heightSpec = "Auto";
 this.weekStarts = 1;
 this.innerBorderColor = '#cccccc';
 this.borderColor = 'black';
 this.eventHeight = 25;
 this.cellHeaderHeight = 16;
 this.numberFormat = "0.00";
 this.clientState = {};
 this.afterRender = function () {
 };
 this.backColor = '#FFFFD5';
 this.nonBusinessBackColor = '#FFF4BC';
 this.cellHeaderBackColor = '';
 this.cellHeaderFontColor = '#000000';
 this.cellHeaderFontFamily = 'Tahoma';
 this.cellHeaderFontSize = '10pt';
 this.cssOnly = true;
 this.eventBackColor = 'White';
 this.eventBorderColor = 'Black';
 this.eventCorners = "Regular";
 this.eventFontColor = '#000000';
 this.eventFontFamily = 'Tahoma';
 this.eventFontSize = '11px';
 this.cellWidth = 14.285;
 this.lineSpace = 1;
 this.locale = "en-us";
 this.messageHideAfter = 5000;
 this.notifyCommit = 'Immediate';
 this.eventMoveToPosition = false;
 this.eventTextLayer = 'Top';
 this.eventStartTime = true;
 this.eventEndTime = true;
 this.eventTextAlignment = 'Center';
 this.eventTextLeftIndent = 20;
 this.showWeekend = true;
 this.cellMode = false;
 this.shadowType = "Fill";
 this.eventTimeFontColor = 'gray';
 this.eventTimeFontFamily = 'Tahoma';
 this.eventTimeFontSize = '8pt';
 this.viewType = 'Month';
 this.weeks = 1;
 this.eventClickHandling = 'Enabled';
 this.eventDeleteHandling = "Disabled";
 this.eventDoubleClickHandling = 'Enabled';
 this.eventMoveHandling = 'Update';
 this.eventResizeHandling = 'Update';
 this.eventRightClickHandling = 'ContextMenu';
 this.eventSelectHandling = 'Update';
 this.headerClickHandling = "Enabled";
 this.timeRangeSelectedHandling = 'Enabled';
 this.timeRangeDoubleClickHandling = 'Enabled';
 this.backendUrl = null;
 this.cellEvents = [];
 this.elements = {};
 this.elements.events = [];
 this.$1Q = {};
 this.$1Q.events = {};
 this.events = {};
 this.autoRefreshCount = 0;
 this.$1R = function ($d, $e) {
 var $d = eval("(" + $d + ")");
 if ($d.BubbleGuid) {
 var $f = $d.BubbleGuid;
 var $g = this.bubbles[$f];
 delete this.bubbles[$f];
 $c.$1S();
 if (typeof $d.Result.BubbleHTML !== 'undefined') {
 $g.updateView($d.Result.BubbleHTML, $g);
 }
 ;
 return;
 }
 ;
 if ($d.CallBackRedirect) {
 document.location.href = $d.CallBackRedirect;
 return;
 }
 ;
 if (typeof $d.ClientState !== 'undefined') {
 $c.clientState = $d.ClientState;
 }
 ;
 if ($d.UpdateType === "None") {
 $c.$1T($d.CallBackData, true);
 if ($d.Message) {
 $c.message($d.Message);
 }
 ;
 return;
 }
 ;
 if ($d.VsUpdate) {
 var $h = document.createElement("input");
 $h.type = 'hidden';
 $h.name = $c.id + "_vsupdate";
 $h.id = $h.name;
 $h.value = $d.VsUpdate;
 $c.$1U.innerHTML = '';
 $c.$1U.appendChild($h);
 }
 ;
 $c.events.list = $d.Events;
 if (typeof $d.TagFields !== 'undefined') {
 $c.tagFields = $d.TagFields;
 }
 ;
 if (typeof $d.SortDirections !== 'undefined') {
 $c.sortDirections = $d.SortDirections;
 }
 ;
 if ($d.UpdateType === "Full") {
 $c.cellProperties = $d.CellProperties;
 $c.headerProperties = $d.HeaderProperties;
 $c.startDate = $d.StartDate;
 if (typeof $d.ShowWeekend !== 'undefined') {
 $c.showWeekend = $d.ShowWeekend;
 }
 ;
 $c.headerBackColor = $d.HeaderBackColor ? $d.HeaderBackColor : $c.headerBackColor;
 $c.backColor = $d.BackColor ? $d.BackColor : $c.backColor;
 $c.nonBusinessBackColor = $d.NonBusinessBackColor ? $d.NonBusinessBackColor : $c.nonBusinessBackColor;
 $c.locale = $d.Locale ? $d.Locale : $c.locale;
 $c.timeFormat = $d.TimeFormat ? $d.TimeFormat : $c.timeFormat;
 if (typeof $d.WeekStarts !== 'undefined') {
 $c.weekStarts = $d.WeekStarts;
 }
 ;
 $c.hashes = $d.Hashes;
 }
 ;
 $c.multiselect.clear(true);
 $c.multiselect.initList = $d.SelectedEvents;
 $c.$1V();
 $c.$1W();
 $c.$1X();
 if ($d.UpdateType === "Full") {
 $c.$1Y();
 $c.$1Z();
 }
 ;
 $c.$20();
 $c.$21();
 $c.$22();
 $c.$1T($d.CallBackData, true);
 $c.$23();
 if ($d.Message) {
 $c.message($d.Message);
 }
 };
 this.$1T = function ($i, $j) {
 var $k = function ($i, $l) {
 return function () {
 if ($c.$24()) {
 if (typeof $c.onAfterRender === 'function') {
 var $m = {};
 $m.isCallBack = $l;
 $m.data = $i;
 $c.onAfterRender($m);
 }
 } else {
 if ($c.afterRender) {
 $c.afterRender($i, $l);
 }
 }
 };
 };
 window.setTimeout($k($i, $j), 0);
 };
 this.$24 = function () {
 return $c.api === 2;
 };
 this.$25 = function ($n) {
 var $o = this.theme || this.cssClassPrefix;
 if ($o) {
 return $o + $n;
 } else {
 return "";
 }
 };
 this.$1X = function () {
 if (!this.events.list) {
 return;
 }
 ;
 if (typeof this.onBeforeEventRender === 'function') {
 var length = this.events.list.length;
 for (var i = 0; i < length; i++) {
 this.$26(i);
 }
 }
 ;
 if (this.cellMode) {
 this.$27();
 } else {
 this.$28();
 }
 };
 this.$1S = function () {
 };
 this.$28 = function () {
 if (!this.events.list) {
 return;
 }
 ;
 for (var x = 0; x < this.events.list.length; x++) {
 var e = this.events.list[x];
 e.start = new DayPilot.Date(e.start);
 e.end = new DayPilot.Date(e.end);
 if (e.start.getTime() > e.end.getTime()) {
 continue;
 }
 ;
 for (var i = 0; i < this.rows.length; i++) {
 var $p = this.rows[i];
 if ($p.belongsHere(e)) {
 var ep = new DayPilot.Event(e, $c);
 $p.events.push(ep);
 if (typeof this.onBeforeEventRender === 'function') {
 ep.cache = this.$1Q.events[x];
 }
 }
 }
 }
 ;
 for (var ri = 0; ri < this.rows.length; ri++) {
 var $p = this.rows[ri];
 $p.events.sort(this.$29);
 for (var ei = 0; ei < this.rows[ri].events.length; ei++) {
 var ev = $p.events[ei];
 var $q = $p.getStartColumn(ev);
 var $r = $p.getWidth(ev);
 $p.putIntoLine(ev, $q, $r, ri);
 }
 }
 };
 this.$27 = function () {
 this.cellEvents = [];
 for (var x = 0; x < this.$2a(); x++) {
 this.cellEvents[x] = [];
 for (var y = 0; y < this.rows.length; y++) {
 var $s = {};
 var d = DayPilot.Date.addDays(this.firstDate, y * 7 + x);
 $s.start = d;
 $s.end = DayPilot.Date.addDays(d, 1);
 $s.events = [];
 this.cellEvents[x][y] = $s;
 }
 }
 ;
 for (var i = 0; i < this.events.list.length; i++) {
 var e = this.events.list[i];
 e.start = new DayPilot.Date(e.start);
 e.end = new DayPilot.Date(e.start);
 if (e.start.getTime() > e.end.getTime()) {
 continue;
 }
 ;
 for (var x = 0; x < this.$2a(); x++) {
 for (var y = 0; y < this.rows.length; y++) {
 var $s = this.cellEvents[x][y];
 if (e.start.getTime() >= $s.start.getTime() && e.start.getTime() < $s.end.getTime()) {
 var ep = new DayPilot.Event(e, $c);
 $s.events.push(ep);
 if (typeof this.onBeforeEventRender === 'function') {
 ep.cache = this.$1Q.events[i];
 }
 }
 }
 }
 }
 ;
 for (var x = 0; x < this.$2a(); x++) {
 for (var y = 0; y < this.rows.length; y++) {
 var $s = this.cellEvents[x][y];
 $s.events.sort(this.$29);
 }
 }
 };
 this.$1V = function () {
 for (var i = 0; i < this.elements.events.length; i++) {
 var e = this.elements.events[i];
 e.event = null;
 e.click = null;
 e.parentNode.removeChild(e);
 }
 ;
 this.elements.events = [];
 };
 this.$22 = function () {
 this.$1Q.events = {};
 if (this.cellMode) {
 this.$2b();
 } else {
 this.$2c();
 }
 ;
 this.multiselect.redraw();
 };
 this.$2b = function () {
 this.elements.events = [];
 for (var x = 0; x < this.$2a(); x++) {
 for (var y = 0; y < this.rows.length; y++) {
 var $s = this.cellEvents[x][y];
 var $t = this.cells[x][y];
 for (var i = 0; i < $s.events.length; i++) {
 var ep = $s.events[i];
 ep.part.colStart = x;
 ep.part.colWidth = 1;
 ep.part.row = y;
 ep.part.line = i;
 ep.part.startsHere = true;
 ep.part.endsHere = true;
 this.$2d(ep);
 }
 }
 }
 };
 this.$2c = function () {
 this.elements.events = [];
 for (var ri = 0; ri < this.rows.length; ri++) {
 var $p = this.rows[ri];
 for (var li = 0; li < $p.lines.length; li++) {
 var $u = $p.lines[li];
 for (var pi = 0; pi < $u.length; pi++) {
 this.$2d($u[pi]);
 }
 }
 }
 };
 this.$2e = function (a, b) {
 if (!a || !b || !a.start || !b.start) {
 return 0;
 }
 ;
 var $v = a.start().ticks - b.start().ticks;
 if ($v !== 0) {
 return $v;
 }
 ;
 var $w = b.end().ticks - a.end().ticks;
 return $w;
 };
 this.$29 = function (a, b) {
 if (!a || !b) {
 return 0;
 }
 ;
 if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
 return $c.$2e(a, b);
 }
 ;
 var $d = 0;
 var i = 0;
 while ($d === 0 && a.data.sort[i] && b.data.sort[i]) {
 if (a.data.sort[i] === b.data.sort[i]) {
 $d = 0;
 } else {
 $d = $c.$2f(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
 }
 ;
 i++;
 }
 ;
 return $d;
 };
 this.$2f = function (a, b, $x) {
 var $y = ($x !== "desc");
 var $z = $y ? -1 : 1;
 var $A = -$z;
 if (a === null && b === null) {
 return 0;
 }
 ;
 if (b === null) {
 return $A;
 }
 ;
 if (a === null) {
 return $z;
 }
 ;
 var ar = [];
 ar[0] = a;
 ar[1] = b;
 ar.sort();
 return a === ar[0] ? $z : $A;
 };
 this.$2g = function (x, y, $u, $B, $C, e) {
 if (!$C) {
 $C = 0;
 }
 ;
 var $D = $B;
 this.shadow = {};
 this.shadow.list = [];
 this.shadow.start = {x: x, y: y};
 this.shadow.width = $B;
 if (this.eventMoveToPosition) {
 $D = 1;
 this.shadow.position = $u;
 }
 ;
 var $E = y * 7 + x - $C;
 if ($E < 0) {
 $D += $E;
 x = 0;
 y = 0;
 }
 ;
 var $F = $C;
 while ($F >= 7) {
 y--;
 $F -= 7;
 }
 ;
 if ($F > x) {
 var $G = 7 - this.$2a();
 if ($F > (x + $G)) {
 y--;
 x = x + 7 - $F;
 } else {
 $D = $D - $F + x;
 x = 0;
 }
 } else {
 x -= $F;
 }
 ;
 if (y < 0) {
 y = 0;
 x = 0;
 }
 ;
 var $H = null;
 if (DayPilotMonth.resizingEvent) {
 $H = 'w-resize';
 } else if (DayPilotMonth.movingEvent) {
 $H = "move";
 }
 ;
 this.nav.top.style.cursor = $H;
 while ($D > 0 && y < this.rows.length) {
 var $I = Math.min(this.$2a() - x, $D);
 var $p = this.rows[y];
 var top = this.$2h(y);
 var $J = $p.getHeight();
 if (this.eventMoveToPosition) {
 top = this.$2i(y, $u);
 $J = 2;
 }
 ;
 var $K = document.createElement("div");
 $K.setAttribute("unselectable", "on");
 $K.style.position = 'absolute';
 $K.style.left = (this.$2j() * x) + '%';
 $K.style.width = (this.$2j() * $I) + '%';
 $K.style.top = (top) + 'px';
 $K.style.height = ($J) + 'px';
 $K.style.cursor = $H;
 var $L = document.createElement("div");
 $L.setAttribute("unselectable", "on");
 $K.appendChild($L);
 if (this.cssOnly) {
 $K.className = this.$25("_shadow");
 $L.className = this.$25("_shadow_inner");
 }
 ;
 if (!this.cssOnly) {
 $L.style.position = "absolute";
 $L.style.top = "0px";
 $L.style.right = "0px";
 $L.style.left = "0px";
 $L.style.bottom = "0px";
 if (this.shadowType === 'Fill') {
 $L.style.backgroundColor = "#aaaaaa";
 $L.style.opacity = 0.5;
 $L.style.filter = "alpha(opacity=50)";
 if (e && e.event) {
 $L.style.overflow = 'hidden';
 $L.style.fontSize = this.eventFontSize;
 $L.style.fontFamily = this.eventFontFamily;
 $L.style.color = this.eventFontColor;
 $L.innerHTML = e.event.client.innerHTML() ? e.event.client.innerHTML() : e.event.text();
 }
 } else {
 $L.style.border = '2px dotted #666666';
 }
 }
 ;
 var $M = this.nav.events;
 $M.appendChild($K);
 this.shadow.list.push($K);
 $D -= ($I + 7 - this.$2a());
 x = 0;
 y++;
 }
 };
 this.$2k = function () {
 if (this.shadow) {
 var $M = this.nav.events;
 for (var i = 0; i < this.shadow.list.length; i++) {
 $M.removeChild(this.shadow.list[i]);
 }
 ;
 this.shadow = null;
 this.nav.top.style.cursor = '';
 }
 };
 this.$2i = function ($p, $u) {
 var top = 0;
 for (var i = 0; i < $p; i++) {
 top += this.rows[i].getHeight();
 }
 ;
 top += this.cellHeaderHeight;
 top += $u * $N.lineHeight();
 return top;
 };
 this.$2l = function (x, y) {
 return DayPilot.Date.addDays(this.firstDate, y * 7 + x);
 };
 this.$26 = function (i) {
 var $O = this.$1Q.events;
 var $i = this.events.list[i];
 var $P = {};
 for (var name in $i) {
 $P[name] = $i[name];
 }
 ;
 if (typeof this.onBeforeEventRender === 'function') {
 var $m = {};
 $m.e = $P;
 this.onBeforeEventRender($m);
 }
 ;
 $O[i] = $P;
 };
 this.$2d = function (ep, $Q) {
 var $Q = this.cellMode;
 var $p = ep.part.row;
 var $u = ep.part.line;
 var $q = ep.part.colStart;
 var $r = ep.part.colWidth;
 var $O = ep.cache || ep.data;
 var $R = $Q ? 0 : this.$2j() * ($q);
 var $B = $Q ? 100 : this.$2j() * ($r);
 var top = $Q ? $u * $N.lineHeight() : this.$2i($p, $u);
 var e = document.createElement("div");
 e.setAttribute("unselectable", "on");
 e.style.height = $N.eventHeight() + 'px';
 if (!this.cssOnly) {
 e.style.fontFamily = this.eventFontFamily;
 } else {
 e.style.position = "relative";
 e.style.overflow = "hidden";
 e.className = this.$25("_event");
 }
 ;
 if ($O.cssClass) {
 DayPilot.Util.addClass(e, $O.cssClass);
 }
 ;
 e.event = ep;
 if ($Q) {
 e.style.marginRight = "2px";
 e.style.marginBottom = "2px";
 } else {
 e.style.width = $B + '%';
 e.style.position = 'absolute';
 e.style.left = $R + '%';
 e.style.top = top + 'px';
 }
 ;
 if (this.showToolTip && $O.toolTip && !this.bubble) {
 e.title = $O.toolTip;
 }
 ;
 e.onclick = this.$2m;
 ;
 e.ondblclick = this.$2n;
 e.oncontextmenu = this.$2o;
 e.onmousedown = this.$2p;
 e.onmousemove = this.$2q;
 e.onmouseout = this.$2r;
 e.ontouchstart = $S.onEventTouchStart;
 e.ontouchmove = $S.onEventTouchMove;
 e.ontouchend = $S.onEventTouchEnd;
 if (!this.cssOnly) {
 var back = (ep.client.backColor()) ? ep.client.backColor() : this.eventBackColor;
 var $T = document.createElement("div");
 $T.setAttribute("unselectable", "on");
 $T.style.height = ($N.eventHeight() - 2) + 'px';
 $T.style.overflow = 'hidden';
 $T.style.position = "absolute";
 $T.style.left = "2px";
 $T.style.right = "2px";
 $T.style.paddingLeft = '2px';
 $T.style.border = '1px solid ' + $c.eventBorderColor;
 $T.style.backgroundColor = back;
 $T.style.fontFamily = "";
 $T.className = this.$25("event");
 if ($N.rounded()) {
 $T.style.MozBorderRadius = "5px";
 $T.style.webkitBorderRadius = "5px";
 $T.style.borderRadius = "5px";
 }
 ;
 var $L = [];
 var $U = this.eventTextLayer === 'Top';
 var $V = this.eventStartTime;
 var $W = this.eventEndTime;
 var $X = this.eventTextAlignment;
 var $Y = this.eventTextLeftIndent;
 var $Z = this.eventTextLayer === 'Floats';
 if ($Z) {
 if ($V) {
 $L.push("<div unselectable='on' style='float:left; font-size:");
 $L.push(this.eventTimeFontSize);
 $L.push(";color:");
 $L.push(this.eventTimeFontColor);
 $L.push(";font-family:");
 $L.push(this.eventTimeFontFamily);
 $L.push("'>");
 $L.push(DayPilot.Date.hours(ep.start().d, $c.timeFormat === 'Clock12Hours'));
 $L.push("</div>");
 }
 ;
 if ($W) {
 $L.push("<div unselectable='on' style='float:right;font-size:");
 $L.push(this.eventTimeFontSize);
 $L.push(";color:");
 $L.push(this.eventTimeFontColor);
 $L.push(";font-family:");
 $L.push(this.eventTimeFontFamily);
 $L.push("'>");
 $L.push(DayPilot.Date.hours(ep.end().d, $c.timeFormat === 'Clock12Hours'));
 $L.push("</div>");
 }
 ;
 $L.push("<div unselectable='on' style='");
 $L.push("font-size:");
 $L.push(this.eventFontSize);
 $L.push(";color:");
 $L.push(this.eventFontColor);
 $L.push(";font-family:");
 $L.push(this.eventFontFamily);
 if ($X === 'Center') {
 $L.push(";text-align:center;");
 }
 ;
 $L.push("'>");
 if (ep.client.innerHTML()) {
 $L.push(ep.client.innerHTML());
 } else {
 $L.push(ep.text());
 }
 ;
 $L.push("</div>");
 } else {
 if ($V) {
 if ($X === 'Left') {
 $L.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");
 $L.push(this.eventTimeFontSize);
 $L.push(";color:");
 $L.push(this.eventTimeFontColor);
 $L.push(";font-family:");
 $L.push(this.eventTimeFontFamily);
 $L.push(";text-align:right;");
 $L.push("width:");
 $L.push($Y - 4);
 $L.push("px;");
 $L.push("><span style='background-color:");
 } else {
 $L.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");
 $L.push(this.eventTimeFontSize);
 $L.push(";color:");
 $L.push(this.eventTimeFontColor);
 $L.push(";font-family:");
 $L.push(this.eventTimeFontFamily);
 $L.push(";'><span style='background-color:");
 }
 ;
 $L.push(back);
 $L.push("' unselectable='on'>");
 if (ep.part.startsHere) {
 $L.push(DayPilot.Date.hours(ep.start().d, $c.timeFormat === 'Clock12Hours'));
 } else {
 $L.push("~");
 }
 ;
 $L.push("</span></div></div>");
 }
 ;
 if ($W) {
 $L.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:");
 $L.push(this.eventTimeFontSize);
 $L.push(";color:");
 $L.push(this.eventTimeFontColor);
 $L.push(";font-family:");
 $L.push(this.eventTimeFontFamily);
 $L.push(";'><span style='background-color:");
 $L.push(back);
 $L.push("' unselectable='on'>");
 if (ep.part.endsHere) {
 $L.push(DayPilot.Date.hours(ep.end().d, $c.timeFormat === 'Clock12Hours'));
 } else {
 $L.push("~");
 }
 ;
 $L.push("</span></div></div>");
 }
 ;
 if ($X === 'Left') {
 var $R = $V ? $Y : 0;
 $L.push("<div style='margin-top:0px;height:");
 $L.push($N.eventHeight() - 2);
 $L.push("px;");
 $L.push(";overflow:hidden;text-align:left;padding-left:");
 $L.push($R);
 $L.push("px;font-size:");
 $L.push(this.eventFontSize);
 $L.push(";color:");
 $L.push(this.eventFontColor);
 $L.push(";font-family:");
 $L.push(this.eventFontFamily);
 $L.push("' unselectable='on'>");
 if (ep.client.innerHTML()) {
 $L.push(ep.client.innerHTML());
 } else {
 $L.push(ep.text());
 }
 ;
 $L.push("</div>");
 } else if ($X === 'Center') {
 if ($U) {
 $L.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>");
 $L.push("<span style='background-color:");
 $L.push(back);
 $L.push(";font-size:");
 $L.push(this.eventFontSize);
 $L.push(";color:");
 $L.push(this.eventFontColor);
 $L.push(";font-family:");
 $L.push(this.eventFontFamily);
 $L.push("' unselectable='on'>");
 if (ep.client.innerHTML()) {
 $L.push(ep.client.innerHTML());
 } else {
 $L.push(ep.text());
 }
 ;
 $L.push("</span>");
 $L.push("</div>");
 } else {
 $L.push("<div style='margin-top:0px;height:");
 $L.push($N.eventHeight() - 2);
 $L.push("px;");
 $L.push(";overflow:hidden;text-align:center;font-size:");
 $L.push(this.eventFontSize);
 $L.push(";color:");
 $L.push(this.eventFontColor);
 $L.push(";font-family:");
 $L.push(this.eventFontFamily);
 $L.push("' unselectable='on'>");
 if (ep.client.innerHTML()) {
 $L.push(ep.client.innerHTML());
 } else {
 $L.push(ep.text());
 }
 ;
 $L.push("</div>");
 }
 }
 }
 ;
 $T.innerHTML = $L.join('');
 e.appendChild($T);
 } else {
 if (!ep.part.startsHere) {
 DayPilot.Util.addClass(e, this.$25("_event_continueleft"));
 }
 ;
 if (!ep.part.endsHere) {
 DayPilot.Util.addClass(e, this.$25("_event_continueright"));
 }
 ;
 var $T = document.createElement("div");
 $T.setAttribute("unselectable", "on");
 $T.className = this.$25("_event_inner");
 if (ep.client.innerHTML()) {
 $T.innerHTML = ep.client.innerHTML();
 } else {
 $T.innerHTML = ep.text();
 }
 ;
 if ($O.backColor) {
 $T.style.background = $O.backColor;
 }
 ;
 e.appendChild($T);
 }
 ;
 if ($O.areas) {
 var $00 = $O.areas;
 for (var i = 0; i < $00.length; i++) {
 var $01 = $00[i];
 if ($01.v !== 'Visible') {
 continue;
 }
 ;
 var a = DayPilot.Areas.createArea(e, ep, $01);
 e.appendChild(a);
 }
 }
 ;
 this.elements.events.push(e);
 if ($Q) {
 this.cells[$q][$p].body.appendChild(e);
 } else {
 this.nav.events.appendChild(e);
 }
 ;
 if ($c.multiselect.$2s(e.event)) {
 $c.multiselect.add(e.event, true);
 }
 ;
 var $t = e;
 if ($c.$24()) {
 if (typeof $c.onAfterEventRender === 'function') {
 var $m = {};
 $m.e = $t.event;
 $m.div = $t;
 $c.onAfterEventRender($m);
 }
 } else {
 if ($c.afterEventRender) {
 $c.afterEventRender($t.event, $t);
 }
 }
 };
 this.$2m = function (ev) {
 if ($S.start) {
 return;
 }
 ;
 $c.$2t(this, ev);
 };
 this.$2n = function (ev) {
 $c.$2u(this, ev);
 };
 this.$2q = function (ev) {
 var e = this;
 var ep = e.event;
 if (typeof(DayPilotMonth) === 'undefined') {
 return;
 }
 ;
 if (DayPilotMonth.movingEvent || DayPilotMonth.resizingEvent) {
 return;
 }
 ;
 var $C = DayPilot.mo3(e, ev);
 if (!$C) {
 return;
 }
 ;
 (function () {
 var $t = e;
 if (!$t.active) {
 var $00 = [];
 if ($c.eventDeleteHandling !== "Disabled") {
 $00.push({
 "action": "JavaScript",
 "v": "Hover",
 "w": 17,
 "h": 17,
 "top": 2,
 "right": 2,
 "css": $c.$25("_event_delete"),
 "js": function (e) {
 $c.$2v(e);
 }
 });
 }
 ;
 var $02 = $t.event.cache ? $t.event.cache.areas : $t.event.data.areas;
 if ($02 && $02.length > 0) {
 $00 = $00.concat($02);
 }
 ;
 DayPilot.Areas.showAreas($t, $t.event, null, $00);
 }
 })();
 if ($c.cssOnly) {
 $c.$2w(e.event).each(function ($t) {
 DayPilot.Util.addClass($t, $c.$25("_event_hover"));
 });
 }
 ;
 var $03 = 6;
 if (!$c.cellMode && $C.x <= $03 && ep.client.resizeEnabled()) {
 if (ep.part.startsHere) {
 e.style.cursor = "w-resize";
 e.dpBorder = 'left';
 } else {
 e.style.cursor = 'not-allowed';
 }
 } else if (!$c.cellMode && e.clientWidth - $C.x <= $03 && ep.client.resizeEnabled()) {
 if (ep.part.endsHere) {
 e.style.cursor = "e-resize";
 e.dpBorder = 'right';
 } else {
 e.style.cursor = 'not-allowed';
 }
 } else {
 e.style.cursor = 'default';
 }
 ;
 if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
 if (!DayPilotMonth.movingEvent && !DayPilotMonth.resizingEvent) {
 var $04 = this.$2x && $C.x === this.$2x.x && $C.y === this.$2x.y;
 if (!$04) {
 this.$2x = $C;
 $c.bubble.showEvent(e.event);
 }
 } else {
 DayPilotBubble.hideActive();
 }
 }
 };
 this.$2r = function (ev) {
 var e = this;
 if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
 $c.bubble.hideOnMouseOut();
 }
 ;
 e.style.cursor = '';
 if ($c.cssOnly) {
 $c.$2w(e.event).each(function ($t) {
 DayPilot.Util.removeClass($t, $c.$25("_event_hover"));
 });
 }
 ;
 DayPilot.Areas.hideAreas(e, ev);
 };
 this.$2o = function () {
 var e = this;
 $c.$2y(e.event);
 return false;
 };
 this.$2p = function (ev) {
 if ($S.start) {
 return;
 }
 ;
 var e = this;
 var ep = e.event;
 var $p = ep.part.row;
 var $q = ep.part.colStart;
 var $u = ep.part.line;
 var $r = ep.part.colWidth;
 ev = ev || window.event;
 var $05 = DayPilot.Util.mouseButton(ev);
 ev.cancelBubble = true;
 if (ev.stopPropagation) {
 ev.stopPropagation();
 }
 ;
 if ($05.left) {
 if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
 DayPilotBubble.hideActive();
 }
 ;
 DayPilotMonth.movingEvent = null;
 if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
 var $06 = {};
 $06.start = {};
 $06.start.x = $q;
 $06.start.y = $p;
 $06.event = e.event;
 $06.width = DayPilot.Date.daysSpan($06.event.start().d, $06.event.end().d) + 1;
 $06.direction = this.style.cursor;
 DayPilotMonth.resizingEvent = $06;
 } else if (this.style.cursor === 'move' || ep.client.moveEnabled()) {
 $c.$2k();
 var $07 = DayPilot.mo3($c.nav.events, ev);
 if (!$07) {
 return;
 }
 ;
 var $s = $c.$2z($07.x, $07.y);
 if (!$s) {
 return;
 }
 ;
 var $E = DayPilot.Date.daysDiff(ep.start(), $c.rows[$p].start);
 var $C = ($s.y * 7 + $s.x) - ($p * 7 + $q);
 if ($E) {
 $C += $E;
 }
 ;
 var $08 = {};
 $08.start = {};
 $08.start.x = $q;
 $08.start.y = $p;
 $08.start.line = $u;
 $08.offset = $c.eventMoveToPosition ? 0 : $C;
 $08.colWidth = $r;
 $08.event = e.event;
 $08.coords = $07;
 DayPilotMonth.movingEvent = $08;
 }
 }
 };
 this.temp = {};
 this.temp.getPosition = function () {
 if (!$c.coords) {
 return null;
 }
 ;
 var $s = $c.$2z($c.coords.x, $c.coords.y);
 if (!$s) {
 return null;
 }
 ;
 var d = new DayPilot.Date($c.$2l($s.x, $s.y));
 var $s = {};
 $s.start = d;
 $s.end = d.addDays(1);
 return $s;
 };
 this.$2A = {};
 var $S = $c.$2A;
 $S.active = false;
 $S.start = false;
 $S.timeouts = [];
 $S.onEventTouchStart = function (ev) {
 if ($S.active || $S.start) {
 return;
 }
 ;
 $S.clearTimeouts();
 $S.start = true;
 $S.active = false;
 var $t = this;
 var $09 = 500;
 $S.timeouts.push(window.setTimeout(function () {
 $S.active = true;
 $S.start = false;
 var $07 = $S.relativeCoords(ev);
 $S.startMoving($t, $07);
 ev.preventDefault();
 }, $09));
 ev.stopPropagation();
 };
 $S.onEventTouchMove = function (ev) {
 $S.clearTimeouts();
 $S.start = false;
 };
 $S.onEventTouchEnd = function (ev) {
 $S.clearTimeouts();
 if ($S.start) {
 $c.$2B(this, false);
 }
 ;
 window.setTimeout(function () {
 $S.start = false;
 $S.active = false;
 }, 500);
 };
 $S.onMainTouchStart = function (ev) {
 if ($S.active || $S.start) {
 return;
 }
 ;
 $S.clearTimeouts();
 $S.start = true;
 $S.active = false;
 var $09 = 500;
 $S.timeouts.push(window.setTimeout(function () {
 $S.active = true;
 $S.start = false;
 ev.preventDefault();
 var $07 = $S.relativeCoords(ev);
 $S.startRange($07);
 }, $09));
 };
 $S.onMainTouchMove = function (ev) {
 $S.clearTimeouts();
 $S.start = false;
 if ($S.active) {
 ev.preventDefault();
 var $07 = $S.relativeCoords(ev);
 if ($S.moving) {
 $S.updateMoving($07);
 return;
 }
 ;
 if ($S.range) {
 $S.updateRange($07);
 }
 }
 };
 $S.onMainTouchEnd = function (ev) {
 $S.clearTimeouts();
 if ($S.active) {
 if ($S.moving) {
 var $0a = $S.moving;
 var e = $S.moving.event;
 var $0b = $c.shadow.start;
 var $0c = $c.shadow.position;
 var $C = $S.moving.offset;
 $c.$2k();
 $S.moving = null;
 $c.$2C(e, $0b.x, $0b.y, $C, ev, $0c);
 }
 ;
 if ($S.range) {
 var $0d = $S.range;
 var $0b = new DayPilot.Date($c.$2l($0d.from.x, $0d.from.y));
 var end = $0b.addDays($0d.width);
 $S.range = null;
 $c.$2D($0b, end);
 }
 }
 ;
 window.setTimeout(function () {
 $S.start = false;
 $S.active = false;
 }, 500);
 };
 $S.clearTimeouts = function () {
 for (var i = 0; i < $S.timeouts.length; i++) {
 clearTimeout($S.timeouts[i]);
 }
 ;
 $S.timeouts = [];
 };
 $S.relativeCoords = function (ev) {
 var $M = $c.nav.events;
 var x = ev.touches[0].pageX;
 var y = ev.touches[0].pageY;
 var $07 = {x: x, y: y};
 var $0e = DayPilot.abs($M);
 var $07 = {
 x: x - $0e.x, y: y - $0e.y, toString: function () {
 return "x: " + this.x + ", y:" + this.y;
 }
 };
 return $07;
 };
 $S.startMoving = function ($t, $07) {
 $c.$2k();
 ep = $t.event;
 var $s = $c.$2z($07.x, $07.y);
 if (!$s) {
 return;
 }
 ;
 var $E = DayPilot.Date.daysDiff(ep.start(), $c.rows[ep.part.row].start);
 var $C = ($s.y * 7 + $s.x) - (ep.part.row * 7 + ep.part.colStart);
 if ($E) {
 $C += $E;
 }
 ;
 var $08 = {};
 $08.start = {};
 $08.start.x = ep.part.colStart;
 $08.start.y = ep.part.row;
 $08.start.line = ep.part.line;
 $08.offset = $c.eventMoveToPosition ? 0 : $C;
 $08.colWidth = ep.part.colWidth;
 $08.event = ep;
 $08.coords = $07;
 $S.moving = $08;
 $S.updateMoving($07);
 };
 $S.updateMoving = function ($07) {
 var $s = $c.$2z($07.x, $07.y);
 if (!$s) {
 return;
 }
 ;
 var $0f = $c.$2E($s);
 $c.$2k();
 var event = $S.moving.event;
 var $C = $S.moving.offset;
 var $B = $c.cellMode ? 1 : DayPilot.Date.daysSpan(event.start().d, event.end().d) + 1;
 if ($B < 1) {
 $B = 1;
 }
 ;
 $c.$2g($s.x, $s.y, $0f, $B, $C, event);
 };
 $S.startRange = function ($07) {
 var $s = $c.$2z($07.x, $07.y);
 if (!$s) {
 return;
 }
 ;
 $c.$2k();
 var $0g = {};
 $0g.start = {};
 $0g.start.x = $s.x;
 $0g.start.y = $s.y;
 $0g.x = $s.x;
 $0g.y = $s.y;
 $0g.width = 1;
 $S.range = $0g;
 $S.updateRange($07);
 };
 $S.updateRange = function ($07) {
 var $s = $c.$2z($07.x, $07.y);
 if (!$s) {
 return;
 }
 ;
 $c.$2k();
 var $0b = $S.range.start;
 var $0h = $0b.y * 7 + $0b.x;
 var $0i = $s.y * 7 + $s.x;
 var $B = Math.abs($0i - $0h) + 1;
 if ($B < 1) {
 $B = 1;
 }
 ;
 var $0j = $0h < $0i ? $0b : $s;
 $S.range.width = $B;
 $S.range.from = {x: $0j.x, y: $0j.y};
 $c.$2g($0j.x, $0j.y, 0, $B, 0, null);
 };
 this.isWeekend = function ($0k) {
 var $0l = 0;
 var $0m = 6;
 if ($0k.dayOfWeek() === $0l) {
 return true;
 }
 ;
 if ($0k.dayOfWeek() === $0m) {
 return true;
 }
 ;
 return false;
 };
 this.$2F = function () {
 var $0n = this.startDate.lastDayOfMonth();
 if (this.showWeekend) {
 return $0n;
 }
 while (this.isWeekend($0n)) {
 $0n = $0n.addDays(-1);
 }
 ;
 return $0n;
 };
 this.$1W = function () {
 if (typeof this.startDate === 'string') {
 this.startDate = DayPilot.Date.fromStringSortable(this.startDate);
 }
 ;
 if (this.viewType === 'Month') {
 this.startDate = this.startDate.firstDayOfMonth();
 } else {
 this.startDate = this.startDate.getDatePart();
 }
 ;
 this.firstDate = this.startDate.firstDayOfWeek($N.getWeekStart());
 if (!this.showWeekend) {
 var $0o = this.startDate.addMonths(-1).getMonth();
 var $0p = new DayPilot.Date(this.firstDate).addDays(6);
 while (this.isWeekend($0p)) {
 $0p = $0p.addDays(-1);
 }
 ;
 if ($0p.getMonth() === $0o) {
 this.firstDate = DayPilot.Date.addDays(this.firstDate, 7);
 }
 }
 ;
 var $0q = this.startDate;
 var $0r;
 if (this.viewType === 'Month') {
 var $0s = this.$2F().d;
 var $0t = DayPilot.Date.daysDiff(this.firstDate, $0s) + 1;
 $0r = Math.ceil($0t / 7);
 } else {
 $0r = this.weeks;
 }
 ;
 this.days = $0r * 7;
 this.rows = [];
 for (var x = 0; x < $0r; x++) {
 var r = {};
 r.start = DayPilot.Date.addDays(this.firstDate, x * 7);
 r.end = DayPilot.Date.addDays(r.start, this.$2a());
 r.events = [];
 r.lines = [];
 r.index = x;
 r.minHeight = this.cellHeight;
 r.calendar = this;
 r.belongsHere = function (ev) {
 if (ev.end.getTime() === ev.start.getTime() && ev.start.getTime() === this.start.getTime()) {
 return true;
 }
 ;
 return !(ev.end.getTime() <= this.start.getTime() || ev.start.getTime() >= this.end.getTime());
 };
 r.getPartStart = function (ep) {
 return DayPilot.Date.max(this.start, ep.start());
 };
 r.getPartEnd = function (ep) {
 return DayPilot.Date.min(this.end, ep.end());
 };
 r.getStartColumn = function (ep) {
 var $0u = this.getPartStart(ep);
 return DayPilot.Date.daysDiff(this.start, $0u);
 };
 r.getWidth = function (ep) {
 return DayPilot.Date.daysSpan(this.getPartStart(ep), this.getPartEnd(ep)) + 1;
 };
 r.putIntoLine = function (ep, $q, $r, $p) {
 var $0v = this;
 for (var i = 0; i < this.lines.length; i++) {
 var $u = this.lines[i];
 if ($u.isFree($q, $r)) {
 $u.addEvent(ep, $q, $r, $p, i);
 return i;
 }
 }
 ;
 var $u = [];
 $u.isFree = function ($q, $r) {
 var $0w = true;
 for (var i = 0; i < this.length; i++) {
 var ep = this[i];
 if (!($q + $r - 1 < ep.part.colStart || $q > ep.part.colStart + ep.part.colWidth - 1)) {
 $0w = false;
 }
 }
 ;
 return $0w;
 };
 $u.addEvent = function (ep, $q, $r, $p, $0x) {
 ep.part.colStart = $q;
 ep.part.colWidth = $r;
 ep.part.row = $p;
 ep.part.line = $0x;
 ep.part.startsHere = $0v.start.getTime() <= ep.start().getTime();
 ep.part.endsHere = $0v.end.getTime() >= ep.end().getTime();
 this.push(ep);
 };
 $u.addEvent(ep, $q, $r, $p, this.lines.length);
 this.lines.push($u);
 return this.lines.length - 1;
 };
 r.getStart = function () {
 var $0b = 0;
 for (var i = 0; i < $c.rows.length && i < this.index; i++) {
 $0b += $c.rows[i].getHeight();
 }
 };
 r.getHeight = function () {
 return Math.max(this.lines.length * $N.lineHeight() + $c.cellHeaderHeight + $c.cellMarginBottom, this.calendar.cellHeight);
 };
 this.rows.push(r);
 }
 ;
 this.endDate = DayPilot.Date.addDays(this.firstDate, $0r * 7);
 };
 this.$2G = function () {
 switch (this.heightSpec) {
 case "Auto":
 var $J = $N.headerHeight();
 for (var i = 0; i < this.rows.length; i++) {
 $J += this.rows[i].getHeight();
 }
 ;
 return $J;
 case "Fixed":
 return this.height;
 }
 };
 this.$2H = function ($0b, end) {
 var $0y = (end.y * 7 + end.x) - ($0b.y * 7 + $0b.x);
 return $0y + 1;
 };
 this.$2I = {};
 this.$2I.scope = null;
 this.$2I.notify = function () {
 if ($c.$2I.scope) {
 $c.$2I.scope["$apply"]();
 }
 };
 this.debug = new DayPilot.Debug(this);
 this.$2J = function () {
 var $0z = this.nav.top;
 this.nav.top.dp = this;
 $0z.setAttribute("unselectable", "on");
 $0z.style.MozUserSelect = 'none';
 $0z.style.KhtmlUserSelect = 'none';
 $0z.style.WebkitUserSelect = 'none';
 $0z.style.position = 'relative';
 if (this.width) {
 $0z.style.width = this.width;
 }
 ;
 $0z.onselectstart = function (e) {
 return false;
 };
 if (this.cssOnly) {
 $0z.className = this.$25("_main");
 } else {
 $0z.style.border = "1px solid " + this.borderColor;
 }
 ;
 if (this.hideUntilInit) {
 $0z.style.visibility = 'hidden';
 }
 ;
 $0z.onmousemove = this.$2K;
 $0z.ontouchstart = $S.onMainTouchStart;
 $0z.ontouchmove = $S.onMainTouchMove;
 $0z.ontouchend = $S.onMainTouchEnd;
 this.$1U = document.createElement("div");
 this.$1U.style.display = 'none';
 this.nav.top.appendChild(this.$1U);
 var $0A = document.createElement("div");
 $0A.style.position = "relative";
 $0A.style.height = $N.headerHeight() + "px";
 $0A.oncontextmenu = function () {
 return false;
 };
 this.nav.top.appendChild($0A);
 this.nav.header = $0A;
 var $0B = document.createElement("div");
 $0B.style.zoom = "1";
 var $0C = document.createElement("div");
 $0C.style.position = "relative";
 $0B.appendChild($0C);
 this.nav.top.appendChild($0B);
 this.nav.scrollable = $0B;
 this.nav.events = $0C;
 };
 this.$2K = function (ev) {
 $c.coords = DayPilot.mo3($c.nav.events, ev);
 var $07 = $c.coords;
 if (!$07) {
 return;
 }
 ;
 var $s = $c.$2z($07.x, $07.y);
 if (!$s) {
 return;
 }
 ;
 if (DayPilotMonth.resizingEvent) {
 $c.$2k();
 var $06 = DayPilotMonth.resizingEvent;
 var $0D = $06.start;
 var $B, $0b;
 if ($06.direction === 'w-resize') {
 $0b = $s;
 var $0E = $06.event.end().d;
 if (DayPilot.Date.getDate($0E).getTime() === $0E.getTime()) {
 $0E = DayPilot.Date.addDays($0E, -1);
 }
 ;
 var end = $c.$2L($0E);
 $B = $c.$2H($s, end);
 } else {
 $0b = $c.$2L($06.event.start().d);
 $B = $c.$2H($0b, $s);
 }
 ;
 if ($B < 1) {
 $B = 1;
 }
 ;
 $c.$2g($0b.x, $0b.y, 0, $B);
 } else if (DayPilotMonth.movingEvent) {
 $c.debug.message("mousemove/moving start coords: " + DayPilotMonth.movingEvent.coords.x + " " + DayPilotMonth.movingEvent.coords.y);
 $c.debug.message("mousemove/current coords: " + $07.x + " " + $07.y);
 if ($07.x === DayPilotMonth.movingEvent.coords.x && $07.y === DayPilotMonth.movingEvent.coords.y) {
 return;
 }
 ;
 var $0f = $c.$2E($s);
 $c.$2k();
 var event = DayPilotMonth.movingEvent.event;
 var $C = DayPilotMonth.movingEvent.offset;
 var $B = $c.cellMode ? 1 : DayPilot.Date.daysSpan(event.start().d, event.end().d) + 1;
 if ($B < 1) {
 $B = 1;
 }
 ;
 $c.$2g($s.x, $s.y, $0f, $B, $C, event);
 } else if (DayPilotMonth.timeRangeSelecting) {
 DayPilotMonth.cancelCellClick = true;
 $c.$2k();
 var $0b = DayPilotMonth.timeRangeSelecting;
 var $0h = $0b.y * 7 + $0b.x;
 var $0i = $s.y * 7 + $s.x;
 var $B = Math.abs($0i - $0h) + 1;
 if ($B < 1) {
 $B = 1;
 }
 ;
 var $0j = $0h < $0i ? $0b : $s;
 DayPilotMonth.timeRangeSelecting.from = {x: $0j.x, y: $0j.y};
 DayPilotMonth.timeRangeSelecting.width = $B;
 DayPilotMonth.timeRangeSelecting.moved = true;
 $c.$2g($0j.x, $0j.y, 0, $B, 0, null);
 }
 };
 this.$2E = function ($s) {
 var y = $s.relativeY;
 var $p = $c.rows[$s.y];
 var top = $c.cellHeaderHeight;
 var lh = $N.lineHeight();
 var $0F = $p.lines.length;
 for (var i = 0; i < $p.lines.length; i++) {
 var $u = $p.lines[i];
 if ($u.isFree($s.x, 1)) {
 $0F = i;
 break;
 }
 }
 ;
 var $0G = Math.floor((y - top + lh / 2) / lh);
 var $0G = Math.min($0F, $0G);
 var $0G = Math.max(0, $0G);
 return $0G;
 };
 this.message = function ($0H, $0I, $0J, $0K) {
 if ($0H === null) {
 return;
 }
 ;
 var $0I = $0I || this.messageHideAfter || 2000;
 var $0J = $0J || "#ffffff";
 var $0K = $0K || "#000000";
 var $0L = 0.8;
 var top = $N.headerHeight();
 var $R = 1;
 var $0M = 0;
 var $t;
 if (!this.nav.message) {
 $t = document.createElement("div");
 $t.setAttribute("unselectable", "on");
 $t.style.position = "absolute";
 $t.style.right = "0px";
 $t.style.left = "0px";
 $t.style.top = top + "px";
 $t.style.opacity = $0L;
 $t.style.filter = "alpha(opacity=" + ($0L * 100) + ")";
 $t.style.display = 'none';
 $t.onmousemove = function () {
 if ($c.messageTimeout) {
 clearTimeout($c.messageTimeout);
 }
 };
 $t.onmouseout = function () {
 if ($c.nav.message.style.display !== 'none') {
 $c.messageTimeout = setTimeout($c.$2M, 500);
 }
 };
 if (!this.cssOnly) {
 $t.style.textAlign = "left";
 }
 ;
 var $T = document.createElement("div");
 $T.setAttribute("unselectable", "on");
 $T.onclick = function () {
 $c.nav.message.style.display = 'none';
 };
 if (!this.cssOnly) {
 $T.style.padding = "5px";
 } else {
 $T.className = this.$25("_message");
 }
 ;
 $t.appendChild($T);
 var close = document.createElement("div");
 close.setAttribute("unselectable", "on");
 close.style.position = "absolute";
 if (!this.cssOnly) {
 close.style.top = "5px";
 close.style.right = (DayPilot.sw($c.nav.scroll) + 5) + "px";
 close.style.color = $0J;
 close.style.lineHeight = "100%";
 close.style.cursor = "pointer";
 close.style.fontWeight = "bold";
 close.innerHTML = "X";
 } else {
 close.className = this.$25("_message_close");
 }
 ;
 close.onclick = function () {
 $c.nav.message.style.display = 'none';
 };
 $t.appendChild(close);
 this.nav.top.appendChild($t);
 this.nav.message = $t;
 }
 ;
 var $0N = function () {
 $c.nav.message.style.opacity = $0L;
 var $T = $c.nav.message.firstChild;
 if (!$c.cssOnly) {
 $T.style.backgroundColor = $0K;
 $T.style.color = $0J;
 }
 ;
 $T.innerHTML = $0H;
 var end = function () {
 $c.messageTimeout = setTimeout($c.$2M, $0I);
 };
 DayPilot.fade($c.nav.message, 0.2, end);
 };
 clearTimeout($c.messageTimeout);
 if (this.nav.message.style.display !== 'none') {
 DayPilot.fade($c.nav.message, -0.2, $0N);
 } else {
 $0N();
 }
 };
 this.message.show = function ($0H) {
 $c.message($0H);
 };
 this.message.hide = function () {
 $c.$2M();
 };
 this.$2M = function () {
 var end = function () {
 $c.nav.message.style.display = 'none';
 };
 DayPilot.fade($c.nav.message, -0.2, end);
 };
 this.$2N = function (ev) {
 if ($c.heightSpec === "Parent100Pct") {
 $c.$20();
 }
 };
 this.$20 = function () {
 var $0B = this.nav.scrollable;
 if (this.heightSpec === "Parent100Pct" || this.heightSpec === 'Fixed') {
 $0B.style.top = this.headerHeight + "px";
 $0B.style.bottom = "0px";
 $0B.style.left = "0px";
 $0B.style.right = "0px";
 $0B.style.overflow = "auto";
 $0B.style.position = "absolute";
 } else {
 $0B.style.position = "relative";
 }
 ;
 if (this.heightSpec === 'Parent100Pct') {
 this.nav.top.style.height = "100%";
 var $J = this.nav.top.clientHeight;
 } else {
 this.nav.top.style.height = this.$2G() + 'px';
 }
 ;
 for (var x = 0; x < this.cells.length; x++) {
 for (var y = 0; y < this.cells[x].length; y++) {
 this.cells[x][y].style.top = this.$2h(y) + 'px';
 this.cells[x][y].style.height = this.rows[y].getHeight() + 'px';
 }
 }
 ;
 this.$2O();
 };
 this.$2z = function (x, y) {
 var $0O = Math.floor(this.nav.top.clientWidth / this.$2a());
 var $0P = Math.min(Math.floor(x / $0O), this.$2a() - 1);
 var $p = null;
 var $0Q = 0;
 var $J = 0;
 var $0R = 0;
 for (var i = 0; i < this.rows.length; i++) {
 $J += this.rows[i].getHeight();
 if (y < $J) {
 $0Q = y - $0R;
 $p = i;
 break;
 }
 ;
 $0R = $J;
 }
 ;
 if ($p === null) {
 $p = this.rows.length - 1;
 }
 ;
 var $s = {};
 $s.x = $0P;
 $s.y = $p;
 $s.relativeY = $0Q;
 return $s;
 };
 this.$2L = function ($0k) {
 var $B = DayPilot.Date.daysDiff(this.firstDate, $0k);
 var $s = {x: 0, y: 0};
 while ($B >= 7) {
 $s.y++;
 $B -= 7;
 }
 ;
 $s.x = $B;
 return $s;
 };
 this.$2O = function () {
 var $B = DayPilot.sw(this.nav.scrollable);
 this.nav.header.style.marginRight = $B + "px";
 };
 var $0S = null;
 this.$1Z = function () {
 var $0A = this.nav.header;
 var $0C = this.nav.events;
 this.cells = [];
 for (var x = 0; x < this.$2a(); x++) {
 this.cells[x] = [];
 var $0T = this.headerProperties ? this.headerProperties[x] : null;
 var $0U = x + $N.getWeekStart();
 if ($0U > 6) {
 $0U -= 7;
 }
 ;
 if (!$0T) {
 var $0T = {};
 $0T.html = $N.locale().dayNames[$0U];
 if (!this.cssOnly) {
 $0T.backColor = this.headerBackColor;
 }
 }
 ;
 if (typeof $c.onBeforeHeaderRender === 'function') {
 var $m = {};
 $m.header = {};
 $m.header.dayOfWeek = $0U;
 var $0V = ['html', 'backColor', 'cssClass'];
 DayPilot.Util.copyProps($0T, $m.header, $0V);
 $c.onBeforeHeaderRender($m);
 DayPilot.Util.copyProps($m.header, $0T, $0V);
 }
 ;
 var $0W = document.createElement("div");
 $0W.setAttribute("unselectable", "on");
 $0W.style.position = 'absolute';
 $0W.style.left = (this.$2j() * x) + '%';
 $0W.style.width = (this.$2j()) + '%';
 $0W.style.top = '0px';
 $0W.style.height = ($N.headerHeight()) + 'px';
 (function (x) {
 $0W.onclick = function () {
 $c.$2P(x);
 };
 })($0U);
 var $T = document.createElement("div");
 $T.setAttribute("unselectable", "on");
 $T.className = this.$25("_header_inner");
 $T.innerHTML = $0T.html;
 $0W.appendChild($T);
 if (!this.cssOnly) {
 $T.style.position = "absolute";
 $T.style.top = "0px";
 $T.style.bottom = "0px";
 $T.style.left = "0px";
 $T.style.right = "0px";
 $T.style.backgroundColor = $0T.backColor;
 $T.style.fontFamily = this.headerFontFamily;
 $T.style.fontSize = this.headerFontSize;
 $T.style.color = this.headerFontColor;
 $T.style.textAlign = 'center';
 $T.style.cursor = 'default';
 $T.className = this.$25("header");
 if (x !== this.$2a() - 1) {
 $T.style.borderRight = '1px solid ' + this.borderColor;
 }
 } else {
 $0W.className = this.$25("_header");
 if ($0T) {
 if ($0T.cssClass) {
 DayPilot.Util.addClass($0W, $0T.cssClass);
 }
 ;
 if ($0T.backColor) {
 $T.style.background = $0T.backColor;
 }
 }
 }
 ;
 $0A.appendChild($0W);
 for (var y = 0; y < this.rows.length; y++) {
 this.$2Q(x, y, $0C);
 }
 }
 ;
 if (!DayPilot.contains(this.nav.top.childNodes, $0S) && this.numberFormat) {
 var $t = document.createElement("div");
 $t.style.position = 'absolute';
 $t.style.padding = '2px';
 $t.style.top = '0px';
 $t.style.left = '0px';
 //$t.style.backgroundColor = "#FF6600";
 $t.style.color = "white";
 //$t.innerHTML = "\u0044\u0045\u004D\u004F";
 $0S = $t;
 this.nav.top.appendChild($t);
 }
 };
 this.$1Y = function () {
 for (var x = 0; x < this.cells.length; x++) {
 for (var y = 0; y < this.cells[x].length; y++) {
 this.cells[x][y].onclick = null;
 }
 }
 ;
 this.nav.header.innerHTML = '';
 this.nav.events.innerHTML = '';
 };
 this.$2Q = function (x, y, $0A) {
 var $p = this.rows[y];
 var d = new DayPilot.Date(DayPilot.Date.addDays(this.firstDate, y * 7 + x));
 var $0X = this.cellProperties ? this.cellProperties[y * this.$2a() + x] : null;
 var $0Y = null;
 if ($0X) {
 $0Y = $0X["headerHtml"];
 } else {
 var $0k = d.getDay();
 if ($0k === 1) {
 $0Y = $N.locale().monthNames[d.getMonth()] + ' ' + $0k;
 } else {
 $0Y = $0k + "";
 }
 }
 ;
 if (!$0X) {
 var $0X = {};
 $0X.business = !$c.isWeekend(d);
 }
 ;
 if (typeof $c.onBeforeCellRender === 'function') {
 var $m = {};
 $m.cell = {};
 $m.cell.areas = null;
 $m.cell.backColor = null;
 $m.cell.backImage = null;
 $m.cell.backRepeat = null;
 $m.cell.business = $c.isWeekend(d);
 $m.cell.headerHtml = $0Y;
 $m.cell.headerBackColor = null;
 $m.cell.cssClass = null;
 $m.cell.html = null;
 $m.cell.start = d;
 $m.cell.end = $m.cell.start.addDays(1);
 DayPilot.Util.copyProps($0X, $m.cell);
 $c.onBeforeCellRender($m);
 DayPilot.Util.copyProps($m.cell, $0X, ['areas', 'backColor', 'backImage', 'backRepeat', 'business', 'headerHtml', 'headerBackColor', 'cssClass', 'html']);
 }
 ;
 var $s = document.createElement("div");
 $s.setAttribute("unselectable", "on");
 $s.style.position = 'absolute';
 $s.style.cursor = 'default';
 $s.style.left = (this.$2j() * x) + '%';
 $s.style.width = (this.$2j()) + '%';
 $s.style.top = (this.$2h(y)) + 'px';
 $s.style.height = ($p.getHeight()) + 'px';
 $s.d = d;
 $s.x = x;
 $s.y = y;
 $s.properties = $0X;
 var $0o = this.startDate.addMonths(-1).getMonth();
 var $0Z = this.startDate.addMonths(1).getMonth();
 var $10 = this.startDate.getMonth();
 var $T = document.createElement("div");
 $T.setAttribute("unselectable", "on");
 $s.appendChild($T);
 if (this.cssOnly) {
 $T.className = this.$25("_cell_inner");
 }
 ;
 if (!this.cssOnly) {
 $T.style.position = "absolute";
 $T.style.left = "0px";
 $T.style.right = "0px";
 $T.style.top = "0px";
 $T.style.bottom = "0px";
 if (d.getMonth() === $10) {
 $s.className = this.$25("cell");
 } else if (d.getMonth() === $0o) {
 $s.className = this.$25("cell") + " " + this.$25("previous");
 } else if (d.getMonth() === $0Z) {
 $s.className = this.$25("cell") + " " + this.$25("next");
 }
 ;
 if ($0X) {
 if ($0X["backColor"]) {
 $T.style.background = $0X["backColor"];
 }
 ;
 if ($0X["cssClass"]) {
 $T.className += " " + this.$25($0X["cssClass"]);
 }
 ;
 if ($0X["backImage"]) {
 $T.style.backgroundImage = "url('" + $0X["backImage"] + "')";
 }
 ;
 if ($0X["backRepeat"]) {
 $T.style.backgroundRepeat = $0X["backRepeat"];
 }
 } else {
 $T.style.background = this.$2R(d);
 }
 ;
 if (x !== this.$2a() - 1) {
 $T.style.borderRight = '1px solid ' + this.innerBorderColor;
 }
 ;
 if (y === 0) {
 $T.style.borderTop = '1px solid ' + this.borderColor;
 }
 ;
 $T.style.borderBottom = '1px solid ' + this.innerBorderColor;
 } else {
 $T.className = this.$25("_cell_inner");
 if (d.getMonth() === $10) {
 $s.className = this.$25("_cell");
 } else if (d.getMonth() === $0o) {
 $s.className = this.$25("_cell") + " " + this.$25("_previous");
 } else if (d.getMonth() === $0Z) {
 $s.className = this.$25("_cell") + " " + this.$25("_next");
 } else {
 $a();
 }
 ;
 if ($0X) {
 if ($0X["cssClass"]) {
 DayPilot.Util.addClass($s, $0X.cssClass);
 }
 ;
 if ($0X["business"]) {
 DayPilot.Util.addClass($s, this.$25("_cell_business"));
 }
 ;
 if ($0X["backColor"]) {
 $T.style.backgroundColor = $0X["backColor"];
 }
 ;
 if ($0X["backImage"]) {
 $T.style.backgroundImage = "url('" + $0X["backImage"] + "')";
 }
 ;
 if ($0X["backRepeat"]) {
 $T.style.backgroundRepeat = $0X["backRepeat"];
 }
 }
 }
 ;
 $s.onmousedown = this.$2S;
 $s.onmousemove = this.$2T;
 $s.onmouseout = this.$2U;
 $s.oncontextmenu = this.$2V;
 $s.onclick = this.$2W;
 $s.ondblclick = this.$2X;
 var $11 = document.createElement("div");
 $11.setAttribute("unselectable", "on");
 $11.style.height = this.cellHeaderHeight + "px";
 if (!this.cssOnly) {
 if ($0X && $0X["headerBackColor"]) {
 $11.style.backgroundColor = $0X["headerBackColor"];
 } else if (this.cellHeaderBackColor) {
 $11.style.backgroundColor = this.cellHeaderBackColor;
 }
 ;
 $11.style.paddingRight = '2px';
 $11.style.textAlign = "right";
 $11.style.fontFamily = this.cellHeaderFontFamily;
 $11.style.fontSize = this.cellHeaderFontSize;
 $11.style.color = this.cellHeaderFontColor;
 $11.className = this.$25("cellheader");
 } else {
 if ($0X && $0X["headerBackColor"]) {
 $11.style.background = $0X["headerBackColor"];
 }
 ;
 $11.className = this.$25("_cell_header");
 }
 ;
 $11.innerHTML = $0Y;
 $T.appendChild($11);
 if ($0X && $0X["html"]) {
 var $0H = document.createElement("div");
 $0H.setAttribute("unselectable", "on");
 $0H.style.height = ($p.getHeight() - this.cellHeaderHeight) + 'px';
 $0H.style.overflow = 'hidden';
 $0H.innerHTML = $0X["html"];
 $T.appendChild($0H);
 }
 ;
 if (this.cellMode) {
 var $12 = document.createElement("div");
 $12.setAttribute("unselectable", "on");
 $12.style.height = (this.cellHeight - this.cellHeaderHeight) + "px";
 $12.style.overflow = 'auto';
 $12.style.position = 'relative';
 var $L = document.createElement('div');
 $L.setAttribute("unselectable", "on");
 $L.style.paddingTop = "1px";
 $L.style.paddingBottom = "1px";
 $12.appendChild($L);
 $T.appendChild($12);
 $s.body = $L;
 $s.scrolling = $12;
 }
 ;
 if ($s.properties) {
 var $00 = $s.properties.areas || [];
 for (var i = 0; i < $00.length; i++) {
 var $01 = $00[i];
 if ($01.v !== 'Visible') {
 continue;
 }
 ;
 var a = DayPilot.Areas.createArea($s, $s.properties, $01);
 $s.appendChild(a);
 }
 }
 ;
 this.cells[x][y] = $s;
 $0A.appendChild($s);
 };
 this.$2T = function () {
 var c = this;
 if (c.properties) {
 DayPilot.Areas.showAreas(c, c.properties);
 }
 };
 this.$2U = function (ev) {
 var c = this;
 if (c.properties) {
 DayPilot.Areas.hideAreas(c, ev);
 }
 };
 this.$2V = function () {
 var d = this.d;
 var go = function (d) {
 var $0b = new DayPilot.Date(d);
 var end = $0b.addDays(1);
 var $13 = new DayPilot.Selection($0b, end, null, $c);
 if ($c.contextMenuSelection) {
 $c.contextMenuSelection.show($13);
 }
 };
 go(d);
 return false;
 };
 this.$2X = function () {
 var d = this.d;
 if ($c.timeouts) {
 for (var $14 in $c.timeouts) {
 window.clearTimeout($c.timeouts[$14]);
 }
 ;
 $c.timeouts = null;
 }
 ;
 if ($c.timeRangeDoubleClickHandling !== 'Disabled') {
 var $0b = new DayPilot.Date(d);
 var end = $0b.addDays(1);
 $c.$2Y($0b, end);
 }
 };
 this.$2W = function () {
 if (DayPilotMonth.cancelCellClick) {
 return;
 }
 ;
 var d = this.d;
 var $15 = function (d) {
 var $0b = new DayPilot.Date(d);
 var end = $0b.addDays(1);
 $c.$2D($0b, end);
 };
 if ($c.timeRangeSelectedHandling !== 'Disabled' && $c.timeRangeDoubleClickHandling === 'Disabled') {
 $15(d);
 return;
 }
 ;
 if (!$c.timeouts) {
 $c.timeouts = [];
 }
 ;
 var $16 = function (d) {
 return function () {
 $15(d);
 };
 };
 $c.timeouts.push(window.setTimeout($16(d), $c.doubleClickTimeout));
 };
 this.$2S = function (e) {
 var $s = this;
 var x = $s.x;
 var y = $s.y;
 DayPilotMonth.cancelCellClick = false;
 if ($s.scrolling) {
 var $C = DayPilot.mo3($s.scrolling, e);
 var sw = DayPilot.sw($s.scrolling);
 var $B = $s.scrolling.offsetWidth;
 if ($C.x > $B - sw) {
 return;
 }
 }
 ;
 if ($c.timeRangeSelectedHandling !== 'Disabled') {
 $c.$2k();
 DayPilotMonth.timeRangeSelecting = {"root": $c, "x": x, "y": y, "from": {x: x, y: y}, "width": 1};
 }
 };
 this.$2a = function () {
 if (this.showWeekend) {
 return 7;
 } else {
 return 5;
 }
 };
 this.$2j = function () {
 if (this.showWeekend) {
 return 14.285;
 } else {
 return 20;
 }
 };
 this.$2R = function (d) {
 if (d.getUTCDay() === 6 || d.getUTCDay() === 0) {
 return this.nonBusinessBackColor;
 }
 ;
 return this.backColor;
 };
 this.$2h = function ($0x) {
 var top = 0;
 for (var i = 0; i < $0x; i++) {
 top += this.rows[i].getHeight();
 }
 ;
 return top;
 };
 this.clearSelection = function () {
 this.$2k();
 };
 this.$2Z = function ($17, $i, $18) {
 var $19 = {};
 $19.action = $17;
 $19.parameters = $18;
 $19.data = $i;
 $19.header = this.$30();
 var $1a = "JSON" + DayPilot.JSON.stringify($19);
 __doPostBack($c.uniqueID, $1a);
 };
 this.$31 = function ($17, $18, $i, $1b) {
 if (!this.$32()) {
 $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
 return;
 }
 ;
 if (typeof $1b === 'undefined') {
 $1b = "CallBack";
 }
 ;
 var $19 = {};
 $19.action = $17;
 $19.type = $1b;
 $19.parameters = $18;
 $19.data = $i;
 $19.header = this.$30();
 var $1a = "JSON" + DayPilot.JSON.stringify($19);
 if (this.backendUrl) {
 DayPilot.request(this.backendUrl, this.$33, $1a, this.$34);
 } else if (typeof WebForm_DoCallback === 'function') {
 WebForm_DoCallback(this.uniqueID, $1a, this.$1R, null, this.callbackError, true);
 }
 };
 this.$32 = function () {
 if (this.backendUrl) {
 return true;
 }
 ;
 if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
 return true;
 }
 ;
 return false;
 };
 this.$34 = function ($1c) {
 if (typeof $c.onAjaxError === 'function') {
 var $m = {};
 $m.request = $1c;
 $c.onAjaxError($m);
 } else if (typeof $c.ajaxError === 'function') {
 $c.ajaxError($1c);
 }
 };
 this.$33 = function ($1d) {
 $c.$1R($1d.responseText);
 };
 this.$30 = function () {
 var h = {};
 h.v = this.v;
 h.control = "dpm";
 h.id = this.id;
 h.visibleStart = new DayPilot.Date(this.firstDate);
 h.visibleEnd = h.visibleStart.addDays(this.days);
 h.clientState = this.clientState;
 h.cssOnly = $c.cssOnly;
 h.cssClassPrefix = $c.cssClassPrefix;
 h.startDate = $c.startDate;
 h.showWeekend = this.showWeekend;
 h.headerBackColor = this.headerBackColor;
 h.backColor = this.backColor;
 h.nonBusinessBackColor = this.nonBusinessBackColor;
 h.locale = this.locale;
 h.timeFormat = this.timeFormat;
 h.weekStarts = this.weekStarts;
 h.viewType = this.viewType;
 h.weeks = this.weeks;
 h.selected = $c.multiselect.events();
 h.hashes = $c.hashes;
 return h;
 };
 this.$35 = function ($1b, $17, $1e, $i) {
 if ($1b === 'PostBack') {
 $c.postBack2($17, $1e, $i);
 } else if ($1b === 'CallBack') {
 $c.$31($17, $1e, $i, "CallBack");
 } else if ($1b === 'Immediate') {
 $c.$31($17, $1e, $i, "Notify");
 } else if ($1b === 'Queue') {
 $c.queue.add(new DayPilot.Action(this, $17, $1e, $i));
 } else if ($1b === 'Notify') {
 if ($N.notifyType() === 'Notify') {
 $c.$31($17, $1e, $i, "Notify");
 } else {
 $c.queue.add(new DayPilot.Action($c, $17, $1e, $i));
 }
 } else {
 throw "Invalid event invocation type";
 }
 };
 this.$36 = function ($m, $g) {
 var $f = $c.$37($g);
 var $1e = {};
 $1e.args = $m;
 $1e.guid = $f;
 $c.$31("Bubble", $1e);
 };
 this.$37 = function ($g) {
 var $f = DayPilot.guid();
 if (!this.bubbles) {
 this.bubbles = [];
 }
 ;
 this.bubbles[$f] = $g;
 return $f;
 };
 this.eventClickPostBack = function (e, $i) {
 this.$2Z("EventClick", $i, e);
 };
 this.eventClickCallBack = function (e, $i) {
 this.$31('EventClick', e, $i);
 };
 this.$2t = function ($t, e) {
 DayPilotMonth.movingEvent = null;
 DayPilotMonth.resizingEvent = null;
 var e = e || window.event;
 var $1f = e.ctrlKey;
 e.cancelBubble = true;
 if (e.stopPropagation) {
 e.stopPropagation();
 }
 ;
 if (typeof(DayPilotBubble) !== 'undefined') {
 DayPilotBubble.hideActive();
 }
 ;
 if ($c.eventDoubleClickHandling === 'Disabled') {
 $c.$2B($t, $1f);
 return;
 }
 ;
 if (!$c.timeouts) {
 $c.timeouts = [];
 } else {
 for (var $14 in $c.timeouts) {
 window.clearTimeout($c.timeouts[$14]);
 }
 ;
 $c.timeouts = [];
 }
 ;
 var $1g = function ($t, $1f) {
 return function () {
 $c.$2B($t, $1f);
 };
 };
 $c.timeouts.push(window.setTimeout($1g($t, $1f), $c.doubleClickTimeout));
 };
 this.$2B = function ($t, $1f) {
 var e = $t.event;
 if (!e.client.clickEnabled()) {
 return;
 }
 ;
 if ($c.$24()) {
 var $m = {};
 $m.e = e;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventClick === 'function') {
 $c.onEventClick($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventClickHandling) {
 case 'PostBack':
 $c.eventClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventClickCallBack(e);
 break;
 case 'Select':
 $c.$38($t, e, $1f);
 break;
 case 'ContextMenu':
 var $1h = e.client.contextMenu();
 if ($1h) {
 $1h.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(e);
 }
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 ;
 if (typeof $c.onEventClicked === 'function') {
 $c.onEventClicked($m);
 }
 } else {
 switch ($c.eventClickHandling) {
 case 'PostBack':
 $c.eventClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventClickCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventClick(e);
 break;
 case 'Select':
 $c.$38($t, e, $1f);
 break;
 case 'ContextMenu':
 var $1h = e.client.contextMenu();
 if ($1h) {
 $1h.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(e);
 }
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 }
 };
 this.$2v = function (e) {
 if ($c.$24()) {
 var $m = {};
 $m.e = e;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventDelete === 'function') {
 $c.onEventDelete($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventDeleteHandling) {
 case 'PostBack':
 $c.eventDeletePostBack(e);
 break;
 case 'CallBack':
 $c.eventDeleteCallBack(e);
 break;
 case 'Update':
 $c.events.remove(e);
 break;
 }
 ;
 if (typeof $c.onEventDeleted === 'function') {
 $c.onEventDeleted($m);
 }
 } else {
 switch ($c.eventDeleteHandling) {
 case 'PostBack':
 $c.eventDeletePostBack(e);
 break;
 case 'CallBack':
 $c.eventDeleteCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventDelete(e);
 break;
 }
 }
 };
 this.eventDeletePostBack = function (e, $i) {
 this.$2Z('EventDelete', e, $i);
 };
 this.eventDeleteCallBack = function (e, $i) {
 this.$31('EventDelete', e, $i);
 };
 this.eventDoubleClickPostBack = function (e, $i) {
 this.$2Z('EventDoubleClick', $i, e);
 };
 this.eventDoubleClickCallBack = function (e, $i) {
 this.$31('EventDoubleClick', e, $i);
 };
 this.$2u = function ($t, ev) {
 if (typeof(DayPilotBubble) !== 'undefined') {
 DayPilotBubble.hideActive();
 }
 ;
 if ($c.timeouts) {
 for (var $14 in $c.timeouts) {
 window.clearTimeout($c.timeouts[$14]);
 }
 ;
 $c.timeouts = null;
 }
 ;
 var ev = ev || window.event;
 var e = $t.event;
 if ($c.$24()) {
 var $m = {};
 $m.e = e;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventDoubleClick === 'function') {
 $c.onEventDoubleClick($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventDoubleClickHandling) {
 case 'PostBack':
 $c.eventDoubleClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventDoubleClickCallBack(e);
 break;
 case 'Select':
 $c.$38($t, e, ev.ctrlKey);
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 ;
 if (typeof $c.onEventDoubleClicked === 'function') {
 $c.onEventDoubleClicked($m);
 }
 } else {
 switch ($c.eventDoubleClickHandling) {
 case 'PostBack':
 $c.eventDoubleClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventDoubleClickCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventDoubleClick(e);
 break;
 case 'Select':
 $c.$38($t, e, ev.ctrlKey);
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 }
 };
 this.$38 = function ($t, e, $1f) {
 $c.$39($t, e, $1f);
 };
 this.eventSelectPostBack = function (e, $1i, $i) {
 var $1e = {};
 $1e.e = e;
 $1e.change = $1i;
 this.$2Z('EventSelect', $i, $1e);
 };
 this.eventSelectCallBack = function (e, $1i, $i) {
 var $1e = {};
 $1e.e = e;
 $1e.change = $1i;
 this.$31('EventSelect', $1e, $i);
 };
 this.$39 = function ($t, e, $1f) {
 if ($c.$24()) {
 var m = $c.multiselect;
 m.previous = m.events();
 var $m = {};
 $m.e = e;
 $m.selected = m.isSelected(e);
 $m.ctrl = $1f;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventSelect === 'function') {
 $c.onEventSelect($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventSelectHandling) {
 case 'PostBack':
 $c.eventSelectPostBack(e, $1i);
 break;
 case 'CallBack':
 if (typeof WebForm_InitCallback !== 'undefined') {
 __theFormPostData = "";
 __theFormPostCollection = [];
 WebForm_InitCallback();
 }
 ;
 $c.eventSelectCallBack(e, $1i);
 break;
 case 'Update':
 m.$3a($t, $1f);
 break;
 }
 ;
 if (typeof $c.onEventSelected === 'function') {
 $m.change = m.isSelected(e) ? "selected" : "deselected";
 $m.selected = m.isSelected(e);
 $c.onEventSelected($m);
 }
 } else {
 var m = $c.multiselect;
 m.previous = m.events();
 m.$3a($t, $1f);
 var $1i = m.isSelected(e) ? "selected" : "deselected";
 switch ($c.eventSelectHandling) {
 case 'PostBack':
 $c.eventSelectPostBack(e, $1i);
 break;
 case 'CallBack':
 if (typeof WebForm_InitCallback !== 'undefined') {
 __theFormPostData = "";
 __theFormPostCollection = [];
 WebForm_InitCallback();
 }
 ;
 $c.eventSelectCallBack(e, $1i);
 break;
 case 'JavaScript':
 $c.onEventSelect(e, $1i);
 break;
 }
 }
 };
 this.eventRightClickPostBack = function (e, $i) {
 this.$2Z("EventRightClick", $i, e);
 };
 this.eventRightClickCallBack = function (e, $i) {
 this.$31('EventRightClick', e, $i);
 };
 this.$2y = function (e) {
 this.event = e;
 if (!e.client.rightClickEnabled()) {
 return false;
 }
 ;
 if ($c.$24()) {
 var $m = {};
 $m.e = e;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventRightClick === 'function') {
 $c.onEventRightClick($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventRightClickHandling) {
 case 'PostBack':
 $c.eventRightClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventRightClickCallBack(e);
 break;
 case 'ContextMenu':
 var $1h = e.client.contextMenu();
 if ($1h) {
 $1h.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(this.event);
 }
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 ;
 if (typeof $c.onEventRightClicked === 'function') {
 $c.onEventRightClicked($m);
 }
 } else {
 switch ($c.eventRightClickHandling) {
 case 'PostBack':
 $c.eventRightClickPostBack(e);
 break;
 case 'CallBack':
 $c.eventRightClickCallBack(e);
 break;
 case 'JavaScript':
 $c.onEventRightClick(e);
 break;
 case 'ContextMenu':
 var $1h = e.client.contextMenu();
 if ($1h) {
 $1h.show(e);
 } else {
 if ($c.contextMenu) {
 $c.contextMenu.show(this.event);
 }
 }
 ;
 break;
 case 'Bubble':
 if ($c.bubble) {
 $c.bubble.showEvent(e);
 }
 ;
 break;
 }
 }
 ;
 return false;
 };
 this.eventMenuClickPostBack = function (e, $1j, $i) {
 var $1e = {};
 $1e.e = e;
 $1e.command = $1j;
 this.$2Z('EventMenuClick', $i, $1e);
 };
 this.eventMenuClickCallBack = function (e, $1j, $i) {
 var $1e = {};
 $1e.e = e;
 $1e.command = $1j;
 this.$31('EventMenuClick', $1e, $i);
 };
 this.$3b = function ($1j, e, $1k) {
 switch ($1k) {
 case 'PostBack':
 $c.eventMenuClickPostBack(e, $1j);
 break;
 case 'CallBack':
 $c.eventMenuClickCallBack(e, $1j);
 break;
 }
 };
 this.eventMovePostBack = function (e, $1l, $1m, $i, $0c) {
 if (!$1l)throw 'newStart is null';
 if (!$1m)throw 'newEnd is null';
 var $1e = {};
 $1e.e = e;
 $1e.newStart = $1l;
 $1e.newEnd = $1m;
 $1e.position = $0c;
 this.$2Z('EventMove', $i, $1e);
 };
 this.eventMoveCallBack = function (e, $1l, $1m, $i, $0c) {
 if (!$1l)throw 'newStart is null';
 if (!$1m)throw 'newEnd is null';
 var $1e = {};
 $1e.e = e;
 $1e.newStart = $1l;
 $1e.newEnd = $1m;
 $1e.position = $0c;
 this.$31('EventMove', $1e, $i);
 };
 this.$2C = function (e, x, y, $C, ev, $0c) {
 var $1n = DayPilot.Date.getTime(e.start().d);
 var $0E = DayPilot.Date.getDate(e.end().d);
 if ($0E.getTime() !== e.end().d.getTime()) {
 $0E = DayPilot.Date.addDays($0E, 1);
 }
 ;
 var $1o = DayPilot.Date.diff(e.end().d, $0E);
 var $1p = this.$2l(x, y);
 $1p = DayPilot.Date.addDays($1p, -$C);
 var $B = DayPilot.Date.daysSpan(e.start().d, e.end().d) + 1;
 var $1q = DayPilot.Date.addDays($1p, $B);
 var $1l = new DayPilot.Date(DayPilot.Date.addTime($1p, $1n));
 var $1m = new DayPilot.Date(DayPilot.Date.addTime($1q, $1o));
 if ($c.$24()) {
 var $m = {};
 $m.e = e;
 $m.newStart = $1l;
 $m.newEnd = $1m;
 $m.position = $0c;
 $m.ctrl = false;
 if (ev) {
 $m.ctrl = ev.ctrlKey;
 }
 ;
 $m.shift = false;
 if (ev) {
 $m.shift = ev.shiftKey;
 }
 ;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventMove === 'function') {
 $c.onEventMove($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventMoveHandling) {
 case 'PostBack':
 $c.eventMovePostBack(e, $1l, $1m, null, $0c);
 break;
 case 'CallBack':
 $c.eventMoveCallBack(e, $1l, $1m, null, $0c);
 break;
 case 'Notify':
 $c.eventMoveNotify(e, $1l, $1m, null, $0c);
 break;
 case 'Update':
 e.start($1l);
 e.end($1m);
 $c.events.update(e);
 break;
 }
 ;
 if (typeof $c.onEventMoved === 'function') {
 $c.onEventMoved($m);
 }
 } else {
 switch ($c.eventMoveHandling) {
 case 'PostBack':
 $c.eventMovePostBack(e, $1l, $1m, null, $0c);
 break;
 case 'CallBack':
 $c.eventMoveCallBack(e, $1l, $1m, null, $0c);
 break;
 case 'JavaScript':
 $c.onEventMove(e, $1l, $1m, ev.ctrlKey, ev.shiftKey, $0c);
 break;
 case 'Notify':
 $c.eventMoveNotify(e, $1l, $1m, null, $0c);
 break;
 }
 }
 };
 this.eventMoveNotify = function (e, $1l, $1m, $i, $u) {
 var $1r = new DayPilot.Event(e.copy(), this);
 e.start($1l);
 e.end($1m);
 e.commit();
 $c.update();
 this.$3c("Notify", $1r, $1l, $1m, $i, $u);
 };
 this.$3c = function ($1b, e, $1l, $1m, $i, $u) {
 var $1e = {};
 $1e.e = e;
 $1e.newStart = $1l;
 $1e.newEnd = $1m;
 $1e.position = $u;
 this.$35($1b, "EventMove", $1e, $i);
 };
 this.eventResizePostBack = function (e, $1l, $1m, $i) {
 if (!$1l)throw 'newStart is null';
 if (!$1m)throw 'newEnd is null';
 var $1e = {};
 $1e.e = e;
 $1e.newStart = $1l;
 $1e.newEnd = $1m;
 this.$2Z('EventResize', $i, $1e);
 };
 this.eventResizeCallBack = function (e, $1l, $1m, $i) {
 if (!$1l)throw 'newStart is null';
 if (!$1m)throw 'newEnd is null';
 var $1e = {};
 $1e.e = e;
 $1e.newStart = $1l;
 $1e.newEnd = $1m;
 this.$31('EventResize', $1e, $i);
 };
 this.$3d = function (e, $0b, $B) {
 var $1n = DayPilot.Date.getTime(e.start().d);
 var $0E = DayPilot.Date.getDate(e.end().d);
 if (!DayPilot.Date.equals($0E, e.end().d)) {
 $0E = DayPilot.Date.addDays($0E, 1);
 }
 ;
 var $1o = DayPilot.Date.diff(e.end().d, $0E);
 var $1p = this.$2l($0b.x, $0b.y);
 var $1q = DayPilot.Date.addDays($1p, $B);
 var $1l = new DayPilot.Date(DayPilot.Date.addTime($1p, $1n));
 var $1m = new DayPilot.Date(DayPilot.Date.addTime($1q, $1o));
 if ($c.$24()) {
 var $m = {};
 $m.e = e;
 $m.newStart = $1l;
 $m.newEnd = $1m;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onEventResize === 'function') {
 $c.onEventResize($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.eventResizeHandling) {
 case 'PostBack':
 $c.eventResizePostBack(e, $1l, $1m);
 break;
 case 'CallBack':
 $c.eventResizeCallBack(e, $1l, $1m);
 break;
 case 'Notify':
 $c.eventResizeNotify(e, $1l, $1m);
 break;
 case 'Update':
 e.start($1l);
 e.end($1m);
 $c.events.update(e);
 break;
 }
 ;
 if (typeof $c.onEventResized === 'function') {
 $c.onEventResized($m);
 }
 } else {
 switch ($c.eventResizeHandling) {
 case 'PostBack':
 $c.eventResizePostBack(e, $1l, $1m);
 break;
 case 'CallBack':
 $c.eventResizeCallBack(e, $1l, $1m);
 break;
 case 'JavaScript':
 $c.onEventResize(e, $1l, $1m);
 break;
 case 'Notify':
 $c.eventResizeNotify(e, $1l, $1m);
 break;
 }
 }
 };
 this.eventResizeNotify = function (e, $1l, $1m, $i) {
 var $1r = new DayPilot.Event(e.copy(), this);
 e.start($1l);
 e.end($1m);
 e.commit();
 $c.update();
 this.$3e("Notify", $1r, $1l, $1m, $i);
 };
 this.$3e = function ($1b, e, $1l, $1m, $i) {
 var $1e = {};
 $1e.e = e;
 $1e.newStart = $1l;
 $1e.newEnd = $1m;
 this.$35($1b, "EventResize", $1e, $i);
 };
 this.timeRangeSelectedPostBack = function ($0b, end, $i) {
 var $0g = {};
 $0g.start = $0b;
 $0g.end = end;
 this.$2Z('TimeRangeSelected', $i, $0g);
 };
 this.timeRangeSelectedCallBack = function ($0b, end, $i) {
 var $0g = {};
 $0g.start = $0b;
 $0g.end = end;
 this.$31('TimeRangeSelected', $0g, $i);
 };
 this.$2D = function ($0b, end) {
 if ($c.$24()) {
 var $m = {};
 $m.start = $0b;
 $m.end = end;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onTimeRangeSelect === 'function') {
 $c.onTimeRangeSelect($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.timeRangeSelectedHandling) {
 case 'PostBack':
 $c.timeRangeSelectedPostBack($0b, end);
 $c.clearSelection();
 break;
 case 'CallBack':
 $c.timeRangeSelectedCallBack($0b, end);
 $c.clearSelection();
 break;
 }
 ;
 if (typeof $c.onTimeRangeSelected === 'function') {
 $c.onTimeRangeSelected($m);
 }
 } else {
 switch ($c.timeRangeSelectedHandling) {
 case 'PostBack':
 $c.timeRangeSelectedPostBack($0b, end);
 $c.clearSelection();
 break;
 case 'CallBack':
 $c.timeRangeSelectedCallBack($0b, end);
 $c.clearSelection();
 break;
 case 'JavaScript':
 $c.onTimeRangeSelected($0b, end);
 break;
 }
 }
 };
 this.timeRangeMenuClickPostBack = function (e, $1j, $i) {
 var $1e = {};
 $1e.selection = e;
 $1e.command = $1j;
 this.$2Z("TimeRangeMenuClick", $i, $1e);
 };
 this.timeRangeMenuClickCallBack = function (e, $1j, $i) {
 var $1e = {};
 $1e.selection = e;
 $1e.command = $1j;
 this.$31("TimeRangeMenuClick", $1e, $i);
 };
 this.$3f = function ($1j, e, $1k) {
 switch ($1k) {
 case 'PostBack':
 $c.timeRangeMenuClickPostBack(e, $1j);
 break;
 case 'CallBack':
 $c.timeRangeMenuClickCallBack(e, $1j);
 break;
 }
 };
 this.headerClickPostBack = function (c, $i) {
 this.$2Z('HeaderClick', $i, c);
 };
 this.headerClickCallBack = function (c, $i) {
 this.$31('HeaderClick', c, $i);
 };
 this.$2P = function (x) {
 var $i = this.data;
 var c = {$11: x};
 if ($c.$24()) {
 var $m = {};
 $m.header = {};
 $m.header.dayOfWeek = x;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onHeaderClick === 'function') {
 $c.onHeaderClick($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.headerClickHandling) {
 case 'PostBack':
 $c.headerClickPostBack(c);
 break;
 case 'CallBack':
 $c.headerClickCallBack(c);
 break;
 }
 ;
 if (typeof $c.onHeaderClicked === 'function') {
 $c.onHeaderClicked($m);
 }
 } else {
 switch ($c.headerClickHandling) {
 case 'PostBack':
 $c.headerClickPostBack(c);
 break;
 case 'CallBack':
 $c.headerClickCallBack(c);
 break;
 case 'JavaScript':
 $c.onHeaderClick(c);
 break;
 }
 }
 };
 this.timeRangeDoubleClickPostBack = function ($0b, end, $i) {
 var $0g = {};
 $0g.start = $0b;
 $0g.end = end;
 this.$2Z('TimeRangeDoubleClick', $i, $0g);
 };
 this.timeRangeDoubleClickCallBack = function ($0b, end, $i) {
 var $0g = {};
 $0g.start = $0b;
 $0g.end = end;
 this.$31('TimeRangeDoubleClick', $0g, $i);
 };
 this.$2Y = function ($0b, end) {
 if ($c.$24()) {
 var $m = {};
 $m.start = $0b;
 $m.end = end;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $c.onTimeRangeDoubleClick === 'function') {
 $c.onTimeRangeDoubleClick($m);
 if ($m.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($c.timeRangeDoubleClickHandling) {
 case 'PostBack':
 $c.timeRangeDoubleClickPostBack($0b, end);
 break;
 case 'CallBack':
 $c.timeRangeDoubleClickCallBack($0b, end);
 break;
 }
 ;
 if (typeof $c.onTimeRangeDoubleClicked === 'function') {
 $c.onTimeRangeDoubleClicked($m);
 }
 } else {
 switch ($c.timeRangeDoubleClickHandling) {
 case 'PostBack':
 $c.timeRangeDoubleClickPostBack($0b, end);
 break;
 case 'CallBack':
 $c.timeRangeDoubleClickCallBack($0b, end);
 break;
 case 'JavaScript':
 $c.onTimeRangeDoubleClick($0b, end);
 break;
 }
 }
 };
 this.commandCallBack = function ($1j, $i) {
 this.$3g();
 var $1e = {};
 $1e.command = $1j;
 this.$31('Command', $1e, $i);
 };
 this.$3h = function (e) {
 for (var i = 0; i < $c.elements.events.length; i++) {
 var $t = $c.elements.events[i];
 if ($t.event === e || $t.event.data === e.data) {
 return $t;
 }
 }
 ;
 return null;
 };
 this.$2w = function (e) {
 var $d = {};
 $d.list = [];
 $d.each = function (m) {
 if (!m) {
 return;
 }
 ;
 for (var i = 0; i < this.list.length; i++) {
 m(this.list[i]);
 }
 };
 for (var i = 0; i < this.elements.events.length; i++) {
 var $t = this.elements.events[i];
 if ($t.event.data === e.data) {
 $d.list.push($t);
 }
 }
 ;
 return $d;
 };
 this.$3i = function ($1s) {
 var $t = document.createElement("div");
 $t.style.position = "absolute";
 $t.style.top = "-2000px";
 $t.style.left = "-2000px";
 $t.className = this.$25($1s);
 document.body.appendChild($t);
 var $J = $t.offsetHeight;
 var $B = $t.offsetWidth;
 document.body.removeChild($t);
 var $d = {};
 $d.height = $J;
 $d.width = $B;
 return $d;
 };
 this.$3j = {};
 var $N = this.$3j;
 $N.lineHeight = function () {
 return $N.eventHeight() + $c.lineSpace;
 };
 $N.rounded = function () {
 return $c.eventCorners === "Rounded";
 };
 $N.loadFromServer = function () {
 if ($c.backendUrl || typeof WebForm_DoCallback === 'function') {
 return (typeof $c.events.list === 'undefined') || (!$c.events.list);
 } else {
 return false;
 }
 };
 $N.locale = function () {
 return DayPilot.Locale.find($c.locale);
 };
 $N.getWeekStart = function () {
 if ($c.showWeekend) {
 return $c.weekStarts;
 } else {
 return 1;
 }
 };
 $N.notifyType = function () {
 var $1b;
 if ($c.notifyCommit === 'Immediate') {
 $1b = "Notify";
 } else if ($c.notifyCommit === 'Queue') {
 $1b = "Queue";
 } else {
 throw "Invalid notifyCommit value: " + $c.notifyCommit;
 }
 ;
 return $1b;
 };
 $N.eventHeight = function () {
 if ($c.$1Q.eventHeight) {
 return $c.$1Q.eventHeight;
 }
 ;
 var $J = $c.$3i("_event_height").height;
 if (!$J) {
 $J = $c.eventHeight;
 }
 ;
 $c.$1Q.eventHeight = $J;
 return $J;
 };
 $N.headerHeight = function () {
 if ($c.$1Q.headerHeight) {
 return $c.$1Q.headerHeight;
 }
 ;
 var $J = $c.$3i("_header_height").height;
 if (!$J) {
 $J = $c.headerHeight;
 }
 ;
 $c.$1Q.headerHeight = $J;
 return $J;
 };
 this.multiselect = {};
 this.multiselect.initList = [];
 this.multiselect.list = [];
 this.multiselect.divs = [];
 this.multiselect.previous = [];
 this.multiselect.$3k = function () {
 var m = $c.multiselect;
 return DayPilot.JSON.stringify(m.events());
 };
 this.multiselect.events = function () {
 var m = $c.multiselect;
 var $1t = [];
 $1t.ignoreToJSON = true;
 for (var i = 0; i < m.list.length; i++) {
 $1t.push(m.list[i]);
 }
 ;
 return $1t;
 };
 this.multiselect.$3l = function () {
 };
 this.multiselect.$3a = function ($t, $1u) {
 var m = $c.multiselect;
 if (m.isSelected($t.event)) {
 if ($c.allowMultiSelect) {
 if ($1u) {
 m.remove($t.event, true);
 } else {
 var $0t = m.list.length;
 m.clear(true);
 if ($0t > 1) {
 m.add($t.event, true);
 }
 }
 } else {
 m.clear(true);
 }
 } else {
 if ($c.allowMultiSelect) {
 if ($1u) {
 m.add($t.event, true);
 } else {
 m.clear(true);
 m.add($t.event, true);
 }
 } else {
 m.clear(true);
 m.add($t.event, true);
 }
 }
 ;
 m.redraw();
 m.$3l();
 };
 this.multiselect.$2s = function (ev) {
 var m = $c.multiselect;
 return m.$3m(ev, m.initList);
 };
 this.multiselect.$3n = function () {
 var m = $c.multiselect;
 var $02 = [];
 for (var i = 0; i < m.list.length; i++) {
 var event = m.list[i];
 $02.push(event.value());
 }
 ;
 alert($02.join("\n"));
 };
 this.multiselect.add = function (ev, $1v) {
 var m = $c.multiselect;
 if (m.indexOf(ev) === -1) {
 m.list.push(ev);
 }
 ;
 if ($1v) {
 return;
 }
 ;
 m.redraw();
 };
 this.multiselect.remove = function (ev, $1v) {
 var m = $c.multiselect;
 var i = m.indexOf(ev);
 if (i !== -1) {
 m.list.splice(i, 1);
 }
 };
 this.multiselect.clear = function ($1v) {
 var m = $c.multiselect;
 m.list = [];
 if ($1v) {
 return;
 }
 ;
 m.redraw();
 };
 this.multiselect.redraw = function () {
 var m = $c.multiselect;
 for (var i = 0; i < $c.elements.events.length; i++) {
 var $t = $c.elements.events[i];
 if (m.isSelected($t.event)) {
 m.$3o($t);
 } else {
 m.$3p($t);
 }
 }
 };
 this.multiselect.$3o = function ($t) {
 var m = $c.multiselect;
 var cn = $c.cssOnly ? $c.$25("_selected") : $c.$25("selected");
 var $t = m.$3q($t);
 DayPilot.Util.addClass($t, cn);
 m.divs.push($t);
 };
 this.multiselect.$3q = function ($t) {
 if ($c.cssOnly) {
 return $t;
 }
 ;
 return $t.firstChild;
 };
 this.multiselect.$3r = function () {
 var m = $c.multiselect;
 for (var i = 0; i < m.divs.length; i++) {
 var $t = m.divs[i];
 m.$3p($t, true);
 }
 ;
 m.divs = [];
 };
 this.multiselect.$3p = function ($t, $1w) {
 var m = $c.multiselect;
 var cn = $c.cssOnly ? $c.$25("_selected") : $c.$25("selected");
 var c = m.$3q($t);
 if (c && c.className && c.className.indexOf(cn) !== -1) {
 c.className = c.className.replace(cn, "");
 }
 ;
 if ($1w) {
 return;
 }
 ;
 var i = DayPilot.indexOf(m.divs, $t);
 if (i !== -1) {
 m.divs.splice(i, 1);
 }
 };
 this.multiselect.isSelected = function (ev) {
 return $c.multiselect.$3m(ev, $c.multiselect.list);
 };
 this.multiselect.indexOf = function (ev) {
 return DayPilot.indexOf($c.multiselect.list, ev);
 };
 this.multiselect.$3m = function (e, $02) {
 if (!$02) {
 return false;
 }
 ;
 for (var i = 0; i < $02.length; i++) {
 var ei = $02[i];
 if (e === ei) {
 return true;
 }
 ;
 if (typeof ei.value === 'function') {
 if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
 return true;
 }
 ;
 if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
 return true;
 }
 } else {
 if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
 return true;
 }
 ;
 if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
 return true;
 }
 }
 }
 ;
 return false;
 };
 this.events.find = function (id) {
 if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
 return null;
 }
 ;
 var $1x = $c.events.list.length;
 for (var i = 0; i < $1x; i++) {
 if ($c.events.list[i].id === id) {
 return new DayPilot.Event($c.events.list[i], $c);
 }
 }
 ;
 return null;
 };
 this.events.findRecurrent = function ($1y, $1z) {
 if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
 return null;
 }
 ;
 var $1x = $c.events.list.length;
 for (var i = 0; i < $1x; i++) {
 if ($c.events.list[i].recurrentMasterId === $1y && $c.events.list[i].start.getTime() === $1z.getTime()) {
 return new DayPilot.Event($c.events.list[i], $c);
 }
 }
 ;
 return null;
 };
 this.events.update = function (e, $i) {
 var $1e = {};
 $1e.oldEvent = new DayPilot.Event(e.copy(), $c);
 $1e.newEvent = new DayPilot.Event(e.temp(), $c);
 var $17 = new DayPilot.Action($c, "EventUpdate", $1e, $i);
 e.commit();
 if ($c.$1P) {
 $c.update();
 }
 ;
 $c.$2I.notify();
 return $17;
 };
 this.events.remove = function (e, $i) {
 var $1e = {};
 $1e.e = new DayPilot.Event(e.data, $c);
 var $17 = new DayPilot.Action($c, "EventRemove", $1e, $i);
 var $0x = DayPilot.indexOf($c.events.list, e.data);
 $c.events.list.splice($0x, 1);
 if ($c.$1P) {
 $c.update();
 }
 ;
 $c.$2I.notify();
 return $17;
 };
 this.events.add = function (e, $i) {
 e.calendar = $c;
 if (!$c.events.list) {
 $c.events.list = [];
 }
 ;
 $c.events.list.push(e.data);
 var $1e = {};
 $1e.e = e;
 var $17 = new DayPilot.Action($c, "EventAdd", $1e, $i);
 if ($c.$1P) {
 $c.update();
 }
 ;
 $c.$2I.notify();
 return $17;
 };
 this.queue = {};
 this.queue.list = [];
 this.queue.list.ignoreToJSON = true;
 this.queue.add = function ($17) {
 if (!$17) {
 return;
 }
 ;
 if ($17.isAction) {
 $c.queue.list.push($17);
 } else {
 throw "DayPilot.Action object required for queue.add()";
 }
 };
 this.queue.notify = function ($i) {
 var $1e = {};
 $1e.actions = $c.queue.list;
 $c.$31('Notify', $1e, $i, "Notify");
 $c.queue.list = [];
 };
 this.queue.clear = function () {
 $c.queue.list = [];
 };
 this.queue.pop = function () {
 return $c.queue.list.pop();
 };
 this.$23 = function ($1A) {
 if ($1A) {
 this.autoRefreshEnabled = true;
 }
 ;
 if (!this.autoRefreshEnabled) {
 return;
 }
 ;
 if (this.autoRefreshCount >= this.autoRefreshMaxCount) {
 return;
 }
 ;
 this.$3g();
 var $1B = this.autoRefreshInterval;
 if (!$1B || $1B < 10) {
 throw "The minimum autoRefreshInterval is 10 seconds";
 }
 ;
 this.autoRefreshTimeout = window.setTimeout(function () {
 $c.$3s();
 }, this.autoRefreshInterval * 1000);
 };
 this.$3g = function () {
 if (this.autoRefreshTimeout) {
 window.clearTimeout(this.autoRefreshTimeout);
 }
 };
 this.$3s = function () {
 if (!DayPilotMonth.eventResizing && !DayPilotMonth.eventMoving && !DayPilotMonth.timeRangeSelecting) {
 var $1C = false;
 if (typeof this.onAutoRefresh === 'function') {
 var $m = {};
 $m.i = this.autoRefreshCount;
 $m.preventDefault = function () {
 this.preventDefault.value = true;
 };
 $c.onAutoRefresh($m);
 if ($m.preventDefault.value) {
 $1C = true;
 }
 }
 ;
 if (!$1C && this.$32()) {
 this.commandCallBack(this.autoRefreshCommand);
 }
 ;
 this.autoRefreshCount++;
 }
 ;
 if (this.autoRefreshCount < this.autoRefreshMaxCount) {
 this.autoRefreshTimeout = window.setTimeout(function () {
 $c.$3s();
 }, this.autoRefreshInterval * 1000);
 }
 };
 this.$3t = function ($m) {
 if (!this.cells) {
 return;
 }
 ;
 var $m = $m || {};
 var $1D = !$m.eventsOnly;
 $c.$1V();
 $c.$1W();
 $c.$1X();
 if ($1D) {
 $c.$20();
 $c.$1Y();
 $c.$1Z();
 }
 ;
 $c.$20();
 $c.$21();
 $c.$22();
 };
 this.update = function () {
 this.$3t();
 };
 this.dispose = function () {
 var c = $c;
 if (!c.nav.top) {
 return;
 }
 ;
 c.$3g();
 c.$1V();
 c.nav.top.removeAttribute("style");
 c.nav.top.removeAttribute("class");
 c.nav.top.innerHTML = '';
 c.nav.top.dp = null;
 c.nav.top = null;
 DayPilotMonth.unregister(c);
 };
 this.$3u = function () {
 if (!DayPilotMonth.globalHandlers) {
 DayPilotMonth.globalHandlers = true;
 DayPilot.re(document, 'mouseup', DayPilotMonth.gMouseUp);
 }
 ;
 DayPilot.re(window, 'resize', this.$2N);
 };
 this.$21 = function () {
 if (this.nav.top.style.visibility === 'hidden') {
 this.nav.top.style.visibility = 'visible';
 }
 };
 this.show = function () {
 $c.nav.top.style.display = '';
 };
 this.hide = function () {
 $c.nav.top.style.display = 'none';
 };
 this.$3v = function () {
 if (this.id && this.id.tagName) {
 this.nav.top = this.id;
 } else if (typeof this.id === "string") {
 this.nav.top = document.getElementById(this.id);
 if (!this.nav.top) {
 throw "DayPilot.Month: The placeholder element not found: '" + id + "'.";
 }
 } else {
 throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
 }
 };
 this.$3w = function () {
 this.$3v();
 this.$1W();
 this.$2J();
 this.$1Z();
 this.$3u();
 this.$23();
 this.$31('Init');
 DayPilotMonth.register(this);
 };
 this.init = function () {
 this.$3v();
 if (this.nav.top.dp) {
 return;
 }
 ;
 var $1E = $N.loadFromServer();
 if ($1E) {
 this.$3w();
 this.$1P = true;
 return;
 }
 ;
 this.$1W();
 this.$1X();
 this.$2J();
 this.$1Z();
 this.$21();
 this.$22();
 this.$20();
 this.$3u();
 if (this.messageHTML) {
 this.message(this.messageHTML);
 }
 ;
 this.$1T(null, false);
 this.$23();
 DayPilotMonth.register(this);
 this.$1P = true;
 this.$3x();
 };
 this.$3y = null;
 this.$3z = function ($b) {
 var $1F = {
 "events": {
 "preInit": function () {
 var $1t = this.data;
 if (!$1t) {
 return;
 }
 ;
 if (DayPilot.isArray($1t.list)) {
 $c.events.list = $1t.list;
 } else {
 $c.events.list = $1t;
 }
 }
 }
 };
 this.$3y = $1F;
 for (var name in $b) {
 if ($1F[name]) {
 var $1G = $1F[name];
 $1G.data = $b[name];
 if ($1G.preInit) {
 $1G.preInit();
 }
 } else {
 $c[name] = $b[name];
 }
 }
 };
 this.$3x = function () {
 var $1F = this.$3y;
 for (var name in $1F) {
 var $1G = $1F[name];
 if ($1G.postInit) {
 $1G.postInit();
 }
 }
 };
 this.internal = {};
 this.internal.initialized = function () {
 return $c.$1P;
 };
 this.internal.invokeEvent = this.$35;
 this.internal.eventMenuClick = this.$3b;
 this.internal.timeRangeMenuClick = this.$3f;
 this.internal.bubbleCallBack = this.$36;
 this.internal.findEventDiv = this.$3h;
 this.Init = this.init;
 this.$3z($b);
 };
 DayPilotMonth.register = function ($c) {
 if (!DayPilotMonth.registered) {
 DayPilotMonth.registered = [];
 }
 ;
 for (var i = 0; i < DayPilotMonth.registered.length; i++) {
 if (DayPilotMonth.registered[i] === $c) {
 return;
 }
 }
 ;
 DayPilotMonth.registered.push($c);
 };
 DayPilotMonth.unregister = function ($c) {
 var a = DayPilotMonth.registered;
 if (a) {
 var i = DayPilot.indexOf(a, $c);
 if (i !== -1) {
 a.splice(i, 1);
 }
 ;
 if (a.length === 0) {
 a = null;
 }
 }
 ;
 if (!a) {
 DayPilot.ue(document, 'mouseup', DayPilotMonth.gMouseUp);
 DayPilotMonth.globalHandlers = false;
 }
 };
 DayPilotMonth.gMouseUp = function (ev) {
 if (DayPilotMonth.movingEvent) {
 var $0a = DayPilotMonth.movingEvent;
 DayPilotMonth.movingEvent = null;
 if (!$0a.event || !$0a.event.calendar || !$0a.event.calendar.shadow || !$0a.event.calendar.shadow.start) {
 return;
 }
 ;
 var $c = $0a.event.calendar;
 var e = $0a.event;
 var $0b = $c.shadow.start;
 var $0c = $c.shadow.position;
 var $C = $0a.offset;
 $c.$2k();
 var ev = ev || window.event;
 $c.$2C(e, $0b.x, $0b.y, $C, ev, $0c);
 ev.cancelBubble = true;
 if (ev.stopPropagation) {
 ev.stopPropagation();
 }
 ;
 return false;
 } else if (DayPilotMonth.resizingEvent) {
 var $0a = DayPilotMonth.resizingEvent;
 DayPilotMonth.resizingEvent = null;
 if (!$0a.event || !$0a.event.calendar || !$0a.event.calendar.shadow || !$0a.event.calendar.shadow.start) {
 return;
 }
 ;
 var $c = $0a.event.calendar;
 var e = $0a.event;
 var $0b = $c.shadow.start;
 var $B = $c.shadow.width;
 $c.$2k();
 $c.$3d(e, $0b, $B);
 ev.cancelBubble = true;
 return false;
 } else if (DayPilotMonth.timeRangeSelecting) {
 if (DayPilotMonth.timeRangeSelecting.moved) {
 var $0d = DayPilotMonth.timeRangeSelecting;
 var $c = $0d.root;
 var $0b = new DayPilot.Date($c.$2l($0d.from.x, $0d.from.y));
 var end = $0b.addDays($0d.width);
 $c.$2D($0b, end);
 }
 ;
 DayPilotMonth.timeRangeSelecting = null;
 }
 };
 DayPilot.MonthVisible.Month = DayPilotMonth.Month;
 if (typeof jQuery !== 'undefined') {
 (function ($) {
 $.fn.daypilotMonth = function ($b) {
 var $1H = null;
 var j = this.each(function () {
 if (this.daypilot) {
 return;
 }
 ;
 var $1I = new DayPilot.Month(this.id, $b);
 $1I.init();
 this.daypilot = $1I;
 if (!$1H) {
 $1H = $1I;
 }
 });
 if (this.length === 1) {
 return $1H;
 } else {
 return j;
 }
 };
 })(jQuery);
 }
 ;
 (function registerAngularModule() {
 var $1J = DayPilot.am();
 if (!$1J) {
 return;
 }
 ;
 $1J.directive("daypilotMonth", function () {
 return {
 "restrict": "E", "template": "<div></div>", "replace": true, "link": function ($1K, element, $1L) {
 var $c = new DayPilot.Month(element[0]);
 $c.$2I.scope = $1K;
 $c.init();
 var $1M = $1L["id"];
 if ($1M) {
 $1K[$1M] = $c;
 }
 ;
 var $1N = $1K["$watch"];
 $1N.call($1K, $1L["daypilotConfig"], function ($1O) {
 for (var name in $1O) {
 $c[name] = $1O[name];
 }
 ;
 $c.update();
 });
 $1N.call($1K, $1L["daypilotEvents"], function ($1O) {
 $c.events.list = $1O;
 $c.$3t({"eventsOnly": true});
 }, true);
 }
 };
 });
 })();
 if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
 Sys.Application.notifyScriptLoaded();
 }
 })();
 */

if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;

 if (typeof DayPilotNavigator === 'undefined') {
 var DayPilotNavigator = DayPilot.NavigatorVisible = {};
 }
 ;
 (function () {
 if (typeof DayPilot.Navigator !== 'undefined') {
 return;
 }
 ;
 DayPilotNavigator = {};
 DayPilot.Navigator = function (id, $a) {
 this.v = '1204';
 var $b = this;
 this.id = id;
 this.api = 2;
 this.isNavigator = true;
 this.weekStarts = 'Auto';
 this.selectMode = 'day';
 this.titleHeight = 20;
 this.dayHeaderHeight = 20;
 this.cellWidth = 20;
 this.cellHeight = 20;
 this.cssOnly = true;
 this.cssClassPrefix = "navigator_default";
 this.selectionStart = new DayPilot.Date().getDatePart();
 this.selectionEnd = null;
 this.selectionDay = null;
 this.showMonths = 1;
 this.skipMonths = 1;
 this.command = "navigate";
 this.year = new DayPilot.Date().getYear();
 this.month = new DayPilot.Date().getMonth() + 1;
 this.showWeekNumbers = false;
 this.weekNumberAlgorithm = 'Auto';
 this.rowsPerMonth = 'Six';
 this.orientation = "Vertical";
 this.locale = "en-us";
 this.timeRangeSelectedHandling = "Bind";
 this.visibleRangeChangedHandling = "Enabled";
 this.$09 = function () {
 this.root.dp = this;
 if (this.cssOnly) {
 this.root.className = this.$0a('_main');
 } else {
 this.root.className = this.$0a('main');
 }
 ;
 if (this.orientation === "Horizontal") {
 this.root.style.width = this.showMonths * (this.cellWidth * 7 + this.$0b()) + 'px';
 this.root.style.height = (this.cellHeight * 6 + this.titleHeight + this.dayHeaderHeight) + 'px';
 } else {
 this.root.style.width = (this.cellWidth * 7 + this.$0b()) + 'px';
 }
 ;
 this.root.style.position = "relative";
 var $c = document.createElement("input");
 $c.type = 'hidden';
 $c.name = $b.id + "_state";
 $c.id = $c.name;
 this.root.appendChild($c);
 this.state = $c;
 if (!this.startDate) {
 this.startDate = new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year, this.month));
 } else {
 this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth();
 }
 ;
 this.calendars = [];
 this.selected = [];
 this.months = [];
 };
 this.$0c = function () {
 return $b.api === 2;
 };
 this.$0d = function () {
 this.root.innerHTML = '';
 };
 this.$0a = function ($d) {
 var $e = this.theme || this.cssClassPrefix;
 if ($e) {
 return $e + $d;
 } else {
 return "";
 }
 };
 this.$0e = function ($f, name) {
 var $g = this.cssOnly ? this.$0a("_" + name) : this.$0a(name);
 DayPilot.Util.addClass($f, $g);
 };
 this.$0f = function ($f, name) {
 var $g = this.cssOnly ? this.$0a("_" + name) : this.$0a(name);
 DayPilot.Util.removeClass($f, $g);
 };
 this.$0g = function (j, $h) {
 var $i = {};
 $i.cells = [];
 $i.days = [];
 $i.weeks = [];
 var $j = this.startDate.addMonths(j);
 var $k = $h.before;
 var $l = $h.after;
 var $m = $j.firstDayOfMonth();
 var $n = $m.firstDayOfWeek($o.weekStarts());
 var $p = $m.addMonths(1);
 var $q = DayPilot.Date.daysDiff($n.d, $p.d);
 var $r = (this.rowsPerMonth === "Auto") ? Math.ceil($q / 7) : 6;
 $i.rowCount = $r;
 var $s = (new DayPilot.Date()).getDatePart();
 var $t = this.cellWidth * 7 + this.$0b();
 var $u = this.cellHeight * $r + this.titleHeight + this.dayHeaderHeight;
 $i.height = $u;
 var $v = document.createElement("div");
 $v.style.width = ($t) + 'px';
 $v.style.height = ($u) + 'px';
 if (this.orientation === "Horizontal") {
 $v.style.position = "absolute";
 $v.style.left = ($t * j) + "px";
 $v.style.top = "0px";
 } else {
 $v.style.position = 'relative';
 }
 ;
 if (this.cssOnly) {
 $v.className = this.$0a('_month');
 } else {
 $v.className = this.$0a('month');
 }
 ;
 $v.style.cursor = 'default';
 $v.style.MozUserSelect = 'none';
 $v.style.KhtmlUserSelect = 'none';
 $v.style.WebkitUserSelect = 'none';
 $v.month = $i;
 this.root.appendChild($v);
 var $w = this.titleHeight + this.dayHeaderHeight;
 var tl = document.createElement("div");
 tl.style.position = 'absolute';
 tl.style.left = '0px';
 tl.style.top = '0px';
 tl.style.width = this.cellWidth + 'px';
 tl.style.height = this.titleHeight + 'px';
 tl.style.lineHeight = this.titleHeight + 'px';
 tl.style.textAlign = 'left';
 tl.setAttribute("unselectable", "on");
 if (this.cssOnly) {
 tl.className = this.$0a('_titleleft');
 } else {
 tl.className = this.$0a('titleleft');
 }
 ;
 if ($h.left) {
 tl.style.cursor = 'pointer';
 tl.innerHTML = "<span style='margin-left:2px;'>&lt;</span>";
 tl.onclick = this.$0h;
 }
 ;
 $v.appendChild(tl);
 this.tl = tl;
 var ti = document.createElement("div");
 ti.style.position = 'absolute';
 ti.style.left = this.cellWidth + 'px';
 ti.style.top = '0px';
 ti.style.width = (this.cellWidth * 5 + this.$0b()) + 'px';
 ti.style.height = this.titleHeight + 'px';
 ti.style.lineHeight = this.titleHeight + 'px';
 ti.style.textAlign = 'center';
 ti.setAttribute("unselectable", "on");
 if (this.cssOnly) {
 ti.className = this.$0a('_title');
 } else {
 ti.className = this.$0a('title');
 }
 ;
 ti.innerHTML = $o.locale().monthNames[$j.getMonth()] + ' ' + $j.getYear();
 $v.appendChild(ti);
 this.ti = ti;
 var tr = document.createElement("div");
 tr.style.position = 'absolute';
 tr.style.left = (this.cellWidth * 6 + this.$0b()) + 'px';
 tr.style.top = '0px';
 tr.style.width = this.cellWidth + 'px';
 tr.style.height = this.titleHeight + 'px';
 tr.style.lineHeight = this.titleHeight + 'px';
 tr.style.textAlign = 'right';
 tr.setAttribute("unselectable", "on");
 if (this.cssOnly) {
 tr.className = this.$0a('_titleright');
 } else {
 tr.className = this.$0a('titleright');
 }
 ;
 if ($h.right) {
 tr.style.cursor = 'pointer';
 tr.innerHTML = "<span style='margin-right:2px;'>&gt;</span>";
 tr.onclick = this.$0i;
 }
 ;
 $v.appendChild(tr);
 this.tr = tr;
 var $x = this.$0b();
 if (this.showWeekNumbers) {
 for (var y = 0; y < $r; y++) {
 var $y = $n.addDays(y * 7);
 var $z = null;
 switch (this.weekNumberAlgorithm) {
 case "Auto":
 $z = ($o.weekStarts() === 0) ? $y.weekNumber() : $y.weekNumberISO();
 break;
 case "US":
 $z = $y.weekNumber();
 break;
 case "ISO8601":
 $z = $y.weekNumberISO();
 break;
 default:
 throw "Unknown weekNumberAlgorithm value.";
 }
 ;
 var dh = document.createElement("div");
 dh.style.position = 'absolute';
 dh.style.left = (0) + 'px';
 dh.style.top = (y * this.cellHeight + $w) + 'px';
 dh.style.width = this.cellWidth + 'px';
 dh.style.height = this.cellHeight + 'px';
 dh.style.lineHeight = this.cellHeight + 'px';
 dh.style.textAlign = 'right';
 dh.setAttribute("unselectable", "on");
 if (this.cssOnly) {
 dh.className = this.$0a('_weeknumber');
 } else {
 dh.className = this.$0a('weeknumber');
 }
 ;
 dh.innerHTML = "<span style='margin-right: 2px'>" + $z + "</span>";
 $v.appendChild(dh);
 $i.weeks.push(dh);
 }
 }
 ;
 for (var x = 0; x < 7; x++) {
 $i.cells[x] = [];
 var dh = document.createElement("div");
 dh.style.position = 'absolute';
 dh.style.left = (x * this.cellWidth + $x) + 'px';
 dh.style.top = this.titleHeight + 'px';
 dh.style.width = this.cellWidth + 'px';
 dh.style.height = this.dayHeaderHeight + 'px';
 dh.style.lineHeight = this.dayHeaderHeight + 'px';
 dh.style.textAlign = 'right';
 dh.setAttribute("unselectable", "on");
 if (this.cssOnly) {
 dh.className = this.$0a('_dayheader');
 } else {
 dh.className = this.$0a('dayheader');
 }
 ;
 dh.innerHTML = "<span style='margin-right: 2px'>" + this.$0j(x) + "</span>";
 $v.appendChild(dh);
 $i.days.push(dh);
 for (var y = 0; y < $r; y++) {
 var $y = $n.addDays(y * 7 + x);
 var $A = this.$0k($y) && this.selectMode !== 'none';
 var $B = $y.getMonth() === $j.getMonth();
 var $C = $y.getTime() < $j.getTime();
 var $D = $y.getTime() > $j.getTime();
 var $E;
 var dc = document.createElement("div");
 dc.day = $y;
 dc.x = x;
 dc.y = y;
 dc.isCurrentMonth = $B;
 if (this.cssOnly) {
 dc.className = this.$0a(($B ? '_day' : '_dayother'));
 } else {
 dc.className = this.$0a(($B ? 'day' : 'dayother'));
 }
 ;
 if ($y.getTime() === $s.getTime() && $B) {
 this.$0e(dc, 'today');
 }
 ;
 if ($y.dayOfWeek() === 0 || $y.dayOfWeek() === 6) {
 this.$0e(dc, 'weekend');
 }
 ;
 dc.style.position = 'absolute';
 dc.style.left = (x * this.cellWidth + $x) + 'px';
 dc.style.top = (y * this.cellHeight + $w) + 'px';
 dc.style.width = this.cellWidth + 'px';
 dc.style.height = this.cellHeight + 'px';
 dc.style.lineHeight = this.cellHeight + 'px';
 dc.style.textAlign = 'right';
 var $F = document.createElement("div");
 $F.style.position = 'absolute';
 if (this.cssOnly) {
 $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0a('_todaybox') : this.$0a('_daybox');
 } else {
 $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0a('todaybox') : this.$0a('daybox');
 }
 ;
 $F.style.left = '0px';
 $F.style.top = '0px';
 $F.style.width = (this.cellWidth - 2) + 'px';
 $F.style.height = (this.cellHeight - 2) + 'px';
 dc.appendChild($F);
 var $G = null;
 if (this.cells && this.cells[$y.toStringSortable()]) {
 $G = this.cells[$y.toStringSortable()];
 if ($G.css) {
 this.$0e(dc, $G.css);
 }
 }
 ;
 var $H = null;
 if ($B || ($k && $C) || ($l && $D)) {
 $H = document.createElement("span");
 $H.innerHTML = $y.getDay();
 dc.style.cursor = 'pointer';
 dc.isClickable = true;
 if ($A) {
 this.$0e(dc, 'select');
 }
 ;
 if ($G && $G.html) {
 $H.innerHTML = $G.html;
 }
 ;
 $H.style.marginRight = '2px';
 dc.appendChild($H);
 }
 ;
 dc.setAttribute("unselectable", "on");
 dc.onclick = this.$0l;
 dc.onmousedown = this.$0m;
 dc.onmousemove = this.$0n;
 if ($A) {
 this.selected.push(dc);
 }
 ;
 $v.appendChild(dc);
 $i.cells[x][y] = dc;
 }
 }
 ;
 var $I = document.createElement("div");
 $I.style.position = 'absolute';
 $I.style.left = '0px';
 $I.style.top = ($w - 2) + 'px';
 $I.style.width = (this.cellWidth * 7 + this.$0b()) + 'px';
 $I.style.height = '1px';
 $I.style.fontSize = '1px';
 $I.style.lineHeight = '1px';
 if (this.cssOnly) {
 $I.className = this.$0a("_line");
 } else {
 $I.className = this.$0a("line");
 }
 ;
 $v.appendChild($I);
 this.months.push($i);
 };
 this.$0b = function () {
 if (this.showWeekNumbers) {
 return this.cellWidth;
 }
 ;
 return 0;
 };
 this.$0o = function () {
 if (!this.items) {
 return;
 }
 ;
 for (var j = 0; j < this.showMonths; j++) {
 for (var x = 0; x < 7; x++) {
 for (var y = 0; y < 6; y++) {
 var $G = this.months[j].cells[x][y];
 if (!$G) {
 continue;
 }
 ;
 if (this.items[$G.day.toStringSortable()] === 1) {
 this.$0e($G, 'busy');
 } else {
 this.$0f($G, 'busy');
 }
 }
 }
 }
 };
 this.$0p = function () {
 var s = {};
 s.startDate = $b.startDate;
 s.selectionStart = $b.selectionStart;
 s.selectionEnd = $b.selectionEnd.addDays(1);
 $b.state.value = DayPilot.JSON.stringify(s);
 };
 this.$0q = function () {
 switch (this.selectMode) {
 case 'day':
 this.selectionEnd = this.selectionStart;
 break;
 case 'week':
 this.selectionStart = this.selectionStart.firstDayOfWeek($o.weekStarts());
 this.selectionEnd = this.selectionStart.addDays(6);
 break;
 case 'month':
 this.selectionStart = this.selectionStart.firstDayOfMonth();
 this.selectionEnd = this.selectionStart.lastDayOfMonth();
 break;
 case 'none':
 this.selectionEnd = this.selectionStart;
 break;
 default:
 throw "Unkown selectMode value.";
 }
 };
 this.select = function ($J) {
 var $K = true;
 var $L = this.selectionStart;
 var $M = this.selectionEnd;
 this.selectionStart = new DayPilot.Date($J).getDatePart();
 this.selectionDay = this.selectionStart;
 var $N = false;
 if ($K) {
 var $O = this.startDate;
 if (this.selectionStart.getTime() < this.visibleStart().getTime() || this.selectionStart.getTime() > this.visibleEnd().getTime()) {
 $O = this.selectionStart.firstDayOfMonth();
 }
 ;
 if ($O.toStringSortable() !== this.startDate.toStringSortable()) {
 $N = true;
 }
 ;
 this.startDate = $O;
 }
 ;
 this.$0q();
 this.$0d();
 this.$09();
 this.$0r();
 this.$0o();
 this.$0p();
 if (!$L.equals(this.selectionStart) || !$M.equals(this.selectionEnd)) {
 this.$0s();
 }
 ;
 if ($N) {
 this.$0t();
 }
 };
 this.update = function () {
 this.$0d();
 this.$09();
 this.$0r();
 this.$0u();
 this.$0o();
 this.$0p();
 };
 this.$0v = function ($P, $Q, $R) {
 var $S = {};
 $S.action = $P;
 $S.parameters = $R;
 $S.data = $Q;
 $S.header = this.$0w();
 var $T = "JSON" + DayPilot.JSON.stringify($S);
 var $U = null;
 if (this.backendUrl) {
 DayPilot.request(this.backendUrl, this.$0x, $T, this.$0y);
 } else {
 WebForm_DoCallback(this.uniqueID, $T, this.$0z, $U, this.callbackError, true);
 }
 };
 this.$0y = function ($V) {
 if (typeof $b.onAjaxError === 'function') {
 var $W = {};
 $W.request = $V;
 $b.onAjaxError($W);
 } else if (typeof $b.ajaxError === 'function') {
 $b.ajaxError($V);
 }
 };
 this.$0x = function ($X) {
 $b.$0z($X.responseText);
 };
 this.$0A = function ($P, $Q, $R) {
 var $S = {};
 $S.action = $P;
 $S.parameters = $R;
 $S.data = $Q;
 $S.header = this.$0w();
 var $T = "JSON" + DayPilot.JSON.stringify($S);
 __doPostBack($b.uniqueID, $T);
 };
 this.$0w = function () {
 var h = {};
 h.v = this.v;
 h.startDate = this.startDate;
 h.selectionStart = this.selectionStart;
 return h;
 };
 this.$0B = function ($P, $Q) {
 if ($P === 'refresh') {
 this.$0t();
 }
 };
 this.$0j = function (i) {
 var x = i + $o.weekStarts();
 if (x > 6) {
 x -= 7;
 }
 ;
 return $o.locale().dayNamesShort[x];
 };
 this.$0k = function ($J) {
 if (this.selectionStart === null || this.selectionEnd === null) {
 return false;
 }
 ;
 if (this.selectionStart.getTime() <= $J.getTime() && $J.getTime() <= this.selectionEnd.getTime()) {
 return true;
 }
 ;
 return false;
 };
 this.$0m = function (ev) {
 };
 this.$0n = function (ev) {
 };
 this.$0l = function (ev) {
 var $i = this.parentNode.month;
 var x = this.x;
 var y = this.y;
 var $y = $i.cells[x][y].day;
 if (!$i.cells[x][y].isClickable) {
 return;
 }
 ;
 $b.clearSelection();
 $b.selectionDay = $y;
 var $y = $b.selectionDay;
 switch ($b.selectMode) {
 case 'none':
 $b.selectionStart = $y;
 $b.selectionEnd = $y;
 break;
 case 'day':
 var s = $i.cells[x][y];
 $b.$0e(s, 'select');
 $b.selected.push(s);
 $b.selectionStart = s.day;
 $b.selectionEnd = s.day;
 break;
 case 'week':
 for (var j = 0; j < 7; j++) {
 $b.$0e($i.cells[j][y], 'select');
 $b.selected.push($i.cells[j][y]);
 }
 ;
 $b.selectionStart = $i.cells[0][y].day;
 $b.selectionEnd = $i.cells[6][y].day;
 break;
 case 'month':
 var $Y = null;
 var end = null;
 for (var y = 0; y < 6; y++) {
 for (var x = 0; x < 7; x++) {
 var s = $i.cells[x][y];
 if (!s) {
 continue;
 }
 ;
 if (s.day.getYear() === $y.getYear() && s.day.getMonth() === $y.getMonth()) {
 $b.$0e(s, 'select');
 $b.selected.push(s);
 if ($Y === null) {
 $Y = s.day;
 }
 ;
 end = s.day;
 }
 }
 }
 ;
 $b.selectionStart = $Y;
 $b.selectionEnd = end;
 break;
 default:
 throw 'unknown selectMode';
 }
 ;
 $b.$0p();
 $b.$0s();
 };
 this.$0s = function () {
 var $Y = $b.selectionStart;
 var end = $b.selectionEnd.addDays(1);
 var $q = DayPilot.Date.daysDiff($Y.d, end.d);
 var $y = $b.selectionDay;
 if ($b.$0c()) {
 var $W = {};
 $W.start = $Y;
 $W.end = end;
 $W.day = $y;
 $W.days = $q;
 $W.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $b.onTimeRangeSelect === 'function') {
 $b.onTimeRangeSelect($W);
 if ($W.preventDefault.value) {
 return;
 }
 }
 ;
 switch ($b.timeRangeSelectedHandling) {
 case 'Bind':
 var $Z = eval($b.bound);
 if ($Z) {
 var $00 = {};
 $00.start = $Y;
 $00.end = end;
 $00.days = $q;
 $00.day = $y;
 $Z.commandCallBack($b.command, $00);
 }
 ;
 break;
 case 'None':
 break;
 case 'PostBack':
 $b.timeRangeSelectedPostBack($Y, end, $y);
 break;
 }
 ;
 if (typeof $b.onTimeRangeSelected === 'function') {
 $b.onTimeRangeSelected($W);
 }
 } else {
 switch ($b.timeRangeSelectedHandling) {
 case 'Bind':
 var $Z = eval($b.bound);
 if ($Z) {
 var $00 = {};
 $00.start = $Y;
 $00.end = end;
 $00.days = $q;
 $00.day = $y;
 $Z.commandCallBack($b.command, $00);
 }
 ;
 break;
 case 'JavaScript':
 $b.onTimeRangeSelected($Y, end, $y);
 break;
 case 'None':
 break;
 case 'PostBack':
 $b.timeRangeSelectedPostBack($Y, end, $y);
 break;
 }
 }
 };
 this.timeRangeSelectedPostBack = function ($Y, end, $Q, $y) {
 var $01 = {};
 $01.start = $Y;
 $01.end = end;
 $01.day = $y;
 this.$0A('TimeRangeSelected', $Q, $01);
 };
 this.$0i = function (ev) {
 $b.$0C($b.skipMonths);
 };
 this.$0h = function (ev) {
 $b.$0C(-$b.skipMonths);
 };
 this.$0C = function (i) {
 this.startDate = this.startDate.addMonths(i);
 this.$0d();
 this.$09();
 this.$0r();
 this.$0p();
 this.$0t();
 this.$0o();
 };
 this.visibleStart = function () {
 return $b.startDate.firstDayOfMonth().firstDayOfWeek($o.weekStarts());
 };
 this.visibleEnd = function () {
 return $b.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek($o.weekStarts()).addDays(42);
 };
 this.$0t = function () {
 var $Y = this.visibleStart();
 var end = this.visibleEnd();
 if ($b.$0c()) {
 var $W = {};
 $W.start = $Y;
 $W.end = end;
 $W.preventDefault = function () {
 this.preventDefault.value = true;
 };
 if (typeof $b.onVisibleRangeChange === 'function') {
 $b.onVisibleRangeChange($W);
 if ($W.preventDefault.value) {
 return;
 }
 }
 ;
 switch (this.visibleRangeChangedHandling) {
 case "CallBack":
 this.visibleRangeChangedCallBack(null);
 break;
 case "PostBack":
 this.visibleRangeChangedPostBack(null);
 break;
 case "Disabled":
 break;
 }
 ;
 if (typeof $b.onVisibleRangeChanged === 'function') {
 $b.onVisibleRangeChanged($W);
 }
 } else {
 switch (this.visibleRangeChangedHandling) {
 case "CallBack":
 this.visibleRangeChangedCallBack(null);
 break;
 case "PostBack":
 this.visibleRangeChangedPostBack(null);
 break;
 case "JavaScript":
 this.onVisibleRangeChanged($Y, end);
 break;
 case "Disabled":
 break;
 }
 }
 };
 this.visibleRangeChangedCallBack = function ($Q) {
 var $R = {};
 this.$0v("Visible", $Q, $R);
 };
 this.visibleRangeChangedPostBack = function ($Q) {
 var $R = {};
 this.$0A("Visible", $Q, $R);
 };
 this.$0z = function ($02, $U) {
 var $02 = eval("(" + $02 + ")");
 $b.items = $02.Items;
 $b.cells = $02.Cells;
 $b.$0o();
 };
 this.$0r = function () {
 for (var j = 0; j < this.showMonths; j++) {
 var $h = this.$0D(j);
 this.$0g(j, $h);
 }
 ;
 this.root.style.height = this.$0E() + "px";
 };
 this.$0E = function () {
 if (this.orientation === "Horizontal") {
 var $03 = 0;
 for (var i = 0; i < this.months.length; i++) {
 var $i = this.months[i];
 if ($i.height > $03) {
 $03 = $i.height;
 }
 }
 ;
 return $03;
 } else {
 var $04 = 0;
 for (var i = 0; i < this.months.length; i++) {
 var $i = this.months[i];
 $04 += $i.height;
 }
 ;
 return $04;
 }
 };
 this.$0D = function (j) {
 if (this.internal.showLinks) {
 return this.internal.showLinks;
 }
 ;
 var $h = {};
 $h.left = (j === 0);
 $h.right = (j === 0);
 $h.before = j === 0;
 $h.after = j === this.showMonths - 1;
 if (this.orientation === "Horizontal") {
 $h.right = (j === this.showMonths - 1);
 }
 ;
 return $h;
 };
 this.internal = {};
 this.internal.initialized = function () {
 return $b.$0F;
 };
 this.$0G = {};
 var $o = this.$0G;
 $o.locale = function () {
 return DayPilot.Locale.find($b.locale);
 };
 $o.weekStarts = function () {
 if ($b.weekStarts === 'Auto') {
 var $05 = $o.locale();
 if ($05) {
 return $05.weekStarts;
 } else {
 return 0;
 }
 } else {
 return $b.weekStarts;
 }
 };
 this.clearSelection = function () {
 for (var j = 0; j < this.selected.length; j++) {
 this.$0f(this.selected[j], 'select');
 }
 ;
 this.selected = [];
 };
 this.$0H = function () {
 if (this.backendUrl || typeof WebForm_DoCallback === 'function') {
 return (typeof $b.items === 'undefined') || (!$b.items);
 } else {
 return false;
 }
 };
 this.events = {};
 this.$0u = function () {
 if (!DayPilot.isArray(this.events.list)) {
 return;
 }
 ;
 this.items = {};
 for (var i = 0; i < this.events.list.length; i++) {
 var e = this.events.list[i];
 var $q = this.$0I(e);
 for (var name in $q) {
 this.items[name] = 1;
 }
 }
 };
 this.$0I = function (e) {
 var $Y = new DayPilot.Date(e.start);
 var end = new DayPilot.Date(e.end);
 var $q = {};
 var d = $Y.getDatePart();
 while (d.getTime() < end.getTime()) {
 $q[d.toStringSortable()] = 1;
 d = d.addDays(1);
 }
 ;
 return $q;
 };
 this.init = function () {
 this.root = document.getElementById(id);
 if (!this.root) {
 throw "DayPilot.Navigator.init(): The placeholder element not found: '" + id + "'.";
 }
 ;
 if (this.root.dp) {
 return;
 }
 ;
 this.$0q();
 this.$09();
 this.$0r();
 this.$0u();
 this.$0o();
 this.$0J();
 var $06 = this.$0H();
 if ($06) {
 this.$0t();
 }
 ;
 this.$0F = true;
 };
 this.dispose = function () {
 var c = $b;
 if (!c.root) {
 return;
 }
 ;
 c.root.removeAttribute("style");
 c.root.removeAttribute("class");
 c.root.dp = null;
 c.root.innerHTML = null;
 c.root = null;
 };
 this.$0J = function () {
 var $07 = document.getElementById(id);
 $07.dispose = this.dispose;
 };
 this.Init = this.init;
 };
 DayPilot.NavigatorVisible.Navigator = DayPilotNavigator.Navigator;
 if (typeof jQuery !== 'undefined') {
 (function ($) {
 $.fn.daypilotNavigator = function ($a) {
 var $n = null;
 var j = this.each(function () {
 if (this.daypilot) {
 return;
 }
 ;
 var $08 = new DayPilot.Navigator(this.id);
 this.daypilot = $08;
 for (var name in $a) {
 $08[name] = $a[name];
 }
 ;
 $08.Init();
 if (!$n) {
 $n = $08;
 }
 });
 if (this.length === 1) {
 return $n;
 } else {
 return j;
 }
 };
 })(jQuery);
 }
 ;
 if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
 Sys.Application.notifyScriptLoaded();
 }
 })();



if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
if (typeof DayPilotScheduler === 'undefined') {
  var DayPilotScheduler = DayPilot.SchedulerVisible = {};
}
;
(function () {
  if (typeof DayPilot.Scheduler !== 'undefined') {
    return;
  }
  ;
  var $a = (function () {
    var $b = navigator.userAgent;
    return (($b.indexOf('Mozilla/5.0') > -1 && $b.indexOf('Android ') > -1 && $b.indexOf('AppleWebKit') > -1) && !($b.indexOf('Chrome') > -1));
  })();
  var DayPilotScheduler = {};
  var $c = function () {
  };
  DayPilot.Scheduler = function (id, $d) {
    this.v = '1204';
    var $e = this;
    this.id = id;
    this.isScheduler = true;
    this.hideUntilInit = true;
    this.api = 2;
    this.allowEventOverlap = true;
    this.allowMultiSelect = true;
    this.autoRefreshCommand = 'refresh';
    this.autoRefreshEnabled = false;
    this.autoRefreshInterval = 60;
    this.autoRefreshMaxCount = 20;
    this.autoScroll = "Drag";
    this.blockOnCallBack = false;
    this.borderColor = "#000000";
    this.businessBeginsHour = 9;
    this.businessEndsHour = 18;
    this.cellBackColor = "#FFFFD5";
    this.cellBackColorNonBusiness = "#FFF4BC";
    this.cellBorderColor = "#EAD098";
    this.cellDuration = 60;
    this.cellGroupBy = 'Day';
    this.cellSelectColor = "#316AC5";
    this.cellWidth = 40;
    this.cellWidthSpec = "Fixed";
    this.groupConcurrentEvents = false;
    this.groupConcurrentEventsLimit = 1;
    this.groupAllEvents = false;
    this.$6R = true;
    this.cellSweeping = true;
    this.cellSweepingCacheSize = 1000;
    this.crosshairColor = 'Gray';
    this.crosshairOpacity = 20;
    this.crosshairType = 'Header';
    this.doubleClickTimeout = 300;
    this.dragOutAllowed = false;
    this.durationBarColor = 'blue';
    this.durationBarHeight = 3;
    this.durationBarVisible = true;
    this.durationBarMode = "Duration";
    this.$6S = false;
    this.days = 1;
    this.drawBlankCells = true;
    this.dynamicEventRendering = 'Progressive';
    this.dynamicEventRenderingMargin = 500;
    this.dynamicEventRenderingCacheSweeping = false;
    this.dynamicEventRenderingCacheSize = 200;
    this.dynamicLoading = false;
    this.eventBorderColor = "#000000";
    this.eventBorderVisible = true;
    this.eventBackColor = "#FFFFFF";
    this.eventEndSpec = "DateTime";
    this.eventFontFamily = "Tahoma, Arial";
    this.eventFontSize = '8pt';
    this.eventFontColor = '#000000';
    this.eventHeight = 25;
    this.eventMoveMargin = 5;
    this.eventMoveToPosition = false;
    this.eventResizeMargin = 5;
    this.$6T = false;
    this.headerFontColor = "#000000";
    this.headerFontFamily = "Tahoma, Arial";
    this.headerFontSize = '8pt';
    this.headerHeight = 20;
    this.heightSpec = 'Auto';
    this.hourFontFamily = "Tahoma, Arial";
    this.hourFontSize = '10pt';
    this.hourNameBackColor = "#ECE9D8";
    this.hourNameBorderColor = "#ACA899";
    this.layout = 'Auto';
    this.linkCreateHandling = "Disabled";
    this.linkBottomMargin = 10;
    this.locale = "en-us";
    this.loadingLabelText = "Loading...";
    this.loadingLabelVisible = true;
    this.loadingLabelBackColor = "orange";
    this.loadingLabelFontColor = "#ffffff";
    this.loadingLabelFontFamily = "Tahoma";
    this.loadingLabelFontSize = "10pt";
    this.messageHideAfter = 5000;
    this.moveBy = 'Full';
    this.notifyCommit = 'Immediate';
    this.numberFormat = "0.00";
    this.progressiveRowRendering = true;
    this.progressiveRowRenderingPreload = 25;
    this.timeHeaders = [{"groupBy": "Default"}, {"groupBy": "Cell"}];
    this.treePreventParentUsage = false;
    this.treeAutoExpand = true;
    this.rowHeaderHideIcon = true;
    this.rowHeaderWidth = 80;
    this.rowHeaderScrolling = false;
    this.rowHeaderSplitterWidth = 3;
    this.rowHeaderWidthAutoFit = true;
    this.rowHeaderCols = null;
    this.rowMarginBottom = 0;
    this.rowMinHeight = 0;
    this.scale = "CellDuration";
    this.scrollDelayDynamic = 500;
    this.scrollDelayEvents = 200;
    this.scrollDelayCells = 20;
    this.scrollDelayFloats = 0;
    this.scrollX = 0;
    this.scrollY = 0;
    this.shadow = "Fill";
    this.showBaseTimeHeader = true;
    this.showNonBusiness = true;
    this.showToolTip = true;
    this.snapToGrid = true;
    this.startDate = new DayPilot.Date().getDatePart();
    this.syncResourceTree = false;
    this.timeBreakColor = '#000000';
    this.treeEnabled = false;
    this.treeIndent = 20;
    this.treeImageMarginLeft = 5;
    this.treeImageMarginTop = 5;
    this.timeFormat = "Auto";
    this.useEventBoxes = 'Always';
    this.viewType = 'Resources';
    this.weekStarts = 'Auto';
    this.width = null;
    this.floatingEvents = true;
    this.floatingTimeHeaders = true;
    this.eventCorners = 'Regular';
    ;
    this.separators = [];
    this.cornerHtml = '';
    this.$6U = -1;
    this.$6V = -1;
    this.eventClickHandling = 'Enabled';
    this.eventDeleteHandling = "Disabled";
    this.eventHoverHandling = 'Bubble';
    this.eventDoubleClickHandling = 'Enabled';
    this.eventEditHandling = 'Update';
    this.eventMoveHandling = 'Update';
    this.eventResizeHandling = 'Update';
    this.eventRightClickHandling = 'ContextMenu';
    this.eventSelectHandling = 'Update';
    this.rowClickHandling = 'Enabled';
    this.rowDoubleClickHandling = "Enabled";
    this.rowEditHandling = 'Update';
    this.rowSelectHandling = 'Update';
    this.rowMoveHandling = "Disabled";
    this.timeRangeDoubleClickHandling = 'Enabled';
    this.timeRangeSelectedHandling = 'Enabled';
    this.eventMovingStartEndEnabled = false;
    this.eventMovingStartEndFormat = "MMMM d, yyyy";
    this.timeRangeSelectingStartEndEnabled = false;
    this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy";
    this.eventResizingStartEndEnabled = false;
    this.eventResizingStartEndFormat = "MMMM d, yyyy";
    this.cssOnly = true;
    this.cssClassPrefix = "scheduler_default";
    this.backendUrl = null;
    if ($e.api === 1) {
      this.onEventMove = function () {
      };
      this.onEventResize = function () {
      };
      this.onResourceExpand = function () {
      };
      this.onResourceCollapse = function () {
      };
    }
    ;
    this.onRowHeaderResized = null;
    this.autoRefreshCount = 0;
    this.$6W = 0;
    this.rowlist = [];
    this.itline = [];
    this.timeline = null;
    this.status = {};
    this.events = {};
    this.cells = {};
    this.elements = {};
    this.elements.events = [];
    this.elements.bars = [];
    this.elements.text = [];
    this.elements.cells = [];
    this.elements.linesVertical = [];
    this.elements.separators = [];
    this.elements.range = [];
    this.elements.breaks = [];
    this.elements.links = [];
    this.elements.linkpoints = [];
    this.$6X = {};
    this.$6X.cells = [];
    this.$6X.linesVertical = [];
    this.$6X.linesHorizontal = [];
    this.$6X.timeHeaderGroups = [];
    this.$6X.pixels = [];
    this.$6X.breaks = [];
    this.$6X.events = [];
    this.clientState = {};
    this.members = {};
    this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"];
    this.members.ignoreFilter = function (name) {
      if (name.indexOf("div") === 0) {
        return true;
      }
      ;
      return false;
    };
    this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader"];
    this.members.noCssOnly = ["borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cellSelectColor", "durationBarColor", "eventBackColor", "eventBorderColor", "eventBorderVisible", "eventCorners", "eventFontColor", "eventFontFamily", "eventFontSize", "headerFontColor", "headerFontFamily", "headerFontSize", "hourFontFamily", "hourFontSize", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "shadow", "timeBreakColor"];
    this.nav = {};
    this.$6Y = function ($f, $g) {
      var $f = eval("(" + $f + ")");
      if (typeof $e.onCallBackResult === "function") {
        var $h = {};
        $h.result = $f;
        $h.preventDefault = function () {
          $h.preventDefault.value = true;
        };
        $e.onCallBackResult($h);
        if ($h.preventDefault.value) {
          $e.$6Z();
          $e.$70();
          $e.$71();
          if ($f.Message) {
            if ($e.message) {
              $e.message($f.Message);
            }
          }
          ;
          $e.$72($f.CallBackData, true);
          $e.$73();
          $e.$74();
          return;
        }
      }
      ;
      if ($f.BubbleGuid) {
        var $i = $f.BubbleGuid;
        var $j = this.bubbles[$i];
        delete this.bubbles[$i];
        $e.$70();
        if (typeof $f.Result.BubbleHTML !== 'undefined') {
          $j.updateView($f.Result.BubbleHTML, $j);
        }
        ;
        $e.$73();
        return;
      }
      ;
      if ($f.CallBackRedirect) {
        document.location.href = $f.CallBackRedirect;
        return;
      }
      ;
      if (typeof DayPilot.Bubble !== "undefined") {
        DayPilot.Bubble.hideActive();
      }
      ;
      if (typeof $f.ClientState !== 'undefined') {
        if ($f.ClientState === null) {
          $e.clientState = {};
        } else {
          $e.clientState = $f.ClientState;
        }
      }
      ;
      if ($f.UpdateType === "None") {
        $e.$70();
        $e.$73();
        if ($f.Message) {
          $e.message($f.Message);
        }
        ;
        $e.$72($f.CallBackData, true);
        return;
      }
      ;
      if ($f.VsUpdate) {
        var $k = document.createElement("input");
        $k.type = 'hidden';
        $k.name = $e.id + "_vsupdate";
        $k.id = $k.name;
        $k.value = $f.VsUpdate;
        $e.$75.innerHTML = '';
        $e.$75.appendChild($k);
      }
      ;
      if (typeof $f.TagFields !== 'undefined') {
        $e.tagFields = $f.TagFields;
      }
      ;
      if (typeof $f.SortDirections !== 'undefined') {
        $e.sortDirections = $f.SortDirections;
      }
      ;
      $e.$6X.drawArea = null;
      if ($f.UpdateType === "Full") {
        $e.resources = $f.Resources;
        $e.colors = $f.Colors;
        $e.palette = $f.Palette;
        $e.dirtyColors = $f.DirtyColors;
        $e.cellProperties = $f.CellProperties;
        $e.cellConfig = $f.CellConfig;
        $e.separators = $f.Separators;
        $e.timeline = $f.Timeline;
        $e.timeHeader = $f.TimeHeader;
        $e.timeHeaders = $f.TimeHeaders;
        if (typeof $f.RowHeaderColumns !== 'undefined')$e.rowHeaderColumns = $f.RowHeaderColumns;
        $e.startDate = $f.StartDate ? new DayPilot.Date($f.StartDate) : $e.startDate;
        $e.days = $f.Days ? $f.Days : $e.days;
        $e.cellDuration = $f.CellDuration ? $f.CellDuration : $e.cellDuration;
        $e.cellGroupBy = $f.CellGroupBy ? $f.CellGroupBy : $e.cellGroupBy;
        $e.cellWidth = $f.CellWidth ? $f.CellWidth : $e.cellWidth;
        $e.viewType = $f.ViewType ? $f.ViewType : $e.viewType;
        $e.hourNameBackColor = $f.HourNameBackColor ? $f.HourNameBackColor : $e.hourNameBackColor;
        $e.showNonBusiness = $f.ShowNonBusiness ? $f.ShowNonBusiness : $e.showNonBusiness;
        $e.businessBeginsHour = $f.BusinessBeginsHour ? $f.BusinessBeginsHour : $e.businessBeginsHour;
        $e.businessEndsHour = $f.BusinessEndsHour ? $f.BusinessEndsHour : $e.businessEndsHour;
        if (typeof $f.DynamicLoading !== 'undefined')$e.dynamicLoading = $f.DynamicLoading;
        if (typeof $f.TreeEnabled !== 'undefined')$e.treeEnabled = $f.TreeEnabled;
        $e.backColor = $f.BackColor ? $f.BackColor : $e.backColor;
        $e.nonBusinessBackColor = $f.NonBusinessBackColor ? $f.NonBusinessBackColor : $e.nonBusinessBackColor;
        $e.locale = $f.Locale ? $f.Locale : $e.locale;
        if (typeof $f.TimeZone !== 'undefined')$e.timeZone = $f.TimeZone;
        $e.timeFormat = $f.TimeFormat ? $f.TimeFormat : $e.timeFormat;
        $e.rowHeaderCols = $f.RowHeaderCols ? $f.RowHeaderCols : $e.rowHeaderCols;
        if (typeof $f.DurationBarMode !== "undefined")$e.durationBarMode = $f.DurationBarMode;
        $e.cornerBackColor = $f.CornerBackColor ? $f.CornerBackColor : $e.cornerBackColor;
        if (typeof $f.CornerHTML !== 'undefined') {
          $e.cornerHtml = $f.CornerHTML;
        }
        ;
        $e.hashes = $f.Hashes;
        $e.$76();
        $e.$77();
        $e.$78();
        $e.$79();
      }
      ;
      var $l = [];
      if ($f.Action !== "Scroll") {
        $l = $e.$7a($f.Events);
      }
      ;
      if ($f.UpdateType === 'Full') {
        $e.$7b();
        $e.$7c();
      }
      ;
      $e.$7d();
      $e.$7e();
      $e.$6X.drawArea = null;
      if ($f.Action !== "Scroll") {
        $e.$7f();
        $e.$7g();
        if ($e.heightSpec === 'Auto' || $e.heightSpec === 'Max') {
          $e.$7h();
        }
        ;
        $e.$7i();
        $e.$7j();
        $e.$7k();
        $e.multiselect.clear(true);
        $e.multiselect.initList = $f.SelectedEvents;
        $e.$7l();
        $e.$7m();
        $e.$7n();
      } else {
        $e.multiselect.clear(true);
        $e.multiselect.initList = $f.SelectedEvents;
        $e.$7o($f.Events);
      }
      ;
      if ($e.timeRangeSelectedHandling !== "HoldForever") {
        $e.$7p();
      }
      ;
      if ($f.UpdateType === "Full") {
        $e.setScroll($f.ScrollX, $f.ScrollY);
        $e.$7q();
      }
      ;
      $e.$7r();
      $e.$6Z();
      $e.$70();
      if ($f.UpdateType === 'Full' && navigator.appVersion.indexOf("MSIE 7.") !== -1) {
        window.setTimeout(function () {
          $e.$7b();
          $e.$7h();
        }, 0);
      }
      ;
      $e.$71();
      if ($f.Message) {
        if ($e.message) {
          $e.message($f.Message);
        }
      }
      ;
      $e.$72($f.CallBackData, true);
      $e.$73();
      $e.$74();
    };
    this.$6Z = function () {
      if ($e.todo) {
        if ($e.todo.del) {
          var $m = $e.todo.del;
          $m.parentNode.removeChild($m);
          $e.todo.del = null;
        }
      }
    };
    this.$72 = function ($n, $o) {
      var $p = function ($n, $q) {
        return function () {
          if ($e.$7s()) {
            if (typeof $e.onAfterRender === 'function') {
              var $h = {};
              $h.isCallBack = $q;
              $h.data = $n;
              $e.onAfterRender($h);
            }
          } else {
            if ($e.afterRender) {
              $e.afterRender($n, $q);
            }
          }
        };
      };
      window.setTimeout($p($n, $o), 0);
    };
    this.scrollTo = function ($r) {
      var $s = this.getPixels(new DayPilot.Date($r)).left;
      this.setScrollX($s);
    };
    this.scrollToResource = function (id) {
      DayPilot.complete(function () {
        var $t = $e.$7t(id);
        if (!$t) {
          return;
        }
        ;
        setTimeout(function () {
          var scrollY = $t.top;
          $e.nav.scroll.scrollTop = scrollY;
        }, 100);
      });
    };
    this.$7u = function () {
      if (!this.cssOnly) {
        return;
      }
      ;
      if (!this.floatingTimeHeaders) {
        return;
      }
      ;
      if (!this.timeHeader) {
        return;
      }
      ;
      var $u = this.$7v();
      if (!$u) {
        return;
      }
      ;
      this.$7w();
      var $v = $u.pixels.left;
      var end = $u.pixels.right;
      var $w = [];
      for (var y = 0; y < this.timeHeader.length; y++) {
        for (var x = 0; x < this.timeHeader[y].length; x++) {
          var h = this.timeHeader[y][x];
          var $x = h.left;
          var $y = h.left + h.width;
          var $z = null;
          if ($x < $v && $v < $y) {
            $z = {};
            $z.x = x;
            $z.y = y;
            $z.marginLeft = $v - $x;
            $z.marginRight = 0;
            $z.div = this.$6X.timeHeader[x + "_" + y];
            $w.push($z);
          }
          ;
          if ($x < end && end < $y) {
            if (!$z) {
              $z = {};
              $z.x = x;
              $z.y = y;
              $z.marginLeft = 0;
              $z.div = this.$6X.timeHeader[x + "_" + y];
              $w.push($z);
            }
            ;
            $z.marginRight = $y - end;
            break;
          }
        }
      }
      ;
      for (var i = 0; i < $w.length; i++) {
        var $z = $w[i];
        this.$7x($z.div, $z.marginLeft, $z.marginRight);
      }
    };
    this.$7r = function () {
      this.$7u();
      this.$7y();
    };
    this.$7z = {};
    var $A = this.$7z;
    $A.events = function ($B) {
      var $C = [];
      var $B = $B || "All";
      var $u = $e.$7v();
      if (!$u) {
        return DayPilot.list($C);
      }
      ;
      var $v = $u.pixels.left;
      var end = $u.pixels.right;
      for (var i = 0; i < $e.elements.events.length; i++) {
        var e = $e.elements.events[i];
        var $n = e.event;
        var $x = $n.part.left;
        var $y = $n.part.left + $n.part.width;
        switch ($B) {
          case "Left":
            if ($x < $v && $v < $y) {
              $C.push(e);
            }
            ;
            break;
          case "All":
            if (DayPilot.Util.overlaps($x, $y, $v, end)) {
              $C.push(e);
            }
            ;
            break;
        }
      }
      ;
      return DayPilot.list($C, {"area": $u});
    };
    this.$7y = function () {
      if (!this.cssOnly) {
        return;
      }
      ;
      if (!this.floatingEvents) {
        return;
      }
      ;
      var $D = $A.events("Left");
      this.$7A();
      $D.each(function ($E) {
        var $x = $D.area.pixels.left;
        var $n = $E.event;
        var $v = $n.part.left;
        var $F = $x - $v;
        $e.$7B($E, $F, 0);
      });
    };
    this.elements.sections = [];
    this.elements.hsections = [];
    this.$7x = function ($G, $F, $H) {
      var $I = document.createElement("div");
      $I.setAttribute("unselectable", "on");
      $I.className = this.$7C("_timeheader_float");
      $I.style.position = "absolute";
      $I.style.left = $F + "px";
      $I.style.right = $H + "px";
      $I.style.top = "0px";
      $I.style.bottom = "0px";
      $I.style.overflow = "hidden";
      var $J = document.createElement("div");
      $J.className = this.$7C("_timeheader_float_inner");
      $J.setAttribute("unselectable", "on");
      $J.innerHTML = $G.cell.th.innerHTML;
      $I.appendChild($J);
      $G.section = $I;
      $G.insertBefore($I, $G.firstChild.nextSibling);
      $G.firstChild.innerHTML = '';
      this.elements.hsections.push($G);
    };
    this.$7w = function () {
      for (var i = 0; i < this.elements.hsections.length; i++) {
        var e = this.elements.hsections[i];
        var $n = e.cell;
        if ($n && e.firstChild) {
          e.firstChild.innerHTML = $n.th.innerHTML;
        }
        ;
        DayPilot.de(e.section);
        e.section = null;
      }
      ;
      this.elements.hsections = [];
    };
    this.$7B = function ($G, $F, $H) {
      var $I = document.createElement("div");
      $I.setAttribute("unselectable", "on");
      $I.className = this.$7C("_event_float");
      $I.style.position = "absolute";
      $I.style.left = $F + "px";
      $I.style.right = $H + "px";
      $I.style.top = "0px";
      $I.style.bottom = "0px";
      $I.style.overflow = "hidden";
      var $J = document.createElement("div");
      $J.className = this.$7C("_event_float_inner");
      $J.setAttribute("unselectable", "on");
      $J.innerHTML = $G.event.client ? $G.event.client.html() : '';
      $I.appendChild($J);
      $G.section = $I;
      $G.insertBefore($I, $G.firstChild.nextSibling);
      $G.firstChild.innerHTML = '';
      this.elements.sections.push($G);
    };
    this.$7A = function () {
      for (var i = 0; i < this.elements.sections.length; i++) {
        var e = this.elements.sections[i];
        var $n = e.event;
        if ($n) {
          e.firstChild.innerHTML = $n.client ? $n.client.html() :'';
        }
        ;
        DayPilot.de(e.section);
        e.section = null;
      }
      ;
      this.elements.sections = [];
    };
    this.setScrollX = function (scrollX) {
      this.setScroll(scrollX, $e.scrollY);
    };
    this.setScrollY = function (scrollY) {
      this.setScroll($e.scrollX, scrollY);
    };
    this.setScroll = function (scrollX, scrollY) {
      var scroll = $e.nav.scroll;
      var $K = $e.$6W;
      var $L = $e.$7D() * $e.cellWidth;
      if (scroll.clientWidth + scrollX > $L) {
        scrollX = $L - scroll.clientWidth;
      }
      ;
      if (scroll.clientHeight + scrollY > $K) {
        scrollY = $K - scroll.clientHeight;
      }
      ;
      $e.divTimeScroll.scrollLeft = scrollX;
      $e.divResScroll.scrollTop = scrollY;
      scroll.scrollLeft = scrollX;
      scroll.scrollTop = scrollY;
    };
    this.message = function ($M, $N, $O, $P) {
      if ($M === null) {
        return;
      }
      ;
      var $N = $N || this.messageHideAfter || 2000;
      var $O = $O || "#ffffff";
      var $P = $P || "#000000";
      var $Q = 0.8;
      var top = this.$7E() + 1;
      var $x = this.$7F() + $R.splitterWidth();
      var $y = DayPilot.sw($e.nav.scroll) + 1;
      var $S = DayPilot.sh($e.nav.scroll) + 1;
      var $G;
      if (!this.nav.message) {
        $G = document.createElement("div");
        $G.style.position = "absolute";
        $G.style.left = $x + "px";
        $G.style.right = $y + "px";
        $G.style.display = 'none';
        $G.onmousemove = function () {
          if ($e.messageTimeout) {
            clearTimeout($e.messageTimeout);
          }
        };
        $G.onmouseout = function () {
          if ($e.nav.message.style.display !== 'none') {
            $e.messageTimeout = setTimeout($e.$7G, 500);
          }
        };
        var $J = document.createElement("div");
        $J.onclick = function () {
          $e.nav.message.style.display = 'none';
        };
        if (!this.cssOnly) {
          $J.style.padding = "5px";
          $J.style.opacity = $Q;
          $J.style.filter = "alpha(opacity=" + ($Q * 100) + ")";
        } else {
          $J.className = this.$7C("_message");
        }
        ;
        $G.appendChild($J);
        var close = document.createElement("div");
        close.style.position = "absolute";
        if (!this.cssOnly) {
          close.style.top = "5px";
          close.style.right = (DayPilot.sw($e.nav.scroll) + 5) + "px";
          close.style.color = $O;
          close.style.lineHeight = "100%";
          close.style.cursor = "pointer";
          close.style.fontWeight = "bold";
          close.innerHTML = "X";
        } else {
          close.className = this.$7C("_message_close");
        }
        ;
        close.onclick = function () {
          $e.nav.message.style.display = 'none';
        };
        $G.appendChild(close);
        this.nav.top.appendChild($G);
        this.nav.message = $G;
      }
      ;
      var $T = function () {
        var $J = $e.nav.message.firstChild;
        if (!$e.cssOnly) {
          $J.style.backgroundColor = $P;
          $J.style.color = $O;
        }
        ;
        $J.innerHTML = $M;
        var $y = DayPilot.sw($e.nav.scroll) + 1;
        $e.nav.message.style.right = $y + "px";
        var $U = $e.messageBarPosition || "Top";
        if ($U === "Bottom") {
          $e.nav.message.style.bottom = $S + "px";
          $e.nav.message.style.top = "";
        } else if ($U === "Top") {
          $e.nav.message.style.bottom = "";
          $e.nav.message.style.top = top + "px";
        }
        ;
        var end = function () {
          $e.messageTimeout = setTimeout($e.$7G, $N);
        };
        DayPilot.fade($e.nav.message, 0.2, end);
      };
      clearTimeout($e.messageTimeout);
      if (this.nav.message.style.display !== 'none') {
        DayPilot.fade($e.nav.message, -0.2, $T);
      } else {
        $T();
      }
    };
    this.$7G = function () {
      if (!$e.nav.message) {
        return;
      }
      ;
      var end = function () {
        $e.nav.message.style.display = 'none';
      };
      DayPilot.fade($e.nav.message, -0.2, end);
    };
    this.message.show = function ($M) {
      $e.message($M);
    };
    this.message.hide = function () {
      $e.$7G();
    };
    this.$7h = function () {
      if (this.nav.scroll) {
        if (this.heightSpec === 'Parent100Pct') {
          this.height = parseInt(this.nav.top.clientHeight, 10) - (this.$7E() + 2);
        }
        ;
        var $V = this.$7H();
        var $W = 1;
        var $X = $V + this.$7E() + $W;
        if ($V >= 0) {
          this.nav.scroll.style.height = ($V) + 'px';
          this.$7I.style.height = ($V) + 'px';
        }
        ;
        if (this.nav.divider) {
          if (!$X || isNaN($X) || $X < 0) {
            $X = 0;
          }
          ;
          this.nav.divider.style.height = ($X) + "px";
        }
        ;
        if (this.heightSpec !== "Parent100Pct") {
          this.nav.top.style.height = ($X) + "px";
        }
        ;
        for (var i = 0; i < this.elements.separators.length; i++) {
          this.elements.separators[i].style.height = this.$6W + 'px';
        }
        ;
        for (var i = 0; i < this.elements.linesVertical.length; i++) {
          this.elements.linesVertical[i].style.height = this.$6W + 'px';
        }
      }
    };
    this.$77 = function () {
      this.startDate = new DayPilot.Date(this.startDate).getDatePart();
      this.endDate = (this.viewType !== 'Days') ? this.startDate.addDays(this.days) : this.startDate.addDays(1);
      this.$6X.pixels = [];
      this.itline = [];
      var $Y = this.cellWidthSpec === "Auto";
      var $Z = function () {
        if (!$Y) {
          return;
        }
        ;
        var $00 = 0;
        if ($e.timeHeader) {
          if ($e.timeline) {
            $00 = $e.timeline.length;
          } else {
            var $t = $e.timeHeader[$e.timeHeader.length - 1];
            $00 = $t.length;
          }
        } else {
          if ($e.scale === "Manual") {
            $00 = $e.timeline.length;
          } else {
            $e.$7J();
            $00 = $e.itline.length;
            $e.itline = [];
          }
        }
        ;
        var $01 = $e.$7K();
        if ($00 > 0 && $01 > 0) {
          $e.cellWidth = $01 / $00;
        }
        ;
        $e.debug.message("updated cellWidth: " + $e.cellWidth);
      };
      $Z();
      if (this.$7L()) {
        if (this.timeline) {
          $e.debug.message("timeline received from server");
          this.itline = [];
          var $02 = null;
          var $x = 0;
          for (var i = 0; i < this.timeline.length; i++) {
            var $03 = this.timeline[i];
            var $z = {};
            $z.start = new DayPilot.Date($03.start);
            $z.end = $03.end ? new DayPilot.Date($03.end) : $z.start.addMinutes(this.cellDuration);
            if (!$03.width) {
              var $y = Math.floor($x + this.cellWidth);
              var $01 = $y - Math.floor($x);
              $z.left = Math.floor($x);
              $z.width = $01;
              $x += this.cellWidth;
            } else {
              $z.left = $03.left || $x;
              $z.width = $03.width || this.cellWidth;
              $x += $z.width;
            }
            ;
            $z.breakBefore = $02 && $02.ticks !== $z.start.ticks;
            $02 = $z.end;
            this.itline.push($z);
          }
        }
        ;
        if ($Y) {
          this.$7M();
        }
      } else {
        this.timeHeader = [];
        if (this.scale === "Manual") {
          this.itline = [];
          var $x = 0;
          var $02 = null;
          for (var i = 0; i < this.timeline.length; i++) {
            var $03 = this.timeline[i];
            var $z = {};
            $z.start = new DayPilot.Date($03.start);
            $z.end = $03.end ? new DayPilot.Date($03.end) : $z.start.addMinutes(this.cellDuration);
            var w = $03.width || this.cellWidth;
            var $y = Math.floor($x + w);
            var $01 = $y - Math.floor($x);
            $z.left = Math.floor($x);
            $z.width = $01;
            $x += w;
            $z.breakBefore = $02 && $02.ticks !== $z.start.ticks;
            $02 = $z.end;
            this.itline.push($z);
          }
        } else {
          this.$7J();
        }
        ;
        this.$7N();
      }
    };
    this.$7J = function () {
      var $v = this.startDate;
      var end = this.$7O($v);
      var $04 = false;
      var $05 = this.timeHeaders;
      var $x = 0;
      while (end.ticks <= this.endDate.ticks && end.ticks > $v.ticks) {
        if (this.$7P($v, end)) {
          var $y = Math.floor($x + this.cellWidth);
          var $01 = $y - Math.floor($x);
          var $06 = {};
          $06.start = $v;
          $06.end = end;
          $06.left = Math.floor($x);
          $06.width = $01;
          $06.breakBefore = $04;
          this.itline.push($06);
          $x += this.cellWidth;
          $04 = false;
        } else {
          $04 = true;
        }
        ;
        $v = end;
        end = this.$7O($v);
      }
    };
    this.$7M = function () {
      $e.debug.message("updateHeaderGroupDimensions");
      if (!this.timeHeader) {
        return;
      }
      ;
      for (var y = 0; y < this.timeHeader.length; y++) {
        var $t = this.timeHeader[y];
        for (var x = 0; x < $t.length; x++) {
          var h = $t[x];
          h.left = this.getPixels(new DayPilot.Date(h.start)).left;
          var $y = this.getPixels(new DayPilot.Date(h.end)).left;
          var $01 = $y - h.left;
          h.width = $01;
        }
      }
    };
    this.$7N = function () {
      var $05 = this.timeHeaders;
      if (!$05) {
        $05 = [{"groupBy": this.cellGroupBy}, {"groupBy": "Cell"}];
      }
      ;
      for (var i = 0; i < $05.length; i++) {
        var $07 = $05[i].groupBy;
        var $08 = $05[i].format;
        if ($07 === "Default") {
          $07 = this.cellGroupBy;
        }
        ;
        var $v = this.startDate;
        var $09 = [];
        var $v = this.startDate;
        while ($v.ticks < this.endDate.ticks) {
          var h = {};
          h.start = $v;
          h.end = this.$7Q(h.start, $07);
          if (h.start.ticks === h.end.ticks) {
            break;
          }
          ;
          h.left = this.getPixels(h.start).left;
          var $y = this.getPixels(h.end).left;
          var $01 = $y - h.left;
          h.width = $01;
          h.colspan = Math.ceil($01 / (1.0 * this.cellWidth));
          if ($08) {
            h.innerHTML = h.start.toString($08, $R.locale());
          } else {
            h.innerHTML = this.$7R(h, $07);
          }
          ;
          if ($01 > 0) {
            if (typeof this.onBeforeTimeHeaderRender === 'function') {
              var $z = {};
              $z.start = h.start;
              $z.end = h.end;
              $z.html = h.innerHTML;
              $z.toolTip = h.innerHTML;
              $z.backColor = null;
              if (!this.cssOnly) {
                $z.backColor = this.hourNameBackColor;
              }
              ;
              $z.level = this.timeHeader.length;
              var $h = {};
              $h.header = $z;
              this.onBeforeTimeHeaderRender($h);
              h.innerHTML = $z.html;
              h.backColor = $z.backColor;
              h.toolTip = $z.toolTip;
            }
            ;
            $09.push(h);
          }
          ;
          $v = h.end;
        }
        ;
        this.timeHeader.push($09);
      }
    };
    this.$7P = function ($v, end) {
      if (typeof this.onIncludeTimeCell === 'function') {
        var $z = {};
        $z.start = $v;
        $z.end = end;
        $z.visible = true;
        var $h = {};
        $h.cell = $z;
        this.onIncludeTimeCell($h);
        return $z.visible;
      }
      ;
      if (this.showNonBusiness) {
        return true;
      }
      ;
      if ($v.d.getUTCDay() === 0) {
        return false;
      }
      ;
      if ($v.d.getUTCDay() === 6) {
        return false;
      }
      ;
      var $0a = (end.getTime() - $v.getTime()) / (1000 * 60);
      if ($0a < 60 * 24) {
        var $0b = $v.d.getUTCHours();
        $0b += $v.d.getUTCMinutes() / 60.0;
        $0b += $v.d.getUTCSeconds() / 3600.0;
        $0b += $v.d.getUTCMilliseconds() / 3600000.0;
        if ($0b < this.businessBeginsHour) {
          return false;
        }
        ;
        if (this.businessEndsHour >= 24) {
          return true;
        }
        ;
        if ($0b >= this.businessEndsHour) {
          return false;
        }
      }
      ;
      return true;
    };
    this.getPixels = function ($r) {
      var $0c = $r.ticks;
      var $0d = this.$6X.pixels[$0c];
      if ($0d) {
        return $0d;
      }
      ;
      var $0e = null;
      var $0f = 221876841600000;
      if (this.itline.length === 0 || $0c < this.itline[0].start.ticks) {
        var $f = {};
        $f.cut = false;
        $f.left = 0;
        $f.boxLeft = $f.left;
        $f.boxRight = $f.left;
        $f.i = null;
        return $f;
      }
      ;
      for (var i = 0; i < this.itline.length; i++) {
        var $0g = false;
        var $z = this.itline[i];
        var $0h = $z.start.ticks;
        var $0i = $z.end.ticks;
        if ($0h < $0c && $0c < $0i) {
          var $0j = $0c - $0h;
          var $f = {};
          $f.cut = false;
          $f.left = $z.left + this.$7S($z, $0j);
          $f.boxLeft = $z.left;
          $f.boxRight = $z.left + $z.width;
          $f.i = i;
          break;
        } else if ($0h === $0c) {
          var $f = {};
          $f.cut = false;
          $f.left = $z.left;
          $f.boxLeft = $f.left;
          $f.boxRight = $f.left + $z.width;
          $f.i = i;
          break;
        } else if ($0i === $0c) {
          var $f = {};
          $f.cut = false;
          $f.left = $z.left + $z.width;
          $f.boxLeft = $f.left;
          $f.boxRight = $f.left;
          $f.i = i + 1;
          break;
        } else if ($0c < $0h && $0c > $0f) {
          var $f = {};
          $f.cut = true;
          $f.left = $z.left;
          $f.boxLeft = $f.left;
          $f.boxRight = $f.left;
          $f.i = i;
          break;
        }
        ;
        $0f = $0i;
      }
      ;
      if (!$f) {
        var $0k = this.itline[this.itline.length - 1];
        var $f = {};
        $f.cut = true;
        $f.left = $0k.left + $0k.width;
        $f.boxLeft = $f.left;
        $f.boxRight = $f.left;
        $f.i = null;
      }
      ;
      this.$6X.pixels[$0c] = $f;
      return $f;
    };
    this.getDate = function ($x, $0l, $0m) {
      var $U = this.$7T($x, $0m);
      if (!$U) {
        return null;
      }
      ;
      var x = $U.x;
      var $0n = this.itline[x];
      if (!$0n) {
        return null;
      }
      ;
      var $v = ($0m && !$0l) ? $0n.end : $0n.start;
      if (!$0l) {
        return $v;
      } else {
        return $v.addTime(this.$7U($U.cell, $U.offset));
      }
    };
    this.$7T = function ($s, $0m) {
      var $0o = 0;
      var $0e = 0;
      for (var i = 0; i < this.itline.length; i++) {
        var $z = this.itline[i];
        var $01 = $z.width || this.cellWidth;
        $0o += $01;
        if (($s < $0o) || ($0m && $s === $0o)) {
          var $f = {};
          $f.x = i;
          $f.offset = $s - $0e;
          $f.cell = $z;
          return $f;
        }
        ;
        $0e = $0o;
      }
      ;
      var $z = this.itline[this.itline.length - 1];
      var $f = {};
      $f.x = this.itline.length - 1;
      $f.offset = $z.width || this.cellWidth;
      $f.cell = $z;
      return $f;
    };
    this.$7V = function ($0p) {
      var $0o = new DayPilot.Date($0p);
      for (var i = 0; i < this.itline.length; i++) {
        var $z = this.itline[i];
        if ($z.start.ticks <= $0o.ticks && $0o.ticks < $z.end.ticks) {
          var $f = {};
          $f.hidden = false;
          $f.current = $z;
          return $f;
        }
        ;
        if ($0o.ticks < $z.start.ticks) {
          var $f = {};
          $f.hidden = true;
          $f.previous = i > 0 ? this.itline[i - 1] : null;
          $f.current = null;
          $f.next = this.itline[i];
          return $f;
        }
      }
      ;
      var $f = {};
      $f.past = true;
      $f.previous = this.itline[this.itline.length - 1];
      return $f;
    };
    this.$7S = function ($z, $0c) {
      var $01 = $z.width || this.cellWidth;
      var $0q = $z.end.ticks - $z.start.ticks;
      return Math.floor(($01 * $0c) / ($0q));
    };
    this.$7U = function ($z, $s) {
      var $0q = $z.end.ticks - $z.start.ticks;
      var $01 = $z.width || this.cellWidth;
      return Math.floor($s / $01 * $0q);
    };
    this.$7W = function (ev) {
      if ($0r.start) {
        return;
      }
      ;
      $0s = {};
      $e.$7X(this, ev);
    };
    this.eventClickPostBack = function (e, $n) {
      this.$7Y('EventClick', e, $n);
    };
    this.eventClickCallBack = function (e, $n) {
      this.$7Z('EventClick', e, $n);
    };
    this.$7X = function ($G, ev) {
      var e = $G.event;
      var ev = ev || window.event;
      if (typeof(DayPilotBubble) !== 'undefined') {
        DayPilotBubble.hideActive();
      }
      ;
      if (!e.client.doubleClickEnabled()) {
        $e.$80($G, ev.ctrlKey);
        return;
      }
      ;
      if (!$e.timeouts.click) {
        $e.timeouts.click = [];
      }
      ;
      var $0t = function ($G, $0u) {
        return function () {
          $e.$80($G, $0u);
        };
      };
      $e.timeouts.click.push(window.setTimeout($0t($G, ev.ctrlKey), $e.doubleClickTimeout));
    };
    this.$80 = function ($G, $0u) {
      var e = $G.event;
      if (!e.client.clickEnabled()) {
        return;
      }
      ;
      if ($e.$7s()) {
        var $h = {};
        $h.e = e;
        $h.div = $G;
        $h.ctrl = $0u;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventClick === 'function') {
          $e.onEventClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.eventClickHandling) {
          case 'PostBack':
            $e.eventClickPostBack(e);
            break;
          case 'CallBack':
            $e.eventClickCallBack(e);
            break;
          case 'Edit':
            $e.$81($G);
            break;
          case 'Select':
            $e.$82($G, e, $0u);
            break;
          case 'ContextMenu':
            var $0v = e.client.contextMenu();
            if ($0v) {
              $0v.show(e);
            } else {
              if ($e.contextMenu) {
                $e.contextMenu.show(e);
              }
            }
            ;
            break;
          case 'Bubble':
            if ($e.bubble) {
              $e.bubble.showEvent(e);
            }
            ;
            break;
        }
        ;
        if (typeof $e.onEventClicked === 'function') {
          $e.onEventClicked($h);
        }
      } else {
        switch ($e.eventClickHandling) {
          case 'PostBack':
            $e.eventClickPostBack(e);
            break;
          case 'CallBack':
            $e.eventClickCallBack(e);
            break;
          case 'JavaScript':
            $e.onEventClick(e);
            break;
          case 'Edit':
            $e.$81($G);
            break;
          case 'Select':
            $e.$82($G, e, $0u);
            break;
          case 'ContextMenu':
            var $0v = e.client.contextMenu();
            if ($0v) {
              $0v.show(e);
            } else {
              if ($e.contextMenu) {
                $e.contextMenu.show(e);
              }
            }
            ;
            break;
          case 'Bubble':
            if ($e.bubble) {
              $e.bubble.showEvent(e);
            }
            ;
            break;
        }
      }
    };
    this.$83 = function (e) {
      if ($e.$7s()) {
        var $h = {};
        $h.e = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventDelete === 'function') {
          $e.onEventDelete($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.eventDeleteHandling) {
          case 'PostBack':
            $e.eventDeletePostBack(e);
            break;
          case 'CallBack':
            $e.eventDeleteCallBack(e);
            break;
          case 'Update':
            $e.events.remove(e);
            break;
        }
        ;
        if (typeof $e.onEventDeleted === 'function') {
          $e.onEventDeleted($h);
        }
      } else {
        switch ($e.eventDeleteHandling) {
          case 'PostBack':
            $e.eventDeletePostBack(e);
            break;
          case 'CallBack':
            $e.eventDeleteCallBack(e);
            break;
          case 'JavaScript':
            $e.onEventDelete(e);
            break;
        }
      }
    };
    this.eventDeletePostBack = function (e, $n) {
      this.$7Y('EventDelete', e, $n);
    };
    this.eventDeleteCallBack = function (e, $n) {
      this.$7Z('EventDelete', e, $n);
    };
    this.setHScrollPosition = function ($s) {
      this.nav.scroll.scrollLeft = $s;
    };
    this.getScrollX = function () {
      return this.nav.scroll.scrollLeft;
    };
    this.getHScrollPosition = this.getScrollX;
    this.getScrollY = function () {
      return this.nav.scroll.scrollTop;
    };
    this.$82 = function ($G, e, $0u) {
      $e.$84($G, e, $0u);
    };
    this.eventSelectPostBack = function (e, $0w, $n) {
      var $0x = {};
      $0x.e = e;
      $0x.change = $0w;
      this.$7Y('EventSelect', $0x, $n);
    };
    this.eventSelectCallBack = function (e, $0w, $n) {
      var $0x = {};
      $0x.e = e;
      $0x.change = $0w;
      this.$7Z('EventSelect', $0x, $n);
    };
    this.$84 = function ($G, e, $0u) {
      if ($e.$7s()) {
        var m = $e.multiselect;
        m.previous = m.events();
        var $h = {};
        $h.e = e;
        $h.selected = m.isSelected(e);
        $h.ctrl = $0u;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventSelect === 'function') {
          $e.onEventSelect($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.eventSelectHandling) {
          case 'PostBack':
            $e.eventSelectPostBack(e, $0w);
            break;
          case 'CallBack':
            if (typeof WebForm_InitCallback !== 'undefined') {
              __theFormPostData = "";
              __theFormPostCollection = [];
              WebForm_InitCallback();
            }
            ;
            $e.eventSelectCallBack(e, $0w);
            break;
          case 'Update':
            m.$85($G, $0u);
            break;
        }
        ;
        if (typeof $e.onEventSelected === 'function') {
          $h.change = m.isSelected(e) ? "selected" : "deselected";
          $h.selected = m.isSelected(e);
          $e.onEventSelected($h);
        }
      } else {
        var m = $e.multiselect;
        m.previous = m.events();
        m.$85($G, $0u);
        var $0w = m.isSelected(e) ? "selected" : "deselected";
        switch ($e.eventSelectHandling) {
          case 'PostBack':
            $e.eventSelectPostBack(e, $0w);
            break;
          case 'CallBack':
            if (typeof WebForm_InitCallback !== 'undefined') {
              __theFormPostData = "";
              __theFormPostCollection = [];
              WebForm_InitCallback();
            }
            ;
            $e.eventSelectCallBack(e, $0w);
            break;
          case 'JavaScript':
            $e.onEventSelect(e, $0w);
            break;
        }
      }
    };
    this.eventRightClickPostBack = function (e, $n) {
      this.$7Y('EventRightClick', e, $n);
    };
    this.eventRightClickCallBack = function (e, $n) {
      this.$7Z('EventRightClick', e, $n);
    };
    this.$86 = function (ev) {
      var e = this.event;
      ev = ev || window.event;
      ev.cancelBubble = true;
      if (!this.event.client.rightClickEnabled()) {
        return false;
      }
      ;
      if ($e.$7s()) {
        var $h = {};
        $h.e = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventRightClick === 'function') {
          $e.onEventRightClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.eventRightClickHandling) {
          case 'PostBack':
            $e.eventRightClickPostBack(e);
            break;
          case 'CallBack':
            $e.eventRightClickCallBack(e);
            break;
          case 'ContextMenu':
            var $0v = e.client.contextMenu();
            if ($0v) {
              $0v.show(e);
            } else {
              if ($e.contextMenu) {
                $e.contextMenu.show(this.event);
              }
            }
            ;
            break;
          case 'Bubble':
            if ($e.bubble) {
              $e.bubble.showEvent(e);
            }
            ;
            break;
        }
        ;
        if (typeof $e.onEventRightClicked === 'function') {
          $e.onEventRightClicked($h);
        }
      } else {
        switch ($e.eventRightClickHandling) {
          case 'PostBack':
            $e.eventRightClickPostBack(e);
            break;
          case 'CallBack':
            $e.eventRightClickCallBack(e);
            break;
          case 'JavaScript':
            $e.onEventRightClick(e);
            break;
          case 'ContextMenu':
            var $0v = e.client.contextMenu();
            if ($0v) {
              $0v.show(e);
            } else {
              if ($e.contextMenu) {
                $e.contextMenu.show(this.event);
              }
            }
            ;
            break;
          case 'Bubble':
            if ($e.bubble) {
              $e.bubble.showEvent(e);
            }
            ;
            break;
        }
      }
      ;
      return false;
    };
    this.eventDoubleClickPostBack = function (e, $n) {
      this.$7Y('EventDoubleClick', e, $n);
    };
    this.eventDoubleClickCallBack = function (e, $n) {
      this.$7Z('EventDoubleClick', e, $n);
    };
    this.$87 = function (ev) {
      if (typeof(DayPilotBubble) !== 'undefined') {
        DayPilotBubble.hideActive();
      }
      ;
      if ($e.timeouts.click) {
        for (var $0y in $e.timeouts.click) {
          window.clearTimeout($e.timeouts.click[$0y]);
        }
        ;
        $e.timeouts.click = null;
      }
      ;
      var ev = ev || window.event;
      var e = this.event;
      if ($e.$7s()) {
        var $h = {};
        $h.e = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventDoubleClick === 'function') {
          $e.onEventDoubleClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.eventDoubleClickHandling) {
          case 'PostBack':
            $e.eventDoubleClickPostBack(e);
            break;
          case 'CallBack':
            $e.eventDoubleClickCallBack(e);
            break;
          case 'Edit':
            $e.$81(this);
            break;
          case 'Select':
            $e.$82($G, e, ev.ctrlKey);
            break;
          case 'Bubble':
            if ($e.bubble) {
              $e.bubble.showEvent(e);
            }
            ;
            break;
          case 'ContextMenu':
            var $0v = e.client.contextMenu();
            if ($0v) {
              $0v.show(e);
            } else {
              if ($e.contextMenu) {
                $e.contextMenu.show(e);
              }
            }
            ;
            break;
        }
        ;
        if (typeof $e.onEventDoubleClicked === 'function') {
          $e.onEventDoubleClicked($h);
        }
      } else {
        switch ($e.eventDoubleClickHandling) {
          case 'PostBack':
            $e.eventDoubleClickPostBack(e);
            break;
          case 'CallBack':
            $e.eventDoubleClickCallBack(e);
            break;
          case 'JavaScript':
            $e.onEventDoubleClick(e);
            break;
          case 'Edit':
            $e.$81(this);
            break;
          case 'Select':
            $e.$82($G, e, ev.ctrlKey);
            break;
          case 'Bubble':
            if ($e.bubble) {
              $e.bubble.showEvent(e);
            }
            ;
            break;
          case 'ContextMenu':
            var $0v = e.client.contextMenu();
            if ($0v) {
              $0v.show(e);
            } else {
              if ($e.contextMenu) {
                $e.contextMenu.show(e);
              }
            }
            ;
            break;
        }
      }
    };
    this.eventResizePostBack = function (e, $0z, $0A, $n) {
      this.$88("PostBack", e, $0z, $0A, $n);
    };
    this.eventResizeCallBack = function (e, $0z, $0A, $n) {
      this.$88("CallBack", e, $0z, $0A, $n);
    };
    this.$88 = function ($B, e, $0z, $0A, $n) {
      var $0x = {};
      $0x.e = e;
      $0x.newStart = $0z;
      $0x.newEnd = $0A;
      this.$89($B, "EventResize", $0x, $n);
    };
    this.$8a = function (e, $0z, $0A) {
      if (this.eventResizeHandling === 'Disabled') {
        return;
      }
      ;
      if ($e.$7s()) {
        var $h = {};
        $h.e = e;
        $h.newStart = $0z;
        $h.newEnd = $0A;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventResize === 'function') {
          $e.onEventResize($h);
          if ($h.preventDefault.value) {
            return;
          }
          ;
          $0z = $h.newStart;
          $0A = $h.newEnd;
        }
        ;
        switch ($e.eventResizeHandling) {
          case 'PostBack':
            $e.eventResizePostBack(e, $0z, $0A);
            break;
          case 'CallBack':
            $e.eventResizeCallBack(e, $0z, $0A);
            break;
          case 'Notify':
            $e.eventResizeNotify(e, $0z, $0A);
            break;
          case 'Update':
            e.start($0z);
            e.end($0A);
            $e.events.update(e);
            break;
        }
        ;
        if (typeof $e.onEventResized === 'function') {
          $e.onEventResized($h);
        }
      } else {
        switch ($e.eventResizeHandling) {
          case 'PostBack':
            $e.eventResizePostBack(e, $0z, $0A);
            break;
          case 'CallBack':
            $e.eventResizeCallBack(e, $0z, $0A);
            break;
          case 'JavaScript':
            $e.onEventResize(e, $0z, $0A);
            break;
          case 'Notify':
            $e.eventResizeNotify(e, $0z, $0A);
            break;
          case 'Update':
            e.start($0z);
            e.end($0A);
            $e.events.update(e);
            break;
        }
      }
    };
    this.eventMovePostBack = function (e, $0z, $0A, $0B, $n, $09) {
      this.$8b("PostBack", e, $0z, $0A, $0B, $n, $09);
    };
    this.eventMoveCallBack = function (e, $0z, $0A, $0B, $n, $09) {
      this.$8b("CallBack", e, $0z, $0A, $0B, $n, $09);
    };
    this.$8b = function ($B, e, $0z, $0A, $0B, $n, $09) {
      var $0x = {};
      $0x.e = e;
      $0x.newStart = $0z;
      $0x.newEnd = $0A;
      $0x.newResource = $0B;
      $0x.position = $09;
      this.$89($B, "EventMove", $0x, $n);
    };
    this.$89 = function ($B, $0C, $0x, $n) {
      if ($B === 'PostBack') {
        $e.$7Y($0C, $0x, $n);
      } else if ($B === 'CallBack') {
        $e.$7Z($0C, $0x, $n, "CallBack");
      } else if ($B === 'Immediate') {
        $e.$7Z($0C, $0x, $n, "Notify");
      } else if ($B === 'Queue') {
        $e.queue.add(new DayPilot.Action(this, $0C, $0x, $n));
      } else if ($B === 'Notify') {
        if ($R.notifyType() === 'Notify') {
          $e.$7Z($0C, $0x, $n, "Notify");
        } else {
          $e.queue.add(new DayPilot.Action($e, $0C, $0x, $n));
        }
      } else {
        throw "Invalid event invocation type";
      }
    };
    this.eventMoveNotify = function (e, $0z, $0A, $0B, $n, $09) {
      var $0D = new DayPilot.Event(e.copy(), this);
      var $0E = $e.events.$8c(e.data);
      e.start($0z);
      e.end($0A);
      e.resource($0B);
      e.commit();
      $0E = $0E.concat($e.events.$8d(e.data));
      $e.$8e($0E);
      $e.$8f();
      $e.$8g($0E);
      this.$8b("Notify", $0D, $0z, $0A, $0B, $n, $09);
    };
    this.eventResizeNotify = function (e, $0z, $0A, $n) {
      var $0D = new DayPilot.Event(e.copy(), this);
      var $0E = $e.events.$8c(e.data);
      e.start($0z);
      e.end($0A);
      e.commit();
      $0E = $0E.concat($e.events.$8d(e.data));
      $e.$8e($0E);
      $e.$8f();
      $e.$8g($0E);
      this.$88("Notify", $0D, $0z, $0A, $n);
    };
    this.multiselect = {};
    this.multiselect.initList = [];
    this.multiselect.list = [];
    this.multiselect.divs = [];
    this.multiselect.previous = [];
    this.multiselect.$8h = function () {
      var m = $e.multiselect;
      return DayPilot.JSON.stringify(m.events());
    };
    this.multiselect.events = function () {
      var m = $e.multiselect;
      var $D = [];
      $D.ignoreToJSON = true;
      for (var i = 0; i < m.list.length; i++) {
        $D.push(m.list[i]);
      }
      ;
      return $D;
    };
    this.multiselect.$8i = function () {
    };
    this.multiselect.$85 = function ($G, $0F) {
      var m = $e.multiselect;
      if (m.isSelected($G.event)) {
        if ($e.allowMultiSelect) {
          if ($0F) {
            m.remove($G.event, true);
          } else {
            var $00 = m.list.length;
            m.clear();
            if ($00 > 1) {
              m.add($G.event, true);
            }
          }
        } else {
          m.clear();
        }
      } else {
        if ($e.allowMultiSelect) {
          if ($0F) {
            m.add($G.event, true);
          } else {
            m.clear();
            m.add($G.event, true);
          }
        } else {
          m.clear();
          m.add($G.event, true);
        }
      }
      ;
      m.$8j($G);
      m.$8i();
    };
    this.multiselect.$8k = function (ev) {
      var m = $e.multiselect;
      return m.$8l(ev, m.initList);
    };
    this.multiselect.$8m = function () {
      var m = $e.multiselect;
      var $C = [];
      for (var i = 0; i < m.list.length; i++) {
        var event = m.list[i];
        $C.push(event.value());
      }
      ;
      alert($C.join("\n"));
    };
    this.multiselect.add = function (ev, $0G) {
      var m = $e.multiselect;
      if (m.indexOf(ev) === -1) {
        m.list.push(ev);
      }
      ;
      if ($0G) {
        return;
      }
      ;
      m.redraw();
    };
    this.multiselect.remove = function (ev, $0G) {
      var m = $e.multiselect;
      var i = m.indexOf(ev);
      if (i !== -1) {
        m.list.splice(i, 1);
      }
      ;
      if ($0G) {
        return;
      }
      ;
      m.redraw();
    };
    this.multiselect.clear = function ($0G) {
      var m = $e.multiselect;
      m.list = [];
      if ($0G) {
        return;
      }
      ;
      m.redraw();
    };
    this.multiselect.redraw = function () {
      var m = $e.multiselect;
      for (var i = 0; i < $e.elements.events.length; i++) {
        var $G = $e.elements.events[i];
        if (!$G.event) {
          continue;
        }
        ;
        if (!$G.event.isEvent) {
          continue;
        }
        ;
        if (m.isSelected($G.event)) {
          m.$8n($G);
        } else {
          m.$8o($G);
        }
      }
    };
    this.multiselect.$8p = function (ev) {
      var m = $e.multiselect;
      var $G = null;
      for (var i = 0; i < $e.elements.events.length; i++) {
        if (m.isSelected($e.elements.events[i].event)) {
          $G = $e.elements.events[i];
          break;
        }
      }
      ;
      m.$8j($G);
    };
    this.multiselect.$8j = function ($G) {
      if (!$G) {
        return;
      }
      ;
      var m = $e.multiselect;
      if (m.isSelected($G.event)) {
        m.$8n($G);
      } else {
        m.$8o($G);
      }
    };
    this.multiselect.$8n = function ($G) {
      var m = $e.multiselect;
      var cn = $e.cssOnly ? $e.$7C("_selected") : $e.$7C("selected");
      var $G = m.$8q($G);
      DayPilot.Util.addClass($G, cn);
      m.divs.push($G);
    };
    this.multiselect.$8q = function ($G) {
      return $G;
    };
    this.multiselect.$8r = function () {
      var m = $e.multiselect;
      for (var i = 0; i < m.divs.length; i++) {
        var $G = m.divs[i];
        m.$8o($G, true);
      }
      ;
      m.divs = [];
    };
    this.multiselect.$8o = function ($G, $0H) {
      var m = $e.multiselect;
      var cn = $e.cssOnly ? $e.$7C("_selected") : $e.$7C("selected");
      DayPilot.Util.removeClass($G, cn);
      if ($0H) {
        return;
      }
      ;
      var i = DayPilot.indexOf(m.divs, $G);
      if (i !== -1) {
        m.divs.splice(i, 1);
      }
    };
    this.multiselect.isSelected = function (ev) {
      if (!ev) {
        return false;
      }
      ;
      if (!ev.isEvent) {
        return false;
      }
      ;
      return $e.multiselect.$8l(ev, $e.multiselect.list);
    };
    this.multiselect.indexOf = function (ev) {
      return DayPilot.indexOf($e.multiselect.list, ev);
    };
    this.multiselect.$8l = function (e, $C) {
      if (!$C) {
        return false;
      }
      ;
      for (var i = 0; i < $C.length; i++) {
        var ei = $C[i];
        if (e === ei) {
          return true;
        }
        ;
        if (typeof ei.id === 'function') {
          if (ei.id() !== null && e.id() !== null && ei.id() === e.id()) {
            return true;
          }
          ;
          if (ei.id() === null && e.id() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start().toStringSortable()) {
            return true;
          }
        } else {
          if (ei.id !== null && e.id() !== null && ei.id === e.id()) {
            return true;
          }
          ;
          if (ei.id === null && e.id() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
            return true;
          }
        }
      }
      ;
      return false;
    };
    this.$8j = function ($h) {
      var $h = $h || {};
      var $0I = !$h.eventsOnly;
      if ($0I) {
        if (!this.$7L()) {
          $e.timeHeader = null;
          $e.cellProperties = {};
        }
        ;
        $e.$76();
        $e.$77();
        if (!$h || !$h.dontLoadResources) {
          $e.$78();
        }
      }
      ;
      this.$7a();
      if ($0I) {
        $e.$8s();
        $e.$7b();
        $e.$7c();
      }
      ;
      $e.$7d();
      $e.$7f();
      $e.$8t();
      $e.$7g();
      if ($e.heightSpec === 'Auto' || $e.heightSpec === 'Max') {
        $e.$7h();
      }
      ;
      $0J.hideLinkpoints();
      this.$7j();
      this.$7k();
      this.$7i();
      this.$74();
      this.$79();
      this.$7l();
      this.$7m();
      this.$7n();
      this.$7r();
      this.$8u();
    };
    this.update = function () {
      this.$8j();
    };
    this.$8g = function ($0E, $0K, $0L) {
      $0E = DayPilot.ua($0E);
      for (var i = 0; i < $0E.length; i++) {
        var ri = $0E[i];
        $e.$8v(ri);
      }
      ;
      if (this.$8w) {
        this.$7d();
        this.$7f();
        this.$7i();
        this.$7k();
        for (var i = 0; i < $0E.length; i++) {
          var ri = $0E[i];
          this.$8x(ri);
        }
        ;
        for (var i = 0; i < $0E.length; i++) {
          var ri = $0E[i];
          this.$8y(ri);
        }
        ;
        this.$7l();
        this.$7m();
        this.$8z();
      } else {
        var $0M = true;
        if ($0M) {
          var $0N = function (i) {
            if (i >= $0E.length) {
              return;
            }
            ;
            var ri = $0E[i];
            if (!$0K) {
              $e.$8x(ri);
            }
            ;
            $e.$8y(ri);
            if (i + 1 < $0E.length) {
              setTimeout(function () {
                $0N(i + 1);
              }, 10);
            } else {
              $e.$7y();
              $0J.load();
              if ($0L) {
                $0L();
              }
            }
          };
          $0N(0);
        } else {
          for (var i = 0; i < $0E.length; i++) {
            var ri = $0E[i];
            if (!$0K) {
              this.$8x(ri);
            }
            ;
            this.$8y(ri);
          }
        }
      }
      ;
      $e.$7y();
      $0J.load();
      if ($0L) {
        $0L();
      }
      ;
      this.$74();
    };
    this.$8A = function (e, $0z, $0A, $0B, external, ev, $09) {
      if ($e.eventMoveHandling === 'Disabled') {
        return;
      }
      ;
      if ($e.$7s()) {
        var $h = {};
        $h.e = e;
        $h.newStart = $0z;
        $h.newEnd = $0A;
        $h.newResource = $0B;
        $h.external = external;
        $h.ctrl = false;
        if (ev) {
          $h.ctrl = ev.ctrlKey;
        }
        ;
        $h.shift = false;
        if (ev) {
          $h.shift = ev.shiftKey;
        }
        ;
        $h.position = $09;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventMove === 'function') {
          $e.onEventMove($h);
          if ($h.preventDefault.value) {
            return;
          }
          ;
          $0z = $h.newStart;
          $0A = $h.newEnd;
        }
        ;
        switch ($e.eventMoveHandling) {
          case 'PostBack':
            $e.eventMovePostBack(e, $0z, $0A, $0B, null, $09);
            break;
          case 'CallBack':
            $e.eventMoveCallBack(e, $0z, $0A, $0B, null, $09);
            break;
          case 'Notify':
            $e.eventMoveNotify(e, $0z, $0A, $0B, null, $09);
            break;
          case 'Update':
            e.start($0z);
            e.end($0A);
            e.resource($0B);
            if (external) {
              e.commit();
              $e.events.add(e);
            } else {
              $e.events.update(e);
            }
            ;
            $e.$6Z();
            break;
        }
        ;
        if (typeof $e.onEventMoved === 'function') {
          $e.onEventMoved($h);
        }
      } else {
        switch ($e.eventMoveHandling) {
          case 'PostBack':
            $e.eventMovePostBack(e, $0z, $0A, $0B, null, $09);
            break;
          case 'CallBack':
            $e.eventMoveCallBack(e, $0z, $0A, $0B, null, $09);
            break;
          case 'JavaScript':
            $e.onEventMove(e, $0z, $0A, $0B, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false, $09);
            break;
          case 'Notify':
            $e.eventMoveNotify(e, $0z, $0A, $0B, null, $09);
            break;
          case 'Update':
            e.start($0z);
            e.end($0A);
            e.resource($0B);
            $e.events.update(e);
            break;
        }
      }
    };
    this.$8B = function ($h, $j) {
      var $i = $e.$8C($j);
      var $0x = {};
      $0x.args = $h;
      $0x.guid = $i;
      $e.$7Z("Bubble", $0x);
    };
    this.$8C = function ($j) {
      var $i = DayPilot.guid();
      if (!this.bubbles) {
        this.bubbles = [];
      }
      ;
      this.bubbles[$i] = $j;
      return $i;
    };
    this.eventMenuClickPostBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.e = e;
      $0x.command = $0O;
      this.$7Y('EventMenuClick', $0x, $n);
    };
    this.eventMenuClickCallBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.e = e;
      $0x.command = $0O;
      this.$7Z('EventMenuClick', $0x, $n);
    };
    this.$8D = function ($0O, e, $0P) {
      switch ($0P) {
        case 'PostBack':
          $e.eventMenuClickPostBack(e, $0O);
          break;
        case 'CallBack':
          $e.eventMenuClickCallBack(e, $0O);
          break;
      }
    };
    this.timeRangeSelectedPostBack = function ($v, end, $0Q, $n) {
      var $0R = {};
      $0R.start = $v;
      $0R.end = end;
      $0R.resource = $0Q;
      this.$7Y('TimeRangeSelected', $0R, $n);
    };
    this.timeRangeSelectedCallBack = function ($v, end, $0Q, $n) {
      var $0R = {};
      $0R.start = $v;
      $0R.end = end;
      $0R.resource = $0Q;
      this.$7Z('TimeRangeSelected', $0R, $n);
    };
    this.$8E = function ($v, end, $0Q) {
      if ($e.timeRangeSelectedHandling === 'Disabled') {
        return;
      }
      ;
      if ($e.$7s()) {
        var $h = {};
        $h.start = $v;
        $h.end = end;
        $h.resource = $0Q;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onTimeRangeSelect === 'function') {
          $e.onTimeRangeSelect($h);
          if ($h.preventDefault.value) {
            return;
          }
          ;
          $v = $h.start;
          end = $h.end;
        }
        ;
        (function updateRange() {
          var $0R = DayPilotScheduler.rangeHold;
          var $0n, $z;
          if ($v.getTime() < $e.itline[0].start.getTime()) {
            $0R.start.x = 0;
          } else {
            $0n = $e.$7V($v);
            $z = $0n.current || $0n.previous;
            $0R.start.x = DayPilot.indexOf($e.itline, $z);
          }
          ;
          $0n = $e.$7V(end.addMilliseconds(-1));
          if ($0n.past) {
            $0R.end.x = $e.itline.length - 1;
          } else {
            $z = $0n.current || $0n.next;
            $0R.end.x = DayPilot.indexOf($e.itline, $z);
          }
          ;
          $e.$8F($0R);
        })();
        switch ($e.timeRangeSelectedHandling) {
          case 'PostBack':
            $e.timeRangeSelectedPostBack($v, end, $0Q);
            break;
          case 'CallBack':
            $e.timeRangeSelectedCallBack($v, end, $0Q);
            break;
        }
        ;
        if (typeof $e.onTimeRangeSelected === 'function') {
          $e.onTimeRangeSelected($h);
        }
      } else {
        switch ($e.timeRangeSelectedHandling) {
          case 'PostBack':
            $e.timeRangeSelectedPostBack($v, end, $0Q);
            break;
          case 'CallBack':
            $e.timeRangeSelectedCallBack($v, end, $0Q);
            break;
          case 'JavaScript':
            $e.onTimeRangeSelected($v, end, $0Q);
            break;
          case 'Hold':
            break;
        }
      }
    };
    this.timeRangeDoubleClickPostBack = function ($v, end, $0Q, $n) {
      var $0R = {};
      $0R.start = $v;
      $0R.end = end;
      $0R.resource = $0Q;
      this.$7Y('TimeRangeDoubleClick', $0R, $n);
    };
    this.timeRangeDoubleClickCallBack = function ($v, end, $0Q, $n) {
      var $0R = {};
      $0R.start = $v;
      $0R.end = end;
      $0R.resource = $0Q;
      this.$7Z('TimeRangeDoubleClick', $0R, $n);
    };
    this.$8G = function ($v, end, $0Q) {
      if ($e.$7s()) {
        var $h = {};
        $h.start = $v;
        $h.end = end;
        $h.resource = $0Q;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onTimeRangeDoubleClick === 'function') {
          $e.onTimeRangeDoubleClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.timeRangeDoubleClickHandling) {
          case 'PostBack':
            $e.timeRangeDoubleClickPostBack($v, end, $0Q);
            break;
          case 'CallBack':
            $e.timeRangeDoubleClickCallBack($v, end, $0Q);
            break;
        }
        ;
        if (typeof $e.onTimeRangeDoubleClicked === 'function') {
          $e.onTimeRangeDoubleClicked($h);
        }
      } else {
        switch ($e.timeRangeDoubleClickHandling) {
          case 'PostBack':
            $e.timeRangeDoubleClickPostBack($v, end, $0Q);
            break;
          case 'CallBack':
            $e.timeRangeDoubleClickCallBack($v, end, $0Q);
            break;
          case 'JavaScript':
            $e.onTimeRangeDoubleClick($v, end, $0Q);
            break;
        }
      }
    };
    this.timeRangeMenuClickPostBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.selection = e;
      $0x.command = $0O;
      this.$7Y("TimeRangeMenuClick", $0x, $n);
    };
    this.timeRangeMenuClickCallBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.selection = e;
      $0x.command = $0O;
      this.$7Z("TimeRangeMenuClick", $0x, $n);
    };
    this.$8H = function ($0O, e, $0P) {
      switch ($0P) {
        case 'PostBack':
          $e.timeRangeMenuClickPostBack(e, $0O);
          break;
        case 'CallBack':
          $e.timeRangeMenuClickCallBack(e, $0O);
          break;
      }
    };
    this.linkMenuClickPostBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.link = e;
      $0x.command = $0O;
      this.$7Y("LinkMenuClick", $0x, $n);
    };
    this.linkMenuClickCallBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.link = e;
      $0x.command = $0O;
      this.$7Z("LinkMenuClick", $0x, $n);
    };
    this.$8I = function ($0O, e, $0P) {
      switch ($0P) {
        case 'PostBack':
          $e.linkMenuClickPostBack(e, $0O);
          break;
        case 'CallBack':
          $e.linkMenuClickCallBack(e, $0O);
          break;
      }
    };
    this.rowMenuClickPostBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.resource = e;
      $0x.command = $0O;
      this.$7Y("RowMenuClick", $0x, $n);
    };
    this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack;
    this.rowMenuClickCallBack = function (e, $0O, $n) {
      var $0x = {};
      $0x.resource = e;
      $0x.command = $0O;
      this.$7Z("RowMenuClick", $0x, $n);
    };
    this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack;
    this.$8J = function ($0O, e, $0P) {
      switch ($0P) {
        case 'PostBack':
          $e.rowMenuClickPostBack(e, $0O);
          break;
        case 'CallBack':
          $e.rowMenuClickCallBack(e, $0O);
          break;
      }
    };
    this.$8K = function ($t, $0S) {
      var r = $0T.$8L($t);
      var c = r.cells[0];
      var $0U = c.textDiv;
      $0U.innerHTML = $0S;
      $t.Text = $0S;
      $t.html = $0S;
    };
    this.$8M = function ($t, $0S) {
      var $0V = DayPilot.indexOf($e.rowlist, $t);
      var e = $e.$8N($t, $0V);
      if ($e.$7s()) {
        var $h = {};
        $h.resource = e;
        $h.newText = $0S;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onRowEdit === 'function') {
          $e.onRowEdit($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.rowEditHandling) {
          case 'PostBack':
            $e.rowEditPostBack(e, $0S);
            break;
          case 'CallBack':
            $e.rowEditCallBack(e, $0S);
            break;
          case 'Update':
            $e.$8K($t, $0S);
            break;
        }
        ;
        if (typeof $e.onRowEdited === 'function') {
          $e.onRowEdited($h);
        }
      } else {
        switch ($e.rowEditHandling) {
          case 'PostBack':
            $e.rowEditPostBack(e, $0S);
            break;
          case 'CallBack':
            $e.rowEditCallBack(e, $0S);
            break;
          case 'JavaScript':
            $e.onrowEdit(e, $0S);
            break;
        }
      }
    };
    this.rowEditPostBack = function (e, $0S, $n) {
      var $0x = {};
      $0x.resource = e;
      $0x.newText = $0S;
      this.$7Y("RowEdit", $0x, $n);
    };
    this.rowEditCallBack = function (e, $0S, $n) {
      var $0x = {};
      $0x.resource = e;
      $0x.newText = $0S;
      this.$7Z("RowEdit", $0x, $n);
    };
    this.rowMovePostBack = function ($0W, $0X, $U, $n) {
      var $0x = {};
      $0x.source = $0W;
      $0x.target = $0X;
      $0x.position = $U;
      this.$7Y("RowMove", $0x, $n);
    };
    this.rowMoveCallBack = function ($0W, $0X, $U, $n) {
      var $0x = {};
      $0x.source = $0W;
      $0x.target = $0X;
      $0x.position = $U;
      this.$7Z("RowMove", $0x, $n);
    };
    this.rowMoveNotify = function ($0W, $0X, $U, $n) {
      var $0x = {};
      $0x.source = $0W;
      $0x.target = $0X;
      $0x.position = $U;
      this.$7Z("RowMove", $0x, $n, "Notify");
    };
    this.rowClickPostBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Y("RowClick", $0x, $n);
    };
    this.resourceHeaderClickPostBack = this.rowClickPostBack;
    this.rowClickCallBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Z("RowClick", $0x, $n);
    };
    this.resourceHeaderClickCallBack = this.rowClickCallBack;
    this.$8O = function (e, $0F, $0Y) {
      if ($e.rowDoubleClickHandling === "Disabled") {
        $e.$8P(e, $0F, $0Y);
        return;
      }
      ;
      if (!$e.timeouts.resClick) {
        $e.timeouts.resClick = [];
      }
      ;
      var $0Z = function (e, $0F, $0Y) {
        return function () {
          $e.$8P(e, $0F, $0Y);
        };
      };
      $e.timeouts.resClick.push(window.setTimeout($0Z(e, $0F, $0Y), $e.doubleClickTimeout));
    };
    this.$8P = function (e, $0F, $0Y) {
      var $10 = $e.resourceHeaderClickHandling || $e.rowClickHandling;
      if ($e.$7s()) {
        var $h = {};
        $h.resource = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onRowClick === 'function') {
          $e.onRowClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        if (typeof $e.onResourceHeaderClick === 'function') {
          $e.onResourceHeaderClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($10) {
          case 'PostBack':
            $e.rowClickPostBack(e);
            break;
          case 'CallBack':
            $e.rowClickCallBack(e);
            break;
          case 'Select':
            $e.$8Q(e.$8R, $0F, $0Y);
            break;
          case 'Edit':
            $e.$8S.edit(e.$8R);
            break;
        }
        ;
        if (typeof $e.onRowClicked === 'function') {
          $e.onRowClicked($h);
        }
        ;
        if (typeof $e.onResourceHeaderClicked === 'function') {
          $e.onResourceHeaderClicked($h);
        }
      } else {
        switch ($10) {
          case 'PostBack':
            $e.rowClickPostBack(e);
            break;
          case 'CallBack':
            $e.rowClickCallBack(e);
            break;
          case 'JavaScript':
            $e.onRowClick(e);
            break;
          case 'Select':
            $e.$8Q(e.$8R, $0F, $0Y);
            break;
          case 'Edit':
            $e.$8S.edit(e.$8R);
            break;
        }
      }
    };
    this.timeHeaderClickPostBack = function (e, $n) {
      var $0x = {};
      $0x.header = e;
      this.$7Y("TimeHeaderClick", $0x, $n);
    };
    this.timeHeaderClickCallBack = function (e, $n) {
      var $0x = {};
      $0x.header = e;
      this.$7Z("TimeHeaderClick", $0x, $n);
    };
    this.$8T = function (e) {
      if ($e.$7s()) {
        var $h = {};
        $h.header = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onTimeHeaderClick === 'function') {
          $e.onTimeHeaderClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch (this.timeHeaderClickHandling) {
          case 'PostBack':
            $e.timeHeaderClickPostBack(e);
            break;
          case 'CallBack':
            $e.timeHeaderClickCallBack(e);
            break;
        }
        ;
        if (typeof $e.onTimeHeaderClicked === 'function') {
          $e.onTimeHeaderClicked($h);
        }
      } else {
        switch (this.timeHeaderClickHandling) {
          case 'PostBack':
            $e.timeHeaderClickPostBack(e);
            break;
          case 'CallBack':
            $e.timeHeaderClickCallBack(e);
            break;
          case 'JavaScript':
            $e.onTimeHeaderClick(e);
            break;
        }
      }
    };
    this.resourceCollapsePostBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Y("ResourceCollapse", $0x, $n);
    };
    this.resourceCollapseCallBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Z("ResourceCollapse", $0x, $n);
    };
    this.$8U = function (e) {
      if ($e.$7s()) {
        var $h = {};
        $h.resource = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onResourceCollapse === 'function') {
          $e.onResourceCollapse($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch (this.resourceCollapseHandling) {
          case 'PostBack':
            $e.resourceCollapsePostBack(e);
            break;
          case 'CallBack':
            $e.resourceCollapseCallBack(e);
            break;
        }
      } else {
        switch (this.resourceCollapseHandling) {
          case 'PostBack':
            $e.resourceCollapsePostBack(e);
            break;
          case 'CallBack':
            $e.resourceCollapseCallBack(e);
            break;
          case 'JavaScript':
            $e.onResourceCollapse(e);
            break;
        }
      }
    };
    this.resourceExpandPostBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Y("ResourceExpand", $0x, $n);
    };
    this.resourceExpandCallBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Z("ResourceExpand", $0x, $n);
    };
    this.$8V = function (e) {
      if ($e.$7s()) {
        var $h = {};
        $h.resource = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onResourceExpand === 'function') {
          $e.onResourceExpand($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch (this.resourceExpandHandling) {
          case 'PostBack':
            $e.resourceExpandPostBack(e);
            break;
          case 'CallBack':
            $e.resourceExpandCallBack(e);
            break;
        }
      } else {
        switch (this.resourceExpandHandling) {
          case 'PostBack':
            $e.resourceExpandPostBack(e);
            break;
          case 'CallBack':
            $e.resourceExpandCallBack(e);
            break;
          case 'JavaScript':
            $e.onResourceExpand(e);
            break;
        }
      }
    };
    this.eventEditPostBack = function (e, $0S, $n) {
      var $0x = {};
      $0x.e = e;
      $0x.newText = $0S;
      this.$7Y("EventEdit", $0x, $n);
    };
    this.eventEditCallBack = function (e, $0S, $n) {
      var $0x = {};
      $0x.e = e;
      $0x.newText = $0S;
      this.$7Z("EventEdit", $0x, $n);
    };
    this.$8W = function (e, $0S) {
      if ($e.$7s()) {
        var $h = {};
        $h.e = e;
        $h.newText = $0S;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onEventEdit === 'function') {
          $e.onEventEdit($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.eventEditHandling) {
          case 'PostBack':
            $e.eventEditPostBack(e, $0S);
            break;
          case 'CallBack':
            $e.eventEditCallBack(e, $0S);
            break;
          case 'Update':
            e.text($0S);
            $e.events.update(e);
            break;
        }
        ;
        if (typeof $e.onEventEdited === 'function') {
          $e.onEventEdited($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
      } else {
        switch ($e.eventEditHandling) {
          case 'PostBack':
            $e.eventEditPostBack(e, $0S);
            break;
          case 'CallBack':
            $e.eventEditCallBack(e, $0S);
            break;
          case 'JavaScript':
            $e.onEventEdit(e, $0S);
            break;
        }
      }
    };
    this.commandCallBack = function ($0O, $n) {
      this.$8X("CallBack", $0O, $n);
    };
    this.commandPostBack = function ($0O, $n) {
      this.$8X("PostBack", $0O, $n);
    };
    this.$8X = function ($B, $0O, $n) {
      var $0x = {};
      $0x.command = $0O;
      this.$89($B, "Command", $0x, $n);
    };
    this.$7Y = function ($0C, $11, $n) {
      var $12 = {};
      $12.action = $0C;
      $12.type = "PostBack";
      $12.parameters = $11;
      $12.data = $n;
      $12.header = this.$8Y();
      var $13 = "JSON" + DayPilot.JSON.stringify($12);
      __doPostBack($e.uniqueID, $13);
    };
    this.$7Z = function ($0C, $11, $n, $B) {
      if (!$e.$7L()) {
        $e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
        return;
      }
      ;
      if ($e.callbackTimeout) {
        window.clearTimeout($e.callbackTimeout);
      }
      ;
      if (typeof $B === 'undefined') {
        $B = "CallBack";
      }
      ;
      this.$8Z();
      this.callbackTimeout = window.setTimeout(function () {
        $e.$90();
      }, 100);
      var $12 = {};
      $12.action = $0C;
      $12.type = $B;
      $12.parameters = $11;
      $12.data = $n;
      $12.header = this.$8Y();
      var $14 = DayPilot.JSON.stringify($12);
      var $13;
      if (typeof Iuppiter !== 'undefined' && Iuppiter.compress) {
        $13 = "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress($14));
      } else {
        $13 = "JSON" + $14;
      }
      ;
      this.$91($12);
      var $g = null;
      if (this.backendUrl) {
        DayPilot.request(this.backendUrl, this.$92, $13, this.$93);
      } else if (typeof WebForm_DoCallback === 'function') {
        WebForm_DoCallback(this.uniqueID, $13, this.$6Y, $g, this.callbackError, true);
      }
    };
    this.$91 = function ($12) {
      var $h = {};
      if (typeof $e.onCallBackStart === 'function') {
        $e.onCallBackStart($h);
      }
    };
    this.$73 = function () {
      var $h = {};
      if (typeof $e.onCallBackEnd === 'function') {
        setTimeout(function () {
          $e.onCallBackEnd($h);
        }, 0);
      }
    };
    this.$7L = function () {
      if (this.backendUrl) {
        return true;
      }
      ;
      if (this.$94()) {
        return true;
      }
      ;
      return false;
    };
    this.$94 = function () {
      if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
        return true;
      }
      ;
      return false;
    };
    this.$93 = function ($15) {
      if (typeof $e.onAjaxError === 'function') {
        var $h = {};
        $h.request = $15;
        $e.onAjaxError($h);
      } else if (typeof $e.ajaxError === 'function') {
        $e.ajaxError($15);
      }
    };
    this.$92 = function ($16) {
      $e.$6Y($16.responseText);
    };
    this.$8Y = function () {
      var h = {};
      h.v = this.v;
      h.control = "dps";
      h.id = this.id;
      h.startDate = $e.startDate;
      h.days = $e.days;
      h.cellDuration = $e.cellDuration;
      h.cellGroupBy = $e.cellGroupBy;
      h.cellWidth = $e.cellWidth;
      h.cellWidthSpec = $e.cellWidthSpec;
      h.viewType = $e.viewType;
      h.hourNameBackColor = $e.hourNameBackColor;
      h.showNonBusiness = $e.showNonBusiness;
      h.businessBeginsHour = $e.businessBeginsHour;
      h.businessEndsHour = $e.businessEndsHour;
      h.weekStarts = $e.weekStarts;
      h.treeEnabled = $e.treeEnabled;
      h.backColor = $e.cellBackColor;
      h.nonBusinessBackColor = $e.cellBackColorNonBusiness;
      h.locale = $e.locale;
      h.timeZone = $e.timeZone;
      h.tagFields = $e.tagFields;
      h.timeHeaders = $e.timeHeaders;
      h.cssOnly = $e.cssOnly;
      h.cssClassPrefix = $e.cssClassPrefix;
      h.durationBarMode = $e.durationBarMode;
      h.showBaseTimeHeader = true;
      h.rowHeaderColumns = $e.rowHeaderColumns;
      h.scale = $e.scale;
      h.clientState = $e.clientState;
      if (this.nav.scroll) {
        h.scrollX = this.nav.scroll.scrollLeft;
        h.scrollY = this.nav.scroll.scrollTop;
      }
      ;
      h.selected = $e.multiselect.events();
      h.selectedRows = $0T.$95();
      h.hashes = $e.hashes;
      var $u = $e.$96(h.scrollX, h.scrollY);
      var $0R = $e.$97($u);
      var $17 = $e.$98($u);
      h.rangeStart = $0R.start;
      h.rangeEnd = $0R.end;
      h.resources = $17;
      h.dynamicLoading = $e.dynamicLoading;
      if (this.syncResourceTree) {
        h.tree = this.$99();
      }
      ;
      if (this.syncLinks) {
        h.links = this.$9a();
      }
      ;
      return h;
    };
    this.$9a = function () {
      var $C = [];
      for (var i = 0; i < $e.links.length; i++) {
        var link = $e.links[i];
        var $14 = {};
        $14.id = link.id;
        $14.from = link.from;
        $14.to = link.to;
        $14.type = link.type;
        $C.push($14);
      }
      ;
      return $C;
    };
    this.getViewPort = function () {
      var scrollX = this.nav.scroll.scrollLeft;
      var scrollY = this.nav.scroll.scrollTop;
      var $u = this.$96(scrollX, scrollY);
      var $0R = this.$97($u);
      var $18 = this.$98($u);
      var $f = {};
      $f.start = $0R.start;
      $f.end = $0R.end;
      $f.resources = $18;
      return $f;
    };
    this.$96 = function (scrollX, scrollY) {
      var $u = {};
      $u.start = {};
      $u.end = {};
      $u.start.x = Math.floor(scrollX / $e.cellWidth);
      $u.end.x = Math.floor((scrollX + $e.nav.scroll.clientWidth) / $e.cellWidth);
      $u.start.y = $e.$9b(scrollY).i;
      $u.end.y = $e.$9b(scrollY + $e.nav.scroll.clientHeight).i;
      var $19 = this.itline.length;
      if ($u.end.x >= $19) {
        $u.end.x = $19 - 1;
      }
      ;
      return $u;
    };
    this.$97 = function ($u) {
      var $f = {};
      if (this.itline.length <= 0) {
        $f.start = this.startDate;
        $f.end = this.startDate;
        return $f;
      }
      ;
      if (!this.itline[$u.start.x]) {
        throw 'Internal error: area.start.x is null.';
      }
      ;
      $f.start = this.itline[$u.start.x].start;
      $f.end = this.itline[$u.end.x].end;
      return $f;
    };
    this.$98 = function ($u) {
      if (!$u) {
        var $u = this.$96(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
      }
      ;
      var $17 = [];
      $17.ignoreToJSON = true;
      for (var i = $u.start.y; i <= $u.end.y; i++) {
        var r = $e.rowlist[i];
        if (r && !r.hidden) {
          $17.push(r.id);
        }
      }
      ;
      return $17;
    };
    this.$99 = function () {
      var $1a = [];
      $1a.ignoreToJSON = true;
      for (var i = 0; i < this.rowlist.length; i++) {
        if (this.rowlist[i].level > 0) {
          continue;
        }
        ;
        var $1b = this.$9c(i);
        $1a.push($1b);
      }
      ;
      return $1a;
    };
    this.$9d = function ($1c) {
      var $1d = [];
      $1d.ignoreToJSON = true;
      for (var i = 0; i < $1c.length; i++) {
        $1d.push($e.$9c($1c[i]));
      }
      ;
      return $1d;
    };
    this.$9c = function (i) {
      var $t = this.rowlist[i];
      if (typeof $e.onGetNodeState === "function") {
        var $h = {};
        $h.row = $t;
        $h.preventDefault = function () {
          $h.preventDefault.value = true;
        };
        $h.result = {};
        $e.onGetNodeState($h);
        if ($h.preventDefault.value) {
          return $h.result;
        }
      }
      ;
      var $1b = {};
      $1b.Value = $t.id;
      $1b.BackColor = $t.backColor;
      $1b.Name = $t.name;
      $1b.InnerHTML = $t.html;
      $1b.ToolTip = $t.toolTip;
      $1b.Expanded = $t.expanded;
      $1b.Children = this.$9d($t.children);
      $1b.Loaded = $t.loaded;
      $1b.IsParent = $t.isParent;
      $1b.Columns = this.$9e($t);
      if ($t.minHeight !== $e.rowMinHeight) {
        $1b.MinHeight = $t.minHeight;
      }
      ;
      if ($t.marginBottom !== $e.rowMarginBottom) {
        $1b.MarginBottom = $t.marginBottom;
      }
      ;
      return $1b;
    };
    this.$9e = function ($t) {
      if (!$t.columns || $t.columns.length === 0) {
        return null;
      }
      ;
      var $1e = [];
      $1e.ignoreToJSON = true;
      for (var i = 0; i < $t.columns.length; i++) {
        var c = {};
        c.InnerHTML = $t.columns[i].html;
        $1e.push(c);
      }
      ;
      return $1e;
    };
    this.$7C = function ($1f) {
      var $1g = this.theme || this.cssClassPrefix;
      if ($1g) {
        return $1g + $1f;
      } else {
        return "";
      }
    };
    this.$9f = function () {
      this.nav.top.dispose = this.dispose;
    };
    this.dispose = function () {
      var c = $e;
      if (!c.nav.top) {
        return;
      }
      ;
      c.$8Z();
      c.$7j();
      c.divBreaks = null;
      c.divCells = null;
      c.divCorner = null;
      c.divCrosshair = null;
      c.divEvents = null;
      if (c.divHeader) {
        c.divHeader.rows = null;
      }
      ;
      c.divHeader = null;
      c.divLines = null;
      c.divNorth = null;
      c.divRange = null;
      c.divResScroll = null;
      c.divSeparators = null;
      c.divSeparatorsAbove = null;
      c.divStretch = null;
      c.divTimeScroll = null;
      c.$7I = null;
      c.$75 = null;
      c.$9g.calendar = null;
      c.$9g = null;
      c.nav.loading = null;
      c.nav.top.onmousemove = null;
      c.nav.top.dispose = null;
      c.nav.top.ontouchstart = null;
      c.nav.top.ontouchmove = null;
      c.nav.top.ontouchend = null;
      c.nav.top.removeAttribute('style');
      c.nav.top.removeAttribute('class');
      c.nav.top.innerHTML = "";
      c.nav.top.dp = null;
      c.nav.top = null;
      c.nav.scroll.onscroll = null;
      c.nav.scroll.root = null;
      c.nav.scroll = null;
      DayPilot.ue(window, 'resize', c.$9h);
      DayPilotScheduler.unregister(c);
    };
    this.$9i = function ($1h, $B) {
      var $1i = $e.$9g;
      var $1j = $e.$9j($1h);
      var event = $1h.event;
      var $V = event.part.height || $e.$9k.eventHeight();
      var top = (event.part && event.part.top) ? (event.part.top + $e.rowlist[event.part.dayIndex].top) : $1j.top;
      var $1k = document.createElement('div');
      $1k.setAttribute('unselectable', 'on');
      $1k.style.position = 'absolute';
      $1k.style.width = ($1j.width) + 'px';
      $1k.style.height = $V + 'px';
      $1k.style.left = $1j.left + 'px';
      $1k.style.top = top + 'px';
      $1k.style.zIndex = 101;
      $1k.style.overflow = 'hidden';
      var $J = document.createElement("div");
      $1k.appendChild($J);
      if (this.cssOnly) {
        $1k.className = this.$7C("_shadow");
        $J.className = this.$7C("_shadow_inner");
      }
      ;
      if (!this.cssOnly) {
        if ($B === 'Fill') {
          $J.style.backgroundColor = "#aaaaaa";
          $J.style.opacity = 0.5;
          $J.style.filter = "alpha(opacity=50)";
          $J.style.height = "100%";
          if ($1h && $1h.event && $1h.style) {
            $J.style.fontSize = $1h.style.fontSize;
            $J.style.fontFamily = $1h.style.fontFamily;
            $J.style.color = $1h.style.color;
            $J.innerHTML = $1h.event.client.innerHTML();
          }
        } else {
          $1k.style.paddingTop = "2px";
          $J.style.border = '2px dotted #666666';
        }
      }
      ;
      $1i.appendChild($1k);
      $1k.calendar = $e;
      return $1k;
    };
    this.$9l = function ($1h, $B) {
      var $1i = $e.$9g;
      var $1j = $e.$9j($1h);
      var event = $1h.event;
      var ev = event;
      var $V = event.part.height || $e.$9k.eventHeight();
      var top = (event.part && event.part.top) ? (event.part.top + $e.rowlist[event.part.dayIndex].top) : $1j.top;
      var $x = $1j.left;
      var $1l = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
      var $1m = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
      if (!$1l && DayPilotScheduler.moving) {
        top = $e.rowlist[ev.part.dayIndex].top;
      }
      ;
      if (!$1m && DayPilotScheduler.moving) {
        $x = event.part.left;
      }
      ;
      var $1k = document.createElement('div');
      $1k.setAttribute('unselectable', 'on');
      $1k.style.position = 'absolute';
      $1k.style.width = ($1j.width) + 'px';
      $1k.style.height = $V + 'px';
      $1k.style.left = $x + 'px';
      $1k.style.top = top + 'px';
      $1k.style.zIndex = 101;
      $1k.style.overflow = 'hidden';
      var $J = document.createElement("div");
      $1k.appendChild($J);
      if (this.cssOnly) {
        $1k.className = this.$7C("_shadow");
        $J.className = this.$7C("_shadow_inner");
      }
      ;
      if (!this.cssOnly) {
        if ($B === 'Fill') {
          $J.style.backgroundColor = "#aaaaaa";
          $J.style.opacity = 0.5;
          $J.style.filter = "alpha(opacity=50)";
          $J.style.height = "100%";
          if ($1h && $1h.event && $1h.style) {
            $J.style.fontSize = $1h.style.fontSize;
            $J.style.fontFamily = $1h.style.fontFamily;
            $J.style.color = $1h.style.color;
            $J.innerHTML = $1h.event.client.innerHTML();
          }
        } else {
          $1k.style.paddingTop = "2px";
          $J.style.border = '2px dotted #666666';
        }
      }
      ;
      $1i.appendChild($1k);
      $1k.calendar = $e;
      return $1k;
    };
    this.$9b = function (y) {
      var $f = {};
      var element;
      var top = 0;
      var $1n = 0;
      var $1o = this.rowlist.length;
      for (var i = 0; i < $1o; i++) {
        var $t = this.rowlist[i];
        if ($t.hidden) {
          continue;
        }
        ;
        $1n += $t.height;
        if (y < $1n || i === $1o - 1) {
          top = $1n - $t.height;
          element = $t;
          break;
        }
      }
      ;
      $f.top = top;
      $f.bottom = $1n;
      $f.i = i;
      $f.element = element;
      return $f;
    };
    var $0J = {};
    this.$9m = $0J;
    $0J.clear = function () {
      $e.divLinksAbove.innerHTML = '';
      $e.divLinksBelow.innerHTML = '';
      $e.elements.links = [];
    };
    $0J.showLinkpoints = function () {
      var $D = $A.events();
      $D.each(function ($G) {
        $0J.showLinkpoint($G);
      });
    };
    $0J.showLinkpoint = function ($G) {
      var $01 = 10;
      var $1p = $01 / 2;
      var $x = $G.event.part.left;
      var top = $e.rowlist[$G.event.part.dayIndex].top + $G.event.part.top;
      var $V = $G.event.part.height;
      var $y = $G.event.part.right;
      var $v = DayPilot.Util.div($e.divLinkpoints, $x - $1p, top - $1p + $V / 2, $01, $01);
      $v.style.backgroundColor = "white";
      $v.style.border = "1px solid gray";
      $v.style.borderRadius = "5px";
      $v.style.boxSizing = "border-box";
      $v.coords = {x: $x, y: top + $V / 2};
      $v.type = "Start";
      $v.event = $G.event;
      $0J.activateLinkpoint($v);
      $e.elements.linkpoints.push($v);
      var end = DayPilot.Util.div($e.divLinkpoints, $y - $1p, top - $1p + $V / 2, $01, $01);
      end.style.backgroundColor = "white";
      end.style.border = "1px solid gray";
      end.style.borderRadius = "5px";
      end.style.boxSizing = "border-box";
      end.coords = {x: $y, y: top + $V / 2};
      end.type = "Finish";
      end.event = $G.event;
      $0J.activateLinkpoint(end);
      $e.elements.linkpoints.push(end);
    };
    $0J.activateLinkpoint = function ($G) {
      $G.onmousedown = function (ev) {
        var ev = ev || window.event;
        $1q.source = $G;
        $1q.calendar = $e;
        $0J.showLinkpoints();
        ev.preventDefault && ev.preventDefault();
        ev.stopPropagation && ev.stopPropagation();
        return false;
      };
      $G.onmousemove = function (ev) {
        $G.style.backgroundColor = "black";
        $0J.clearHideTimeout();
      };
      $G.onmouseout = function (ev) {
        if (!$1q.source || $1q.source.event !== $G.event) {
          $G.style.backgroundColor = "white";
        }
      };
      $G.onmouseup = function (ev) {
        if ($1q.source) {
          var $B = $1q.source.type + "To" + $G.type;
          var $1r = $1q.source.event.id();
          var to = $G.event.id();
          var $h = {};
          $h.from = $1r;
          $h.to = to;
          $h.type = $B;
          $h.id = null;
          $h.preventDefault = function () {
            this.preventDefault.value = true;
          };
          if (typeof $e.onLinkCreate === "function") {
            $e.onLinkCreate($h);
            if ($h.preventDefault.value) {
              return;
            }
          }
          ;
          var $1s = function () {
            $e.links.push({"from": $1r, "to": to, "type": $B});
            $0J.load();
          };
          switch ($e.linkCreateHandling) {
            case "Update":
              $1s();
              break;
            case "CallBack":
              $e.$9n($h);
              break;
            case "PostBack":
              $e.$9o($h);
              break;
            case "Notify":
              $1s();
              $e.$9p($h);
              break;
          }
          ;
          if (typeof $e.onLinkCreated === "function") {
            $e.onLinkCreated($h);
          }
        }
      };
    };
    $0J.hideLinkpoints = function () {
      $e.divLinkpoints.innerHTML = '';
      $e.elements.linkpoints = [];
    };
    $0J.hideTimeout = null;
    $0J.hideLinkpointsWithDelay = function () {
      $0J.hideTimeout = setTimeout(function () {
        $0J.hideLinkpoints();
      }, 100);
    };
    $0J.clearHideTimeout = function () {
      if ($0J.hideTimeout) {
        clearTimeout($0J.hideTimeout);
        $0J.hideTimeout = null;
      }
    };
    $0J.load = function () {
      $0J.clear();
      if (!DayPilot.isArray($e.links)) {
        return;
      }
      ;
      for (var i = 0; i < $e.links.length; i++) {
        var link = $e.links[i];
        $0J.drawLinkId(link.from, link.to, link);
      }
    };
    $0J.drawLinkId = function ($1r, to, $1t) {
      var $v = $e.events.find($1r);
      var end = $e.events.find(to);
      $0J.drawLink($v, end, $1t);
    };
    $0J.drawLink = function ($1r, to, $1t) {
      var $1u = $e.$9q($1r);
      var $1v = $e.$9q(to);
      if (!$1u) {
        return;
      }
      ;
      if (!$1v) {
        return;
      }
      ;
      var $B = $1t.type || "FinishToStart";
      var $v, end;
      var $1w = $e.rowlist[$1u.event.part.dayIndex].top;
      var $1x = $e.rowlist[$1v.event.part.dayIndex].top;
      switch ($B) {
        case "FinishToStart":
          $v = {x: $1u.event.part.right, y: $1w + $1u.event.part.top};
          end = {x: $1v.event.part.left, y: $1x + $1v.event.part.top};
          break;
        case "StartToFinish":
          $v = {x: $1u.event.part.left, y: $1w + $1u.event.part.top};
          end = {x: $1v.event.part.right, y: $1x + $1v.event.part.top};
          break;
        case "StartToStart":
          $v = {x: $1u.event.part.left, y: $1w + $1u.event.part.top};
          end = {x: $1v.event.part.left, y: $1x + $1v.event.part.top};
          break;
        case "FinishToFinish":
          $v = {x: $1u.event.part.right, y: $1w + $1u.event.part.top};
          end = {x: $1v.event.part.right, y: $1x + $1v.event.part.top};
          break;
      }
      ;
      $0J.drawLinkXy($v, end, $1t);
    };
    $0J.clearShadow = function () {
      $e.divLinkShadow.innerHTML = '';
      $e.elements.linkshadow = [];
    };
    $0J.drawShadow = function ($1r, to) {
      $0J.clearShadow();
      if (DayPilot.browser.ielt9) {
        $0J.drawShadowOldStyle($1r, to);
      } else {
        var parent = $e.divLinkShadow;
        var $09 = DayPilot.line($1r.x, $1r.y, to.x, to.y, true);
        parent.appendChild($09);
        $e.elements.linkshadow.push($09);
      }
    };
    $0J.drawShadowOldStyle = function ($1r, to) {
      var nx = Math.min($1r.x, to.x);
      var $01 = 2;
      var parent = $e.divLinkShadow;
      var $1y = "black";
      var h1 = DayPilot.Util.div(parent, nx, $1r.y, $1r.x - nx, $01);
      h1.style.backgroundColor = $1y;
      $e.elements.linkshadow.push(h1);
      var v1 = DayPilot.Util.div(parent, nx, $1r.y, $01, to.y - $1r.y);
      v1.style.backgroundColor = $1y;
      $e.elements.linkshadow.push(v1);
      var h3 = DayPilot.Util.div(parent, nx, to.y, to.x - nx, $01);
      h3.style.backgroundColor = $1y;
      $e.elements.linkshadow.push(h3);
      var a = DayPilot.Util.div(parent, to.x - 6, to.y - 5, 0, 0);
      a.style.borderColor = "transparent transparent transparent " + $1y;
      a.style.borderStyle = "solid";
      a.style.borderWidth = "6px";
      $e.elements.linkshadow.push(a);
    };
    $0J.drawLinkXy = function ($1r, to, $1t) {
      var $1z = $e.eventHeight / 2;
      var $01 = $1t.width || 1;
      var $B = $1t.type || "FinishToStart";
      var $1y = $1t.color;
      var style = $1t.style;
      var $1A = $1t.layer || "Above";
      var $1B = $1A === "Above";
      var $1C = $1B ? $e.divLinksAbove : $e.divLinksBelow;
      var $V = $e.eventHeight;
      var $S = $e.linkBottomMargin;
      var $1D = function ($G, $1E) {
        if ($1y) {
          $G.style["border" + $1E + "Color"] = $1y;
        }
        ;
        if (style) {
          $G.style["border" + $1E + "Style"] = style;
        }
      };
      var $1F = [];
      var $1G = function ($G, $1H) {
        $e.elements.links.push($G);
        $1I($G);
        $1J($G);
        $G.divs = $1F;
        if (!$1H) {
          $1F.push($G);
        }
      };
      var $1J = function ($G) {
        $G.oncontextmenu = function (ev) {
          ev = ev || window.event;
          if ($e.contextMenuLink) {
            var link = new DayPilot.Link($1t, $e);
            $e.contextMenuLink.show(link);
          }
          ;
          ev.cancelBubble = true;
          ev.preventDefault ? ev.preventDefault() : null;
        }
      };
      var $1I = function ($G) {
        $G.onmouseenter = function () {
          DayPilot.Util.addClass($G.divs, $e.$7C("_link_hover"));
        };
        $G.onmouseleave = function () {
          DayPilot.Util.removeClass($G.divs, $e.$7C("_link_hover"));
        };
      };
      if ($B === "FinishToStart") {
        if ($1r.x > to.x) {
          var $1B = 5;
          var $1K = to.y - $1B;
          var h1 = DayPilot.Util.div($1C, $1r.x, $1r.y + $V - $S, $1z + $01, $01);
          h1.style.boxSizing = "border-box";
          h1.style.borderBottomWidth = $01 + "px";
          h1.className = $e.$7C("_link_horizontal");
          DayPilot.Util.addClass(h1, $1t.cssClass);
          $1D(h1, "Bottom");
          $1G(h1);
          var v1 = DayPilot.Util.div($1C, $1r.x + $1z, $1r.y + $V - $S, $01, $1K - ($1r.y + $V - $S));
          v1.style.boxSizing = "border-box";
          v1.style.borderRightWidth = $01 + "px";
          v1.className = $e.$7C("_link_vertical");
          DayPilot.Util.addClass(v1, $1t.cssClass);
          $1D(v1, "Right");
          $1G(v1);
          var h2 = DayPilot.Util.div($1C, to.x - $1z, $1K, $1r.x + 2 * $1z + $01 - to.x, $01);
          h2.style.boxSizing = "border-box";
          h2.style.borderBottomWidth = $01 + "px";
          h2.className = $e.$7C("_link_horizontal");
          DayPilot.Util.addClass(h2, $1t.cssClass);
          $1D(h2, "Bottom");
          $1G(h2);
          var v2 = DayPilot.Util.div($1C, to.x - $1z, $1K, $01, to.y - $1K + $V - $S);
          v2.style.boxSizing = "border-box";
          v2.style.borderRightWidth = $01 + "px";
          v2.className = $e.$7C("_link_vertical");
          DayPilot.Util.addClass(v2, $1t.cssClass);
          $1D(v2, "Right");
          $1G(v2);
          var h3 = DayPilot.Util.div($1C, to.x - $1z, to.y + $V - $S, $1z, $01);
          h3.style.boxSizing = "border-box";
          h3.style.borderBottomWidth = $01 + "px";
          h3.className = $e.$7C("_link_horizontal");
          DayPilot.Util.addClass(h3, $1t.cssClass);
          $1D(h3, "Bottom");
          $1G(h3);
          var a;
          if ($1y) {
            a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 0, 0);
            a.style.borderWidth = "6px";
            a.style.borderColor = "transparent transparent transparent " + $1y;
            a.style.borderStyle = "solid";
          } else {
            a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 6, 6);
            a.className = $e.$7C("_link_arrow_right");
            DayPilot.Util.addClass(a, $1t.cssClass);
          }
          ;
          $1G(a, true);
        } else {
          var $1L = $1r.x;
          var $1M = $1r.y + $V - $S;
          var $1N = to.x + $1z;
          var $1O = to.y;
          var h1 = DayPilot.Util.div($1C, $1L, $1M, $1N - $1r.x, $01);
          h1.style.boxSizing = "border-box";
          h1.style.borderBottomWidth = $01 + "px";
          h1.className = $e.$7C("_link_horizontal");
          DayPilot.Util.addClass(h1, $1t.cssClass);
          $1D(h1, "Bottom");
          $1G(h1);
          var v1 = DayPilot.Util.div($1C, $1N, $1M, $01, $1O - $1M);
          v1.style.boxSizing = "border-box";
          v1.style.borderRightWidth = $01 + "px";
          v1.className = $e.$7C("_link_vertical");
          DayPilot.Util.addClass(v1, $1t.cssClass);
          $1D(v1, "Right");
          $1G(v1);
          var a;
          if ($1y) {
            a = DayPilot.Util.div($1C, $1N - 5 + Math.floor($01 / 2), $1O - 5, 0, 0);
            a.style.borderColor = $1y + " transparent transparent transparent";
            a.style.borderStyle = "solid";
            a.style.borderWidth = "5px";
          } else {
            a = DayPilot.Util.div($1C, $1N - 6 + Math.floor($01 / 2), $1O - 6, 6, 6);
            a.className = $e.$7C("_link_arrow_down");
            DayPilot.Util.addClass(a, $1t.cssClass);
          }
          ;
          $1G(a, true);
        }
      } else if ($B === "StartToFinish") {
        var $1B = 5;
        var $1K = to.y - $1B;
        var h1 = DayPilot.Util.div($1C, to.x, to.y + $V - $S, $1z + $01, $01);
        h1.style.boxSizing = "border-box";
        h1.style.borderBottomWidth = $01 + "px";
        h1.className = $e.$7C("_link_horizontal");
        DayPilot.Util.addClass(h1, $1t.cssClass);
        $1D(h1, "Bottom");
        $1G(h1);
        var v1 = DayPilot.Util.div($1C, to.x + $1z, to.y + $V - $S, $01, $1K - (to.y + $V - $S) + 0);
        v1.style.boxSizing = "border-box";
        v1.style.borderRightWidth = $01 + "px";
        v1.className = $e.$7C("_link_vertical");
        DayPilot.Util.addClass(v1, $1t.cssClass);
        $1D(v1, "Right");
        $1G(v1);
        var h2 = DayPilot.Util.div($1C, $1r.x - $1z, $1K, to.x + 2 * $1z + $01 - $1r.x, $01);
        h2.style.boxSizing = "border-box";
        h2.style.borderBottomWidth = $01 + "px";
        h2.className = $e.$7C("_link_horizontal");
        DayPilot.Util.addClass(h2, $1t.cssClass);
        $1D(h2, "Bottom");
        $1G(h2);
        var v2 = DayPilot.Util.div($1C, $1r.x - $1z, $1K, $01, $1r.y + $V - $S - $1K + 0);
        v2.style.boxSizing = "border-box";
        v2.style.borderRightWidth = $01 + "px";
        v2.className = $e.$7C("_link_vertical");
        DayPilot.Util.addClass(v2, $1t.cssClass);
        $1D(v2, "Right");
        $1G(v2);
        var h3 = DayPilot.Util.div($1C, $1r.x - $1z, $1r.y + $V - $S, $1z, $01);
        h3.style.boxSizing = "border-box";
        h3.style.borderBottomWidth = $01 + "px";
        h3.className = $e.$7C("_link_horizontal");
        DayPilot.Util.addClass(h3, $1t.cssClass);
        $1D(h3, "Bottom");
        $1G(h3);
        var a;
        if ($1y) {
          a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 0, 0);
          a.style.borderColor = "transparent " + $1y + " transparent transparent";
          a.style.borderStyle = "solid";
          a.style.borderWidth = "6px";
        } else {
          a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 6, 6);
          a.className = $e.$7C("_link_arrow_left");
          DayPilot.Util.addClass(a, $1t.cssClass);
        }
        ;
        $1G(a, true);
      } else if ($B === "StartToStart") {
        var nx = Math.min($1r.x, to.x) - $1z;
        var h1 = DayPilot.Util.div($1C, nx, $1r.y + $V - $S, $1r.x - nx, $01);
        h1.style.boxSizing = "border-box";
        h1.style.borderBottomWidth = $01 + "px";
        h1.className = $e.$7C("_link_horizontal");
        DayPilot.Util.addClass(h1, $1t.cssClass);
        $1D(h1, "Bottom");
        $1G(h1);
        var v1 = DayPilot.Util.div($1C, nx, $1r.y + $V - $S, $01, to.y - $1r.y);
        v1.style.boxSizing = "border-box";
        v1.style.borderRightWidth = $01 + "px";
        v1.className = $e.$7C("_link_vertical");
        DayPilot.Util.addClass(v1, $1t.cssClass);
        $1D(v1, "Right");
        $1G(v1);
        var h3 = DayPilot.Util.div($1C, nx, to.y + $V - $S, to.x - nx, $01);
        h3.style.boxSizing = "border-box";
        h3.style.borderBottomWidth = $01 + "px";
        h3.className = $e.$7C("_link_horizontal");
        DayPilot.Util.addClass(h3, $1t.cssClass);
        $1D(h3, "Bottom");
        $1G(h3);
        var a;
        if ($1y) {
          a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 0, 0);
          a.style.borderColor = "transparent transparent transparent " + $1y;
          a.style.borderStyle = "solid";
          a.style.borderWidth = "6px";
        } else {
          a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 6, 6);
          a.className = $e.$7C("_link_arrow_right");
          DayPilot.Util.addClass(a, $1t.cssClass);
        }
        ;
        $1G(a, true);
      } else if ($B === "FinishToFinish") {
        var fx = Math.max(to.x, $1r.x) + $1z;
        var h1 = DayPilot.Util.div($1C, $1r.x, $1r.y + $V - $S, fx - $1r.x, $01);
        h1.style.boxSizing = "border-box";
        h1.style.borderBottomWidth = $01 + "px";
        h1.className = $e.$7C("_link_horizontal");
        DayPilot.Util.addClass(h1, $1t.cssClass);
        $1D(h1, "Bottom");
        $1G(h1);
        var v1 = DayPilot.Util.div($1C, fx, $1r.y + $V - $S, $01, to.y - $1r.y);
        v1.style.boxSizing = "border-box";
        v1.style.borderRightWidth = $01 + "px";
        v1.className = $e.$7C("_link_vertical");
        DayPilot.Util.addClass(v1, $1t.cssClass);
        $1D(v1, "Right");
        $1G(v1);
        var h3 = DayPilot.Util.div($1C, to.x, to.y + $V - $S, fx - to.x, $01);
        h3.style.boxSizing = "border-box";
        h3.style.borderBottomWidth = $01 + "px";
        h3.className = $e.$7C("_link_horizontal");
        DayPilot.Util.addClass(h3, $1t.cssClass);
        $1D(h3, "Bottom");
        $1G(h3);
        var a;
        if ($1y) {
          a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 0, 0);
          a.style.borderColor = "transparent " + $1y + " transparent transparent";
          a.style.borderStyle = "solid";
          a.style.borderWidth = "6px";
        } else {
          a = DayPilot.Util.div($1C, to.x - 6, to.y + $V - $S - 5, 6, 6);
          a.className = $e.$7C("_link_arrow_left");
          DayPilot.Util.addClass(a, $1t.cssClass);
        }
        ;
        $1G(a, true);
      }
    };
    this.$9n = function ($h, $n) {
      var $0x = {};
      $0x.from = $h.from;
      $0x.to = $h.to;
      $0x.type = $h.type;
      $e.$7Z("LinkCreate", $0x, $n);
    };
    this.$9p = function ($h, $n) {
      var $0x = {};
      $0x.from = $h.from;
      $0x.to = $h.to;
      $0x.type = $h.type;
      $e.$7Z("LinkCreate", $0x, $n, "Notify");
    };
    this.$9o = function ($h, $n) {
      var $0x = {};
      $0x.from = $h.from;
      $0x.to = $h.to;
      $0x.type = $h.type;
      $e.$7Y("LinkCreate", $0x, $n);
    };
    this.$9r = function (i) {
      var top = 0;
      var $S = 0;
      var $0V = 0;
      if (i > this.rowlist.length - 1) {
        throw "Row index too high (DayPilotScheduler._getRowByIndex)";
      }
      ;
      for (var j = 0; j <= i; j++) {
        var $t = this.rowlist[j];
        if ($t.hidden) {
          continue;
        }
        ;
        $S += $t.height;
        $0V++;
      }
      ;
      top = $S - $t.height;
      var $f = {};
      $f.top = top;
      $f.height = $t.height;
      $f.bottom = $S;
      $f.i = $0V - 1;
      $f.data = $t;
      return $f;
    };
    this.$9s = function () {
      if (this.backendUrl || typeof WebForm_DoCallback === 'function') {
        return (typeof $e.events.list === 'undefined') || (!$e.events.list);
      } else {
        return false;
      }
    };
    this.events.find = function (id) {
      if (!$e.events.list || typeof $e.events.list.length === 'undefined') {
        return null;
      }
      ;
      var $1P = $e.events.list.length;
      for (var i = 0; i < $1P; i++) {
        if ($e.events.list[i].id === id) {
          return new DayPilot.Event($e.events.list[i], $e);
        }
      }
      ;
      return null;
    };
    this.events.all = function () {
      var $C = [];
      for (var i = 0; i < $e.events.list.length; i++) {
        var e = new DayPilot.Event($e.events.list[i], $e);
        $C.push(e);
      }
      ;
      return $1Q($C);
    };
    this.events.load = function ($1R, $1S, $1T) {
      var $1U = function ($h) {
        var $1V = {};
        $1V.exception = $h.exception;
        $1V.request = $h.request;
        if (typeof $1T === 'function') {
          $1T($1V);
        }
      };
      var $1W = function ($h) {
        var r = $h.request;
        var $n;
        try {
          $n = eval("(" + r.responseText + ")");
        } catch (e) {
          var $1X = {};
          $1X.exception = e;
          $1U($1X);
          return;
        }
        ;
        if (DayPilot.isArray($n)) {
          var $1Y = {};
          $1Y.preventDefault = function () {
            this.preventDefault.value = true;
          };
          $1Y.data = $n;
          if (typeof $1S === "function") {
            $1S($1Y);
          }
          ;
          if ($1Y.preventDefault.value) {
            return;
          }
          ;
          $e.events.list = $n;
          if ($e.$9t) {
            $e.update();
          }
        }
      };
      DayPilot.ajax({"url": $1R, "success": $1W, "error": $1U});
    };
    this.events.findRecurrent = function ($1Z, $0p) {
      if (!$e.events.list || typeof $e.events.list.length === 'undefined') {
        return null;
      }
      ;
      var $1P = $e.events.list.length;
      for (var i = 0; i < $1P; i++) {
        if ($e.events.list[i].recurrentMasterId === $1Z && $e.events.list[i].start.getTime() === $0p.getTime()) {
          return new DayPilot.Event($e.events.list[i], $e);
        }
      }
      ;
      return null;
    };
    this.events.$8c = function ($n) {
      var $0E = [];
      for (var i = 0; i < $e.rowlist.length; i++) {
        var $t = $e.rowlist[i];
        $e.$9u(i);
        for (var r = 0; r < $t.events.length; r++) {
          if ($t.events[r].data === $n) {
            $0E.push(i);
            $t.events.splice(r, 1);
            break;
          }
        }
      }
      ;
      return $0E;
    };
    this.events.$8d = function ($n) {
      var $0E = [];
      var $20 = $e.$9v() || $e.viewType === "Days";
      var $0V = DayPilot.indexOf($e.events.list, $n);
      $e.$9w($0V);
      for (var i = 0; i < $e.rowlist.length; i++) {
        var $t = $e.rowlist[i];
        $e.$9u(i);
        var ep = $e.$9x($n, $t);
        if (ep) {
          if (typeof $e.onBeforeEventRender === 'function') {
            ep.cache = $e.$6X.events[$0V];
          }
          ;
          $0E.push(i);
          if (!$20) {
            break;
          }
        }
      }
      ;
      return $0E;
    };
    this.events.update = function (e, $n) {
      var $0x = {};
      $0x.oldEvent = new DayPilot.Event(e.copy(), $e);
      $0x.newEvent = new DayPilot.Event(e.temp(), $e);
      var $0C = new DayPilot.Action($e, "EventUpdate", $0x, $n);
      var $0E = $e.events.$8c(e.data);
      e.commit();
      $0E = $0E.concat($e.events.$8d(e.data));
      $e.$8e($0E);
      $e.$8f();
      if ($e.$9t) {
        if ($e.viewType === "Gantt") {
          $e.update();
        } else {
          $e.$8g($0E);
          $e.$7h();
        }
      }
      ;
      $e.$9y.notify();
      return $0C;
    };
    this.events.remove = function (e, $n) {
      var $0x = {};
      $0x.e = new DayPilot.Event(e.data, $e);
      var $0C = new DayPilot.Action($e, "EventRemove", $0x, $n);
      var $0V = DayPilot.indexOf($e.events.list, e.data);
      $e.events.list.splice($0V, 1);
      var $0E = $e.events.$8c(e.data);
      $e.$8e($0E);
      $e.$8f();
      if ($e.$9t) {
        if ($e.viewType === "Gantt") {
          $e.update();
        } else {
          $e.$8g($0E);
          $e.$7h();
        }
      }
      ;
      $e.$9y.notify();
      return $0C;
    };
    this.events.add = function (e, $n) {
      e.calendar = $e;
      if (!$e.events.list) {
        $e.events.list = [];
      }
      ;
      $e.events.list.push(e.data);
      var $0x = {};
      $0x.e = e;
      var $0C = new DayPilot.Action($e, "EventAdd", $0x, $n);
      var $0E = $e.events.$8d(e.data);
      $e.$8e($0E);
      $e.$8f();
      if ($e.$9t) {
        if ($e.viewType === "Gantt") {
          $e.update();
        } else {
          $e.$8g($0E);
          $e.$7h();
        }
      }
      ;
      $e.$9y.notify();
      return $0C;
    };
    this.queue = {};
    this.queue.list = [];
    this.queue.list.ignoreToJSON = true;
    this.queue.add = function ($0C) {
      if (!$0C) {
        return;
      }
      ;
      if ($0C.isAction) {
        $e.queue.list.push($0C);
      } else {
        throw "DayPilot.Action object required for queue.add()";
      }
    };
    this.queue.notify = function ($n) {
      var $0x = {};
      $0x.actions = $e.queue.list;
      $e.$7Z('Notify', $0x, $n, "Notify");
      $e.queue.list = [];
    };
    this.queue.clear = function () {
      $e.queue.list = [];
    };
    this.queue.pop = function () {
      return $e.queue.list.pop();
    };
    this.cells.find = function ($v, $0Q) {
      var $s = $e.getPixels(new DayPilot.Date($v));
      if (!$s) {
        return $21();
      }
      ;
      var x = $s.i;
      var $t = $e.$7t($0Q);
      if (!$t) {
        return $21();
      }
      ;
      var top = $t.top;
      var y = $e.$9b(top).i;
      return this.findXy(x, y);
    };
    this.cells.findByPixels = function (x, y) {
      var $0n = $e.$7T(x);
      if (!$0n) {
        return $21();
      }
      ;
      var x = $0n.x;
      var $t = $e.$9b(y);
      if (!$t) {
        return $21();
      }
      ;
      var y = $t.i;
      return this.findXy(x, y);
    };
    this.cells.all = function () {
      var $C = [];
      var $19 = $e.itline.length;
      var $22 = $e.rowlist.length;
      for (var x = 0; x < $19; x++) {
        for (var y = 0; y < $22; y++) {
          var $z = $e.cells.findXy(x, y);
          $C.push($z[0]);
        }
      }
      ;
      return $21($C);
    };
    this.cells.$9z = function (x, y) {
      var $0n = $e.itline[x];
      var $z = {};
      $z.x = x;
      $z.y = y;
      $z.i = x + "_" + y;
      $z.resource = $e.rowlist[y].id;
      $z.start = $0n.start;
      $z.end = $0n.end;
      $z.update = function () {
        if (!$e.rowlist[$z.y].hidden) {
          var $u = $e.$7v();
          if ($u.xStart <= $z.x && $z.x <= $u.xEnd) {
            if ($u.yStart <= $z.y && $z.y <= $u.yEnd) {
              var $0D = $e.$6X.cells[$z.i];
              $e.$9A($0D);
              $e.$9B($z.x, $z.y);
            }
          }
        }
      };
      $z.div = $e.$6X.cells[$z.i];
      var p = $e.$9C(x, y);
      $z.properties = p;
      return $z;
    };
    this.cells.findXy = function (x, y) {
      if (DayPilot.isArray(x)) {
        var $w = [];
        for (var i = 0; i < x.length; i++) {
          var o = x[i];
          $w.push($e.cells.$9z(o.x, o.y));
        }
        ;
        return $21($w);
      } else if (x === null || y === null) {
        return $21();
      }
      ;
      var $z = $e.cells.$9z(x, y);
      return $21($z);
    };
    var $23 = function (a) {
      var $C = [];
      if (DayPilot.isArray(a)) {
        for (var i = 0; i < a.length; i++) {
          $C.push(a[i]);
        }
      } else if (typeof a === 'object') {
        $C.push(a);
      }
      ;
      $C.each = function (f) {
        if (!f) {
          return;
        }
        ;
        for (var i = 0; i < $C.length; i++) {
          f($C[i]);
        }
      };
      return $C;
    };
    var $21 = function (a) {
      var $C = [];
      if (DayPilot.isArray(a)) {
        for (var i = 0; i < a.length; i++) {
          $C.push(a[i]);
        }
      } else if (typeof a === 'object') {
        $C.push(a);
      }
      ;
      $C.cssClass = function ($24) {
        this.each(function ($E) {
          $E.properties.cssClass = DayPilot.Util.addClassToString($E.properties.cssClass, $24);
          $E.update();
        });
        return this;
      };
      $C.removeClass = function ($24) {
        this.each(function ($E) {
          $E.properties.cssClass = DayPilot.Util.removeClassFromString($E.properties.cssClass, $24);
          $E.update();
        });
        return this;
      };
      $C.addClass = $C.cssClass;
      $C.html = function ($M) {
        this.each(function ($E) {
          $E.properties.html = $M;
          $E.update();
        });
        return this;
      };
      $C.each = function (f) {
        if (!f) {
          return;
        }
        ;
        for (var i = 0; i < this.length; i++) {
          f($C[i]);
        }
      };
      return $C;
    };
    this.$9y = {};
    this.$9y.scope = null;
    this.$9y.notify = function () {
      if ($e.$9y.scope) {
        $e.$9y.scope["$apply"]();
      }
    };
    this.debug = new DayPilot.Debug(this);
    this.$9D = function ($r) {
      if ($e.viewType !== 'Days') {
        throw "Checking row start when viewType !== 'Days'";
      }
      ;
      for (var i = 0; i < $e.rowlist.length; i++) {
        var $t = $e.rowlist[i];
        var $n = $t.element ? $t.element.data : $t.data;
        var $v = $n.start;
        if ($r.getTime() >= $v.getTime() && $r.getTime() < $v.addDays(1).getTime()) {
          return $v;
        }
      }
      ;
      return null;
    };
    this.$9E = function ($r) {
      if ($r.ticks === this.startDate.ticks) {
        return $r;
      }
      ;
      var $25 = this.startDate;
      if ($r.ticks < this.startDate.ticks) {
        var $26 = this.itline[0].end.ticks - this.itline[0].start.ticks;
        while ($25.ticks > $r.ticks) {
          $25 = $25.addTime(-$26);
        }
        ;
        return $25;
      }
      ;
      if ($e.viewType === 'Days') {
        var $27 = this.$9D($r);
        var $0j = $27.getTime() - $e.startDate.getTime();
        var $z = this.$7V($r.addTime(-$0j));
        if ($z.current) {
          return $z.current.start.addTime($0j);
        }
        ;
        if ($z.past) {
          return $z.previous.end.addTime($0j);
        }
        ;
        throw "getBoxStart(): time not found";
      } else {
        var $z = this.$7V($r);
        if ($z.current) {
          return $z.current.start;
        }
        ;
        if ($z.past) {
          return $z.previous.end;
        }
        ;
        if ($z.hidden) {
          var $28 = $z.next.start.getTime() - $r.getTime();
          var $29 = $z.next.end.getTime() - $z.next.start.getTime();
          var $2a = Math.ceil($28 / $29) * $29;
          var $f = $z.next.start.addTime(-$2a);
          return $f;
        }
        ;
        throw "getBoxStart(): time not found";
      }
    };
    this.$9j = function ($1h) {
      var $t = this.$9b($e.coords.y);
      var e = $1h.event;
      if (typeof e.end !== 'function') {
        throw "e.end function is not defined";
      }
      ;
      if (!e.end()) {
        throw "e.end() returns null";
      }
      ;
      var $0q = DayPilot.Date.diff(e.end().d, e.start().d);
      $0q = Math.max($0q, 1);
      var $2b = $R.useBox($0q);
      var $2c = e.data && e.data.type === "Milestone";
      var $2d = $e.eventHeight;
      var $2e = 0;
      var x = $e.coords.x;
      if ($2c) {
        x += $2d / 2;
      }
      ;
      if ($e.scale === "Manual") {
        var $2f = (function () {
          var end = $e.getDate($e.coords.x, true, true);
          var $v = end.addTime(-$0q);
          var $2g = $e.getPixels($v).boxLeft;
          var $2h = $e.getPixels(end).boxRight;
          var end = Math.min($2h, $e.coords.x);
          return end - $2g;
        })();
        var $0j = Math.min(DayPilotScheduler.moveOffsetX, $2f);
        x = $e.coords.x - $0j;
      }
      ;
      if ($2b && !$2c) {
        var $z = $e.$7V(e.start());
        var $2i = !$z.hidden && !$z.past;
        $2e = e.start().getTime() - this.$9E(e.start()).getTime();
        if ($2i) {
          $2e = (function ($2j, $0j) {
            var $2k = $e.$9F($e.$7V($2j).current);
            var $2l = $e.$9F($e.$7T(x).cell);
            if ($2k > $2l * 1.2) {
              var $2m = $0j > 0 ? 1 : -1;
              var $0j = Math.abs($0j);
              while ($0j >= $2l) {
                $0j -= $2l;
              }
              ;
              $0j *= $2m;
            }
            ;
            return $0j;
          })(e.start(), $2e);
        }
      }
      ;
      var $2n = 0;
      if (DayPilotScheduler.moveDragStart && $e.scale !== "Manual") {
        if ($2b) {
          $2n = DayPilotScheduler.moveDragStart.getTime() - this.$9E(e.start()).getTime();
          var $2o = $e.$9G() * 60 * 1000;
          $2n = Math.floor($2n / $2o) * $2o;
        } else {
          $2n = DayPilotScheduler.moveDragStart.getTime() - e.start().getTime();
        }
      } else {
        $2n = 0;
      }
      ;
      if (this.eventMoveToPosition) {
        $2n = 0;
      }
      ;
      var $v = this.getDate(x, true).addTime(-$2n);
      if (DayPilotScheduler.resizing) {
        $v = e.start();
      }
      ;
      if (this.snapToGrid) {
        if ($e.viewType === "Days") {
          $v = this.$9E($v);
        } else {
          $v = this.$9E($v);
        }
      }
      ;
      $v = $v.addTime($2e);
      var end = $v.addTime($0q);
      var $2p = $v;
      var $2q = end;
      if (this.viewType === 'Days') {
        var $2r = this.rowlist[e.part.dayIndex].start.getTime() - this.startDate.getTime();
        var $2p = $v.addTime(-$2r);
        var $2q = $2p.addTime($0q);
        var $2s = $t.element.data.start.getTime() - this.startDate.getTime();
        $v = $2p.addTime($2s);
        end = $v.addTime($0q);
      }
      ;
      var $2t = this.getPixels($2p);
      var $2u = this.getPixels($2q);
      var $x = ($2b) ? $2t.boxLeft : $2t.left;
      var $01 = ($2b) ? ($2u.boxRight - $x) : ($2u.left - $x);
      if ($2c) {
        $01 = $2d;
        $x -= $01 / 2;
      }
      ;
      var $1j = {};
      $1j.top = $t.top;
      $1j.left = $x;
      $1j.row = $t.element;
      $1j.rowIndex = $t.i;
      $1j.width = $01;
      $1j.start = $v;
      $1j.end = end;
      $1j.relativeY = $e.coords.y - $t.top;
      return $1j;
    };
    this.$9G = function () {
      switch (this.scale) {
        case "CellDuration":
          return this.cellDuration;
        case "Minute":
          return 1;
        case "Hour":
          return 60;
        case "Day":
          return 60 * 24;
        case "Week":
          return 60 * 24 * 7;
        case "Month":
          return 60 * 24 * 30;
        case "Year":
          return 60 * 24 * 365;
      }
      ;
      throw "can't guess cellDuration value";
    };
    this.$9F = function ($0n) {
      return $0n.end.ticks - $0n.start.ticks;
    };
    this.$9H = function (y) {
      return this.treePreventParentUsage && this.$9I(y);
    };
    this.$9I = function (y) {
      var $t = this.rowlist[y];
      if ($t.isParent) {
        return true;
      }
      ;
      if (this.treeEnabled) {
        if ($t.children && $t.children.length > 0) {
          return true;
        }
      }
      ;
      return false;
    };
    this.$9J = {};
    this.$9K = function () {
      if (!$e.treeAutoExpand) {
        return;
      }
      ;
      var $1j = this.$9j(DayPilotScheduler.moving);
      var y = $1j.rowIndex;
      var $2v = this.$9I(y);
      var $2w = this.$9J;
      if ($2w.timeout && $2w.y !== y) {
        clearTimeout($2w.timeout);
        $2w.timeout = null;
      }
      ;
      if ($2v) {
        $2w.y = y;
        if (!$2w.timeout) {
          $2w.timeout = setTimeout(function () {
            var $2x = !$e.rowlist[$2w.y].expanded;
            if ($2x) {
              $e.$9L($2w.y);
              $e.$9M();
            }
            ;
            $2w.timeout = null;
          }, 500);
        }
      }
    };
    this.$9N = function () {
      var $2y = DayPilotScheduler.resizingShadow.clientWidth;
      var $2z = DayPilotScheduler.resizingShadow.offsetLeft;
      var e = DayPilotScheduler.resizing.event;
      var $2A = DayPilotScheduler.resizing.dpBorder;
      var $t = $e.rowlist[DayPilotScheduler.resizing.event.part.dayIndex];
      var $2r = $t.start.getTime() - $e.$9O().getTime();
      var $0z = null;
      var $0A = null;
      var $2B = !$e.snapToGrid;
      if ($2A === 'left') {
        $0z = $e.getDate($2z, $2B).addTime($2r);
        $0A = e.end();
      } else if ($2A === 'right') {
        $0z = e.start();
        $0A = $e.getDate($2z + $2y, $2B, true).addTime($2r);
      }
      ;
      DayPilotScheduler.resizingShadow.start = $0z;
      DayPilotScheduler.resizingShadow.end = $0A;
    };
    this.$9M = function () {
      var scroll = this.nav.scroll;
      if (!$e.coords) {
        return;
      }
      ;
      $e.$7G();
      var $1k = DayPilotScheduler.movingShadow;
      var $1j = this.$9j(DayPilotScheduler.moving);
      var ev = DayPilotScheduler.moving.event;
      var $2C = 0;
      (function calculatePosition() {
        var y = $1j.relativeY;
        var $t = $1j.row;
        var $2D = $t.lines.length;
        var top = 0;
        var lh = $e.$9k.eventHeight();
        var $2E = $t.lines.length;
        for (var i = 0; i < $t.lines.length; i++) {
          var $09 = $t.lines[i];
          if ($09.isFree($1j.left, $e.cellWidth)) {
            $2E = i;
            break;
          }
        }
        ;
        var $0o = Math.floor((y - top + lh / 2) / lh);
        var $0o = Math.min($2E, $0o);
        var $0o = Math.max(0, $0o);
        $2C = $0o;
      })();
      var $1l = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
      var $1m = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
      var $2F = $2C * $e.$9k.eventHeight();
      if ($2F > 0) {
        $2F -= 3;
      }
      ;
      if ($1l) {
        if (!this.$9H($1j.rowIndex)) {
          $1k.row = $1j.row;
          $1k.style.height = Math.max($1j.row.height, 0) + 'px';
          $1k.style.top = ($1j.top) + 'px';
          if ($e.eventMoveToPosition) {
            $1k.style.top = ($1j.top + $2F) + "px";
            $1k.style.height = "3px";
            $1k.line = $2C;
          }
        } else {
          var $2G = $1k.row;
          var $2H = $1j.rowIndex < $2G.index ? 1 : -1;
          for (var i = $1j.rowIndex; i !== $2G.index; i += $2H) {
            var $t = this.rowlist[i];
            if (!this.$9H(i) && !$t.hidden) {
              $1k.style.top = ($t.top) + 'px';
              $1k.style.height = Math.max($t.height, 0) + 'px';
              $1k.row = $t;
              if ($e.eventMoveToPosition) {
                $2C = $2H > 0 ? 0 : $t.lines.length - 1;
                $1k.style.top = ($1j.top + $2F) + "px";
                $1k.style.height = "3px";
                $1k.line = $2C;
              }
              ;
              break;
            }
          }
        }
      } else {
        var $2G = $e.rowlist[ev.part.dayIndex];
        var $2E = $2G.lines.length;
        for (var i = 0; i < $2G.lines.length; i++) {
          var $09 = $2G.lines[i];
          if ($09.isFree($1j.left, $e.cellWidth)) {
            $2E = i;
            break;
          }
        }
        ;
        $1k.style.height = Math.max($2G.height, 0) + 'px';
        $1k.style.top = ($2G.top) + 'px';
        $1k.row = $2G;
        if ($e.eventMoveToPosition) {
          if ($1j.row === $2G) {
            $1k.style.top = ($2G.top + $2F) + "px";
            $1k.style.height = "3px";
            $1k.line = $2C;
          } else {
            var $0o = ($1j.rowIndex > $2G.index && $2E > 0) ? $2E * $e.$9k.eventHeight() - 3 : 0;
            $1k.style.top = ($2G.top + $0o) + "px";
            $1k.style.height = "3px";
            $1k.line = 0;
          }
        }
      }
      ;
      if ($1m) {
        $1k.style.left = $1j.left + 'px';
        if ($e.eventMoveToPosition) {
          $1k.style.width = ($e.cellWidth) + 'px';
        } else {
          $1k.style.width = ($1j.width) + 'px';
        }
        ;
        $1k.start = $1j.start;
        $1k.end = $1j.end;
      } else {
        $1k.style.left = ev.part.left + "px";
        $1k.start = ev.start();
        $1k.end = ev.end();
      }
      ;
      (function checkOverlap() {
        var $t = $1j.row;
        var $n = ev.data;
        var $01 = $1j.width;
        var $x = $1j.left;
        $e.$9P($1k, $t, $x, $01, $n);
      })();
      (function () {
        var $0k = $e.$9Q;
        if ($0k && $0k.start.getTime() === $1k.start.getTime() && $0k.end.getTime() === $1k.end.getTime() && $0k.resource === $1k.row.id) {
          return;
        }
        ;
        var $h = {};
        $h.start = $1k.start;
        $h.end = $1k.end;
        $h.e = ev;
        $h.resource = $1k.row.id;
        $h.position = $1k.line;
        $h.overlapping = $1k.overlapping;
        $h.left = {};
        $h.left.html = $h.start.toString($e.eventMovingStartEndFormat);
        $h.left.enabled = $e.eventMovingStartEndEnabled;
        $h.right = {};
        $h.right.html = $h.end.toString($e.eventMovingStartEndFormat);
        $h.right.enabled = $e.eventMovingStartEndEnabled;
        $e.$9Q = $h;
        if (typeof $e.onEventMoving === 'function') {
          $e.onEventMoving($h);
        }
        ;
        $e.$9R(DayPilotScheduler.movingShadow, $h);
      })();
    };
    this.$9P = function ($1k, $t, $x, $01, $n) {
      if ($e.allowEventOverlap) {
        return;
      }
      ;
      (function calculate() {
        for (var i = 0; i < $t.lines.length; i++) {
          var $09 = $t.lines[i];
          if (!$09.isFree($x, $01, $n)) {
            $1k.overlapping = true;
            return;
          }
        }
        ;
        $1k.overlapping = false;
      })();
      var $2I = $1k.overlapping;
      var $2J = $e.$7C("_shadow_overlap");
      if ($2I) {
        DayPilot.Util.addClass($1k, $2J);
      } else {
        DayPilot.Util.removeClass($1k, $2J);
      }
    };
    this.$9R = function ($1k, $h) {
      var $2K = 5;
      this.$9S();
      var $0o = {};
      $0o.left = parseInt($1k.style.left);
      $0o.top = parseInt($1k.style.top);
      $0o.right = $0o.left + parseInt($1k.style.width);
      var $01 = $h.left.width || 10;
      var $x = document.createElement("div");
      $x.style.position = "absolute";
      $x.style.left = ($0o.left - $01 - $2K) + "px";
      $x.style.top = $0o.top + "px";
      $x.style.height = $e.eventHeight + "px";
      $x.style.overflow = "hidden";
      $x.innerHTML = $h.left.html;
      $x.className = this.$7C("_event_move_left");
      if ($h.left.enabled) {
        $e.divHover.appendChild($x);
      }
      ;
      if ($h.left.width) {
        $x.style.width = $01 + "px";
      } else {
        $x.style.whiteSpace = "nowrap";
        var $2L = $x.offsetWidth;
        var $2M = $0o.left - $2L - $2K;
        $x.style.width = $2L + "px";
        $x.style.left = $2M + "px";
      }
      ;
      var $y = document.createElement("div");
      $y.style.position = "absolute";
      $y.style.left = ($0o.right + $2K) + "px";
      $y.style.top = $0o.top + "px";
      $y.style.height = $e.eventHeight + "px";
      $y.style.overflow = "hidden";
      if ($h.right.width) {
        $y.style.width = $h.right.width + "px";
      } else {
        $y.style.whiteSpace = "nowrap";
      }
      ;
      $y.innerHTML = $h.right.html;
      $y.className = this.$7C("_event_move_right");
      if ($h.right.enabled) {
        $e.divHover.appendChild($y);
      }
    };
    this.$9S = function () {
      $e.divHover.innerHTML = '';
    };
    this.$9T = function () {
      if (this.rowHeaderColumns) {
        this.rowHeaderCols = DayPilot.Util.propArray(this.rowHeaderColumns, "width");
      }
    };
    this.$9U = function () {
      var $2N = 0;
      this.$9T();
      if (this.rowHeaderCols) {
        for (var i = 0; i < this.rowHeaderCols.length; i++) {
          $2N += this.rowHeaderCols[i];
        }
      } else {
        $2N = this.rowHeaderWidth;
      }
      ;
      return $2N;
    };
    this.$9V = function () {
      return this.$9W($e.progressiveRowRenderingPreload);
    };
    this.$9W = function ($2O) {
      var $2O = $2O || 0;
      var $v = 0;
      var end = $e.rowlist.length;
      var $2P = $e.progressiveRowRendering;
      if ($2P) {
        var $u = $e.$7v();
        $v = $u.yStart;
        end = $u.yEnd + 1;
        $v = Math.max(0, $v - $2O);
        end = Math.min($e.rowlist.length, end + $2O);
      }
      ;
      return {"start": $v, "end": end}
    };
    this.$9X = function () {
      if (!this.$9Y()) {
        return;
      }
      ;
      if (!this.rowHeaderWidthAutoFit) {
        return;
      }
      ;
      var $2Q = this.divHeader;
      if (!$2Q) {
        return;
      }
      ;
      if (!$2Q.rows) {
        return;
      }
      ;
      var $2E = [];
      var $0R = $e.$9V();
      for (var i = $0R.start; i < $0R.end; i++) {
        var $t = $2Q.rows[i];
        if (!$t) {
          continue;
        }
        ;
        if ($t.hidden) {
          continue;
        }
        ;
        if ($t.autofitDone) {
          continue;
        }
        ;
        $t.autofitDone = true;
        for (var j = 0; j < $t.cells.length; j++) {
          var $J = $t.cells[j].firstChild.firstChild;
          if (!$J || !$J.style) {
            continue;
          }
          ;
          var $2R = $J.style.width;
          var $2S = $J.style.right;
          $J.style.position = "absolute";
          $J.style.width = "auto";
          $J.style.right = "auto";
          $J.style.whiteSpace = "nowrap";
          var w = $J.offsetWidth + 2;
          $J.style.position = "";
          $J.style.width = $2R;
          $J.style.right = $2S;
          $J.style.whiteSpace = "";
          if (typeof $2E[j] === 'undefined') {
            $2E[j] = 0;
          }
          ;
          $2E[j] = Math.max($2E[j], w);
        }
      }
      ;
      var $2T = 0;
      var $2U = false;
      this.$9T();
      if (this.rowHeaderCols) {
        for (var i = 0; i < $2E.length; i++) {
          if (this.rowHeaderCols[i]) {
            if ($2E[i] > this.rowHeaderCols[i]) {
              this.rowHeaderCols[i] = $2E[i];
              $2U = true;
            }
            ;
            $2T += this.rowHeaderCols[i];
          }
        }
      } else {
        $2T = this.rowHeaderWidth;
        if (this.rowHeaderWidth < $2E[0]) {
          $2T = $2E[0];
          $2U = true;
        }
      }
      ;
      if ($e.progressiveRowRendering) {
      }
      ;
      if ($2U) {
        if (this.$9Z) {
          this.$9Z.widths = this.rowHeaderCols;
          this.$9Z.updateWidths();
          DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns, "width", this.rowHeaderCols);
        }
        ;
        if (!this.rowHeaderScrolling) {
          this.rowHeaderWidth = $2T;
        }
        ;
        this.$8t();
        this.$a0();
      }
    };
    this.$7b = function () {
      this.$a1 = true;
      this.$9T();
      var $2N = this.$9U();
      var $2V = this.divHeader;
      if ($2V) {
        $2V.innerHTML = '';
        DayPilot.puc($2V);
      } else {
        $2V = document.createElement("div");
        $2V.onmousemove = function () {
          $e.$a2();
        };
        if (!this.cssOnly) {
          $2V.className = this.$7C("resourceheader");
        }
        ;
        this.divHeader = $2V;
      }
      ;
      $2V.style.width = $2N + "px";
      $2V.style.height = $e.$6W + "px";
      $2V.rows = [];
      var $2P = $e.progressiveRowRendering;
      if ($2P) {
        $c();
      } else {
        var m = this.rowlist.length;
        for (var i = 0; i < m; i++) {
          $e.$a3(i);
        }
      }
      ;
      $e.$a4();
      this.divResScroll.appendChild($2V);
      if (this.rowHeaderWidthAutoFit) {
        this.$9X();
      }
    };
    this.$a5 = function () {
      if (!$e.progressiveRowRendering) {
        return;
      }
      ;
      var $u = this.$9V();
      //warren's finding so far
      for (var i = 0; i < $e.rowlist.length; i++) {
        if ($u.start <= i && i < $u.end) {
          $e.$a3(i);
        } else {
          $e.$a6(i);
        }
      }
      ;
      if (this.rowHeaderWidthAutoFit) {
        this.$9X();
      }
    };
    this.$a4 = function () {
      var $2V = $e.divHeader;
      var $2W = this.rowHeaderCols;
      var $1e = $2W ? this.rowHeaderCols.length : 0;
      var $2N = this.$9U();
      var c = document.createElement("div");
      c.style.position = "absolute";
      c.style.top = this.$6W + "px";
      c.colSpan = $1e + 1;
      c.style.width = $2N + "px";
      c.style.height = ($e.divResScroll.clientHeight + 20) + "px";
      $2V.appendChild(c);
      $e.nav.resScrollSpace = c;
      if (!this.cssOnly) {
        c.style.backgroundColor = this.hourNameBackColor;
        c.style.cursor = 'default';
      }
      ;
      c.setAttribute("unselectable", "on");
      if (!this.cssOnly) {
        c.className = this.$7C('rowheader');
        c.style.fontSize = "1px";
        c.innerHTML = "&nbsp;";
      }
      ;
      if (this.cssOnly) {
        var $G = document.createElement("div");
        $G.style.position = "relative";
        $G.style.height = "100%";
        $G.className = this.$7C('_rowheader');
        c.appendChild($G);
      }
    };
    this.$a6 = function (i) {
      var $t = $e.divHeader.rows[i];
      if (!$t) {
        return;
      }
      ;
      DayPilot.de($t.cells);
      $e.divHeader.rows[i] = null;
    };
    this.$8v = function (i) {
      this.$a6(i);
      this.$a3(i);
    };
    this.$a3 = function (i) {
      var $2V = $e.divHeader;
      var $2X = this.divHeader;
      if ($2X.rows[i]) {
        return;
      }
      ;
      var $2W = this.rowHeaderCols;
      var $1e = $2W ? this.rowHeaderCols.length : 0;
      var $2N = this.$9U();
      var $t = this.rowlist[i];
      if (!$t) {
        return;
      }
      ;
      if ($t.hidden) {
        return;
      }
      ;
      var $h = this.$a7($t);
      $2X.rows[i] = {};
      $2X.rows[i].cells = [];
      var c = document.createElement("div");
      c.style.position = "absolute";
      c.style.top = $t.top + "px";
      c.row = $t;
      c.index = i;
      var $1t = $h.row;
      var $01 = $2W ? $2W[0] : this.rowHeaderWidth;
      c.style.width = ($01) + "px";
      c.style.border = "0px none";
      if (!this.cssOnly) {
        c.style.borderRight = "1px solid " + this.borderColor;
        c.style.backgroundColor = typeof $1t.backColor === 'undefined' ? $e.hourNameBackColor : $1t.backColor;
        c.style.fontFamily = this.headerFontFamily;
        c.style.fontSize = this.headerFontSize;
        c.style.color = this.headerFontColor;
        c.style.cursor = 'default';
        c.style.padding = '0px';
      }
      ;
      if ($1t.toolTip) {
        c.title = $1t.toolTip;
      }
      ;
      c.setAttribute("unselectable", "on");
      c.setAttribute('resource', $t.id);
      c.onmousemove = $e.$a8;
      c.onmouseout = $e.$a9;
      c.onmouseup = $e.$aa;
      c.oncontextmenu = $e.$ab;
      c.onclick = $e.$ac;
      c.ondblclick = $e.$ad;
      var $G = document.createElement("div");
      $G.style.width = ($01) + "px";
      $G.setAttribute("unselectable", "on");
      $G.className = this.cssOnly ? this.$7C('_rowheader') : this.$7C('rowheader');
      if ($1t.cssClass) {
        DayPilot.Util.addClass($G, $1t.cssClass);
      }
      ;
      if ($1t.backColor) {
        $G.style.background = $1t.backColor;
      }
      ;
      $G.style.height = ($t.height) + "px";
      $G.style.overflow = 'hidden';
      $G.style.position = 'relative';
      var $J = document.createElement("div");
      $J.setAttribute("unselectable", "on");
      $J.className = this.cssOnly ? this.$7C('_rowheader_inner') : "";
      $G.appendChild($J);
      var $0s = this.rowMoveHandling !== "Disabled";
      var $2Y = 10;
      if ($0s && !$1t.moveDisabled) {
        var $2Z = [];
        $2Z.push({
          "v": "Hover",
          "w": $2Y,
          "bottom": 0,
          "top": 0,
          "left": 0,
          "css": $e.$7C("_rowmove_handle"),
          "action": "Move"
        });
        var ro = $e.$8N($t);
        DayPilot.Areas.attach($G, ro, {
          "areas": $2Z, "allowed": function () {
            return !$30.row;
          }
        });
      }
      ;
      var $2A = document.createElement("div");
      $2A.style.position = "absolute";
      $2A.style.bottom = "0px";
      $2A.style.width = "100%";
      $2A.style.height = "1px";
      if (this.cssOnly) {
        $2A.className = this.$7C("_resourcedivider");
      } else {
        $2A.style.backgroundColor = this.borderColor;
      }
      ;
      $G.appendChild($2A);
      (function drawText() {
        if ($e.treeEnabled) {
          var $x = $t.level * $e.treeIndent + $e.treeImageMarginLeft;
          if ($0s) {
            $x += $2Y;
          }
          ;
          var $01 = 10;
          var $2w = document.createElement("div");
          $2w.style.width = "10px";
          $2w.style.height = $01 + "px";
          $2w.style.backgroundRepeat = "no-repeat";
          $2w.style.position = 'absolute';
          $2w.style.left = $x + 'px';
          $2w.style.top = $e.treeImageMarginTop + "px";
          if (!$t.loaded && $t.children.length === 0) {
            if ($e.treeImageExpand && !$e.cssOnly) {
              $2w.style.backgroundImage = "url('" + $e.treeImageExpand + "')";
            }
            ;
            $2w.className = $e.cssOnly ? $e.$7C('_tree_image_expand') : $e.$7C('tree_image_expand');
            $2w.style.cursor = 'pointer';
            $2w.index = i;
            $2w.onclick = function (ev) {
              $e.$ae(this.index);
              ev = ev || window.event;
              ev.cancelBubble = true;
            };
          } else if ($t.children.length > 0) {
            if ($t.expanded) {
              if ($e.treeImageCollapse && !$e.cssOnly) {
                $2w.style.backgroundImage = "url('" + $e.treeImageCollapse + "')";
              }
              ;
              $2w.className = $e.cssOnly ? $e.$7C('_tree_image_collapse') : $e.$7C('tree_image_collapse');
            } else {
              if ($e.treeImageExpand && !$e.cssOnly) {
                $2w.style.backgroundImage = "url('" + $e.treeImageExpand + "')";
              }
              ;
              $2w.className = $e.cssOnly ? $e.$7C('_tree_image_expand') : $e.$7C('tree_image_expand');
            }
            ;
            $2w.style.cursor = 'pointer';
            $2w.index = i;
            $2w.onclick = function (ev) {
              $e.$9L(this.index);
              ev = ev || window.event;
              ev.cancelBubble = true;
            };
            //added by warren to trigger parent click
            $J.onclick = function (ev) {
              $e.$9L($2w.index);
              ev = ev || window.event;
              ev.cancelBubble = true;
            };
          } else {
            if ($e.treeImageNoChildren && !$e.cssOnly) {
              $2w.style.backgroundImage = "url('" + $e.treeImageNoChildren + "')";
            }
            ;
            $2w.className = $e.cssOnly ? $e.$7C('_tree_image_no_children') : $e.$7C('tree_image_no_children');
          }
          ;
          $J.appendChild($2w);
        }
        ;
        var $0U = document.createElement("div");
        if ($e.treeEnabled) {
          $0U.style.marginLeft = ($x + $01) + "px";
        } else if (!$e.cssOnly) {
          $0U.style.marginLeft = "4px";
        }
        ;
        $0U.innerHTML = $1t.html;
        c.textDiv = $0U;
        $J.appendChild($0U);
      })();
      c.appendChild($G);
      if ($1t.areas) {
        for (var j = 0; j < $1t.areas.length; j++) {
          var $u = $1t.areas[j];
          var v = $u.v || "Visible";
          if (v !== "Visible") {
            continue;
          }
          ;
          var r = $e.$8N($t);
          var a = DayPilot.Areas.createArea($G, r, $u);
          $G.appendChild(a);
        }
      }
      ;
      $2V.appendChild(c);
      $2X.rows[i].cells.push(c);
      if (!$t.columns || $t.columns.length === 0) {
        c.colSpan = $1e > 0 ? $1e : 1;
        $G.style.width = $2N + "px";
      } else {
        var $x = $01;
        for (var j = 1; j < $1e; j++) {
          var c = document.createElement("div");
          c.style.position = "absolute";
          c.style.top = $t.top + "px";
          c.style.left = $x + "px";
          $2V.appendChild(c);
          $2X.rows[i].cells.push(c);
          c.row = $t;
          c.index = i;
          if (!this.cssOnly) {
            c.style.borderRight = "1px solid " + this.borderColor;
            c.style.backgroundColor = $1t.backColor;
            c.style.fontFamily = this.headerFontFamily;
            c.style.fontSize = this.headerFontSize;
            c.style.color = this.headerFontColor;
            c.style.cursor = 'default';
            c.style.padding = '0px';
          }
          ;
          if ($1t.toolTip) {
            c.title = $1t.toolTip;
          }
          ;
          c.setAttribute("unselectable", "on");
          if (!this.cssOnly) {
            c.className = this.$7C('rowheader');
          }
          ;
          c.setAttribute('resource', $t.id);
          c.onmousemove = $e.$a8;
          c.onmouseout = $e.$a9;
          c.onmouseup = $e.$aa;
          c.oncontextmenu = $e.$ab;
          c.onclick = $e.$ac;
          c.ondblclick = $e.$ad;
          var $G = document.createElement("div");
          var w = this.cssOnly ? $2W[j] : $2W[j] - 1;
          $x += w;
          if ($1t.backColor) {
            $G.style.backgroundColor = $1t.backColor;
          }
          ;
          $G.style.width = w + "px";
          $G.style.height = ($t.height) + "px";
          $G.style.overflow = 'hidden';
          $G.style.position = 'relative';
          $G.setAttribute("unselectable", "on");
          if (this.cssOnly) {
            DayPilot.Util.addClass($G, this.$7C("_rowheader"));
            DayPilot.Util.addClass($G, this.$7C("_rowheadercol"));
            DayPilot.Util.addClass($G, this.$7C("_rowheadercol" + j));
          }
          ;
          if ($1t.cssClass) {
            DayPilot.Util.addClass($G, $1t.cssClass);
          }
          ;
          var $J = document.createElement("div");
          $J.setAttribute("unselectable", "on");
          if (this.cssOnly) {
            $J.className = this.$7C("_rowheader_inner");
          }
          ;
          $G.appendChild($J);
          var $2A = document.createElement("div");
          $2A.style.position = "absolute";
          $2A.style.bottom = "0px";
          $2A.style.width = "100%";
          $2A.style.height = "1px";
          $2A.className = this.$7C("_resourcedivider");
          if (!this.cssOnly) {
            $2A.style.backgroundColor = this.borderColor;
          }
          ;
          $G.appendChild($2A);
          var $0U = document.createElement("div");
          if (!this.cssOnly) {
            $0U.style.marginLeft = '4px';
          }
          ;
          var $31 = $1t.columns[j - 1];
          var $32 = $31 && $31.html ? $31.html : "";
          $0U.innerHTML = $32;
          c.textDiv = $0U;
          $J.appendChild($0U);
          c.appendChild($G);
        }
      }
    };
    this.$ab = function () {
      var $t = this.row;
      var r = {};
      r.type = 'resource';
      r.start = $t.start;
      r.name = $t.name;
      r.value = $t.id;
      r.id = $t.id;
      r.index = this.index;
      r.root = $e;
      r.toJSON = function ($33) {
        var $14 = {};
        $14.start = this.start;
        $14.name = this.name;
        $14.value = this.value;
        $14.index = this.index;
        return $14;
      };
      if ($t.contextMenu) {
        $t.contextMenu.show(r);
      }
      ;
      return false;
    };
    this.$ac = function (ev) {
      if ($0T.cancelClick) {
        return;
      }
      ;
      var $t = this.row;
      var r = $e.$8N($t, this.index);
      $e.$8O(r, ev.ctrlKey, ev.shiftKey);
    };
    this.$ad = function (ev) {
      if ($e.timeouts.resClick) {
        for (var $0y in $e.timeouts.resClick) {
          window.clearTimeout($e.timeouts.resClick[$0y]);
        }
        ;
        $e.timeouts.resClick = null;
      }
      ;
      var $t = this.row;
      var e = $e.$8N($t, this.index);
      if ($e.$7s()) {
        var $h = {};
        $h.resource = e;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onRowDoubleClick === 'function') {
          $e.onRowDoubleClick($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.rowDoubleClickHandling) {
          case 'PostBack':
            $e.rowDoubleClickPostBack(e);
            break;
          case 'CallBack':
            $e.rowDoubleClickCallBack(e);
            break;
          case 'Select':
            $e.$8Q($t, ev.ctrlKey, ev.shiftKey);
            break;
          case 'Edit':
            $e.$8S.edit($t);
            break;
        }
        ;
        if (typeof $e.onRowDoubleClicked === 'function') {
          $e.onRowDoubleClicked($h);
        }
      } else {
        switch ($e.rowDoubleClickHandling) {
          case 'PostBack':
            $e.rowDoubleClickPostBack(e);
            break;
          case 'CallBack':
            $e.rowDoubleClickCallBack(e);
            break;
          case 'JavaScript':
            $e.onRowDoubleClick(e);
            break;
          case 'Select':
            $e.$8Q($t, ev.ctrlKey, ev.shiftKey);
            break;
          case 'Edit':
            $e.$8S.edit($t);
            break;
        }
      }
    };
    this.rowDoubleClickPostBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Y("RowDoubleClick", $0x, $n);
    };
    this.rowDoubleClickCallBack = function (e, $n) {
      var $0x = {};
      $0x.resource = e;
      this.$7Z("RowDoubleClick", $0x, $n);
    };
    this.$af = function (ev) {
      var $z = {};
      $z.start = this.cell.start;
      $z.level = this.cell.level;
      $z.end = this.cell.end;
      if (!$z.end) {
        $z.end = new DayPilot.Date($z.start).addMinutes($e.cellDuration);
      }
      ;
      $e.$8T($z);
    };
    this.$8N = function ($t, $0V) {
      if (typeof $0V === 'undefined') {
        $0V = DayPilot.indexOf($e.rowlist, $t);
      }
      ;
      var r = {};
      r.isRow = true;
      r.type = 'resource';
      r.start = $t.start;
      r.name = $t.name;
      r.value = $t.id;
      r.id = $t.id;
      r.index = $0V;
      r.calendar = $e;
      r.$8R = $t;
      r.$ = {};
      r.$.row = $t;
      r.toJSON = function ($33) {
        var $14 = {};
        $14.start = this.start;
        $14.name = this.name;
        $14.value = this.value;
        $14.id = this.id;
        $14.index = this.index;
        return $14;
      };
      r.events = {};
      r.events.all = function () {
        var $C = [];
        for (var i = 0; i < r.$8R.events.length; i++) {
          $C.push(r.$8R.events[i]);
        }
        ;
        return $1Q($C);
      };
      r.events.totalDuration = function () {
        var $0c = 0;
        r.events.all().each(function ($E) {
          $0c += $E.part.end.getTime() - $E.part.start.getTime();
        });
        return new DayPilot.TimeSpan($0c);
      };
      r.groups = {};
      r.groups.collapseAll = function () {
        for (var i = 0; i < r.$8R.blocks.length; i++) {
          var $34 = r.$8R.blocks[i];
          var $35 = new $36($34);
          $35.$ag();
        }
        ;
        $e.$8f();
        $e.$8g(r.index);
        $e.$7h();
      };
      r.groups.expandAll = function () {
        for (var i = 0; i < r.$8R.blocks.length; i++) {
          var $34 = r.$8R.blocks[i];
          var $35 = new $36($34);
          $35.$ah();
        }
        ;
        $e.$8f();
        $e.$8g(r.index);
        $e.$7h();
      };
      r.groups.expanded = function () {
        var $C = [];
        for (var i = 0; i < r.$8R.blocks.length; i++) {
          var $34 = r.$8R.blocks[i];
          if ($34.expanded && $34.lines.length > $e.groupConcurrentEventsLimit) {
            $C.push(new $36($34));
          }
        }
        ;
        return DayPilot.list($C);
      };
      r.groups.collapsed = function () {
        var $C = [];
        for (var i = 0; i < r.$8R.blocks.length; i++) {
          var $34 = r.$8R.blocks[i];
          if (!$34.expanded) {
            $C.push(new $36($34));
          }
        }
        ;
        return DayPilot.list($C);
      };
      r.events.collapseGroups = r.groups.collapseAll;
      r.events.expandGroups = r.groups.expandAll;
      r.column = function (i) {
        return new $37(r, i);
      };
      r.toggle = function () {
        $e.$9L(r.index);
      };
      return r;
    };
    var $36 = function ($34) {
      var $38 = function ($34) {
        for (var i = 0; i < $e.elements.events.length; i++) {
          var $G = $e.elements.events[i];
          if ($G.event === $34) {
            return $G;
          }
        }
        ;
        return null;
      };
      this.$ah = function () {
        $34.expanded = true;
        var $G = $38($34);
        if ($G) {
          $e.$ai($G);
          var $39 = DayPilot.indexOf($e.elements.events, $G);
          if ($39 !== -1) {
            $e.elements.events.splice($39, 1);
          }
        }
      };
      this.expand = function () {
        this.$ah();
        $e.$8f();
        $e.$8g($34.row.index);
        $e.$7h();
      };
      this.$ag = function () {
        $34.expanded = false;
      };
      this.collapse = function () {
        this.$ag();
        $e.$8f();
        $e.$8g($34.row.index);
        $e.$7h();
      };
    };
    var $37 = function ($t, i) {
      this.html = function ($M) {
        var $2Q = $t.calendar.divHeader;
        var $z = $2Q.rows[$t.index].cells[i];
        var $0U = $z.textDiv;
        $0U.innerHTML = $M;
      };
    };
    var $1Q = function (a) {
      var $C = [];
      if (DayPilot.isArray(a)) {
        for (var i = 0; i < a.length; i++) {
          $C.push(a[i]);
        }
      } else if (typeof a === 'object') {
        $C.push(a);
      }
      ;
      $C.each = function (f) {
        if (!f) {
          return;
        }
        ;
        for (var i = 0; i < $C.length; i++) {
          f($C[i]);
        }
      };
      return $C;
    };
    this.$9u = function (i) {
      var $t = this.rowlist[i];
      if (!$t.events) {
        $t.events = [];
      }
      ;
      if ($t.data) {
        return;
      }
      ;
      $t.data = {};
      $t.data.start = new DayPilot.Date($t.start);
      $t.data.startTicks = $t.data.start.getTime();
      $t.data.end = $R.isResourcesView() ? this.$aj() : $t.data.start.addDays(1);
      $t.data.endTicks = $t.data.end.getTime();
      $t.data.offset = $t.start.getTime() - this.$9O().getTime();
      $t.data.i = i;
    };
    this.$7a = function ($D, $3a) {
      var $3b = [];
      var $l = [];
      var $3c = null;
      if ($D && $3a) {
        var $3d = $D;
        var $3c = [];
        for (var i = 0; i < $3d.length; i++) {
          var e = $3d[i];
          var $0g = false;
          for (var j = 0; j < this.events.list.length; j++) {
            var ex = this.events.list[j];
            if (ex.id === e.id && ex.start.toString() === e.start.toString() && ex.resource === e.resource) {
              var $0E = $e.events.$8c(ex);
              $l = $l.concat($0E);
              this.events.list[j] = e;
              $0g = true;
              break;
            }
          }
          ;
          if (!$0g) {
            $3c.push(e);
          }
        }
        ;
        this.events.list = this.events.list.concat($3c);
      } else if ($D) {
        this.events.list = $D;
      } else if (!this.events.list) {
        this.events.list = [];
      }
      ;
      var $C = $3c || this.events.list;
      var $3e = $C.length;
      if (typeof this.onBeforeEventRender === 'function') {
        var $v = $3c ? this.events.list.length - $3c.length : 0;
        var end = this.events.list.length;
        for (var i = $v; i < end; i++) {
          this.$9w(i);
        }
      }
      ;
      var $3f = !this.$9v();
      var $3g = true;
      if ($3g) {
        var $3h = !$3c || typeof $t.events === "undefined";
        $3i.prepareRows($3h);
        for (var j = 0; $C && j < $3e; j++) {
          if ($3b[j]) {
            continue;
          }
          ;
          var $3j = $C[j];
          if (!$3j) {
            continue;
          }
          ;
          var $0E = [];
          if ($3j.resource === "*") {
            $0E = $e.rowlist;
          } else if ($e.viewType === "Days") {
            $0E = $e.rowlist;
          } else if ($e.viewType === "Gantt") {
            $0E = $3i.rowcache[$3j.id];
          } else {
            $0E = $3i.rowcache[$3j.resource];
          }
          ;
          for (var x = 0; $0E && x < $0E.length; x++) {
            var $t = $0E[x];
            var ep = this.$9x($3j, $t);
            if (!ep) {
              continue;
            }
            ;
            if (typeof this.onBeforeEventRender === 'function') {
              ep.cache = this.$6X.events[j + $v];
            }
            ;
            $l.push($t.index);
          }
        }
      } else {
        for (var i = 0; i < this.rowlist.length; i++) {
          var $t = this.rowlist[i];
          if (!$3c || typeof $t.events === "undefined") {
            $t.events = [];
          }
          ;
          $e.$9u(i);
          if (this.$9H(i)) {
            continue;
          }
          ;
          for (var j = 0; $C && j < $3e; j++) {
            if ($3b[j]) {
              continue;
            }
            ;
            var e = $C[j];
            var ep = this.$9x(e, $t);
            if (!ep) {
              continue;
            }
            ;
            if (typeof this.onBeforeEventRender === 'function') {
              ep.cache = this.$6X.events[j + $v];
            }
            ;
            $l.push(i);
            if ($3f) {
              if (ep.data.resource !== "*" && ep.part.start.getTime() === ep.start().getTime() && ep.part.end.getTime() === ep.end().getTime()) {
                $3b[j] = true;
              }
            }
          }
        }
      }
      ;
      for (var i = 0; i < this.rowlist.length; i++) {
        var $t = this.rowlist[i];
        this.$ak($t);
      }
      ;
      this.$8f();
      return DayPilot.ua($l);
    };
    this.$al = {};
    var $3i = this.$al;
    $3i.rowCache = {};
    $3i.prepareRows = function ($3h) {
      $3i.rowcache = {};
      for (var i = 0; i < $e.rowlist.length; i++) {
        var $t = $e.rowlist[i];
        if ($3h) {
          $t.events = [];
        }
        ;
        $e.$9u(i);
        if (!$t.id) {
          continue;
        }
        ;
        var $33 = $t.id.toString();
        if (!$3i.rowcache[$33]) {
          $3i.rowcache[$33] = [];
        }
        ;
        $3i.rowcache[$33].push($t);
      }
    };
    $3i.loadEvent = function ($3j) {
    };
    this.$9v = function () {
      var $3k = {};
      if ($e.viewType !== "Resources") {
        return false;
      }
      ;
      for (var i = 0; i < $e.rowlist.length; i++) {
        var $t = $e.rowlist[i];
        var id = $t.id;
        if ($3k[id]) {
          return true;
        }
        ;
        $3k[id] = true;
      }
      ;
      return false;
    };
    this.$9w = function (i) {
      var $0d = this.$6X.events;
      var $n = this.events.list[i];
      var $3l = {};
      for (var name in $n) {
        $3l[name] = $n[name];
      }
      ;
      if (typeof this.onBeforeEventRender === 'function') {
        var $h = {};
        $h.e = $3l;
        this.onBeforeEventRender($h);
      }
      ;
      $0d[i] = $3l;
    };
    //build collasping blocks
    this.$ak = function ($t) {
      $t.lines = [];
      if (this.sortDirections) {
        $t.events.sort(this.$am);
      } else {
        $t.events.sort(this.$an);
      }
      ;
      var $3m = $e.groupConcurrentEvents;
      if ($3m) {
        for (var i = 0; i < $t.blocks.length; i++) {
          $t.blocks[i].events = [];
        }
      }
      ;
      for (var j = 0; j < $t.events.length; j++) {
        var e = $t.events[j];
        $t.putIntoLine(e);
        if ($3m) {
          $t.putIntoBlock(e);
        }
      }
      ;
      if ($3m) {
        for (var j = 0; j < $t.blocks.length; j++) {
          var $34 = $t.blocks[j];
          $34.lines = [];
          $34.events.sort(this.$am);
          for (var k = 0; k < $34.events.length; k++) {
            var e = $34.events[k];
            $34.putIntoLine(e);
          }
          ;
          if ($34.lines.length <= $e.groupConcurrentEventsLimit) {
            $34.expanded = true;
          }
        }
      }
    };
    this.$8e = function ($0E) {
      $0E = DayPilot.ua($0E);
      for (var i = 0; i < $0E.length; i++) {
        var ri = $0E[i];
        $e.$ak($e.rowlist[ri]);
      }
    };
    this.$9x = function (e, $t) {
      var $v = new DayPilot.Date(e.start);
      var end = new DayPilot.Date(e.end);
      if ($e.eventEndSpec === "Date") {
        end = end.getDatePart().addDays(1);
      }
      ;
      var $3n = $v.ticks;
      var $3o = end.ticks;
      if ($3o < $3n) {
        return null;
      }
      ;
      var $0d = null;
      if (typeof $e.onBeforeEventRender === 'function') {
        var $0V = DayPilot.indexOf($e.events.list, e);
        $0d = $e.$6X.events[$0V];
      }
      ;
      if ($0d) {
        if ($0d.hidden) {
          return null;
        }
      } else if (e.hidden) {
        return null;
      }
      ;
      var $3p = false;
      switch (this.viewType) {
        case 'Days':
          $3p = !($3o <= $t.data.startTicks || $3n >= $t.data.endTicks) || ($3n === $3o && $3n === $t.data.startTicks);
          break;
        case 'Resources':
          $3p = ($t.id === e.resource || $t.id === "*" || e.resource === "*") && (!($3o <= $t.data.startTicks || $3n >= $t.data.endTicks) || ($3n === $3o && $3n === $t.data.startTicks));
          break;
        case 'Gantt':
          $3p = ($t.id === e.id) && !($3o <= $t.data.startTicks || $3n >= $t.data.endTicks);
          break;
      }
      ;
      if (!$3p) {
        return null;
      }
      ;
      var ep = new DayPilot.Event(e, $e);
      ep.part.dayIndex = $t.data.i;
      ep.part.start = $t.data.startTicks < $3n ? ep.start() : $t.data.start;
      ep.part.end = $t.data.endTicks > $3o ? ep.end() : $t.data.end;
      var $3q = this.getPixels(ep.part.start.addTime(-$t.data.offset));
      var $3r = this.getPixels(ep.part.end.addTime(-$t.data.offset));
      if (ep.part.start.getTime() === ep.part.end.getTime()) {
        $3r = this.getPixels(ep.part.end.addTime(-$t.data.offset).addTime(1));
      }
      ;
      var $x = $3q.left;
      var $y = $3r.left;
      if ($x === $y && ($3q.cut || $3r.cut)) {
        return null;
      }
      ;
      ep.part.box = $R.useBox($3o - $3n);
      var $2d = $e.eventHeight;
      if (e.type === "Milestone") {
        var $01 = e.width || $2d;
        ep.part.end = ep.part.start;
        ep.part.left = $x - $01 / 2;
        ep.part.width = $01;
        ep.part.barLeft = 0;
        ep.part.barWidth = $01;
      } else if (ep.part.box) {
        var $3s = $3q.boxLeft;
        var $3t = $3r.boxRight;
        ep.part.left = $3s;
        ep.part.width = $3t - $3s;
        ep.part.barLeft = Math.max($x - ep.part.left, 0);
        ep.part.barWidth = Math.max($y - $x, 1);
      } else {
        ep.part.left = $x;
        ep.part.width = Math.max($y - $x, 0);
        ep.part.barLeft = 0;
        ep.part.barWidth = Math.max($y - $x - 1, 1);
      }
      ;
      $t.events.push(ep);
      return ep;
    };
    this.$an = function (a, b) {
      if (!a || !b || !a.start || !b.start) {
        return 0;
      }
      ;
      var $3u = a.start().ticks - b.start().ticks;
      if ($3u !== 0) {
        return $3u;
      }
      ;
      var $3v = b.end().ticks - a.end().ticks;
      return $3v;
    };
    this.$am = function (a, b) {
      if (!a || !b) {
        return 0;
      }
      ;
      if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
        return $e.$an(a, b);
      }
      ;
      var $f = 0;
      var i = 0;
      while ($f === 0 && a.data.sort[i] && b.data.sort[i]) {
        if (a.data.sort[i] === b.data.sort[i]) {
          $f = 0;
        } else {
          $f = $e.$ao(a.data.sort[i], b.data.sort[i], $e.sortDirections[i]);
        }
        ;
        i++;
      }
      ;
      return $f;
    };
    this.$ao = function (a, b, $3w) {
      var $3x = ($3w !== "desc");
      var $3y = $3x ? -1 : 1;
      var $3z = -$3y;
      if (a === null && b === null) {
        return 0;
      }
      ;
      if (b === null) {
        return $3z;
      }
      ;
      if (a === null) {
        return $3y;
      }
      ;
      var ar = [];
      ar[0] = a;
      ar[1] = b;
      ar.sort();
      return a === ar[0] ? $3y : $3z;
    };
    this.$8Q = function ($t, $0F, $0Y) {
      if ($e.$7s()) {
        var $0V = DayPilot.indexOf($e.rowlist, $t);
        var e = $e.$8N($t, $0V);
        var $3A = DayPilot.indexOf($0T.selected, $t) !== -1;
        var $0w = $3A ? "deselected" : "selected";
        var $h = {};
        $h.row = e;
        $h.selected = $3A;
        $h.ctrl = $0F;
        $h.shift = $0Y;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onRowSelect === 'function') {
          $e.onRowSelect($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.rowSelectHandling) {
          case 'PostBack':
            $e.rowSelectPostBack(e, $0w);
            break;
          case 'CallBack':
            $e.rowSelectCallBack(e, $0w);
            break;
          case 'Update':
            $0T.select($t, $0F, $0Y);
            break;
        }
        ;
        if (typeof $e.onRowSelected === 'function') {
          $h.selected = DayPilot.indexOf($0T.selected, $t) !== -1;
          $e.onRowSelected($h);
        }
      } else {
        $0T.select($t, $0F, $0Y);
        var $0V = DayPilot.indexOf($e.rowlist, $t);
        var e = $e.$8N($t, $0V);
        var $3A = DayPilot.indexOf($0T.selected, $t) !== -1;
        var $0w = $3A ? "deselected" : "selected";
        switch ($e.rowSelectHandling) {
          case 'PostBack':
            $e.rowSelectPostBack(e, $0w);
            break;
          case 'CallBack':
            $e.rowSelectCallBack(e, $0w);
            break;
          case 'JavaScript':
            $e.onRowSelect(e, $0w);
            break;
        }
      }
    };
    this.rowSelectPostBack = function (r, $0w, $n) {
      var $0x = {};
      $0x.resource = r;
      $0x.change = $0w;
      this.$7Y('RowSelect', $0x, $n);
    };
    this.rowSelectCallBack = function (r, $0w, $n) {
      var $0x = {};
      $0x.resource = r;
      $0x.change = $0w;
      this.$7Z('RowSelect', $0x, $n);
    };
    this.rows = {};
    this.rows.selection = {};
    var $3B = this.rows.selection;
    $3B.get = function () {
      var $C = [];
      DayPilot.list($0T.selected).each(function ($E) {
        $C.push($e.$8N($E));
      });
      return $C;
    };
    $3B.clear = function () {
      $0T.clearSelection();
    };
    this.rows.all = function () {
      var $C = [];
      for (var i = 0; i < $e.rowlist.length; i++) {
        var r = $e.$8N($e.rowlist[i]);
        $C.push(r);
      }
      ;
      return $23($C);
    };
    this.rows.each = function (f) {
      $e.rows.all().each(f);
    };
    this.rows.find = function (id, $v) {
      var $0E = $e.rows.all();
      for (var i = 0; i < $0E.length; i++) {
        var $E = $0E[i];
        if ($E.id === id) {
          if (typeof $v === "string") {
            if ($v === $E.start.toString()) {
              return $E;
            }
          } else {
            return $E;
          }
        }
      }
    };
    this.rows.load = function ($1R) {
      DayPilot.ajax({
        "url": $1R, "success": function ($h) {
          var r = $h.request;
          var $n = eval("(" + r.responseText + ")");
          if (DayPilot.isArray($n)) {
            $e.resources = $n;
            if ($e.$9t) {
              $e.update();
            }
          }
        }
      });
    };
    this.rows.expand = function ($3C) {
      var $3D = $3C || 1;
      for (var i = 0; i < $e.rowlist.length; i++) {
        var $t = $e.rowlist[i];
        var $3E = $3D === -1;
        if ($t.level < $3D) {
          $3E = true;
        }
        ;
        if ($3E && !$t.expanded) {
          $e.$9L($t.index);
        }
      }
    };
    this.rows.expandAll = function () {
      $e.rows.expand(-1);
    };
    this.$ap = function () {
      var $0W = $30.source;
      var $0X = $30.target;
      var $U = $30.position;
      $0T.resetMoving();
      if ($e.$7s()) {
        var $h = {};
        $h.source = $e.$8N($0W);
        $h.target = $e.$8N($0X);
        $h.position = $U;
        $h.preventDefault = function () {
          this.preventDefault.value = true;
        };
        if (typeof $e.onRowMove === "function") {
          $e.onRowMove($h);
          if ($h.preventDefault.value) {
            return;
          }
        }
        ;
        switch ($e.rowMoveHandling) {
          case "Update":
            $0T.move($h);
            break;
          case "CallBack":
            $e.rowMoveCallBack($h.source, $h.target, $h.position);
            break;
          case "PostBack":
            $e.rowMovePostBack($h.source, $h.target, $h.position);
            break;
          case "Notify":
            $0T.move($h);
            $e.rowMoveNotify($h.source, $h.target, $h.position);
            break;
        }
        ;
        if (typeof $e.onRowMoved === "function") {
          $e.onRowMoved($h);
        }
      } else {
        var $0W = $e.$8N($0W);
        var $0X = $e.$8N($0X);
        var $U = $U;
        switch ($e.rowMoveHandling) {
          case "CallBack":
            $e.rowMoveCallBack($0W, $0X, $U);
            break;
          case "PostBack":
            $e.rowMovePostBack($0W, $0X, $U);
            break;
          case "JavaScript":
            $e.onRowMove($0W, $0X, $U);
            break;
        }
      }
    };
    this.$8S = {};
    var $0T = this.$8S;
    $0T.edit = function ($t) {
      var $3F = $0T.$aq($t);
    };
    $0T.createOverlay = function ($t) {
      var $01 = $e.$9U();
      var $24 = $e.$7C("_rowmove_source");
      var $G = DayPilot.Util.div($e.divHeader, 0, $t.top, $01, $t.height);
      $G.className = $24;
      $t.moveOverlay = $G;
    };
    $0T.deleteOverlay = function ($t) {
      DayPilot.de($t.moveOverlay);
      $t.moveOverlay = null;
    };
    $0T.$aq = function ($t) {
      var r = $0T.$8L($t);
      var c = r.cells[0];
      if (c.input) {
        return c.input;
      }
      ;
      var $01 = c.clientWidth;
      var $3F = document.createElement("textarea");
      $3F.style.position = "absolute";
      $3F.style.top = "0px";
      $3F.style.left = "0px";
      $3F.style.width = $01 + "px";
      $3F.style.height = $t.height + "px";
      $3F.style.border = "0px none";
      $3F.style.overflow = "hidden";
      var $1h = c.textDiv;
      $3F.style.fontFamily = DayPilot.gs($1h, 'fontFamily') || DayPilot.gs($1h, 'font-family');
      $3F.style.fontSize = DayPilot.gs($1h, 'fontSize') || DayPilot.gs($1h, 'font-size');
      $3F.value = $t.html;
      c.firstChild.appendChild($3F);
      c.input = $3F;
      var $3G = function () {
        try {
          c.input.parentNode.removeChild(c.input);
        } catch (e) {
          $c();
        }
        ;
        c.input = null;
      };
      $3F.focus();
      $3F.onblur = function () {
        $3F.onblur = null;
        var $0S = $3F.value;
        var $0V = DayPilot.indexOf($e.rowlist, $t);
        $3G();
        $e.$8M($t, $0S);
      };
      $3F.onkeydown = function (e) {
        var $3H = (window.event) ? event.keyCode : e.keyCode;
        if ($3H === 27) {
          $3G();
        }
        ;
        if ($3H === 13) {
          $3F.onblur();
          return false;
        }
        ;
        return true;
      };
      if ($3F.setSelectionRange) {
        $3F.setSelectionRange(0, 9999);
      } else {
        $3F.select();
      }
      ;
      return $3F;
    };
    $0T.selected = [];
    $0T.select = function ($t, $0F, $0Y) {
      var $3A = DayPilot.indexOf($0T.selected, $t) !== -1;
      if ($0F) {
        if ($3A) {
          $0T.unselect($t);
          DayPilot.rfa($0T.selected, $t);
          return;
        }
      } else {
        $3A = false;
        $0T.clearSelection();
      }
      ;
      $0T.$ar($t);
      if (!$3A) {
        $0T.selected.push($t);
      }
    };
    $0T.$as = function () {
      for (var i = 0; i < $0T.selected.length; i++) {
        $0T.$ar($0T.selected[i]);
      }
    };
    $0T.$ar = function ($t) {
      var y = DayPilot.indexOf($e.rowlist, $t);
      var cl = $e.$7C("_cell_selected");
      var $w = [];
      for (var i = 0; i < $e.itline.length; i++) {
        var c = {};
        c.x = i;
        c.y = y;
        $w.push(c);
      }
      ;
      $e.cells.findXy($w).addClass(cl);
      var cl = $e.$7C("_rowheader_selected");
      var $2Q = $e.divHeader;
      for (var y = 0; y < $2Q.rows.length; y++) {
        var r = $2Q.rows[y];
        if (r && r.cells[0] && r.cells[0].row === $t) {
          for (var x = 0; x < r.cells.length; x++) {
            var c = r.cells[x];
            var $3I = c.firstChild;
            DayPilot.Util.addClass($3I, cl);
          }
        }
      }
    };
    $0T.$at = function (id) {
      for (var i = 0; i < $0T.selected.length; i++) {
        var $t = $0T.selected[i];
        if ($t.id === id) {
          return true;
        }
      }
      ;
      return false;
    };
    $0T.$95 = function () {
      var $C = [];
      if (!$0T.selected) {
        return $C;
      }
      ;
      for (var i = 0; i < $0T.selected.length; i++) {
        var $t = $0T.selected[i];
        var $0V = DayPilot.indexOf($e.rowlist, $t);
        var r = $e.$8N($t, $0V);
        $C.push(r.toJSON());
      }
      ;
      return $C;
    };
    $0T.unselect = function ($t) {
      var cl = $e.$7C("_cell_selected");
      var y = DayPilot.indexOf($e.rowlist, $t);
      var $w = [];
      for (var i = 0; i < $e.itline.length; i++) {
        var c = {};
        c.x = i;
        c.y = y;
        $w.push(c);
      }
      ;
      $e.cells.findXy($w).removeClass(cl);
      var cl = $e.$7C("_rowheader_selected");
      var $2Q = $e.divHeader;
      var r = $0T.$8L($t);
      if (r) {
        for (var x = 0; x < r.cells.length; x++) {
          var c = r.cells[x];
          var $3I = c.firstChild;
          DayPilot.Util.removeClass($3I, cl);
        }
      }
    };
    $0T.clearSelection = function () {
      for (var j = 0; j < $0T.selected.length; j++) {
        var $t = $0T.selected[j];
        $0T.unselect($t);
      }
      ;
      $0T.selected = [];
    };
    $0T.$8L = function ($t) {
      var $2Q = $e.divHeader;
      for (var y = 0; y < $2Q.rows.length; y++) {
        var r = $2Q.rows[y];
        if (r && r.cells[0] && r.cells[0].row === $t) {
          return r;
        }
      }
      ;
      return null;
    };
    $0T.selectById = function (id) {
      var $t = $e.$7t(id);
      if ($t) {
        $0T.select($t);
      }
    };
    $0T.startMoving = function ($t) {
      var $30 = DayPilot.Global.rowmoving;
      $30.row = $t;
      $e.divResScroll.style.cursor = "move";
      $0T.createOverlay($t);
    };
    $0T.resetMoving = function () {
      $e.divResScroll.style.cursor = $30.cursor;
      DayPilot.de($30.div);
      $0T.deleteOverlay($30.row);
      DayPilot.Global.rowmoving = $30 = {};
    };
    $0T.move = function ($h) {
      var $0W = $h.source.$8R.resource;
      var $0X = $h.target.$8R.resource;
      var $U = $h.position;
      if ($U === "forbidden") {
        return;
      }
      ;
      var $3J = $3K.findParentArray($0W);
      if (!$3J) {
        throw "Cannot find source node parent";
      }
      ;
      var $3L = DayPilot.indexOf($3J, $0W);
      $3J.splice($3L, 1);
      var $3M = $3K.findParentArray($0X);
      if (!$3M) {
        throw "Cannot find target node parent";
      }
      ;
      var $3N = DayPilot.indexOf($3M, $0X);
      switch ($U) {
        case "before":
          $3M.splice($3N, 0, $0W);
          break;
        case "after":
          $3M.splice($3N + 1, 0, $0W);
          break;
        case "child":
          if (!$0X.children) {
            $0X.children = [];
            $0X.expanded = true;
          }
          ;
          $0X.children.push($0W);
          break;
      }
      ;
      $e.update();
    };
    var $3K = {};
    $3K.findParentArray = function ($17) {
      return $3K.findInArray($e.resources, $17);
    };
    $3K.findInArray = function ($3O, $17) {
      if (DayPilot.indexOf($3O, $17) !== -1) {
        return $3O;
      }
      ;
      for (var i = 0; i < $3O.length; i++) {
        var r = $3O[i];
        if (r.children && r.children.length > 0) {
          var parent = $3K.findInArray(r.children, $17);
          if (parent) {
            return parent;
          }
        }
      }
      ;
      return null;
    };
    this.$78 = function () {
      this.rowlist = [];
      var $18 = this.resources;
      var $3P = this.$7L();
      if (!$3P) {
        if (this.viewType === "Gantt") {
          $18 = this.$au();
        } else if (this.viewType === "Days") {
          $18 = this.$av();
        }
      }
      ;
      var $0V = {};
      $0V.i = 0;
      this.$aw($18, $0V, 0, null, this.treeEnabled, false);
      this.$ax();
    };
    this.$ax = function () {
      var $C = [];
      for (var i = 0; i < $e.rowlist.length; i++) {
        var $t = $e.rowlist[i];
        var id = $t.id;
        if ($0T.$at(id)) {
          $C.push($t);
        }
      }
      ;
      $0T.selected = $C;
    };
    this.$au = function () {
      var $C = [];
      if (this.$6T && this.resources) {
        for (var i = 0; i < this.resources.length; i++) {
          $C.push(this.resources[i]);
        }
      }
      ;
      if (!this.events.list) {
        return;
      }
      ;
      for (var i = 0; i < this.events.list.length; i++) {
        var e = this.events.list[i];
        var r = {};
        r.id = e.id;
        r.name = e.text;
        $C.push(r);
      }
      ;
      return $C;
    };
    this.$av = function () {
      var $C = [];
      var $3Q = this.$9k.locale();
      for (var i = 0; i < this.days; i++) {
        var d = this.startDate.addDays(i);
        var r = {};
        r.name = d.toString($3Q.datePattern, $3Q);
        r.start = d;
        $C.push(r);
      }
      ;
      return $C;
    };
    this.$9O = function () {
      if (this.itline && this.itline.length > 0) {
        return this.itline[0].start;
      }
      ;
      return this.startDate;
    };
    this.$aj = function () {
      if (this.itline && this.itline.length > 0) {
        return this.itline[this.itline.length - 1].end;
      }
      ;
      return this.startDate.addDays(this.days);
    };
    this.$aw = function ($18, $0V, $3D, parent, $3R, $3S) {
      if (!$18) {
        return;
      }
      ;
      for (var i = 0; i < $18.length; i++) {
        if (!$18[i]) {
          continue;
        }
        ;
        var $3T = {};
        $3T.level = $3D;
        $3T.hidden = $3S;
        $3T.index = $0V.i;
        var $17 = this.$ay($18[i], $3T);
        var $t = {};
        $t.backColor = $17.backColor;
        $t.cssClass = $17.cssClass;
        $t.expanded = $17.expanded;
        $t.name = $17.name;
        $t.html = $17.html ? $17.html : $t.name;
        $t.minHeight = typeof $17.minHeight !== 'undefined' ? $17.minHeight : $e.rowMinHeight;
        $t.marginBottom = typeof $17.marginBottom !== 'undefined' ? $17.marginBottom : $e.rowMarginBottom;
        $t.loaded = !$17.dynamicChildren;
        $t.id = $17.id || $17.value;
        $t.toolTip = $17.toolTip;
        $t.children = [];
        $t.columns = [];
        $t.start = $17.start ? new DayPilot.Date($17.start) : this.$9O();
        $t.isParent = $17.isParent;
        $t.contextMenu = $17.contextMenu ? eval($17.contextMenu) : this.contextMenuResource;
        $t.areas = $17.areas;
        $t.moveDisabled = $17.moveDisabled;
        $t.task = $17.task;
        $t.height = this.$9k.eventHeight();
        $t.hidden = $3S;
        $t.level = $3D;
        $t.index = $0V.i;
        $t.resource = $18[i];
        $t.lines = [];
        $t.blocks = [];
        $t.isRow = true;
        $t.getHeight = function () {
          var $3U = 1;
          if ($e.groupConcurrentEvents) {
            for (var i = 0; i < this.blocks.length; i++) {
              var $34 = this.blocks[i];
              if ($34.expanded) {
                $3U = Math.max($3U, $34.lines.length);
              }
            }
          } else {
            $3U = Math.max(1, this.lines.length);
          }
          ;
          var $3V = $e.$6S ? ($e.$9k.eventHeight() + 10) : $e.$9k.eventHeight();
          var $V = $3U * $3V + this.marginBottom;
          return ($V > this.minHeight) ? $V : this.minHeight;
        };
        $t.putIntoLine = function (ep) {
          var $3W = this;
          for (var i = 0; i < this.lines.length; i++) {
            var $09 = this.lines[i];
            if ($09.isFree(ep.part.left, ep.part.width)) {
              $09.push(ep);
              return i;
            }
          }
          ;
          var $09 = [];
          $09.isFree = function ($3X, $3Y, $3Z) {
            var end = $3X + $3Y - 1;
            var $2E = this.length;
            for (var i = 0; i < $2E; i++) {
              var e = this[i];
              if (!(end < e.part.left || $3X > e.part.left + e.part.width - 1)) {
                if ($3Z && $3Z === e.data) {
                  continue;
                }
                ;
                return false;
              }
            }
            ;
            return true;
          };
          $09.push(ep);
          this.lines.push($09);
          return this.lines.length - 1;
        };
        $t.putIntoBlock = function (ep) {
          for (var i = 0; i < this.blocks.length; i++) {
            var $34 = this.blocks[i];
            if (DayPilot.indexOf($34.events, ep) !== -1) {
              return;
            }
            ;
            if ($34.overlapsWith(ep.part.left, ep.part.width) || $e.groupAllEvents) {
              $34.events.push(ep);
              ep.part.block = $34;
              $34.min = Math.min($34.min, ep.part.left);
              $34.max = Math.max($34.max, ep.part.left + ep.part.width);
              return i;
            }
          }
          ;
          var $34 = {};
          $34.expanded = false;
          $34.row = this;
          $34.events = [];
          $34.lines = [];
          $34.putIntoLine = function (ep) {
            var $40 = this;
            for (var i = 0; i < this.lines.length; i++) {
              var $09 = this.lines[i];
              if ($09.isFree(ep.part.left, ep.part.width)) {
                $09.push(ep);
                return i;
              }
            }
            ;
            var $09 = [];
            $09.isFree = function ($v, $01) {
              var end = $v + $01 - 1;
              var $2E = this.length;
              for (var i = 0; i < $2E; i++) {
                var e = this[i];
                if (!(end < e.part.left || $v > e.part.left + e.part.width - 1)) {
                  return false;
                }
              }
              ;
              return true;
            };
            $09.push(ep);
            this.lines.push($09);
          };
          $34.overlapsWith = function ($v, $01) {
            var end = $v + $01 - 1;
            if (!(end < this.min || $v > this.max - 1)) {
              return true;
            }
            ;
            return false;
          };
          $34.events.push(ep);
          ep.part.block = $34;
          $34.min = ep.part.left;
          $34.max = ep.part.left + ep.part.width;
          this.blocks.push($34);
        };
        this.rowlist.push($t);
        if (parent !== null) {
          parent.children.push($0V.i);
        }
        ;
        if ($17.columns) {
          for (var j = 0; j < $17.columns.length; j++) {
            $t.columns.push($17.columns[j]);
          }
        }
        ;
        $0V.i++;
        if ($3R && $17.children && $17.children.length) {
          var $41 = $3S || !$t.expanded;
          this.$aw($17.children, $0V, $3D + 1, $t, true, $41);
        }
      }
    };
    this.$a7 = function ($t) {
      var $h = {};
      $h.row = this.$8N($t);
      DayPilot.Util.copyProps($t, $h.row, ['html', 'backColor', 'cssClass', 'toolTip', 'contextMenu']);
      $h.row.columns = DayPilot.Util.createArrayCopy($t.columns, ['html']);
      $h.row.areas = DayPilot.Util.createArrayCopy($t.areas);
      if (typeof $h.row.columns === 'undefined' && $e.rowHeaderColumns && $e.rowHeaderColumns.length > 0) {
        r.columns = [];
        for (var i = 0; i < $e.rowHeaderColumns.length; i++) {
          r.columns.push({});
        }
      }
      ;
      if (typeof this.onBeforeRowHeaderRender === "function") {
        this.onBeforeRowHeaderRender($h);
      }
      ;
      return $h;
    };
    this.$ay = function ($17, $3T) {
      var r = this.$az($17, $3T);
      if (typeof this.onBeforeResHeaderRender === 'function') {
        var $h = {};
        $h.resource = r;
        this.onBeforeResHeaderRender($h);
      }
      ;
      return r;
    };
    this.$az = function ($17, $3T) {
      var r = {};
      for (var name in $3T) {
        r[name] = $3T[name];
      }
      ;
      for (var name in $17) {
        r[name] = $17[name];
      }
      ;
      if (typeof $17.html === 'undefined') {
        r.html = $17.name;
      }
      ;
      if (typeof r.columns === 'undefined' && $e.rowHeaderColumns && $e.rowHeaderColumns.length > 0) {
        r.columns = [];
        for (var i = 0; i < $e.rowHeaderColumns.length; i++) {
          r.columns.push({});
        }
      }
      ;
      return r;
    };
    this.$aA = function () {
      this.$aB();
      this.nav.top.dp = this;
      this.nav.top.innerHTML = "";
      if (!this.cssOnly) {
        this.nav.top.style.border = "1px solid " + this.borderColor;
      } else {
        DayPilot.Util.addClass(this.nav.top, this.$7C("_main"));
      }
      ;
      if (DayPilot.browser.ie9) {
        DayPilot.Util.addClass(this.nav.top, this.$7C("_browser_ie9"));
      }
      ;
      if (DayPilot.browser.ie8) {
        DayPilot.Util.addClass(this.nav.top, this.$7C("_browser_ie8"));
      }
      ;
      this.nav.top.style.MozUserSelect = 'none';
      this.nav.top.style.KhtmlUserSelect = 'none';
      this.nav.top.style.webkitUserSelect = 'none';
      if (this.width) {
        this.nav.top.style.width = this.width;
      }
      ;
      if (this.heightSpec === "Parent100Pct") {
        this.nav.top.style.height = "100%";
      }
      ;
      this.nav.top.style.lineHeight = "1.2";
      this.nav.top.style.position = "relative";
      this.nav.top.onmousemove = this.$aC;
      this.nav.top.ontouchstart = $0r.onMainTouchStart;
      this.nav.top.ontouchmove = $0r.onMainTouchMove;
      this.nav.top.ontouchend = $0r.onMainTouchEnd;
      if (this.hideUntilInit) {
        this.nav.top.style.visibility = 'hidden';
      }
      ;
      var $42 = this.$7F();
      var $43 = this.$9k.layout();
      if ($43 === 'DivBased') {
        var $x = document.createElement("div");
        $x.style.position = "absolute";
        $x.style.left = "0px";
        $x.style.width = ($42) + "px";
        $x.appendChild(this.$aD());
        var $44 = document.createElement("div");
        $44.style.height = "1px";
        $44.className = this.$7C("_divider_horizontal");
        if (!this.cssOnly) {
          $44.style.backgroundColor = this.borderColor;
        }
        ;
        $x.appendChild($44);
        this.nav.dh1 = $44;
        $x.appendChild(this.$aE());
        this.nav.left = $x;
        var $45 = document.createElement("div");
        $45.style.position = "absolute";
        $45.style.left = ($42) + "px";
        $45.style.width = $R.splitterWidth() + "px";
        $45.style.height = (this.$7E() + this.$7H()) + "px";
        $45.className = this.$7C("_divider");
        $45.setAttribute("unselectable", "on");
        if (!this.cssOnly) {
          $45.style.backgroundColor = this.borderColor;
        }
        ;
        this.nav.divider = $45;
        if (this.rowHeaderScrolling) {
          this.$aF();
        }
        ;
        var $y = document.createElement("div");
        $y.style.marginLeft = ($42 + $R.splitterWidth()) + "px";
        $y.style.marginRight = '1px';
        $y.style.position = 'relative';
        $y.appendChild(this.$aG());
        this.nav.right = $y;
        var $46 = document.createElement("div");
        $46.style.height = "1px";
        $46.style.position = "absolute";
        $46.style.top = this.$7E() + "px";
        $46.style.width = "100%";
        $46.className = this.$7C("_divider_horizontal");
        if (!this.cssOnly) {
          $46.style.backgroundColor = this.borderColor;
        }
        ;
        $y.appendChild($46);
        this.nav.dh2 = $46;
        $y.appendChild(this.$aH());
        var $47 = document.createElement("div");
        $47.style.clear = 'left';
        this.nav.top.appendChild($x);
        this.nav.top.appendChild($45);
        this.nav.top.appendChild($y);
        this.nav.top.appendChild($47);
      } else {
        var $2Q = document.createElement("table");
        $2Q.cellPadding = 0;
        $2Q.cellSpacing = 0;
        $2Q.border = 0;
        $2Q.style.position = 'absolute';
        if (!this.cssOnly) {
          $2Q.style.backgroundColor = this.hourNameBackColor;
        }
        ;
        var $48 = $2Q.insertRow(-1);
        var $49 = $48.insertCell(-1);
        $49.appendChild(this.$aD());
        var $4a = $48.insertCell(-1);
        $4a.appendChild(this.$aG());
        var $4b = $2Q.insertRow(-1);
        var $4c = $4b.insertCell(-1);
        $4c.appendChild(this.$aE());
        var $4d = $4b.insertCell(-1);
        $4d.appendChild(this.$aH());
        this.nav.top.appendChild($2Q);
      }
      ;
      this.$75 = document.createElement("div");
      this.$75.style.display = "none";
      this.nav.top.appendChild(this.$75);
      if (this.$94()) {
        var $4e = document.createElement("input");
        $4e.type = "hidden";
        $4e.id = this.id + "_state";
        $4e.name = this.id + "_state";
        this.nav.state = $4e;
        this.nav.top.appendChild($4e);
      }
      ;
      var $2O = 5;
      var loading = document.createElement("div");
      loading.style.position = 'absolute';
      loading.style.left = (this.$7F() + $R.splitterWidth() + 5) + "px";
      loading.style.top = (this.$7E() + 5) + "px";
      loading.style.display = 'none';
      if (!this.cssOnly) {
        loading.style.backgroundColor = this.loadingLabelBackColor;
        loading.style.fontSize = this.loadingLabelFontSize;
        loading.style.fontFamily = this.loadingLabelFontFamily;
        loading.style.color = this.loadingLabelFontColor;
        loading.style.padding = '2px';
      }
      ;
      loading.innerHTML = this.loadingLabelText;
      DayPilot.Util.addClass(loading, this.$7C("_loading"));
      this.nav.loading = loading;
      this.nav.top.appendChild(loading);
      this.$aI();
    };
    this.$aC = function (ev) {
      if ($30.row) {
        var $1j = DayPilot.mo3($e.divHeader, ev);
        var ri = $e.$9b($1j.y);
        var $t = $e.rowlist[ri.i];
        var $4f = $1j.y - ri.top;
        var $4g = ri.bottom - ri.top;
        var $4h = $4g / 3;
        var $4i = $4h * 2;
        var $1p = $4g / 2;
        var $U = "before";
        var $4j = $t.children && $t.children.length > 0;
        var $4k = (function () {
          var i = ri.i;
          var $4l = $t.level;
          while (i >= 0) {
            var r = $e.rowlist[i];
            i--;
            if ($4l <= r.level) {
              continue;
            }
            ;
            if (r === $30.row) {
              return true;
            }
            ;
            if (r.level === 0) {
              return false;
            }
            ;
            $4l = r.level;
          }
          ;
          return false;
        })();
        var $4m = true;
        if ($4k || ri.i === $30.row.index) {
          $U = "forbidden";
        } else if ($4m) {
          if ($4j) {
            if ($4f < $1p) {
              $U = "before";
            } else {
              $U = "child";
            }
          } else {
            if ($4f < $4h) {
              $U = "before";
            } else if ($4f < $4i) {
              $U = "child";
            } else {
              $U = "after";
            }
          }
        } else {
          if ($4j) {
            $U = "before";
          } else {
            if ($4f < $1p) {
              $U = "before";
            } else {
              $U = "after";
            }
          }
        }
        ;
        if ($30.row.moveDisabled) {
          $U = "forbidden";
        }
        ;
        $30.calendar = $e;
        $30.source = $30.row;
        $30.target = $e.rowlist[ri.i];
        $30.position = $U;
        var $4n = (function () {
          if (!$30.last) {
            return true;
          }
          ;
          if ($30.last.target !== $30.target) {
            return true;
          }
          ;
          if ($30.last.position !== $30.position) {
            return true;
          }
          ;
          return false;
        })();
        if ($4n) {
          if (typeof $e.onRowMoving === 'function') {
            var $h = {};
            $h.source = $e.$8N($30.source);
            $h.target = $e.$8N($30.target);
            $h.position = $U;
            $e.onRowMoving($h);
            $30.position = $h.position;
          }
        } else if ($30.last) {
          $30.position = $30.last.position;
        }
        ;
        $30.last = {};
        $30.last.target = $30.target;
        $30.last.position = $30.position;
        (function drawRowPosition() {
          if ($30.div) {
            DayPilot.de($30.div);
          }
          ;
          var top = ri.top;
          var $0o = $30.position;
          var ro = $e.rowlist[ri.i];
          var $3D = ro.level;
          var $x = $3D * $e.treeIndent;
          switch ($0o) {
            case "before":
              top = ri.top;
              break;
            case "child":
              top = ri.top + $1p;
              break;
            case "after":
              top = ri.bottom;
              break;
            case "forbidden":
              top = ri.top + $1p;
              break;
          }
          ;
          var $01 = $e.$9U() - $x;
          var $U = document.createElement("div");
          $U.style.position = "absolute";
          $U.style.left = $x + "px";
          $U.style.width = $01 + "px";
          $U.style.top = top + "px";
          $U.className = $e.$7C("_rowmove_position_" + $0o);
          $30.div = $U;
          $e.divResScroll.appendChild($U);
        })();
      } else if (DayPilotScheduler.splitting) {
        var $01 = DayPilot.mo3($e.nav.top, ev).x;
        var $2E = $e.$9U();
        var $4o = Math.min($2E, $01 - 1);
        $e.rowHeaderWidth = $4o;
        $e.$aJ = false;
        $e.$aK();
      }
    };
    this.$7g = function () {
      var $V = this.$7E();
      this.nav.corner.style.height = ($V) + "px";
      this.divTimeScroll.style.height = $V + "px";
      this.divNorth.style.height = $V + "px";
      if (this.nav.dh1 && this.nav.dh2) {
        this.nav.dh1.style.top = $V + "px";
        this.nav.dh2.style.top = $V + "px";
      }
      ;
      this.nav.loading.style.top = ($V + 5) + "px";
      this.nav.scroll.style.top = ($V + 1) + "px";
    };
    this.$7F = function () {
      if (this.$aJ) {
        return 0;
      }
      ;
      var $4p = this.rowHeaderScrolling;
      if ($4p) {
        return this.rowHeaderWidth;
      }
      ;
      return this.$9U();
    };
    this.$aF = function () {
      var $G = this.nav.divider;
      $G.style.cursor = "col-resize";
      $G.setAttribute("unselectable", "on");
      $G.onmousedown = function (ev) {
        var $4q = DayPilotScheduler.splitting = {};
        $4q.cursor = $e.nav.top.style.cursor;
        $4q.cleanup = function () {
          if (typeof $e.onRowHeaderResized === "function") {
            var $h = {};
            $e.onRowHeaderResized($h);
          }
          ;
          $e.nav.top.style.cursor = $4q.cursor;
        };
        $e.nav.top.style.cursor = "col-resize";
        return false;
      };
    };
    this.$aK = function () {
      var $4r = $R.splitterWidth();
      var $01 = this.$7F();
      this.nav.corner.style.width = $01 + "px";
      this.divCorner.style.width = $01 + "px";
      this.divResScroll.style.width = $01 + "px";
      this.nav.left.style.width = ($01) + "px";
      this.nav.divider.style.left = ($01) + "px";
      this.nav.right.style.marginLeft = ($01 + $4r) + "px";
      if (this.nav.message) {
        this.nav.message.style.left = ($01 + $4r) + "px";
      }
      ;
      if (this.nav.loading) {
        this.nav.loading.style.left = ($01 + $4r + 5) + "px";
      }
      ;
      if (this.nav.hideIcon) {
        var hi = this.nav.hideIcon;
        var $4s = $e.$7C("_header_icon_show");
        var $4t = $e.$7C("_header_icon_hide");
        hi.style.left = ($01 + $4r - 1) + "px";
        if ($e.$aJ) {
          DayPilot.Util.removeClass(hi, $4t);
          DayPilot.Util.addClass(hi, $4s);
        } else {
          DayPilot.Util.removeClass(hi, $4s);
          DayPilot.Util.addClass(hi, $4t);
        }
      }
    };
    this.$aL = function () {
      this.$9T();
      var $X = this.$9U();
      var $4u = function ($z, $01, $x) {
        if (!$z || !$z.style) {
          return;
        }
        ;
        var $G = $z.firstChild;
        if ($e.$a1) {
          $z.style.width = $01 + "px";
          $G.style.width = $01 + "px";
          if (typeof $x === "number") {
            $z.style.left = $x + "px";
          }
        } else {
          $G.style.width = $01 + "px";
        }
      };
      var $2Q = this.divHeader;
      $2Q.style.width = $X + "px";
      var $0R = $e.$9V();
      for (var i = $0R.start; i < $0R.end; i++) {
        var $t = $2Q.rows[i];
        if (!$t) {
          continue;
        }
        ;
        var $z = $t.cells[0];
        if ($z.colSpan > 1) {
          var $z = $t.cells[0];
          $4u($z, $X);
        } else {
          if (this.rowHeaderCols) {
            var $x = 0;
            for (var j = 0; j < $t.cells.length; j++) {
              var $01 = this.rowHeaderCols[j];
              var $z = $t.cells[j];
              $4u($z, $01, $x);
              $x += $01;
            }
          } else {
            var $01 = this.rowHeaderWidth;
            var $z = $t.cells[0];
            $4u($z, $01);
          }
        }
      }
      ;
      if ($e.nav.resScrollSpace) {
        $e.nav.resScrollSpace.style.width = $X + "px";
      }
      ;
      this.$aM();
    };
    this.$8t = function () {
      this.$aK();
      this.$aL();
    };
    this.$aN = function () {
      var $G = $e.nav.corner;
      var $1t = this.rowHeaderColumns;
      var scroll = document.createElement("div");
      scroll.style.position = "absolute";
      scroll.style.bottom = "0px";
      scroll.style.left = "0px";
      scroll.style.width = "100%";
      scroll.style.height = $R.headerHeight() + "px";
      scroll.style.overflow = "hidden";
      $e.nav.columnScroll = scroll;
      var $t = document.createElement("div");
      $t.style.position = "absolute";
      $t.style.bottom = "0px";
      $t.style.left = "0px";
      $t.style.width = "5000px";
      $t.style.height = $R.headerHeight() + "px";
      $t.style.overflow = "hidden";
      $t.className = this.$7C("_columnheader");
      scroll.appendChild($t);
      var $J = document.createElement("div");
      $J.style.position = "absolute";
      $J.style.top = "0px";
      $J.style.bottom = "0px";
      $J.style.left = "0px";
      $J.style.right = "0px";
      $J.className = this.$7C("_columnheader_inner");
      $t.appendChild($J);
      var $4v = new DayPilot.Splitter($J);
      $4v.widths = DayPilot.Util.propArray($1t, "width");
      $4v.height = $R.headerHeight();
      $4v.css.title = this.$7C("_columnheader_cell");
      $4v.css.titleInner = this.$7C("_columnheader_cell_inner");
      $4v.css.splitter = this.$7C("_columnheader_splitter");
      $4v.titles = DayPilot.Util.propArray($1t, "title");
      $4v.updating = function ($h) {
        DayPilot.Util.updatePropsFromArray($e.rowHeaderColumns, "width", this.widths);
        $e.$8t();
        if ($e.cellWidthSpec === "Auto") {
        }
      };
      $4v.updated = function ($4w) {
        if (typeof $e.onRowHeaderColumnResized === "function") {
          var $h = {};
          $h.column = $e.rowHeaderColumns[$4w.index];
          $e.onRowHeaderColumnResized($h);
        }
        ;
        $e.$a0();
      };
      $4v.color = '#000000';
      $4v.opacity = 30;
      $4v.init();
      $G.appendChild(scroll);
      this.$9Z = $4v;
    };
    this.$8s = function () {
      var $G = this.nav.corner;
      $G.innerHTML = '';
      $G.className = this.cssOnly ? this.$7C('_corner') : this.$7C('corner');
      if (!this.cssOnly) {
        $G.style.backgroundColor = this.hourNameBackColor;
        $G.style.fontFamily = this.hourFontFamily;
        $G.style.fontSize = this.hourFontSize;
        $G.style.cursor = 'default';
      }
      ;
      var $J = document.createElement("div");
      $J.style.position = "absolute";
      $J.style.top = "0px";
      $J.style.left = "0px";
      $J.style.right = "0px";
      $J.style.bottom = "0px";
      if (this.cssOnly) {
        $J.className = this.$7C('_corner_inner');
      }
      ;
      this.divCorner = $J;
      $J.innerHTML = '&nbsp;';
      if (this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
        var $4x = document.createElement("div");
        $4x.style.position = "absolute";
        $4x.style.top = "0px";
        $4x.style.left = "0px";
        $4x.style.right = "0px";
        $4x.style.bottom = ($R.headerHeight() + 1) + "px";
        $G.appendChild($4x);
        var $45 = document.createElement("div");
        $45.style.position = "absolute";
        $45.style.left = "0px";
        $45.style.right = "0px";
        $45.style.height = "1px";
        $45.style.bottom = ($R.headerHeight()) + "px";
        $45.className = this.$7C("_divider");
        //$G.appendChild($45);
        //$4x.appendChild($J);
        this.$aN();
      } else {
        $G.appendChild($J);
      }
      ;
      var $4y = document.createElement("div");
      $4y.style.position = 'absolute';
      $4y.style.padding = '2px';
      $4y.style.top = '0px';
      $4y.style.left = '1px';
      //$4y.style.backgroundColor = "#FF6600";
      $4y.style.color = "white";
      //$4y.innerHTML = "\u0044\u0045\u004D\u004F";
      if (this.numberFormat)$G.appendChild($4y);
    };
    this.$aI = function () {
      if (!this.rowHeaderHideIcon) {
        return;
      }
      ;
      var $4z = 3;
      var $x = this.$7F() + $R.splitterWidth() - 1;
      var $01 = 10;
      var $V = 20;
      var top = this.$7E() + $4z;
      var $G = DayPilot.Util.div(this.nav.top, $x, top, $01, $V);
      $G.style.cursor = "pointer";
      $G.className = $e.$7C("_header_icon");
      DayPilot.Util.addClass($G, $e.$7C("_header_icon_hide"));
      $G.onclick = function () {
        $e.$aJ = !$e.$aJ;
        $e.$aK();
        $e.$a0();
      };
      this.nav.hideIcon = $G;
    };
    this.$aD = function () {
      var $42 = this.$7F();
      var $G = document.createElement("div");
      $e.nav.corner = $G;
      $G.style.width = $42 + "px";
      $G.style.height = (this.$7E()) + "px";
      $G.style.overflow = 'hidden';
      $G.style.position = 'relative';
      $G.setAttribute("unselectable", "on");
      $G.onmousemove = function () {
        $e.$a2();
      };
      $G.oncontextmenu = function () {
        return false;
      };
      this.$8s();
      return $G;
    };
    this.$7E = function () {
      if (this.timeHeader) {
        var $4A = this.timeHeader.length;
        return $4A * $R.headerHeight();
      }
      ;
      return 2 * $R.headerHeight();
    };
    this.$aE = function () {
      var $G = document.createElement("div");
      if (!this.cssOnly) {
        $G.style.backgroundColor = this.hourNameBackColor;
      }
      ;
      $G.style.width = (this.$7F()) + "px";
      $G.style.height = this.$7H() + "px";
      $G.style.overflow = 'hidden';
      $G.style.position = 'relative';
      $G.onmousemove = function () {
        $e.$a2();
      };
      $G.onscroll = function () {
        if ($e.nav.columnScroll) {
          $e.nav.columnScroll.scrollLeft = $G.scrollLeft;
        }
      };
      $G.oncontextmenu = function () {
        return false;
      };
      $G.onmouseenter = function () {
        if ($e.rowHeaderScrolling) {
          $G.style.overflowX = "auto";
        }
      };
      $G.onmouseleave = function () {
        if ($e.rowHeaderScrolling) {
          $G.style.overflowX = "hidden";
        }
      };
      this.divResScroll = $G;
      this.$7I = $G;
      return $G;
    };
    this.$aO = function ($G) {
      if ($R.layout() === 'TableBased') {
        var $01 = parseInt(this.width, 10);
        var $4B = (this.width.indexOf("%") !== -1);
        var $4C = /MSIE/i.test(navigator.userAgent);
        var $42 = this.$9U();
        if ($4B) {
          if (this.nav.top && this.nav.top.offsetWidth > 0) {
            $G.style.width = (this.nav.top.offsetWidth - 6 - $42) + "px";
          }
        } else {
          $G.style.width = ($01 - $42) + "px";
        }
      }
    };
    this.$9h = function () {
      if ($e.$9k.layout() === 'TableBased') {
        $e.$aO($e.nav.scroll);
        $e.$aO($e.divTimeScroll);
      }
      ;
      $e.$7h();
      $e.$a0();
      $e.$6X.drawArea = null;
      $e.$7u();
    };
    this.$a0 = function () {
      if ($e.cellWidthSpec !== 'Auto') {
        $e.nav.scroll.style.overflowX = "auto";
        return;
      }
      ;
      $e.debug.message("cell width recalc in _resize");
      $e.$76();
      $e.$77();
      $e.$7c();
      $e.$7i();
      $e.$7l();
      $e.$7k();
      $e.$7m();
      $e.$7j();
      $e.$7a();
      $e.$7n();
      $e.nav.scroll.style.overflowX = "hidden";
    };
    this.$76 = function () {
      return;
      if (this.cellWidthSpec !== 'Auto') {
        return;
      }
      ;
      var $X = this.nav.top.clientWidth;
      var $4D = this.$7F();
      var $0I = $X - $4D;
      var $z = $0I / this.$7D();
      this.cellWidth = Math.floor($z);
      $e.debug.message("AutoCellWidth: " + this.cellWidth);
    };
    this.$7K = function () {
      var $X = this.nav.top.clientWidth;
      var $4D = this.$7F();
      var $4E = 2;
      var $V = this.$7H();
      var innerHeight = this.$aP();
      var $4F = 0;
      if (innerHeight > $V) {
        $4F = DayPilot.swa();
      }
      ;
      var $0I = $X - $4D - $4E - $4F;
      this.debug.message("scrollableWidth: " + $0I);
      return $0I;
    };
    this.$aG = function () {
      var $G = document.createElement("div");
      $G.style.overflow = 'hidden';
      if (!this.cssOnly) {
        $G.style.backgroundColor = this.hourNameBackColor;
      }
      ;
      $G.style.position = 'absolute';
      $G.style.display = 'block';
      $G.style.top = "0px";
      $G.style.width = "100%";
      $G.style.height = this.$7E() + "px";
      $G.style.overflow = "hidden";
      $G.onmousemove = function () {
        $e.$a2();
        if ($e.cellBubble) {
          $e.cellBubble.delayedHide();
        }
      };
      this.$aO($G);
      this.divTimeScroll = $G;
      var $J = document.createElement("div");
      $J.style.width = (this.$7D() * this.cellWidth + 5000) + "px";
      this.divNorth = $J;
      $G.appendChild($J);
      return $G;
    };
    this.$7H = function () {
      var $V = 0;
      if (this.heightSpec === 'Fixed' || this.heightSpec === "Parent100Pct") {
        return this.height ? this.height : 0;
      } else {
        $V = this.$aP();
      }
      ;
      if (this.heightSpec === 'Max' && $V > this.height) {
        return this.height;
      }
      ;
      return $V;
    };
    this.$aP = function () {
      var $V;
      if (this.$6W) {
        var $4G = DayPilot.sh($e.nav.scroll);
        if ($4G === 0) {
          $V = this.$6W;
        } else {
          $V = this.$6W + $4G;
        }
      } else {
        $V = this.rowlist.length * this.$9k.eventHeight();
      }
      ;
      return $V;
    };
    this.$a2 = function () {
      this.$aM();
      this.$aQ();
      this.$aR();
    };
    this.$aH = function () {
      var $G = document.createElement("div");
      $G.style.overflow = "auto";
      $G.style.overflowX = "auto";
      $G.style.overflowY = "auto";
      $G.style.position = "absolute";
      $G.style.height = (this.$7H()) + "px";
      $G.style.top = (this.$7E() + 1) + "px";
      $G.style.width = "100%";
      if (!this.cssOnly) {
        $G.style.backgroundColor = this.emptyBackColor;
      }
      ;
      $G.className = this.$7C("_scrollable");
      $G.oncontextmenu = function () {
        return false;
      };
      this.$aO($G);
      this.nav.scroll = $G;
      this.$9g = document.createElement("div");
      this.$9g.style.MozUserSelect = "none";
      this.$9g.style.KhtmlUserSelect = "none";
      this.$9g.style.webkitUserSelect = "none";
      this.$9g.daypilotMainD = true;
      this.$9g.calendar = this;
      if ($a) {
        this.$9g.style.webkitTransform = "translateZ(0px)";
      }
      ;
      this.$9g.style.position = 'absolute';
      var $4H = this.$aS();
      if ($4H > 0 && !isNaN($4H)) {
        this.$9g.style.width = ($4H) + "px";
      }
      ;
      this.$9g.setAttribute("unselectable", "on");
      this.$9g.onmousedown = this.$aT;
      this.$9g.onmousemove = this.$aU;
      this.$9g.oncontextmenu = this.$aV;
      this.$9g.ondblclick = this.$aW;
      this.$9g.className = this.$7C("_matrix");
      this.divStretch = document.createElement("div");
      this.divStretch.style.position = 'absolute';
      this.divStretch.style.height = '1px';
      this.$9g.appendChild(this.divStretch);
      this.divCells = document.createElement("div");
      this.divCells.style.position = 'absolute';
      this.divCells.oncontextmenu = this.$aV;
      this.$9g.appendChild(this.divCells);
      this.divLines = document.createElement("div");
      this.divLines.style.position = 'absolute';
      this.divLines.oncontextmenu = this.$aV;
      this.$9g.appendChild(this.divLines);
      this.divBreaks = document.createElement("div");
      this.divBreaks.style.position = 'absolute';
      this.divBreaks.oncontextmenu = this.$aV;
      this.$9g.appendChild(this.divBreaks);
      this.divSeparators = document.createElement("div");
      this.divSeparators.style.position = 'absolute';
      this.divSeparators.oncontextmenu = this.$aV;
      this.$9g.appendChild(this.divSeparators);
      this.divLinksBelow = document.createElement("div");
      this.divLinksBelow.style.position = "absolute";
      this.$9g.appendChild(this.divLinksBelow);
      this.divCrosshair = document.createElement("div");
      this.divCrosshair.style.position = 'absolute';
      this.divCrosshair.ondblclick = this.$aW;
      this.$9g.appendChild(this.divCrosshair);
      this.divRange = document.createElement("div");
      this.divRange.style.position = 'absolute';
      this.divRange.oncontextmenu = this.$aV;
      this.$9g.appendChild(this.divRange);
      this.divEvents = document.createElement("div");
      this.divEvents.style.position = 'absolute';
      this.$9g.appendChild(this.divEvents);
      this.divSeparatorsAbove = document.createElement("div");
      this.divSeparatorsAbove.style.position = 'absolute';
      this.divSeparatorsAbove.oncontextmenu = this.$aV;
      this.$9g.appendChild(this.divSeparatorsAbove);
      this.divLinksAbove = document.createElement("div");
      this.divLinksAbove.style.position = "absolute";
      this.$9g.appendChild(this.divLinksAbove);
      this.divLinkShadow = document.createElement("div");
      this.divLinkShadow.style.position = "absolute";
      this.$9g.appendChild(this.divLinkShadow);
      this.divLinkpoints = document.createElement("div");
      this.divLinkpoints.style.position = "absolute";
      this.$9g.appendChild(this.divLinkpoints);
      this.divHover = document.createElement("div");
      this.divHover.style.position = 'absolute';
      this.$9g.appendChild(this.divHover);
      $G.appendChild(this.$9g);
      return $G;
    };
    this.$aX = {};
    var $4I = this.$aX;
    $4I.create = function () {
      if ($e.nav.overlay) {
        return;
      }
      ;
      var $G = document.createElement('div');
      $G.style.position = "absolute";
      $G.style.left = "0px";
      $G.style.right = "0px";
      $G.style.top = "0px";
      $G.style.bottom = "0px";
      $G.className = $e.$7C("_block");
      $e.nav.top.appendChild($G);
      $e.nav.overlay = $G;
    };
    $4I.show = function () {
      $4I.create();
      $e.nav.overlay.style.display = '';
    };
    $4I.hide = function () {
      if ($e.nav.overlay) {
        $e.nav.overlay.style.display = 'none';
      }
    };
    this.$90 = function () {
      if (this.loadingLabelVisible) {
        $e.nav.loading.innerHTML = this.loadingLabelText;
        $e.nav.loading.style.display = '';
      }
      ;
      if (this.blockOnCallBack) {
        $4I.show();
      }
    };
    this.$70 = function ($4J) {
      $e.status.loadingEvents = false;
      if (this.callbackTimeout) {
        window.clearTimeout(this.callbackTimeout);
      }
      ;
      if ($4J) {
        this.nav.loading.innerHTML = $4J;
        window.setTimeout(function () {
          $e.$70();
        }, 1000);
      } else {
        this.nav.loading.style.display = 'none';
        if (this.blockOnCallBack) {
          $4I.hide();
        }
      }
    };
    this.$aY = function () {
      this.startDate = new DayPilot.Date(this.startDate).getDatePart();
    };
    this.$aZ = function ($4K) {
      var $G = document.createElement("div");
      $G.style.position = "absolute";
      $G.style.top = "-2000px";
      $G.style.left = "-2000px";
      $G.className = this.$7C($4K);
      document.body.appendChild($G);
      var $V = $G.offsetHeight;
      var $01 = $G.offsetWidth;
      document.body.removeChild($G);
      var $f = {};
      $f.height = $V;
      $f.width = $01;
      return $f;
    };
    this.$71 = function ($4L) {
      if ($4L) {
        this.autoRefreshEnabled = true;
      }
      ;
      if (!this.autoRefreshEnabled) {
        return;
      }
      ;
      if (this.autoRefreshCount >= this.autoRefreshMaxCount) {
        return;
      }
      ;
      $e.debug.message("autorefresh started");
      this.$8Z();
      var $4M = this.autoRefreshInterval;
      if (!$4M || $4M < 10) {
        throw "The minimum autoRefreshInterval is 10 seconds";
      }
      ;
      this.autoRefreshTimeout = window.setTimeout(function () {
        $e.$b0();
      }, this.autoRefreshInterval * 1000);
    };
    this.$8Z = function () {
      if (this.autoRefreshTimeout) {
        window.clearTimeout(this.autoRefreshTimeout);
      }
    };
    this.$b0 = function () {
      if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving && !DayPilotScheduler.drag && !DayPilotScheduler.range) {
        var $4N = false;
        if (typeof this.onAutoRefresh === 'function') {
          var $h = {};
          $h.i = this.autoRefreshCount;
          $h.preventDefault = function () {
            this.preventDefault.value = true;
          };
          $e.onAutoRefresh($h);
          if ($h.preventDefault.value) {
            $4N = true;
          }
        }
        ;
        if (!$4N && this.$7L()) {
          this.commandCallBack(this.autoRefreshCommand);
        }
        ;
        this.autoRefreshCount++;
      }
      ;
      if (this.autoRefreshCount < this.autoRefreshMaxCount) {
        this.autoRefreshTimeout = window.setTimeout(function () {
          $e.$b0();
        }, this.autoRefreshInterval * 1000);
      }
    };
    this.$b1 = function () {
      if (!DayPilotScheduler.globalHandlers) {
        DayPilotScheduler.globalHandlers = true;
        DayPilot.re(document, 'mousemove', DayPilotScheduler.gMouseMove);
        DayPilot.re(document, 'mouseup', DayPilotScheduler.gMouseUp);
        DayPilot.re(document, 'touchmove', DayPilotScheduler.gTouchMove);
        DayPilot.re(document, 'touchend', DayPilotScheduler.gTouchEnd);
      }
      ;
      DayPilot.re(window, 'resize', this.$9h);
    };
    this.$b2 = function () {
      this.nav.scroll.root = this;
      this.nav.scroll.onscroll = this.$8u;
      $e.$b3 = this.nav.scroll.scrollLeft;
      $e.$b4 = this.nav.scroll.scrollTop;
      $e.$b5 = this.divNorth.clientWidth;
    };
    this.$7q = function () {
      if (!this.nav.state) {
        return;
      }
      ;
      var $4O = {};
      $4O.scrollX = this.nav.scroll.scrollLeft;
      $4O.scrollY = this.nav.scroll.scrollTop;
      if (this.syncResourceTree) {
        $4O.tree = this.$99();
      }
      ;
      this.nav.state.value = DayPilot.he(DayPilot.JSON.stringify($4O));
    };
    this.$7m = function () {
      if (!this.separators) {
        return;
      }
      ;
      for (var i = 0; i < this.separators.length; i++) {
        this.$b6(i);
      }
    };
    this.$b7 = {};
    this.$b7.step = 300;
    this.$b7.delay = 10;
    this.$b7.mode = "display";
    this.$b7.layers = true;
    this.$7n = function ($0M) {
      var $4P = this.$b7.step;
      var $4Q = this.$b7.layers;
      if ($4Q) {
        $e.divEvents = document.createElement("div");
        $e.divEvents.style.position = 'absolute';
        $e.$9g.insertBefore(this.divEvents, this.divSeparatorsAbove);
      }
      ;
      if (this.$b7.mode === 'display') {
        this.divEvents.style.display = 'none';
      } else if (this.$b7.mode === 'visibility') {
        this.divEvents.style.visibility = 'hidden';
      }
      ;
      var $4R = this.dynamicEventRendering === 'Progressive';
      var $u = this.$7v();
      var top = $u.pixels.top;
      var $S = $u.pixels.bottom;
      var $4S = this.$6S ? 10 : 0;
      for (var i = 0; i < this.rowlist.length; i++) {
        var $t = this.rowlist[i];
        var $4T = $t.top - this.dynamicEventRenderingMargin;
        var $4U = $4T + $t.height + 2 * this.dynamicEventRenderingMargin;
        if ($4R && ($S <= $4T || top >= $4U)) {
          continue;
        }
        ;
        for (var j = 0; j < $t.lines.length; j++) {
          var $09 = $t.lines[j];
          for (var k = 0; k < $09.length; k++) {
            var e = $09[k];
            if (!e.part.top) {
              e.part.line = j;
              e.part.top = j * (this.$9k.eventHeight() + $4S) + $4S;
              e.part.detachedBarTop = e.part.top - $4S;
              e.part.height = this.$9k.eventHeight();
              e.part.right = e.part.left + e.part.width;
              e.part.fullTop = this.rowlist[e.part.dayIndex].top + e.part.top;
              e.part.fullBottom = e.part.fullTop + e.part.height;
            }
            ;
            var $4V = this.$b8(e);
            if ($0M && $4V) {
              $4P--;
              if ($4P <= 0) {
                this.divEvents.style.visibility = '';
                this.divEvents.style.display = '';
                window.setTimeout(function () {
                  $e.$7n($0M);
                }, $e.$b7.delay);
                return;
              }
            }
          }
        }
      }
      ;
      this.divEvents.style.display = '';
      this.$7y();
      $0J.load();
      this.$70();
    };
    this.$8y = function ($4W) {
      var $t = this.rowlist[$4W];
      //warren: clean up div elements
      /*for(var i=0;i<this.$9g.childNodes.length;i++){
        var child = this.$9g.childNodes[i];
        if(child.className =='placeholder' && !child.hasChildNodes()){
          child.remove();
        }
      }*/
      this.divEvents = document.createElement("div");
      //this.divEvents.id = "row"+$4W
      this.divEvents.className = "echo_event_line"+$4W;
      this.divEvents.style.position = 'absolute';
      this.divEvents.style.display = 'none';
      this.$9g.insertBefore(this.divEvents, this.divSeparatorsAbove);
      var $4S = this.$6S ? 10 : 0;
      for (var j = 0; j < $t.lines.length; j++) {
        var $09 = $t.lines[j];
        for (var k = 0; k < $09.length; k++) {
          var e = $09[k];
          e.part.line = j;
          e.part.top = j * (this.$9k.eventHeight() + $4S) + $4S;
          e.part.detachedBarTop = e.part.top - $4S;
          e.part.height = this.$9k.eventHeight();
          e.part.right = e.part.left + e.part.width;
          e.part.fullTop = this.rowlist[e.part.dayIndex].top + e.part.top;
          e.part.fullBottom = e.part.fullTop + e.part.height;
          this.$b8(e);
        }
      }
      ;
      this.divEvents.style.display = '';
    };
    this.$7j = function () {
      if (this.elements.events) {
        var length = this.elements.events.length;
        for (var i = 0; i < length; i++) {
          var $G = this.elements.events[i];
          this.$b9($G);
        }
      }
      ;
      this.elements.events = [];
    };
    this.$8x = function ($4W) {
      if (this.elements.events) {
        var length = this.elements.events.length;
        var $4X = [];
        for (var i = 0; i < length; i++) {
          var $G = this.elements.events[i];
          if ($G.row === $4W) {
            this.$b9($G);
            $4X.push(i);
          }
        }
        ;
        for (var i = $4X.length - 1; i >= 0; i--) {
          this.elements.events.splice($4X[i], 1);
        }
      }
    };
    this.$b9 = function ($G) {
      $G.onclick = null;
      $G.oncontextmenu = null;
      $G.onmouseover = null;
      $G.onmouseout = null;
      $G.onmousemove = null;
      $G.onmousedown = null;
      $G.ondblclick = null;
      if ($G.event) {
        if (!$G.isBar) {
          $G.event.rendered = null;
        }
        ;
        $G.event = null;
      }
      ;
      if ($G.related) {
        DayPilot.de($G.related);
      }
      ;
      if ($G.parentNode) {
        $G.parentNode.removeChild($G);
      }
    };
    this.$ai = function ($G) {
      if ($G.event) {
        $G.event.rendered = false;
      }
      ;
      $G.onclick = null;
      $G.onmousedown = null;
      $G.event = null;
      if ($G.parentNode) {
        $G.parentNode.removeChild($G);
      }
    };
    this.$ba = function ($4Y) {
      if (!$4Y) {
        $4Y = 0;
      }
      ;
      if (this.dynamicEventRendering !== 'Progressive') {
        return;
      }
      ;
      this.divEvents.style.display = 'none';
      var $4Z = [];
      var $50 = 0;
      var length = this.elements.events.length;
      for (var i = length - 1; i >= 0; i--) {
        var $G = this.elements.events[i];
        if (this.$bb($G.event)) {
          if ($4Y > 0) {
            $4Y--;
            $4Z.unshift($G);
          } else {
            this.$b9($G);
            $50++;
          }
        } else {
          $4Z.unshift($G);
        }
      }
      ;
      this.elements.events = $4Z;
      this.divEvents.style.display = '';
    };
    this.$bc = function ($4Y) {
      var $4Z = [];
      var $50 = 0;
      var $u = this.$7v();
      var length = this.elements.cells.length;
      for (var i = length - 1; i >= 0; i--) {
        var $G = this.elements.cells[i];
        var $51 = ($u.xStart < $G.coords.x && $G.coords.x <= $u.xEnd) && ($u.yStart < $G.coords.y && $G.coords.y <= $u.yEnd);
        if (!$51) {
          if ($4Y > 0) {
            $4Y--;
            $4Z.unshift($G);
          } else {
            this.$9A($G);
            $50++;
          }
        } else {
          $4Z.unshift($G);
        }
      }
    };
    this.$9A = function ($G) {
      if (!$G) {
        return;
      }
      ;
      var x = $G.coords.x;
      var y = $G.coords.y;
      var $0V = DayPilot.indexOf($e.elements.cells, $G);
      $e.elements.cells.splice($0V, 1);
      if ($G.parentNode) {
        $G.parentNode.removeChild($G);
      }
      ;
      $e.$6X.cells[x + "_" + y] = null;
    };
    this.$7k = function () {
      if (this.elements.separators) {
        for (var i = 0; i < this.elements.separators.length; i++) {
          var $G = this.elements.separators[i];
          DayPilot.de($G);
        }
      }
      ;
      this.elements.separators = [];
    };
    this.$bd = function () {
      var $4R = this.dynamicEventRendering === 'Progressive';
      if (!this.nav.scroll) {
        return false;
      }
      ;
      var top = this.nav.scroll.scrollTop;
      var $S = top + this.nav.scroll.clientHeight;
      for (var i = 0; i < this.rowlist.length; i++) {
        var $t = this.rowlist[i];
        var $4T = $t.top;
        var $4U = $t.top + $t.height;
        if ($4R && ($S <= $4T || top >= $4U)) {
          continue;
        }
        ;
        for (var j = 0; j < $t.lines.length; j++) {
          var $09 = $t.lines[j];
          for (var k = 0; k < $09.length; k++) {
            var e = $09[k];
            if (this.$be(e)) {
              return true;
            }
          }
        }
      }
      ;
      return false;
    };
    this.$be = function ($n) {
      if ($n.rendered) {
        return false;
      }
      ;
      var $4R = this.dynamicEventRendering === 'Progressive';
      var $x = this.nav.scroll.scrollLeft;
      var $y = $x + this.nav.scroll.clientWidth;
      var $52 = $n.Left;
      var $53 = $n.Left + $n.Width;
      if ($4R && ($y <= $52 || $x >= $53)) {
        return false;
      }
      ;
      return true;
    };
    this.$bb = function (ev) {
      if (!ev.rendered) {
        return true;
      }
      ;
      var $u = this.$7v();
      var top = $u.pixels.top;
      var $S = $u.pixels.bottom;
      var $x = $u.pixels.left - this.dynamicEventRenderingMargin;
      var $y = $u.pixels.right + this.dynamicEventRenderingMargin;
      var $52 = ev.part.left;
      var $53 = ev.part.right;
      var $54 = ev.part.fullTop;
      var $55 = ev.part.fullBottom;
      if ($y <= $52 || $x >= $53) {
        return true;
      }
      ;
      if ($S <= $54 || top >= $55) {
        return true;
      }
      ;
      return false;
    };
    //warren:area for grouping events
    this.$bf = function ($34) {
      if ($34.rendered) {
        return false;
      }
      ;
      var $x = $34.min;
      var $01 = $34.max - $34.min;
      var $V = $e.eventHeight;
      var top = $34.row.top;
      var $G = document.createElement("div");
      var attr = document.createAttribute ("resource");
      attr.value = $34.row.id;
      $G.setAttributeNode(attr);
      attr = document.createAttribute("event-count");
      attr.value = $34.events.length;
      $G.setAttributeNode(attr);
      /*if(!$34.row.children.length) {
        attr = document.createAttribute("parent-resource");
        attr.value = $34.row.resource.id.substr(0, $34.row.resource.id.indexOf($34.row.resource.key) - 1);
        $G.setAttributeNode(attr);
      }*/
      $G.style.position = 'absolute';
      $G.style.left = $x + 'px';
      $G.style.top = top + 'px';
      $G.style.width = $01 + 'px';
      $G.style.height = $V + 'px';
      $G.className = $e.$7C("_event_group");
      $G.style.cursor = "pointer";
      var $h = {};
      $h.group = {};
      $h.group.count = $34.events.length;
      $h.group.html = "[+] " + $34.events.length + " events";
      if (typeof $e.onBeforeGroupRender === "function") {
        $e.onBeforeGroupRender($h);
      }
      ;
      $G.innerHTML = $h.group.html;
      $G.onmousedown = function (ev) {
        var ev = ev || window.event;
        ev.cancelBubble = true;
      };
      $G.onclick = function (ev) {
        var $34 = $G.event;
        $34.expanded = true;
        $e.$ai($G);
        var $39 = DayPilot.indexOf($e.elements.events, $G);
        if ($39 !== -1) {
          $e.elements.events.splice($39, 1);
        }
        ;
        $e.$8f();
        $e.$8g($34.part.dayIndex);
        $e.$7h();
        var ev = ev || window.event;
        ev.cancelBubble = true;
      };
      $34.part = {};
      $34.part.left = $x;
      $34.part.width = $01;
      $34.part.dayIndex = DayPilot.indexOf($e.rowlist, $34.row);
      $34.part.top = 0;
      $G.event = $34;
      this.elements.events.push($G);
      this.divEvents.appendChild($G);
      $34.rendered = true;
      return true;
    };
    this.$b8 = function ($n) {
      if ($n.rendered) {
        return false;
      }
      ;
      if ($e.groupConcurrentEvents) {
        var $34 = $n.part.block;
        if ($34.events.length > 1 && !$34.expanded) {
          return $e.$bf($34);
        }
      }
      ;
      if ($e.aggregateChildren) {

      }
      var $4R = this.dynamicEventRendering === 'Progressive';
      var $u = this.$7v();
      var $x = $u.pixels.left - this.dynamicEventRenderingMargin;
      var $y = $u.pixels.right + this.dynamicEventRenderingMargin;
      var $52 = $n.part.left;
      var $53 = $n.part.left + $n.part.width;
      if ($4R && ($y <= $52 || $x >= $53)) {
        return false;
      }
      ;
      var $4W = $n.part.dayIndex;
      var $56 = !this.cssOnly && this.eventBorderVisible;
      var $01 = $n.part.width;
      var $V = $n.part.height;
      if ($56) {
        $01 -= 2;
        $V -= 2;
      }
      ;
      var $0d = $n.cache || $n.data;
      $01 = Math.max(0, $01);
      $V = Math.max(0, $V);
      var $t = this.rowlist[$4W];
      if ($t.hidden) {
        return false;
      }
      ;
      var $4T = $t.top;
      var $G = document.createElement("div");
      var $57 = this.$6S;
      $G.related = [];
      if ($57) {
        var $58 = document.createElement("div");
        $58.style.position = 'absolute';
        $58.style.left = ($n.part.left + $n.part.barLeft) + 'px';
        $58.style.top = ($4T + $n.part.detachedBarTop) + 'px';
        $58.style.width = $n.part.barWidth + 'px';
        $58.style.height = 5 + 'px';
        $58.style.backgroundColor = "red";
        $58.type = "detachedBar";
        $G.related.push($58);
        this.divEvents.appendChild($58);
      }
      ;
      if ($n.data.htmlLeft) {
        var $2O = 5;
        var $59 = document.createElement("div");
        $59.style.position = 'absolute';
        $59.style.right = -($n.part.left - $2O) + 'px';
        $59.style.top = ($4T + $n.part.top) + 'px';
        $59.style.height = $e.eventHeight + 'px';
        $59.innerHTML = $n.data.htmlLeft;
        $59.className = $e.$7C("_event_left");
        $59.type = "divLeft";
        $G.related.push($59);
        this.divEvents.appendChild($59);
      }
      ;
      if ($n.data.htmlRight) {
        var $2O = 5;
        var $5a = document.createElement("div");
        $5a.style.position = 'absolute';
        $5a.style.left = ($n.part.left + $n.part.width + $2O) + 'px';
        $5a.style.top = ($4T + $n.part.top) + 'px';
        $5a.style.height = $e.eventHeight + 'px';
        $5a.innerHTML = $n.data.htmlRight;
        $5a.className = $e.$7C("_event_right");
        $5a.type = "divRight";
        $G.related.push($5a);
        this.divEvents.appendChild($5a);
      }
      ;
      var top = $4T + $n.part.top;
      $G.style.position = 'absolute';
      $G.style.left = $n.part.left + 'px';
      $G.style.top = ($4T + $n.part.top) + 'px';
      $G.style.width = $01 + 'px';
      $G.style.height = $V + 'px';
      if (!this.cssOnly) {
        if ($e.eventBorderVisible) {
          $G.style.border = '1px solid ' + ($0d.borderColor || this.eventBorderColor);
        }
        ;
        $G.style.backgroundColor = $n.client.backColor();
        $G.style.fontSize = this.eventFontSize;
        $G.style.cursor = 'default';
        $G.style.fontFamily = this.eventFontFamily;
        $G.style.color = $0d.fontColor || this.eventFontColor;
        if ($0d.backImage && !this.durationBarVisible) {
          $G.style.backgroundImage = "url(" + $0d.backImage + ")";
          if ($0d.backRepeat) {
            $G.style.backgroundRepeat = $0d.backRepeat;
          }
        }
        ;
        if (this.$9k.rounded()) {
          $G.style.MozBorderRadius = "5px";
          $G.style.webkitBorderRadius = "5px";
          $G.style.borderRadius = "5px";
        }
      }
      ;
      $G.style.whiteSpace = 'nowrap';
      $G.style.overflow = 'hidden';
      $G.className = this.cssOnly ? this.$7C("_event") : this.$7C("event");
      if ($n.data.type === "Milestone") {
        DayPilot.Util.addClass($G, $e.$7C("_task_milestone"));
      }
      ;
      if ($n.data.type === "Group") {
        DayPilot.Util.addClass($G, $e.$7C("_task_parent"));
        DayPilot.Util.addClass($G, $e.$7C("_task_group"));
      }
      ;
      if ($0d.cssClass) {
        DayPilot.Util.addClass($G, $0d.cssClass);
      }
      ;
      var $5b = true;
      if ($5b) {
        DayPilot.Util.addClass($G, this.$7C("_event_line" + $n.part.line));
      }
      ;
      $G.setAttribute("unselectable", "on");
      if (this.showToolTip && !this.bubble) {
        $G.title = $n.client.toolTip();
      }
      ;
      $G.onmousemove = this.$bg;
      $G.onmouseout = this.$bh;
      $G.onmousedown = this.$bi;
      $G.ontouchstart = $0r.onEventTouchStart;
      $G.ontouchmove = $0r.onEventTouchMove;
      $G.ontouchend = $0r.onEventTouchEnd;
      if ($n.client.clickEnabled()) {
        $G.onclick = this.$7W;
      }
      ;
      if ($n.client.doubleClickEnabled()) {
        $G.ondblclick = this.$87;
      }
      ;
      $G.oncontextmenu = this.$86;
      var $5c = [];
      var $5d = 0;
      if (this.cssOnly) {
        var $J = document.createElement("div");
        $J.setAttribute("unselectable", "on");
        $J.className = $e.$7C("_event_inner");
        $J.innerHTML = $n.client.innerHTML();
        if ($0d.backColor) {
          $J.style.background = $0d.backColor;
          if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
            $J.style.filter = '';
          }
        }
        ;
        if ($0d.fontColor) {
          $J.style.color = $0d.fontColor;
        }
        ;
        if ($0d.borderColor) {
          $J.style.borderColor = $0d.borderColor;
        }
        ;
        if ($0d.backImage) {
          $J.style.backgroundImage = "url(" + $0d.backImage + ")";
          if ($0d.backRepeat) {
            $J.style.backgroundRepeat = $0d.backRepeat;
          }
        }
        ;
        $G.appendChild($J);
        var $5e = $n.start().getTime() === $n.part.start.getTime();
        var $5f = $n.end().getTime() === $n.part.end.getTime();
        if (!$5e) {
          DayPilot.Util.addClass($G, this.$7C("_event_continueleft"));
        }
        ;
        if (!$5f) {
          DayPilot.Util.addClass($G, this.$7C("_event_continueright"));
        }
        ;
        if ($n.client.barVisible() && $01 > 0) {
          var $5g = 100 * $n.part.barLeft / ($01);
          var $5h = Math.ceil(100 * $n.part.barWidth / ($01));
          if (this.durationBarMode === "PercentComplete") {
            $5g = 0;
            $5h = $0d.complete || 0;
          }
          ;
          var $58 = document.createElement("div");
          $58.setAttribute("unselectable", "on");
          $58.className = this.$7C("_event_bar");
          $58.style.position = "absolute";
          if ($0d.barBackColor) {
            $58.style.backgroundColor = $0d.barBackColor;
          }
          ;
          var $5i = document.createElement("div");
          $5i.setAttribute("unselectable", "on");
          $5i.className = this.$7C("_event_bar_inner");
          $5i.style.left = $5g + "%";
          if (0 < $5h && $5h <= 1) {
            $5i.style.width = "1px";
          } else {
            $5i.style.width = $5h + "%";
          }
          ;
          if ($0d.barColor) {
            $5i.style.backgroundColor = $0d.barColor;
          }
          ;
          $58.appendChild($5i);
          $G.appendChild($58);
        }
      } else {
        if ($n.client.barVisible()) {
          $5d = $e.durationBarHeight;
          $5c.push("<div unselectable='on' style='left:0px;background-color:white;width:");
          $5c.push($n.part.barLeft);
          $5c.push("px;height:2px;font-size:1px;position:absolute'></div>");
          $5c.push("<div unselectable='on' style='left:");
          $5c.push($n.part.barLeft + $n.part.barWidth);
          $5c.push("px;background-color:white;width:");
          $5c.push($01 - ($n.part.barLeft + $n.part.barWidth));
          $5c.push("px;height:2px;font-size:1px;position:absolute'></div>");
          if (this.durationBarMode === "Duration") {
            $5c.push("<div unselectable='on' style='width:");
            $5c.push($n.part.barWidth);
            $5c.push("px;margin-left:");
            $5c.push($n.part.barLeft);
            $5c.push("px;height:");
          } else {
            $5c.push("<div unselectable='on' style='width:");
            $5c.push($0d.complete);
            $5c.push("%;margin-left:0px;height:");
          }
          ;
          $5c.push($5d - 1);
          $5c.push("px;background-color:");
          $5c.push($n.client.barColor());
          if ($0d.barImageUrl) {
            $5c.push(";background-image:url(");
            $5c.push($0d.barImageUrl);
            $5c.push(")");
          }
          ;
          $5c.push(";font-size:1px;position:relative'></div>");
          $5c.push("<div unselectable='on' style='width:");
          $5c.push($01);
          $5c.push("px;height:1px;background-color:");
          $5c.push(($0d.borderColor || this.eventBorderColor));
          $5c.push(";font-size:1px;overflow:hidden;position:relative'></div>");
        }
        ;
        $5c.push("<div unselectable='on' style='padding-left:1px;width:");
        $5c.push($01 - 1);
        $5c.push("px;height:");
        $5c.push($V - $5d);
        $5c.push("px;");
        if ($e.rtl) {
          $5c.push("direction:rtl;");
        }
        ;
        if ($0d.backImage && this.durationBarVisible) {
          $5c.push("background-image:url(");
          $5c.push($0d.backImage);
          $5c.push(");");
          if ($0d.backRepeat) {
            $5c.push("background-repeat:");
            $5c.push($0d.backRepeat);
            $5c.push(";");
          }
        }
        ;
        $5c.push("'>");
        $5c.push($n.client.innerHTML());
        $5c.push("</div>");
        $G.innerHTML = $5c.join('');
      }
      ;
      $G.row = $4W;
      if ($0d.areas) {
        for (var i = 0; i < $0d.areas.length; i++) {
          var $u = $0d.areas[i];
          var v = $u.v || "Visible";
          if (v !== "Visible") {
            continue;
          }
          ;
          var a = DayPilot.Areas.createArea($G, $n, $u);
          $G.appendChild(a);
        }
      }
      ;
      this.elements.events.push($G);
      this.divEvents.appendChild($G);
      $n.rendered = true;
      $G.event = $n;
      if ($e.multiselect.$8k($G.event)) {
        $e.multiselect.add($G.event, true);
        $e.multiselect.$8j($G);
      }
      ;
      if ($e.$7s()) {
        if (typeof $e.onAfterEventRender === 'function') {
          var $h = {};
          $h.e = $G.event;
          $h.div = $G;
          $e.onAfterEventRender($h);
        }
      } else {
        if ($e.afterEventRender) {
          $e.afterEventRender($G.event, $G);
        }
      }
      ;
      return true;
    };
    this.$7s = function () {
      return $e.api === 2;
    };
    this.$8z = function () {
      for (var i = 0; i < this.elements.events.length; i++) {
        var $G = this.elements.events[i];
        var event = $G.event;
        var $4W = event.part.dayIndex;
        var $t = this.rowlist[$4W];
        var $4T = $t.top;
        var top = $4T + event.part.top;
        $G.style.top = top + 'px';
        if (DayPilot.isArray($G.related)) {
          for (var j = 0; j < $G.related.length; j++) {
            var $5j = $G.related[j];
            if ($5j.type === "divLeft" || $5j.type === "divRight") {
              $5j.style.top = top + 'px';
            }
          }
        }
      }
    };
    this.$9q = function (e) {
      if (!e) {
        return null;
      }
      ;
      for (var i = 0; i < $e.elements.events.length; i++) {
        var $G = $e.elements.events[i];
        if ($G.event === e || $G.event.data === e.data) {
          return $G;
        }
      }
      ;
      return null;
    };
    this.$bh = function (ev) {
      var $G = this;
      DayPilot.Areas.hideAreas($G, ev);
      if ($e.cssOnly) {
        DayPilot.Util.removeClass($G, $e.$7C("_event_hover"));
      }
      ;
      $e.$bj($G);
      if (!$1q.source) {
        $0J.hideLinkpointsWithDelay();
      }
      ;
      if ($e.bubble && $e.eventHoverHandling === 'Bubble') {
        $e.bubble.hideOnMouseOut();
      }
    };
    this.$bk = function ($G) {
      if (typeof this.onEventMouseOver === "function") {
        var $h = {};
        $h.div = $G;
        $h.e = $G.event;
        this.onEventMouseOver($h);
      }
    };
    this.$bj = function ($G) {
      if (typeof this.onEventMouseOut === "function") {
        var $h = {};
        $h.div = $G;
        $h.e = $G.event;
        this.onEventMouseOut($h);
      }
    };
    this.$bg = function (ev) {
      ev = ev || window.event;
      if ($e.cellBubble) {
        $e.cellBubble.delayedHide();
      }
      ;
      var $G = this;
      while ($G && !$G.event) {
        $G = $G.parentNode;
      }
      ;
      $e.$bl($G, ev);
      if (!$G.active) {
        var $2Z = [];
        if ($e.eventDeleteHandling !== "Disabled") {
          var top = $e.durationBarVisible ? $e.durationBarHeight : 0;
          $2Z.push({
            "action": "JavaScript",
            "v": "Hover",
            "w": 17,
            "h": 17,
            "top": top + 2,
            "right": 2,
            "css": $e.$7C("_event_delete"),
            "js": function (e) {
              $e.$83(e);
            }
          });
        }
        ;
        var $C = $G.event.cache ? $G.event.cache.areas : $G.event.data.areas;
        if ($C && $C.length > 0) {
          $2Z = $2Z.concat($C);
        }
        ;
        DayPilot.Areas.showAreas($G, $G.event, null, $2Z);
        if ($e.cssOnly) {
          DayPilot.Util.addClass($G, $e.$7C("_event_hover"));
        }
        ;
        $e.$bk($G);
      }
      ;
      if ($e.linkCreateHandling !== "Disabled" && !$1q.source) {
        $0J.clearHideTimeout();
        $0J.hideLinkpoints();
        if (!DayPilotScheduler.moving && !DayPilotScheduler.resizing) {
          $0J.showLinkpoint($G);
        }
      }
      ;
      if (ev.srcElement) {
        ev.srcElement.insideEvent = true;
      } else {
        ev.insideEvent = true;
      }
    };
    this.$bm = {};
    var $0s = this.$bm;
    this.$bi = function (ev) {
      $e.$a2();
      if (typeof DayPilot.Bubble !== 'undefined') {
        DayPilot.Bubble.hideActive();
      }
      ;
      ev = ev || window.event;
      var $5k = DayPilot.Util.mouseButton(ev);
      if ($5k.left) {
        if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
          DayPilotScheduler.resizing = this;
          DayPilotScheduler.originalMouse = DayPilot.mc(ev);
          document.body.style.cursor = this.style.cursor;
          $0J.hideLinkpoints();
        } else if (this.style.cursor === 'move') {
          DayPilotScheduler.moving = this;
          DayPilotScheduler.originalMouse = DayPilot.mc(ev);
          DayPilotScheduler.moveOffsetX = DayPilot.mo3(this, ev).x;
          DayPilotScheduler.moveDragStart = $e.getDate($e.coords.x, true);
          document.body.style.cursor = 'move';
          $0J.hideLinkpoints();
        } else if ($e.moveBy === 'Full' && this.event.client.moveEnabled()) {
          $0s.start = true;
          $0s.moving = this;
          $0s.originalMouse = DayPilot.mc(ev);
          $0s.moveOffsetX = DayPilot.mo3(this, ev).x;
          $0s.moveDragStart = $e.getDate($e.coords.x, true);
          $0J.hideLinkpoints();
        }
      }
      ;
      ev.cancelBubble = true;
      return false;
    };
    this.$bn = {};
    var $0r = $e.$bn;
    $0r.active = false;
    $0r.start = false;
    $0r.timeouts = [];
    $0r.onEventTouchStart = function (ev) {
      if ($0r.active || $0r.start) {
        return;
      }
      ;
      $0r.clearTimeouts();
      $0r.start = true;
      $0r.active = false;
      var $G = this;
      var $5l = 500;
      $0r.timeouts.push(window.setTimeout(function () {
        $0r.active = true;
        $0r.start = false;
        $e.coords = $0r.relativeCoords(ev);
        $0r.startMoving($G, ev);
        ev.preventDefault();
      }, $5l));
      ev.stopPropagation();
    };
    $0r.onEventTouchMove = function (ev) {
      $0r.clearTimeouts();
      $0r.start = false;
    };
    $0r.onEventTouchEnd = function (ev) {
      $0r.clearTimeouts();
      if ($0r.start) {
        $e.$80(this, false);
      }
      ;
      window.setTimeout(function () {
        $0r.start = false;
        $0r.active = false;
      }, 500);
    };
    $0r.onMainTouchStart = function (ev) {
      if ($0r.active || $0r.start) {
        return;
      }
      ;
      $0r.clearTimeouts();
      $0r.start = true;
      $0r.active = false;
      var $5l = 500;
      $0r.timeouts.push(window.setTimeout(function () {
        $0r.active = true;
        $0r.start = false;
        ev.preventDefault();
        $e.coords = $0r.relativeCoords(ev);
        $0r.range = $e.$bo();
      }, $5l));
    };
    $0r.onMainTouchMove = function (ev) {
      $0r.clearTimeouts();
      $0r.start = false;
      if ($0r.active) {
        ev.preventDefault();
        $e.coords = $0r.relativeCoords(ev);
        if (DayPilotScheduler.moving) {
          $0r.updateMoving();
          return;
        }
        ;
        if ($0r.range) {
          var $0R = $0r.range;
          $0R.end = {x: Math.floor($e.coords.x / $e.cellWidth)};
          $e.$8F($0R);
        }
      }
    };
    $0r.onMainTouchEnd = function (ev) {
      $0r.clearTimeouts();
      if ($0r.active) {
        if (DayPilotScheduler.moving) {
          ev.preventDefault();
          var e = DayPilotScheduler.moving.event;
          var $0z = DayPilotScheduler.movingShadow.start;
          var $0A = DayPilotScheduler.movingShadow.end;
          var $0B = ($e.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
          var external = DayPilotScheduler.drag ? true : false;
          DayPilot.de(DayPilotScheduler.movingShadow);
          $e.$9S();
          DayPilotScheduler.movingShadow.calendar = null;
          document.body.style.cursor = '';
          DayPilotScheduler.moving = null;
          DayPilotScheduler.movingShadow = null;
          $e.$8A(e, $0z, $0A, $0B, external);
        }
        ;
        if ($0r.range) {
          var $5m = $e.$bp($0r.range);
          $0r.range = null;
          $e.$8E($5m.start, $5m.end, $5m.resource);
        }
      }
      ;
      window.setTimeout(function () {
        $0r.start = false;
        $0r.active = false;
      }, 500);
    };
    $0r.clearTimeouts = function () {
      for (var i = 0; i < $0r.timeouts.length; i++) {
        clearTimeout($0r.timeouts[i]);
      }
      ;
      $0r.timeouts = [];
    };
    $0r.relativeCoords = function (ev) {
      var $5n = $e.$9g;
      var x = ev.touches[0].pageX;
      var y = ev.touches[0].pageY;
      var $5o = DayPilot.abs($5n);
      var $1j = {
        x: x - $5o.x, y: y - $5o.y, toString: function () {
          return "x: " + this.x + ", y:" + this.y;
        }
      };
      return $1j;
    };
    $0r.startMoving = function ($G, ev) {
      var $1j = {x: ev.touches[0].pageX, y: ev.touches[0].pageY};
      DayPilotScheduler.moving = $G;
      DayPilotScheduler.originalMouse = $1j;
      var $5p = DayPilot.abs($G);
      DayPilotScheduler.moveOffsetX = $1j.x - $5p.x;
      DayPilotScheduler.moveDragStart = $e.getDate($e.coords.x, true);
      DayPilotScheduler.movingShadow = $e.$9l($G, $e.shadow);
      $e.$9M();
    };
    $0r.updateMoving = function () {
      if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $e) {
        DayPilotScheduler.movingShadow.calendar = null;
        DayPilot.de(DayPilotScheduler.movingShadow);
        DayPilotScheduler.movingShadow = null;
      }
      ;
      if (!DayPilotScheduler.movingShadow) {
        var mv = DayPilotScheduler.moving;
        DayPilotScheduler.movingShadow = $e.$9l(mv, $e.shadow);
      }
      ;
      DayPilotScheduler.moving.target = $e;
      $e.$9M();
    };
    this.$bl = function ($G, ev) {
      var $5q = this.eventResizeMargin;
      var $5r = this.eventMoveMargin;
      var $1h = $G;
      if (typeof(DayPilotScheduler) === 'undefined') {
        return;
      }
      ;
      var $0j = DayPilot.mo3($G, ev);
      if (!$0j) {
        return;
      }
      ;
      $e.eventOffset = $0j;
      if (DayPilotScheduler.resizing) {
        return;
      }
      ;
      var $5s = $G.getAttribute("dpStart") === $G.getAttribute("dpPartStart");
      var $5t = $G.getAttribute("dpEnd") === $G.getAttribute("dpPartEnd");
      if ($e.moveBy === 'Top' && $0j.y <= $5r && $1h.event.client.moveEnabled() && $e.eventMoveHandling !== 'Disabled') {
        if ($5s) {
          $G.style.cursor = 'move';
        } else {
          $G.style.cursor = 'not-allowed';
        }
      } else if (($e.moveBy === 'Top' || $e.moveBy === 'Full') && $0j.x <= $5q && $1h.event.client.resizeEnabled() && $e.eventResizeHandling !== 'Disabled') {
        if ($5s) {
          $G.style.cursor = "w-resize";
          $G.dpBorder = 'left';
        } else {
          $G.style.cursor = 'not-allowed';
        }
      } else if ($e.moveBy === 'Left' && $0j.x <= $5r && $1h.event.client.moveEnabled() && $e.eventMoveHandling !== 'Disabled') {
        if ($5s) {
          $G.style.cursor = "move";
        } else {
          $G.style.cursor = 'not-allowed';
        }
      } else if ($G.offsetWidth - $0j.x <= $5q && $1h.event.client.resizeEnabled() && $e.eventResizeHandling !== 'Disabled') {
        if ($5t) {
          $G.style.cursor = "e-resize";
          $G.dpBorder = 'right';
        } else {
          $G.style.cursor = 'not-allowed';
        }
      } else if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving) {
        if ($1h.event.client.clickEnabled() && $e.eventClickHandling !== 'Disabled') {
          $G.style.cursor = 'pointer';
        } else {
          $G.style.cursor = 'default';
        }
      }
      ;
      if (typeof(DayPilotBubble) !== 'undefined' && $e.bubble && $e.eventHoverHandling === 'Bubble') {
        if ($G.style.cursor === 'default' || $G.style.cursor === 'pointer') {
          var $5u = this.$bq && $0j.x === this.$bq.x && $0j.y === this.$bq.y;
          if (!$5u) {
            this.$bq = $0j;
            $e.bubble.showEvent($G.event);
          }
        } else {
        }
      }
    };
    this.$7D = function () {
      if (this.viewType !== 'Days') {
        return this.itline.length;
      } else {
        return Math.floor(24 * 60 / this.cellDuration);
      }
    };
    this.$bp = function ($0R) {
      var $0R = $0R || DayPilotScheduler.range || DayPilotScheduler.rangeHold;
      if (!$0R) {
        return null;
      }
      ;
      var $t = $e.rowlist[$0R.start.y];
      if (!$t) {
        return null;
      }
      ;
      var $0Q = $t.id;
      var $5v = $0R.end.x > $0R.start.x ? $0R.start.x : $0R.end.x;
      var $5w = ($0R.end.x > $0R.start.x ? $0R.end.x : $0R.start.x);
      var $2r = $t.start.getTime() - this.$9O().getTime();
      var $v = this.itline[$5v].start.addTime($2r);
      var end = this.itline[$5w].end.addTime($2r);
      return new DayPilot.Selection($v, end, $0Q, $e);
    };
    this.$br = function ($1h) {
      var $5x = $1h.parentNode;
      var $5y = document.createElement('textarea');
      $5y.style.position = 'absolute';
      $5y.style.width = (($1h.offsetWidth < 100) ? 100 : ($1h.offsetWidth - 2)) + 'px';
      $5y.style.height = ($1h.offsetHeight - 2) + 'px';
      $5y.style.fontFamily = DayPilot.gs($1h, 'fontFamily') || DayPilot.gs($1h, 'font-family');
      $5y.style.fontSize = DayPilot.gs($1h, 'fontSize') || DayPilot.gs($1h, 'font-size');
      $5y.style.left = $1h.offsetLeft + 'px';
      $5y.style.top = $1h.offsetTop + 'px';
      $5y.style.border = '1px solid black';
      $5y.style.padding = '0px';
      $5y.style.marginTop = '0px';
      $5y.style.backgroundColor = 'white';
      $5y.value = DayPilot.tr($1h.event.text());
      $5y.event = $1h.event;
      $5x.appendChild($5y);
      return $5y;
    };
    this.$81 = function ($1h) {
      if (DayPilotScheduler.editing) {
        DayPilotScheduler.editing.blur();
        return;
      }
      ;
      var $5y = this.$br($1h);
      DayPilotScheduler.editing = $5y;
      $5y.onblur = function () {
        var $5z = $1h.event.text();
        var $0S = $5y.value;
        DayPilotScheduler.editing = null;
        if ($5y.parentNode) {
          $5y.parentNode.removeChild($5y);
        }
        ;
        if ($5z === $0S) {
          return;
        }
        ;
        $1h.style.display = 'none';
        $e.$8W($1h.event, $0S);
      };
      $5y.onkeypress = function (e) {
        var $3H = (window.event) ? event.keyCode : e.keyCode;
        if ($3H === 13) {
          this.onblur();
          return false;
        } else if ($3H === 27) {
          $5y.parentNode.removeChild($5y);
          DayPilotScheduler.editing = false;
        }
        ;
        return true;
      };
      $5y.select();
      $5y.focus();
    };
    this.$a8 = function (ev) {
      var td = this;
      if (typeof(DayPilotBubble) !== 'undefined') {
        if ($e.cellBubble) {
          $e.cellBubble.hideOnMouseOut();
        }
        ;
        if ($e.resourceBubble) {
          var $17 = {};
          $17.calendar = $e;
          $17.id = td.getAttribute("resource");
          $17.toJSON = function () {
            var $14 = {};
            $14.id = this.id;
            return $14;
          };
          $e.resourceBubble.showResource($17);
        }
      }
      ;
      var $G = td.firstChild;
      if (!$G.active) {
        var $t = $e.rowlist[td.index];
        var r = $e.$8N($t);
        r.areas = $t.areas;
        DayPilot.Areas.showAreas($G, r);
      }
    };
    this.$a9 = function (ev) {
      var td = this;
      if (typeof(DayPilotBubble) !== 'undefined' && $e.resourceBubble) {
        $e.resourceBubble.hideOnMouseOut();
      }
      ;
      var $G = td.firstChild;
      DayPilot.Areas.hideAreas($G, ev);
      $G.data = null;
    };
    this.$aa = function (ev) {
      if ($30.row) {
        $0T.cancelClick = true;
        setTimeout(function () {
          $0T.cancelClick = false;
        }, 100);
      }
    };
    this.$7c = function () {
      this.$bs();
      return;
    };
    this.$bs = function () {
      if (!this.timeHeader) {
        $e.debug.message("drawTimeHeader: timeHeader not available");
        return;
      }
      ;
      this.$6X.timeHeader = {};
      var $4D = document.createElement("div");
      $4D.style.position = "relative";
      this.nav.timeHeader = $4D;
      for (var y = 0; y < this.timeHeader.length; y++) {
        var $t = this.timeHeader[y];
        for (var x = 0; x < $t.length; x++) {
          this.$bt(x, y);
        }
      }
      ;
      var $5A = this.divNorth;
      DayPilot.puc($5A);
      $5A.innerHTML = '';
      $5A.appendChild($4D);
      var $4H = this.$aS();
      $5A.style.width = (this.$aS() + 5000) + "px";
      var $5B = this.divCorner;
      if (!this.cssOnly) {
        $5B.style.backgroundColor = this.cornerBackColor;
      }
      ;
      if (this.cornerHtml) {
        $5B.innerHTML = this.cornerHtml;
      } else {
        $5B.innerHTML = '';
      }
      ;
      var $4H = this.$aS();
      if ($4H > 0) {
        this.divStretch.style.width = (this.$aS()) + "px";
      }
    };
    this.$7R = function (h, $5C) {
      var $M = null;
      var $3Q = this.$9k.locale();
      var $5C = $5C || this.cellGroupBy;
      var $1r = h.start;
      var to = h.end;
      var $3Q = this.$9k.locale();
      switch ($5C) {
        case 'Hour':
          $M = ($e.$9k.timeFormat() === 'Clock12Hours') ? $1r.toString("h tt", $3Q) : $1r.toString("H", $3Q);
          break;
        case 'Day':
          $M = $1r.toString($3Q.datePattern);
          break;
        case 'Week':
          $M = $R.weekStarts() === 1 ? $1r.weekNumberISO() : $1r.weekNumber();
          break;
        case 'Month':
          $M = $1r.toString("MMMM yyyy", $3Q);
          break;
        case 'Year':
          $M = $1r.toString("yyyy");
          break;
        case 'None':
          $M = '';
          break;
        case 'Cell':
          if (this.scale === 'Manual' || this.scale === 'CellDuration') {
            var $0q = (h.end.ticks - h.start.ticks) / 60000;
            $M = this.$bu($1r, $0q);
          } else {
            $M = this.$7R(h, this.scale);
          }
          ;
          break;
        default:
          throw 'Invalid cellGroupBy value';
      }
      ;
      return $M;
    };
    this.$bu = function ($v, $0q) {
      var $3Q = this.$9k.locale();
      var $0q = $0q || this.cellDuration;
      if ($0q < 60) {
        return $v.toString("mm");
      } else if ($0q < 1440) {
        return $e.$9k.timeFormat() === 'Clock12Hours' ? $v.toString("h tt", $3Q) : $v.toString("H", $3Q);
      } else if ($0q < 10080) {
        return $v.toString("d");
      } else if ($0q === 10080) {
        return $R.weekStarts() === 1 ? $v.weekNumberISO() : $v.weekNumber();
      } else {
        return $v.toString("MMMM yyyy", $3Q);
      }
    };
    this.$7O = function ($1r) {
      var $5D = this.scale;
      switch ($5D) {
        case "Cell":
          throw "Invalid scale: Cell";
        case "Manual":
          throw "Internal error (addScaleSize in Manual mode)";
        case "Minute":
          return $1r.addMinutes(1);
        case "CellDuration":
          return $1r.addMinutes(this.cellDuration);
        default:
          return this.$7Q($1r, $5D);
      }
    };
    this.$7Q = function ($1r, $5C) {
      var $5E = this.viewType !== 'Days' ? this.days : 1;
      var $5F = this.startDate.addDays($5E);
      var $5C = $5C || this.cellGroupBy;
      var $0a = 60;
      switch ($5C) {
        case 'Hour':
          to = $1r.addHours(1);
          break;
        case 'Day':
          to = $1r.addDays(1);
          break;
        case 'Week':
          to = $1r.addDays(1);
          while (to.dayOfWeek() !== $R.weekStarts()) {
            to = to.addDays(1);
          }
          ;
          break;
        case 'Month':
          to = $1r.addMonths(1);
          to = to.firstDayOfMonth();
          var $5G = (DayPilot.Date.diff(to.d, $1r.d) / (1000.0 * 60)) % $0a === 0;
          while (!$5G) {
            to = to.addHours(1);
            $5G = (DayPilot.Date.diff(to.d, $1r.d) / (1000.0 * 60)) % $0a === 0;
          }
          ;
          break;
        case 'Year':
          to = $1r.addYears(1);
          to = to.firstDayOfYear();
          var $5G = (DayPilot.Date.diff(to.d, $1r.d) / (1000.0 * 60)) % $0a === 0;
          while (!$5G) {
            to = to.addHours(1);
            $5G = (DayPilot.Date.diff(to.d, $1r.d) / (1000.0 * 60)) % $0a === 0;
          }
          ;
          break;
        case 'None':
          to = $5F;
          break;
        case 'Cell':
          var $z = this.$7V($1r);
          if ($z.current) {
            to = $z.current.end;
          } else {
            if ($z.past) {
              to = $z.previous.end;
            } else {
              to = $z.next.start;
            }
          }
          ;
          break;
        default:
          throw 'Invalid cellGroupBy value';
      }
      ;
      if (to.getTime() > $5F.getTime()) {
        to = $5F;
      }
      ;
      return to;
    };
    this.$bt = function (x, y) {
      var $4D = this.nav.timeHeader;
      var p = this.timeHeader[y][x];
      var $5H = y < this.timeHeader.length - 1;
      var top = y * $R.headerHeight();
      var $x = p.left;
      var $01 = p.width;
      var $V = $R.headerHeight();
      var $z = document.createElement("div");
      $z.style.position = "absolute";
      $z.style.top = top + "px";
      $z.style.left = $x + "px";
      $z.style.width = $01 + "px";
      $z.style.height = $V + "px";
      if (p.toolTip) {
        $z.title = p.toolTip;
      }
      ;
      $z.setAttribute("unselectable", "on");
      $z.style.KhtmlUserSelect = 'none';
      $z.style.MozUserSelect = 'none';
      $z.style.webkitUserSelect = 'none';
      $z.oncontextmenu = function () {
        return false;
      };
      $z.cell = {};
      $z.cell.start = p.start;
      $z.cell.end = p.end;
      $z.cell.level = y;
      $z.cell.th = p;
      $z.onclick = this.$af;
      $z.style.overflow = 'hidden';
      if (!this.cssOnly) {
        var $5I = y === this.timeHeader.length - 1;
        $z.style.textAlign = "center";
        $z.style.backgroundColor = (typeof $z.backColor === 'undefined') ? $e.hourNameBackColor : $z.backColor;
        $z.style.fontFamily = this.hourFontFamily;
        $z.style.fontSize = this.hourFontSize;
        $z.style.color = this.headerFontColor;
        $z.style.cursor = 'default';
        $z.style.border = '0px none';
        if (!$5I) {
          $z.style.height = ($V - 1) + "px";
          $z.style.borderBottom = "1px solid " + this.borderColor;
        }
        ;
        $z.style.width = ($01 - 1) + "px";
        $z.style.borderRight = "1px solid " + this.hourNameBorderColor;
        $z.style.whiteSpace = 'nowrap';
        $z.className = this.$7C('timeheadergroup');
      }
      ;
      var $J = document.createElement("div");
      $J.setAttribute("unselectable", "on");
      $J.innerHTML = p.innerHTML;
      if (p.backColor) {
        $J.style.background = p.backColor;
      }
      ;
      if (this.cssOnly) {
        var cl = this.$7C("_timeheadercol");
        var $5J = this.$7C("_timeheadercol_inner");
        if ($5H) {
          cl = this.$7C("_timeheadergroup");
          $5J = this.$7C("_timeheadergroup_inner");
        }
        ;
        DayPilot.Util.addClass($z, cl);
        DayPilot.Util.addClass($J, $5J);
      }
      ;
      $z.appendChild($J);
      this.$6X.timeHeader[x + "_" + y] = $z;
      $4D.appendChild($z);
    };
    this.$8f = function () {
      for (var i = 0; i < this.rowlist.length; i++) {
        var $t = this.rowlist[i];
        var $4Z = $t.getHeight() + $t.marginBottom;
        if ($t.height !== $4Z) {
          this.$8w = true;
        }
        ;
        $t.height = $4Z;
      }
    };
    this.$7f = function () {
      var $4D = this.divHeader;
      if (!$4D) {
        return false;
      }
      ;
      var $1P = this.rowlist.length;
      var $1e = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
      var j = 0;
      for (var i = 0; i < $1P; i++) {
        var $t = this.rowlist[i];
        if ($t.hidden) {
          continue;
        }
        ;
        var $0V = this.$a1 ? i : j;
        if (!$4D.rows[$0V]) {
          continue;
        }
        ;
        for (var c = 0; c < $4D.rows[$0V].cells.length; c++) {
          var $5K = $4D.rows[$0V].cells[c];
          if (this.$a1) {
            $5K.style.top = $t.top + "px";
          }
          ;
          var $5L = $t.height;
          if ($5K && $5K.firstChild && parseInt($5K.firstChild.style.height, 10) !== $5L) {
            $5K.firstChild.style.height = $5L + "px";
          }
        }
        ;
        j++;
      }
      ;
      if (this.$a1) {
        if ($e.nav.resScrollSpace) {
          $e.nav.resScrollSpace.style.top = $e.$6W + "px";
        }
      }
    };
    this.$b6 = function ($0V) {
      var s = this.separators[$0V];
      s.location = s.location || s.Location;
      s.color = s.color || s.Color;
      s.layer = s.layer || s.Layer;
      s.width = s.width || s.Width;
      s.opacity = s.opacity || s.Opacity;
      var $0p = new DayPilot.Date(s.location);
      var $1y = s.color;
      var $01 = s.width ? s.width : 1;
      var $1B = s.layer ? s.layer === 'AboveEvents' : false;
      var $Q = s.opacity ? s.opacity : 100;
      if ($0p.getTime() < this.startDate.getTime()) {
        return;
      }
      ;
      if ($0p.getTime() >= this.startDate.addDays(this.days).getTime()) {
        return;
      }
      ;
      var $s = this.getPixels($0p);
      if ($s.cut) {
        return;
      }
      ;
      if ($s.left < 0) {
        return;
      }
      ;
      if ($s.left > this.$7D() * this.cellWidth) {
        return;
      }
      ;
      var $09 = document.createElement("div");
      $09.style.width = $01 + 'px';
      $09.style.height = $e.$6W + 'px';
      $09.style.position = 'absolute';
      $09.style.left = ($s.left - 1) + 'px';
      $09.style.top = '0px';
      $09.style.backgroundColor = $1y;
      $09.style.opacity = $Q / 100;
      $09.style.filter = "alpha(opacity=" + $Q + ")";
      if ($1B) {
        this.divSeparatorsAbove.appendChild($09);
      } else {
        this.divSeparators.appendChild($09);
      }
      ;
      this.elements.separators.push($09);
    };
    this.$aW = function (ev) {
      if ($e.timeRangeDoubleClickHandling === 'Disabled') {
        return false;
      }
      ;
      if (DayPilotScheduler.timeRangeTimeout) {
        clearTimeout(DayPilotScheduler.timeRangeTimeout);
        DayPilotScheduler.timeRangeTimeout = null;
      }
      ;
      var $0R = {};
      if (!$e.coords) {
        var $5n = $e.$9g;
        $e.coords = DayPilot.mo3($5n, ev);
      }
      ;
      ev = ev || window.event;
      if ($e.$bv($e.coords)) {
        var $5m = $e.$bp(DayPilotScheduler.rangeHold);
        $e.$8G($5m.start, $5m.end, $5m.resource);
      } else {
        DayPilotScheduler.range = $e.$bo();
        var $5m = $e.$bp(DayPilotScheduler.range);
        $e.$8G($5m.start, $5m.end, $5m.resource);
      }
      ;
      DayPilotScheduler.rangeHold = DayPilotScheduler.range;
      DayPilotScheduler.range = null;
    };
    this.$aT = function (ev) {
      if ($0r.start) {
        return;
      }
      ;
      if (DayPilotScheduler.timeRangeTimeout && false) {
        clearTimeout(DayPilotScheduler.timeRangeTimeout);
        DayPilotScheduler.timeRangeTimeout = null;
      }
      ;
      $e.$aM();
      $e.$aQ();
      if (!$e.coords) {
        var $5n = $e.$9g;
        $e.coords = DayPilot.mo3($5n, ev);
      }
      ;
      ev = ev || window.event;
      var $5k = DayPilot.Util.mouseButton(ev);
      if ($5k.middle || ($5k.right && $e.$bv($e.coords))) {
        return false;
      }
      ;
      if ($e.timeRangeSelectedHandling === 'Disabled') {
        return false;
      }
      ;
      DayPilotScheduler.range = $e.$bo();
      return false;
    };
    this.$bo = function () {
      var $0R = {};
      var cx = this.$7T($e.coords.x).x;
      $0R.start = {y: $e.$9b($e.coords.y).i, x: cx};
      $0R.end = {x: cx};
      if (this.$9H($e.$9b($e.coords.y).i)) {
        return;
      }
      ;
      $0R.calendar = $e;
      $e.$8F($0R);
      return $0R;
    };
    this.$bw = function () {
      $e.$9N();
      var $1k = DayPilotScheduler.resizingShadow;
      var ev = DayPilotScheduler.resizing;
      (function () {
        var $0k = $e.$bx;
        if ($0k && $0k.start.getTime() === $1k.start.getTime() && $0k.end.getTime() === $1k.end.getTime()) {
          return;
        }
        ;
        var $h = {};
        $h.start = $1k.start;
        $h.end = $1k.end;
        $h.e = ev;
        $h.left = {};
        $h.left.html = $h.start.toString($e.eventResizingStartEndFormat);
        $h.left.enabled = $e.eventResizingStartEndEnabled;
        $h.right = {};
        $h.right.html = $h.end.toString($e.eventResizingStartEndFormat);
        $h.right.enabled = $e.eventResizingStartEndEnabled;
        $e.$bx = $h;
        if (typeof $e.onEventResizing === 'function') {
          $e.onEventResizing($h);
        }
        ;
        $e.$9R(DayPilotScheduler.resizingShadow, $h);
      })();
    };
    this.$aU = function (ev) {
      if ($0r.active) {
        return;
      }
      ;
      DayPilotScheduler.activeCalendar = $e;
      ev = ev || window.event;
      var $5M = DayPilot.mc(ev);
      $e.coords = DayPilot.mo3($e.$9g, ev);
      ev.insideMainD = true;
      if (window.event) {
        window.event.srcElement.inside = true;
      }
      ;
      if ($0s.start) {
        if ($0s.originalMouse.x !== $5M.x || $0s.originalMouse.y !== $5M.y) {
          DayPilot.Util.copyProps($0s, DayPilotScheduler);
          document.body.style.cursor = 'move';
          $0s = {};
        }
      }
      ;
      if (DayPilotScheduler.resizing && DayPilotScheduler.resizing.event.calendar === $e) {
        if (!DayPilotScheduler.resizingShadow) {
          DayPilotScheduler.resizingShadow = $e.$9l(DayPilotScheduler.resizing, $e.shadow);
        }
        ;
        var $5N = DayPilotScheduler.resizing.event.calendar.cellWidth;
        var $5O = DayPilotScheduler.resizing.event.part.width;
        var $5P = DayPilotScheduler.resizing.event.part.left;
        var $5Q = 0;
        var $5R = ($5M.x - DayPilotScheduler.originalMouse.x);
        var $5S, $4o;
        if (DayPilotScheduler.resizing.dpBorder === 'right') {
          $5S = $5P;
          if ($e.snapToGrid) {
            var $0n = $e.$7T($5O + $5P + $5R).cell;
            var $5T = $0n.left + $0n.width;
            $4o = $5T - $5P;
            if ($4o < $5N) {
              $4o = $5N;
            }
          } else {
            $4o = $5O + $5R;
          }
          ;
          var $2E = $e.$aS();
          if ($5P + $4o > $2E) {
            $4o = $2E - $5P;
          }
          ;
          DayPilotScheduler.resizingShadow.style.width = ($4o) + 'px';
        } else if (DayPilotScheduler.resizing.dpBorder === 'left') {
          if ($e.snapToGrid) {
            if ($5R >= $5O) {
              $5R = $5O;
            }
            ;
            $5S = Math.floor((($5P + $5R) + 0) / $5N) * $5N;
            if ($5S < $5Q) {
              $5S = $5Q;
            }
          } else {
            $5S = $5P + $5R;
          }
          ;
          $4o = $5O - ($5S - $5P);
          var $y = $5P + $5O;
          var $5U = $5N;
          if (!$e.snapToGrid) {
            $5U = 1;
          } else if ($e.useEventBoxes === "Never") {
            if ($5O < $5N) {
              $5U = $5O;
            } else {
              $5U = 1;
            }
          }
          ;
          if ($4o < $5U) {
            $4o = $5U;
            $5S = $y - $4o;
          }
          ;
          DayPilotScheduler.resizingShadow.style.left = $5S + 'px';
          DayPilotScheduler.resizingShadow.style.width = ($4o) + 'px';
        }
        ;
        (function checkOverlap() {
          var ev = DayPilotScheduler.resizing.event;
          var $t = $e.rowlist[ev.part.dayIndex];
          var $1k = DayPilotScheduler.resizingShadow;
          var $x = $5S;
          var $01 = $4o;
          $e.$9P(DayPilotScheduler.resizingShadow, $t, $x, $01, ev.data);
        })();
        $e.$bw();
      } else if (DayPilotScheduler.moving && (DayPilotScheduler.moving.event.calendar === $e || DayPilotScheduler.moving.event.calendar.dragOutAllowed)) {
        if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $e) {
          DayPilotScheduler.movingShadow.calendar = null;
          DayPilot.de(DayPilotScheduler.movingShadow);
          DayPilotScheduler.movingShadow = null;
        }
        ;
        if (!DayPilotScheduler.movingShadow) {
          var mv = DayPilotScheduler.moving;
          DayPilotScheduler.movingShadow = $e.$9l(mv, $e.shadow);
        }
        ;
        $e.$9K();
        DayPilotScheduler.moving.target = $e;
        $e.$9M();
      } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $e) {
        var $0R = DayPilotScheduler.range;
        $0R.end = {x: $e.$7T($e.coords.x).x};
        $e.$8F($0R);
      } else if ($1q.source) {
        var $03 = $1q.source;
        $0J.drawShadow($03.coords, $e.coords);
      } else if ($e.crosshairType !== 'Disabled') {
        $e.$by();
      }
      ;
      $e.$bz();
      var $5V = ev.insideEvent;
      if (window.event) {
        $5V = window.event.srcElement.insideEvent;
      }
      ;
      if ($e.cellBubble && $e.coords && $e.rowlist && $e.rowlist.length > 0 && !$5V) {
        var x = Math.floor($e.coords.x / $e.cellWidth);
        var y = $e.$9b($e.coords.y).i;
        if (0 <= y && y < $e.rowlist.length && 0 <= x && x < $e.itline.length) {
          var $z = {};
          $z.calendar = $e;
          $z.start = $e.itline[x].start;
          $z.end = $e.itline[x].end;
          $z.resource = $e.rowlist[y].id;
          $z.toJSON = function () {
            var $14 = {};
            $14.start = this.start;
            $14.end = this.end;
            $14.resource = this.resource;
            return $14;
          };
          $e.cellBubble.showCell($z);
        }
      }
      ;
      if (DayPilotScheduler.drag) {
        $e.$aM();
        if (DayPilotScheduler.gShadow) {
          document.body.removeChild(DayPilotScheduler.gShadow);
        }
        ;
        DayPilotScheduler.gShadow = null;
        if (!DayPilotScheduler.movingShadow && $e.coords && $e.rowlist.length > 0) {
          if (!DayPilotScheduler.moving) {
            DayPilotScheduler.moving = {};
            var event = DayPilotScheduler.drag.event;
            if (!event) {
              var $5W = $e.itline[0].start;
              $e.debug.message("external start:" + $5W);
              var ev = {
                'id': DayPilotScheduler.drag.id,
                'start': $5W,
                'end': $5W.addSeconds(DayPilotScheduler.drag.duration),
                'text': DayPilotScheduler.drag.text
              };
              event = new DayPilot.Event(ev);
              event.calendar = $e;
            }
            ;
            DayPilotScheduler.moving.event = event;
          }
          ;
          DayPilotScheduler.movingShadow = $e.$9l(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
        }
        ;
        ev.cancelBubble = true;
      }
      ;
      if ($e.autoScroll === "Always" || ($e.autoScroll === "Drag" && (DayPilotScheduler.moving || DayPilotScheduler.resizing || DayPilotScheduler.range))) {
        var $5X = $e.nav.scroll;
        var $1j = {x: $e.coords.x, y: $e.coords.y};
        $1j.x -= $5X.scrollLeft;
        $1j.y -= $5X.scrollTop;
        var $01 = $5X.clientWidth;
        var $V = $5X.clientHeight;
        var $2A = 20;
        var $x = $1j.x < $2A;
        var $y = $01 - $1j.x < $2A;
        var top = $1j.y < $2A;
        var $S = $V - $1j.y < $2A;
        var x = 0;
        var y = 0;
        if ($x) {
          x = -5;
        }
        ;
        if ($y) {
          x = 5;
        }
        ;
        if (top) {
          y = -5;
        }
        ;
        if ($S) {
          y = 5;
        }
        ;
        if (x || y) {
          $e.$bA(x, y);
        } else {
          $e.$aQ();
        }
      }
    };
    this.$bB = function () {
      var x, y;
      if ($e.coords && $e.rowlist && $e.rowlist.length > 0) {
        x = $e.$7T($e.coords.x).x;
        y = $e.$9b($e.coords.y).i;
        if (y >= $e.rowlist.length) {
          return;
        }
      } else {
        return;
      }
      ;
      var $t = this.$9r(y);
      var $0n = this.itline[x];
      var $z = {};
      $z.x = x;
      $z.y = y;
      $z.start = $0n.start;
      $z.end = $0n.end;
      $z.resource = $t ? $t.data.id : null;
    };
    this.$bz = function () {
      var $z = this.$bB();
      if (this.hover.cell) {
        if (this.hover.cell.x === $z.x && this.hover.cell.y === $z.y) {
          return;
        }
        ;
        this.$aR();
      }
      ;
      this.hover.cell = $z;
      if (typeof this.onCellMouseOver === 'function') {
        var $h = {};
        $h.cell = $z;
        this.onCellMouseOver($h);
      }
    };
    this.$aR = function () {
      if (typeof this.onCellMouseOut === 'function') {
        var $h = {};
        $h.cell = this.hover.cell;
        this.onCellMouseOut($h);
      }
      ;
      this.hover.cell = null;
    };
    this.hover = {};
    this.$by = function () {
      var $z = this.$bB();
      if (this.hover.cell) {
        if (this.hover.cell.x === $z.x && this.hover.cell.y === $z.y) {
          return;
        }
      }
      ;
      this.$bC();
    };
    this.$aM = function () {
      this.divCrosshair.innerHTML = '';
      this.crosshairVertical = null;
      this.crosshairHorizontal = null;
      if (this.crosshairTop && this.crosshairTop.parentNode) {
        this.crosshairTop.parentNode.removeChild(this.crosshairTop);
        this.crosshairTop = null;
      }
      ;
      if (this.crosshairLeft) {
        for (var i = 0; i < this.crosshairLeft.length; i++) {
          var ch = this.crosshairLeft[i];
          if (ch.parentNode) {
            ch.parentNode.removeChild(ch);
          }
        }
        ;
        this.crosshairLeft = null;
      }
      ;
      this.$6V = -1;
      this.$6U = -1;
    };
    this.$bC = function () {
      var x, y;
      if ($e.coords && $e.rowlist && $e.rowlist.length > 0) {
        x = $e.$7T($e.coords.x).x;
        y = $e.$9b($e.coords.y).i;
        if (y >= $e.rowlist.length) {
          return;
        }
      } else {
        return;
      }
      ;
      var $B = this.crosshairType;
      var $t = this.$9r(y);
      if ($B === 'Full') {
        var $0n = this.itline[x];
        var $x = $0n.left;
        var $09 = this.crosshairVertical;
        if (!$09) {
          var $09 = document.createElement("div");
          $09.style.height = $e.$6W + 'px';
          $09.style.position = 'absolute';
          $09.style.top = '0px';
          $09.style.backgroundColor = this.crosshairColor;
          $09.style.opacity = this.crosshairOpacity / 100;
          $09.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
          this.crosshairVertical = $09;
          this.divCrosshair.appendChild($09);
        }
        ;
        $09.style.left = $x + 'px';
        $09.style.width = $0n.width + 'px';
        var top = $t.top;
        var $V = $t.height;
        var $01 = this.$aS();
        var $09 = this.crosshairHorizontal;
        if (!$09) {
          var $09 = document.createElement("div");
          $09.style.width = $01 + 'px';
          $09.style.height = $V + 'px';
          $09.style.position = 'absolute';
          $09.style.top = top + 'px';
          $09.style.left = '0px';
          $09.style.backgroundColor = this.crosshairColor;
          $09.style.opacity = this.crosshairOpacity / 100;
          $09.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
          this.crosshairHorizontal = $09;
          this.divCrosshair.appendChild($09);
        }
        ;
        $09.style.top = top + 'px';
        $09.style.height = $V + 'px';
      }
      ;
      var $5Y = this.$bD(this.coords.x);
      if ($5Y && this.$6V !== $5Y.x) {
        if (this.crosshairTop && this.crosshairTop.parentNode) {
          this.crosshairTop.parentNode.removeChild(this.crosshairTop);
          this.crosshairTop = null;
        }
        ;
        var $09 = document.createElement("div");
        $09.style.width = $5Y.cell.width + "px";
        $09.style.height = $R.headerHeight() + "px";
        $09.style.left = '0px';
        $09.style.top = '0px';
        $09.style.position = 'absolute';
        $09.style.backgroundColor = this.crosshairColor;
        $09.style.opacity = this.crosshairOpacity / 100;
        $09.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
        this.crosshairTop = $09;
        var $5A = this.divNorth;
        var $5Z = this.timeHeader ? this.timeHeader.length - 1 : 1;
        if (this.nav.timeHeader) {
          this.$6X.timeHeader[$5Y.x + "_" + $5Z].appendChild($09);
        } else {
          if ($5A.firstChild.rows[$5Z].cells[x]) {
            $5A.firstChild.rows[$5Z].cells[x].firstChild.appendChild($09);
          }
        }
      }
      ;
      if (this.$6U !== y) {
        if (this.crosshairLeft) {
          for (var i = 0; i < this.crosshairLeft.length; i++) {
            var ch = this.crosshairLeft[i];
            if (ch.parentNode) {
              ch.parentNode.removeChild(ch);
            }
          }
          ;
          this.crosshairLeft = null;
        }
        ;
        var $1e = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
        this.crosshairLeft = [];
        if (this.divHeader.rows[$t.i]) {
          for (var i = 0; i < this.divHeader.rows[$t.i].cells.length; i++) {
            var $01 = this.rowHeaderCols ? this.rowHeaderCols[i] : this.rowHeaderWidth;
            var $09 = document.createElement("div");
            $09.style.width = $01 + "px";
            $09.style.height = $t.height + "px";
            $09.style.left = '0px';
            $09.style.top = '0px';
            $09.style.position = 'absolute';
            $09.style.backgroundColor = this.crosshairColor;
            $09.style.opacity = this.crosshairOpacity / 100;
            $09.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
            this.crosshairLeft.push($09);
            this.divHeader.rows[$t.i].cells[i].firstChild.appendChild($09);
          }
        }
      }
      ;
      if ($5Y) {
        this.$6V = $5Y.x;
      }
      ;
      this.$6U = y;
    };
    this.$bD = function ($s) {
      var $0k = this.timeHeader[this.timeHeader.length - 1];
      for (var i = 0; i < $0k.length; i++) {
        var $z = $0k[i];
        if ($s >= $z.left && $s < $z.left + $z.width) {
          var $f = {};
          $f.cell = $z;
          $f.x = i;
          return $f;
        }
      }
      ;
      return null;
    };
    this.$aV = function (ev) {
      ev = ev || window.event;
      if ($e.timeRangeSelectedHandling === 'Disabled') {
        return false;
      }
      ;
      if (!$e.$bv($e.coords)) {
        $e.$bE(ev);
      }
      ;
      if ($e.contextMenuSelection) {
        var $60 = $e.$bp(DayPilotScheduler.rangeHold);
        $e.contextMenuSelection.show($60);
      }
      ;
      ev.cancelBubble = true;
      if (!$e.allowDefaultContextMenu) {
        return false;
      }
    };
    this.$bv = function ($1j) {
      var $0R = DayPilotScheduler.rangeHold;
      if (!$0R || !$0R.start || !$0R.end) {
        return false;
      }
      ;
      var $t = this.$9r($0R.start.y);
      var $61 = $0R.start.x < $0R.end.x;
      var $62 = ($61 ? $0R.start.x : $0R.end.x) * this.cellWidth;
      var $63 = ($61 ? $0R.end.x : $0R.start.x) * this.cellWidth + this.cellWidth;
      var $64 = $t.top;
      var $65 = $t.bottom;
      if ($1j.x >= $62 && $1j.x <= $63 && $1j.y >= $64 && $1j.y <= $65) {
        return true;
      }
      ;
      return false;
    };
    this.$8F = function ($0R) {
      var $0R = $0R || DayPilotScheduler.range;
      var $5v = $0R.end.x > $0R.start.x ? $0R.start.x : $0R.end.x;
      var $5w = ($0R.end.x > $0R.start.x ? $0R.end.x : $0R.start.x);
      this.$bF($5v, $5w, $0R.start.y);
    };
    this.$bF = function ($5v, $5w, y) {
      var $v = this.itline[$5v];
      var end = this.itline[$5w];
      var $x = $v.left;
      var $y = end.left + end.width;
      var $01 = $y - $x;
      var $z = this.elements.range2;
      if (!$z) {
        $z = document.createElement("div");
        $z.style.position = 'absolute';
        $z.setAttribute("unselectable", "on");
        if (this.cssOnly) {
          $z.className = this.$7C("_shadow");
          var $J = document.createElement("div");
          $J.className = this.$7C("_shadow_inner");
          $z.appendChild($J);
        } else {
          $z.style.backgroundColor = $e.cellSelectColor;
        }
        ;
        this.divRange.appendChild($z);
      }
      ;
      $z.style.left = ($v.left) + "px";
      $z.style.top = this.rowlist[y].top + "px";
      $z.style.width = $01 + "px";
      $z.style.height = (this.rowlist[y].height - 1) + "px";
      this.elements.range2 = $z;
      (function checkOverlap() {
        var $t = $e.rowlist[y];
        var $1k = $z;
        var $x = $v.left;
        $e.$9P($z, $t, $x, $01, null);
      })();
      (function () {
        var $0k = $e.$bG;
        if ($0k && $0k.start.getTime() === $v.start.getTime() && $0k.end.getTime() === end.end.getTime() && $0k.resource === $e.rowlist[y].id) {
          return;
        }
        ;
        var $h = {};
        $h.start = $v.start;
        $h.end = end.end;
        $h.resource = $e.rowlist[y].id;
        $h.left = {};
        $h.left.html = $h.start.toString($e.timeRangeSelectingStartEndFormat);
        $h.left.enabled = $e.timeRangeSelectingStartEndEnabled;
        $h.right = {};
        $h.right.html = $h.end.toString($e.timeRangeSelectingStartEndFormat);
        $h.right.enabled = $e.timeRangeSelectingStartEndEnabled;
        $e.$bG = $h;
        if (typeof $e.onTimeRangeSelecting === 'function') {
          $e.onTimeRangeSelecting($h);
        }
        ;
        $e.$9R($z, $h);
      })();
    };
    this.$bE = function (ev) {
      if ($e.timeRangeSelectedHandling === 'Disabled') {
        return false;
      }
      ;
      ev = ev || window.event;
      var $5k = DayPilot.Util.mouseButton(ev);
      if (DayPilotScheduler.range) {
        return;
      }
      ;
      if (DayPilotScheduler.rangeHold && $e.$bv($e.coords) && ($5k.right || $5k.middle)) {
        return;
      }
      ;
      var $0R = {};
      var cx = this.$7T($e.coords.x).x;
      $0R.start = {y: $e.$9b($e.coords.y).i, x: cx};
      $0R.end = {x: cx};
      $e.$8F($0R);
      var $5m = $e.$bp($0R);
      $e.$8E($5m.start, $5m.end, $5m.resource);
      DayPilotScheduler.rangeHold = $0R;
    };
    this.timeouts = {};
    this.timeouts.drawEvents = null;
    this.timeouts.drawCells = null;
    this.timeouts.click = null;
    this.$8u = function (ev) {
      $e.$74();
      if ($e.dynamicLoading) {
        $e.$bH();
        return;
      }
      ;
      var $66 = $e.nav.scroll;
      $e.$b3 = $66.scrollLeft;
      $e.$b4 = $66.scrollTop;
      $e.$b5 = $66.clientWidth;
      $e.divTimeScroll.scrollLeft = $e.$b3;
      $e.divResScroll.scrollTop = $e.$b4;
      if ($e.timeouts.drawEvents) {
        clearTimeout($e.timeouts.drawEvents);
        $e.timeouts.drawEvents = null;
      }
      ;
      if ($e.scrollDelayEvents > 0) {
        $e.timeouts.drawEvents = setTimeout($e.$bI(), $e.scrollDelayEvents);
      } else {
        var f = $e.$bI();
        f();
      }
      ;
      if ($e.timeouts.drawCells) {
        clearTimeout($e.timeouts.drawCells);
        $e.timeouts.drawCells = null;
      }
      ;
      if ($e.scrollDelayCells > 0) {
        $e.timeouts.drawCells = setTimeout($e.$bJ(), $e.scrollDelayCells);
      } else {
        var f = $e.$bJ();
        f();
      }
      ;
      if ($e.timeouts.updateFloats) {
        clearTimeout($e.timeouts.updateFloats);
        $e.timeouts.updateFloats = null;
      }
      ;
      if ($e.scrollDelayFloats > 0) {
        $e.timeouts.updateFloats = setTimeout(function () {
          $e.$7r();
        }, $e.scrollDelayFloats);
      } else {
        $e.$7r();
      }
      ;
      $e.onScrollCalled = true;
    };
    this.$bK = function () {
      return function () {
        $e.$7q();
        $e.$7l();
        $e.refreshTimeout = window.setTimeout($e.$bI(), 200);
      };
    };
    this.$bJ = function () {
      return function () {
        $e.$7q();
        $e.$7l();
      };
    };
    this.$bI = function () {
      var $0M = true;
      var $67 = $e.dynamicEventRenderingCacheSweeping;
      var $68 = $e.dynamicEventRenderingCacheSize;
      return function () {
        if ($e.$bd()) {
          $e.$90();
          window.setTimeout(function () {
            if ($67)$e.$ba($68);
            window.setTimeout(function () {
              $e.$7n($0M);
            }, 50);
          }, 50);
        } else {
          $e.$7y();
        }
      };
    };
    this.$74 = function () {
      this.$6X.eventHeight = null;
      this.$6X.drawArea = null;
    };
    this.show = function () {
      $e.nav.top.style.display = '';
      this.$9h();
      $e.$8u();
    };
    this.hide = function () {
      $e.nav.top.style.display = 'none';
    };
    this.$bH = function () {
      var $66 = $e.nav.scroll;
      $e.$b3 = $66.scrollLeft;
      $e.$b4 = $66.scrollTop;
      $e.$b5 = $66.clientWidth;
      $e.divTimeScroll.scrollLeft = $e.$b3;
      $e.divResScroll.scrollTop = $e.$b4;
      if ($e.refreshTimeout) {
        window.clearTimeout($e.refreshTimeout);
      }
      ;
      var $N = $e.scrollDelayDynamic;
      $e.refreshTimeout = window.setTimeout($e.$bL($66.scrollLeft, $66.scrollTop), $N);
      $e.$7r();
    };
    this.$bM = function (e) {
      for (var j = 0; j < this.events.list.length; j++) {
        var ex = this.events.list[j];
        if (ex.id === e.id && ex.start.toString() === e.start.toString() && ex.resource === e.resource) {
          var $f = {};
          $f.ex = ex;
          $f.index = j;
          $f.modified = !$e.$bN(e, ex);
          return $f;
        }
      }
      ;
      return null;
    };
    this.$bN = function ($3I, $69) {
      for (var name in $3I) {
        if (typeof $3I[name] === 'object') {
          continue;
        }
        ;
        if ($3I[name] !== $69[name]) {
          return false;
        }
      }
      ;
      for (var name in $69) {
        if (typeof $69[name] === 'object') {
          continue;
        }
        ;
        if ($3I[name] !== $69[name]) {
          return false;
        }
      }
      ;
      return true;
    };
    this.$7o = function ($3d, $6a) {
      var $l = [];
      for (var i = 0; i < $3d.length; i++) {
        var e = $3d[i];
        var $0g = $e.$bM(e);
        var $1s = $0g && $0g.modified;
        var $3a = !$0g;
        if ($1s) {
          this.events.list[$0g.index] = e;
          var $0E = $e.events.$8c($0g.ex);
          $l = $l.concat($0E);
        } else if ($3a) {
          this.events.list.push(e);
        }
        ;
        if ($1s || $3a) {
          $l = $l.concat($e.events.$8d(e));
        }
      }
      ;
      $e.$8e($l);
      $e.$8f();
      $e.$7d();
      $e.$7h();
      var $6b = false;
      if ($6b) {
        $e.$8g($l, false, $6a);
      } else {
        $e.$7i();
        $e.$7f();
        $e.$7l();
        var f = $e.$bI();
        f();
      }
    };
    this.$bL = function (scrollX, scrollY) {
      if (!$e.$7L()) {
        return function () {
          if (typeof $e.onScroll === 'function') {
            $e.$7l();
            var $1s = function ($D) {
              var $6a = function () {
                if ($e.$7s()) {
                  if (typeof $e.onAfterRender === 'function') {
                    var $h = {};
                    $h.isCallBack = false;
                    $h.isScroll = true;
                    $h.data = null;
                    $e.onAfterRender($h);
                  }
                }
              };
              $e.$7o($D, $6a);
            };
            var $u = $e.$96(scrollX, scrollY);
            var $0R = $e.$97($u);
            var $17 = $e.$98($u);
            var $h = {};
            $h.viewport = {};
            $h.viewport.start = $0R.start;
            $h.viewport.end = $0R.end;
            $h.viewport.resources = $17;
            $h.async = false;
            $h.events = [];
            $h.loaded = function () {
              if (this.async) {
                $1s(this.events);
              }
            };
            $e.onScroll($h);
            if (!$h.async) {
              $1s($h.events);
            }
          }
        };
      } else {
        return function () {
          $e.scrollX = scrollX;
          $e.scrollY = scrollY;
          $e.$7Z('Scroll');
        };
      }
    };
    this.$bO = function () {
      var $u = this.$7v();
      var $6c = $u.xStart;
      var $6d = $u.xEnd - $u.xStart;
      var $6e = $u.yStart;
      var $6f = $u.yEnd - $u.yStart;
      if (!this.cellProperties) {
        this.cellProperties = {};
      }
      ;
      for (var i = 0; i < $6d; i++) {
        var x = $6c + i;
        for (var j = 0; j < $6f; j++) {
          var y = $6e + j;
          if (!this.rowlist[y].hidden) {
            this.$9B(x, y);
          }
        }
        ;
        this.$bP(x);
      }
      ;
      var $6g = this.$9V();
      for (var y = $6g.start; y < $6g.end; y++) {
        if (!this.rowlist[y].hidden) {
          this.$bQ(y);
        }
      }
    };
    this.$7l = function () {
      if ($e.progressiveRowRendering) {
        this.$a5();
      }
      ;
      if (this.rowlist !== null && this.rowlist.length > 0) {
        var $6h = this.cellSweeping;
        if ($6h) {
          var $68 = this.cellSweepingCacheSize;
          this.$bc($68);
        }
        ;
        this.$bO();
        this.$bR();
        $0T.$as();
      }
      ;
      var $01 = this.$aS();
      this.$9g.style.height = this.$6W + "px";
      this.$9g.style.width = $01 + "px";
      this.$8w = false;
    };
    this.$bR = function () {
      var $u = this.$7v();
      for (var x = $u.xStart; x < $u.xEnd; x++) {
        var $6i = (x < this.itline.length - 1) ? this.itline[x + 1].breakBefore : false;
        if ($6i) {
          this.$bS(x);
        }
      }
    };
    this.$bS = function (x) {
      var $0V = "x" + x;
      if (this.$6X.breaks[$0V]) {
        return;
      }
      ;
      var $x = this.itline[x + 1].left - 1;
      var $V = this.$6W;
      var $09 = document.createElement("div");
      $09.style.left = $x + "px";
      $09.style.top = "0px";
      $09.style.width = "1px";
      $09.style.height = $V + "px";
      $09.style.fontSize = '1px';
      $09.style.lineHeight = '1px';
      $09.style.overflow = 'hidden';
      $09.style.position = 'absolute';
      $09.setAttribute("unselectable", "on");
      if (this.cssOnly) {
        $09.className = this.$7C("_matrix_vertical_break");
      } else {
        $09.style.backgroundColor = this.timeBreakColor;
      }
      ;
      this.divBreaks.appendChild($09);
      this.elements.breaks.push($09);
      this.$6X.breaks[$0V] = $09;
    };
    this.$7v = function () {
      if ($e.$6X.drawArea) {
        return $e.$6X.drawArea;
      }
      ;
      if (!this.nav.scroll) {
        return null;
      }
      ;
      var $6j = 30;
      var $6k = $e.$b4;
      var $u = {};
      var $6l = Math.floor($e.$b3 / this.cellWidth);
      var $6m = Math.ceil($e.$b5 / this.cellWidth) + 1;
      var $2N = this.$7D();
      var $v = $6l - $6j;
      var end = $v + 2 * $6j + $6m;
      end = Math.min(end, $2N);
      $v = Math.max($v, 0);
      var $6e = this.$9b($6k).i;
      var $6n = this.$9b($6k + this.nav.scroll.offsetHeight).i;
      if ($6n < this.rowlist.length) {
        $6n++;
      }
      ;
      var $6f = $6n - $6e;
      $u.xStart = $v;
      $u.xEnd = end;
      $u.yStart = $6e;
      $u.yEnd = $6n;
      $u.pixels = {};
      $u.pixels.left = this.nav.scroll.scrollLeft;
      $u.pixels.right = this.nav.scroll.scrollLeft + this.nav.scroll.clientWidth;
      $u.pixels.top = this.nav.scroll.scrollTop;
      $u.pixels.bottom = this.nav.scroll.scrollTop + this.nav.scroll.clientHeight;
      $u.pixels.width = this.nav.scroll.scrollWidth;
      $e.$6X.drawArea = $u;
      return $u;
    };
    this.$aS = function () {
      var $f = 0;
      if (this.viewType === "Days") {
        $f = 24 * 60 / this.cellDuration * this.cellWidth;
      } else {
        var $0k = this.itline[this.itline.length - 1];
        if (!$0k) {
          $f = 0;
        } else {
          $f = $0k.left + $0k.width;
        }
      }
      ;
      if ($f < 0 || isNaN($f)) {
        $f = 0;
      }
      ;
      return $f;
    };
    this.$bQ = function (y) {
      var $0V = "y" + y;
      if (this.$6X.linesHorizontal[y]) {
        $e.debug.message("skiping horiz line: " + y);
        return;
      }
      ;
      var top = this.rowlist[y].top + this.rowlist[y].height - 1;
      var $01 = this.$aS();
      var $09 = document.createElement("div");
      $09.style.left = "0px";
      $09.style.top = top + "px";
      $09.style.width = $01 + "px";
      $09.style.height = "1px";
      $09.style.fontSize = '1px';
      $09.style.lineHeight = '1px';
      $09.style.overflow = 'hidden';
      $09.style.position = 'absolute';
      if (!this.cssOnly) {
        $09.style.backgroundColor = this.cellBorderColor;
      }
      ;
      $09.setAttribute("unselectable", "on");
      if (this.cssOnly) {
        $09.className = this.$7C("_matrix_horizontal_line");
      }
      ;
      this.divLines.appendChild($09);
      this.$6X.linesHorizontal[$0V] = $09;
    };
    this.$bP = function (x) {
      var $0n = this.itline[x];
      if (!$0n) {
        return;
      }
      ;
      var $0V = "x" + x;
      if (this.$6X.linesVertical[$0V]) {
        return;
      }
      ;
      var $x = $0n.left + $0n.width - 1;
      var $09 = document.createElement("div");
      $09.style.left = $x + "px";
      $09.style.top = "0px";
      $09.style.width = "1px";
      $09.style.height = $e.$6W + "px";
      $09.style.fontSize = '1px';
      $09.style.lineHeight = '1px';
      $09.style.overflow = 'hidden';
      $09.style.position = 'absolute';
      if (!this.cssOnly) {
        $09.style.backgroundColor = this.cellBorderColor;
      }
      ;
      $09.setAttribute("unselectable", "on");
      if (this.cssOnly) {
        $09.className = this.$7C("_matrix_vertical_line");
      }
      ;
      this.divLines.appendChild($09);
      this.elements.linesVertical.push($09);
      this.$6X.linesVertical[$0V] = $09;
    };
    this.$bT = function (x) {
      var $0V = "x" + x;
      var $V = this.$6W;
      if (this.$6X.cells[$0V]) {
        return;
      }
      ;
      var $1y = this.$bU(x, 0);
      var $6i = (x < this.itline.length - 1) ? this.itline[x + 1].breakBefore : false;
      var $z = document.createElement("div");
      $z.style.left = (x * this.cellWidth) + "px";
      $z.style.top = "0px";
      $z.style.width = (this.cellWidth) + "px";
      $z.style.height = $V + "px";
      $z.style.position = 'absolute';
      $z.style.backgroundColor = $1y;
      $z.setAttribute("unselectable", "on");
      $z.className = this.cssOnly ? this.$7C('_cellcolumn') : this.$7C('cellbackground');
      $z.onclick = this.$bE;
      this.divCells.appendChild($z);
      this.elements.cells.push($z);
      this.$6X.cells[$0V] = '1';
    };
    //warren: row collasping and expand
    this.$9L = function ($0V) {
      var $t = this.rowlist[$0V];
      var $6o = !$t.expanded;
      this.rowlist[$0V].expanded = $6o;
      var $0E = this.$bV($0V, $t.expanded);
      if (!$6o) {
        for (var i = 0; i < $0E.length; i++) {
          var ri = $0E[i];
          this.$8x(ri);
        }
      }
      ;
      this.$7d();
      this.$7b();
      this.$7h();
      this.$7i();
      this.$7l();
      if ($6o) {
        for (var i = 0; i < $0E.length; i++) {
          var ri = $0E[i];
          this.$8y(ri);
        }
        ;
        this.$7y();
      }
      ;
      this.$8z();
      $0J.load();
      this.$7q();
      var r = this.$8N($t, $0V);
      if ($6o) {
        this.$8V(r);
      } else {
        this.$8U(r);
      }
      ;
      this.$74();
    };
    this.$ae = function (i) {
      var $0x = {};
      $0x.index = i;
      if (typeof this.onLoadNode === 'function') {
        var $h = {};
        var $0Q = this.rowlist[i].resource;
        $h.resource = $0Q;
        $h.async = false;
        $h.loaded = function () {
          if (this.async) {
            $0Q.dynamicChildren = false;
            $0Q.expanded = true;
            $e.update();
          }
        };
        this.onLoadNode($h);
        if (!$h.async) {
          $0Q.dynamicChildren = false;
          $0Q.expanded = true;
          this.update();
        }
      } else {
        this.$7Z('LoadNode', $0x);
      }
    };
    this.$bV = function (i, $6p) {
      var $t = this.rowlist[i];
      var $4n = [];
      if ($t.children === null || $t.children.length === 0) {
        return $4n;
      }
      ;
      for (var k = 0; k < $t.children.length; k++) {
        var $0V = $t.children[k];
        this.rowlist[$0V].hidden = $6p ? !$t.expanded : true;
        if ($6p === !this.rowlist[$0V].hidden) {
          $4n.push($0V);
        }
        ;
        var $6q = this.$bV($0V, $6p);
        if ($6q.length > 0) {
          $4n = $4n.concat($6q);
        }
      }
      ;
      return $4n;
    };
    this.$bA = function ($6r, $6s) {
      this.$aQ();
      this.$bW($6r, $6s);
    };
    this.$bX = function ($4P) {
      if (!$4P) {
        return false;
      }
      ;
      var $X = this.nav.scroll.scrollWidth;
      var $v = this.nav.scroll.scrollLeft;
      var $01 = this.nav.scroll.clientWidth;
      var $y = $v + $01;
      if ($4P < 0 && $v <= 0) {
        return false;
      }
      ;
      if ($4P > 0 && $y >= $X) {
        return false;
      }
      ;
      this.nav.scroll.scrollLeft += $4P;
      return true;
    };
    this.$bY = function ($4P) {
      if (!$4P) {
        return false;
      }
      ;
      var $X = this.nav.scroll.scrollHeight;
      var $v = this.nav.scroll.scrollTop;
      var $V = this.nav.scroll.clientHeight;
      var $S = $v + $V;
      if ($4P < 0 && $v <= 0) {
        return false;
      }
      ;
      if ($4P > 0 && $S >= $X) {
        return false;
      }
      ;
      this.nav.scroll.scrollTop += $4P;
      return true;
    };
    this.$bW = function ($6r, $6s) {
      var $6t = this.$bX($6r) || this.$bY($6s);
      if (!$6t) {
        return;
      }
      ;
      var $6u = function ($6r, $6s) {
        return function () {
          $e.$bW($6r, $6s);
        };
      };
      this.scrolling = window.setTimeout($6u($6r, $6s), 100);
    };
    this.$aQ = function () {
      if (this.scrolling) {
        window.clearTimeout(this.scrolling);
        this.scrolling = null;
      }
    };
    this.$7d = function () {
      var top = 0;
      for (var i = 0; i < this.rowlist.length; i++) {
        var $t = this.rowlist[i];
        if (!$t.hidden) {
          $t.top = top;
          top += $t.height;
        }
      }
      ;
      this.$6W = top;
    };
    this.$7i = function () {
      this.elements.cells = [];
      this.elements.linesVertical = [];
      this.elements.breaks = [];
      this.$6X.cells = [];
      this.$6X.linesVertical = [];
      this.$6X.linesHorizontal = [];
      this.$6X.breaks = [];
      this.divCells.innerHTML = '';
      this.divLines.innerHTML = '';
      this.divBreaks.innerHTML = '';
    };
    this.$9B = function (x, y) {
      var $0n = this.itline[x];
      if (!$0n) {
        return;
      }
      ;
      var $0V = x + '_' + y;
      if (this.$6X.cells[$0V]) {
        return;
      }
      ;
      var p = this.$9C(x, y);
      if (typeof this.onBeforeCellRender === 'function') {
        var $t = $e.rowlist[y];
        var $0Q = $t.id;
        var $2r = $t.start.getTime() - this.$9O().getTime();
        var $v = $0n.start.addTime($2r);
        var end = $0n.end.addTime($2r);
        var $z = p;
        $z.resource = $0Q;
        $z.start = $v;
        $z.end = end;
        var $h = {};
        $h.cell = $z;
        this.onBeforeCellRender($h);
      }
      ;
      if (!this.drawBlankCells) {
        var $6v = false;
        if (this.cssOnly && this.$9I(y)) {
          $6v = false;
        } else if (!this.$bZ(p, ['html', 'cssClass', 'backColor', 'backImage', 'backRepeat'])) {
          $6v = true;
        }
        ;
        if ($6v) {
          return;
        }
      }
      ;
      var $z = document.createElement("div");
      $z.style.left = ($0n.left) + "px";
      $z.style.top = this.rowlist[y].top + "px";
      $z.style.width = ($0n.width) + "px";
      $z.style.height = (this.rowlist[y].height) + "px";
      $z.style.position = 'absolute';
      if (p && p.backColor) {
        $z.style.backgroundColor = p.backColor;
      }
      ;
      $z.setAttribute("unselectable", "on");
      $z.className = this.cssOnly ? this.$7C('_cell') : this.$7C('cellbackground');
      $z.coords = {};
      $z.coords.x = x;
      $z.coords.y = y;
      if (this.cssOnly && this.$9I(y)) {
        DayPilot.Util.addClass($z, this.$7C("_cellparent"));
      }
      ;
      if (p) {
        if (p.cssClass) {
          if (this.cssOnly) {
            DayPilot.Util.addClass($z, p.cssClass);
          } else {
            DayPilot.Util.addClass($z, $e.$7C(p.cssClass));
          }
        }
        ;
        if (p.html) {
          $z.innerHTML = p.html;
        }
        ;
        if (p.backImage) {
          $z.style.backgroundImage = "url(\"" + p.backImage + "\")";
        }
        ;
        if (p.backRepeat) {
          $z.style.backgroundRepeat = p.backRepeat;
        }
        ;
        if (p.business) {
          DayPilot.Util.addClass($z, $e.$7C("_cell_business"));
        }
      }
      ;
      $z.onclick = this.$bE;
      this.divCells.appendChild($z);
      this.elements.cells.push($z);
      this.$6X.cells[$0V] = $z;
    };
    this.$bZ = function ($1h, $1t) {
      if ($1t) {
        for (var i = 0; i < $1t.length; i++) {
          if ($1h[$1t[i]]) {
            return true;
          }
        }
      } else {
        for (var name in $1h) {
          if ($1h[name]) {
            return true;
          }
        }
      }
      ;
      return false;
    };
    this.$c0 = function (x, y) {
      var $0n = this.itline[x];
      var $z = document.createElement("div");
      $z.style.left = ($0n.left) + "px";
      $z.style.top = this.rowlist[y].top + "px";
      $z.style.width = ($0n.width - 1) + "px";
      $z.style.height = (this.rowlist[y].height - 1) + "px";
      $z.style.position = 'absolute';
      $z.style.backgroundColor = $e.cellSelectColor;
      $z.setAttribute("unselectable", "on");
      this.divRange.appendChild($z);
      this.elements.range.push($z);
    };
    this.clearSelection = function () {
      this.$7p();
    };
    this.cleanSelection = this.clearSelection;
    this.$7p = function () {
      this.divRange.innerHTML = '<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';
      this.elements.range = [];
      this.elements.range2 = null;
      this.$9S();
      DayPilotScheduler.rangeHold = null;
    };
    this.$9k = {};
    var $R = this.$9k;
    $R.locale = function () {
      return DayPilot.Locale.find($e.locale);
    };
    $R.timeFormat = function () {
      if ($e.timeFormat !== 'Auto') {
        return $e.timeFormat;
      }
      ;
      return $R.locale().timeFormat;
    };
    $R.weekStarts = function () {
      if ($e.weekStarts === 'Auto') {
        var $3Q = $R.locale();
        if ($3Q) {
          return $3Q.weekStarts;
        } else {
          return 0;
        }
      } else {
        return $e.weekStarts;
      }
    };
    $R.rounded = function () {
      return $e.eventCorners === 'Rounded';
    };
    $R.layout = function () {
      var $6w = /MSIE 6/i.test(navigator.userAgent);
      if ($e.layout === 'Auto') {
        if ($6w) {
          return 'TableBased';
        } else {
          return 'DivBased';
        }
      }
      ;
      return $e.layout;
    };
    $R.notifyType = function () {
      var $B;
      if ($e.notifyCommit === 'Immediate') {
        $B = "Notify";
      } else if ($e.notifyCommit === 'Queue') {
        $B = "Queue";
      } else {
        throw "Invalid notifyCommit value: " + $e.notifyCommit;
      }
      ;
      return $B;
    };
    $R.isResourcesView = function () {
      return $e.viewType !== 'Days';
    };
    $R.useBox = function ($6x) {
      if ($e.useEventBoxes === 'Always') {
        return true;
      }
      ;
      if ($e.useEventBoxes === 'Never') {
        return false;
      }
      ;
      return $6x < $e.cellDuration * 60 * 1000;
    };
    $R.eventHeight = function () {
      if ($e.$6X.eventHeight) {
        return $e.$6X.eventHeight;
      }
      ;
      var $V = $e.$aZ("_event_height").height;
      if (!$V) {
        $V = $e.eventHeight;
      }
      ;
      $e.$6X.eventHeight = $V;
      return $V;
    };
    $R.headerHeight = function () {
      if ($e.$6X.headerHeight) {
        return $e.$6X.headerHeight;
      }
      ;
      var $V = $e.$aZ("_header_height").height;
      if (!$V) {
        $V = $e.headerHeight;
      }
      ;
      $e.$6X.headerHeight = $V;
      return $V;
    };
    $R.splitterWidth = function () {
      if ($e.rowHeaderScrolling) {
        return $e.rowHeaderSplitterWidth;
      }
      ;
      return 1;
    };
    this.$bU = function (x, y) {
      var $0V = x + '_' + y;
      if (this.cellProperties && this.cellProperties[$0V]) {
        return this.cellProperties[$0V].backColor;
      }
      ;
      return null;
    };
    this.$9C = function (x, y) {
      var $0V = x + '_' + y;
      if (!this.cellProperties) {
        this.cellProperties = {};
      }
      ;
      if (this.cellProperties[$0V]) {
        return this.cellProperties[$0V];
      }
      ;
      if (this.$6R) {
        this.cellProperties[$0V] = $e.$c1(x, y);
      }
      ;
      if (!this.cellProperties[$0V]) {
        var $t = $e.rowlist[y];
        var $0Q = $t.id;
        var $2r = $t.start.getTime() - $e.$9O().getTime();
        var $0n = $e.itline[x];
        var $v = $0n.start.addTime($2r);
        var end = $0n.end.addTime($2r);
        var $6y = {};
        $6y.start = $v;
        $6y.end = end;
        $6y.resource = $0Q;
        var $z = {};
        $z.business = $e.isBusiness($6y);
        if (!this.cssOnly) {
          $z.backColor = $z.business ? this.cellBackColor : this.cellBackColorNonBusiness;
        }
        ;
        this.cellProperties[$0V] = $z;
      }
      ;
      return this.cellProperties[$0V];
    };
    this.$c2 = function ($0W, x, y) {
      var $0V = x + '_' + y;
      this.cellProperties[$0V] = {};
      DayPilot.Util.copyProps($0W, this.cellProperties[$0V], ['html', 'cssClass', 'backColor', 'backImage', 'backRepeat', 'business']);
      return this.cellProperties[$0V];
    };
    this.$c1 = function (x, y) {
      if (!this.cellConfig) {
        return null;
      }
      ;
      var $6z = this.cellConfig;
      var $z = this.cellProperties[x + "_" + y];
      if (!$z && $6z.vertical) {
        $z = this.cellProperties[x + "_0"];
      }
      ;
      if (!$z && $6z.horizontal) {
        $z = this.cellProperties["0_" + y];
      }
      ;
      if (!$z && $6z["default"]) {
        $z = $6z["default"];
      }
      ;
      return $z;
    };
    this.$79 = function () {
      if (this.$6R) {
        return;
      }
      ;
      if (!this.cellConfig) {
        return;
      }
      ;
      var $6z = this.cellConfig;
      if ($6z.vertical) {
        for (var x = 0; x < $6z.x; x++) {
          var $6A = this.cellProperties[x + "_0"];
          if (!$6A) {
            continue;
          }
          ;
          for (var y = 1; y < $6z.y; y++) {
            this.$c2($6A, x, y);
          }
        }
      }
      ;
      if ($6z.horizontal) {
        for (var y = 0; y < $6z.y; y++) {
          var $6A = this.cellProperties["0_" + y];
          if (!$6A) {
            continue;
          }
          ;
          for (var x = 1; x < $6z.x; x++) {
            this.$c2($6A, x, y);
          }
        }
      }
      ;
      if ($6z["default"]) {
        var $6A = $6z["default"];
        for (var y = 0; y < $6z.y; y++) {
          for (var x = 0; x < $6z.x; x++) {
            if (!this.cellProperties[x + "_" + y]) {
              this.$c2($6A, x, y);
            }
          }
        }
      }
    };
    this.isBusiness = function ($z) {
      if ($z.start.dayOfWeek() === 0 || $z.start.dayOfWeek() === 6) {
        return false;
      }
      ;
      var $v = $z.start;
      var end = $z.end;
      var $0a = (end.getTime() - $v.getTime()) / (1000 * 60);
      if ($0a < 720) {
        if ($z.start.getHours() < this.businessBeginsHour || $z.start.getHours() >= this.businessEndsHour) {
          return false;
        } else {
          return true;
        }
      }
      ;
      return true;
    };
    this.$7e = function () {
      if (this.nav.top.style.visibility === 'hidden') {
        this.nav.top.style.visibility = 'visible';
      }
    };
    this.$9Y = function () {
      var el = $e.nav.top;
      return el.offsetWidth > 0 && el.offsetHeight > 0;
    };
    this.$c3 = function () {
      var $51 = $e.$9Y;
      if (!$51()) {
        $e.debug.message("Not visible during init, starting visibilityInterval");
        $e.$c4 = setInterval(function () {
          if ($51()) {
            $e.debug.message("Made visible, calling .show()");
            $e.show();
            $e.$9X();
            clearInterval($e.$c4);
          }
        }, 100);
      }
    };
    this.$c5 = function ($s) {
      if (this.heightSpec !== "Parent100Pct") {
        this.heightSpec = "Fixed";
      }
      ;
      this.height = $s - (this.$7E() + 2);
      this.$7h();
    };
    this.setHeight = this.$c5;
    this.$7t = function (id) {
      for (var i = 0; i < this.rowlist.length; i++) {
        if (this.rowlist[i].id === id) {
          return this.rowlist[i];
        }
      }
      ;
      return null;
    };
    this.$aB = function () {
      if (this.id && this.id.tagName) {
        this.nav.top = this.id;
      } else if (typeof this.id === "string") {
        this.nav.top = document.getElementById(this.id);
        if (!this.nav.top) {
          throw "DayPilot.Scheduler: The placeholder element not found: '" + id + "'.";
        }
      } else {
        throw "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";
      }
    };
    this.$c6 = function () {
      this.$aB();
      this.$aY();
      this.$78();
      this.$aA();
      this.$9h();
      this.$b1();
      this.$9f();
      DayPilotScheduler.register(this);
      this.$72(this.afterRenderData, false);
      this.$b2();
      this.$c3();
      this.$71();
      this.$7Z('Init');
    };
    this.init = function () {
      this.$aB();
      if (this.nav.top.dp) {
        return;
      }
      ;
      var $6B = this.$9s();
      if ($6B) {
        this.$c6();
        this.$9t = true;
        this.$74();
        return;
      }
      ;
      this.$aY();
      this.$77();
      this.$78();
      this.$79();
      this.$aA();
      this.$76();
      this.$7c();
      this.$90();
      this.$7a();
      this.$7d();
      this.$7b();
      this.$7h();
      this.$7m();
      this.$9h();
      this.$7e();
      this.$b1();
      this.$9f();
      DayPilotScheduler.register(this);
      this.$b2();
      this.$70();
      if ($e.scrollToDate) {
        $e.scrollTo($e.scrollToDate);
      } else {
        $e.setScroll($e.scrollX, $e.scrollY);
      }
      ;
      if (!$e.onScrollCalled) {
        $e.$8u();
      }
      ;
      var $6C = function () {
        if ($e.scrollY) {
          $e.setScroll($e.scrollX, $e.scrollY);
        }
      };
      window.setTimeout($6C, 200);
      if (this.messageHTML) {
        var $6D = function ($4J) {
          return function () {
            $e.message($4J);
          };
        };
        window.setTimeout($6D(this.messageHTML), 100);
      }
      ;
      this.$c3();
      this.$71();
      this.$9t = true;
      this.$74();
      this.$72(this.afterRenderData, false);
      this.debug.message("Init complete.");
      this.$c7();
    };
    this.$c8 = null;
    this.$c9 = function ($d) {
      var $6E = {
        "events": {
          "preInit": function () {
            var $D = this.data;
            if (!$D) {
              return;
            }
            ;
            if (DayPilot.isArray($D.list)) {
              $e.events.list = $D.list;
            } else {
              $e.events.list = $D;
            }
          }, "postInit": function () {
          }
        }, "scrollTo": {
          "preInit": function () {
          }, "postInit": function () {
            if (this.data) {
              $e.scrollTo(this.data);
            }
          }
        }
      };
      this.$c8 = $6E;
      for (var name in $d) {
        if ($6E[name]) {
          var $E = $6E[name];
          $E.data = $d[name];
          if ($E.preInit) {
            $E.preInit();
          }
        } else {
          $e[name] = $d[name];
        }
      }
    };
    this.$c7 = function () {
      var $6E = this.$c8;
      for (var name in $6E) {
        var $E = $6E[name];
        if ($E.postInit) {
          $E.postInit();
        }
      }
    };
    this.temp = {};
    this.temp.getPosition = function () {
      var x = Math.floor($e.coords.x / $e.cellWidth);
      var y = $e.$9b($e.coords.y).i;
      if (y < $e.rowlist.length) {
        var $z = {};
        $z.start = $e.itline[x].start;
        $z.end = $e.itline[x].end;
        $z.resource = $e.rowlist[y].id;
        return $z;
      } else {
        return null;
      }
    };
    this.internal = {};
    this.internal.initialized = function () {
      return $e.$9t;
    };
    this.internal.invokeEvent = this.$89;
    this.internal.eventMenuClick = this.$8D;
    this.internal.timeRangeMenuClick = this.$8H;
    this.internal.resourceHeaderMenuClick = this.$8J;
    this.internal.linkMenuClick = this.$8I;
    this.internal.bubbleCallBack = this.$8B;
    this.internal.findEventDiv = this.$9q;
    this.internal.rowtools = this.$8S;
    this.internal.getNodeChildren = this.$9d;
    this.internal.callback = function () {
      $e.$7Z.apply($e, arguments);
    };
    this.internal.createRowObject = this.$8N;
    this.Init = this.init;
    this.$c9($d);
  };
  DayPilotScheduler.moving = null;
  DayPilotScheduler.originalMouse = null;
  DayPilotScheduler.resizing = null;
  DayPilotScheduler.globalHandlers = false;
  DayPilotScheduler.timeRangeTimeout = null;
  DayPilotScheduler.selectedCells = null;
  DayPilotScheduler.dragStart = function (element, $0q, id, $0U, $B) {
    DayPilot.us(element);
    var $6F = DayPilotScheduler.drag = {};
    $6F.element = element;
    $6F.duration = $0q;
    $6F.text = $0U;
    $6F.id = id;
    $6F.shadowType = $B ? $B : 'Fill';
    return false;
  };
  DayPilot.Scheduler.makeDraggable = function ($d) {
    var element = $d.element;
    var $6G = $d.keepElement ? null : element;
    DayPilot.us(element);
    DayPilot.re(element, "mousedown", function (ev) {
      DayPilotScheduler.dragStart($6G, $d.duration, $d.id, $d.text);
      ev.preventDefault();
      return false;
    });
    element.ontouchstart = function (ev) {
      var $5l = 0;
      window.setTimeout(function () {
        var $6F = DayPilotScheduler.drag = {};
        $6F.element = $6G;
        $6F.id = $d.id;
        $6F.text = $d.text || "";
        $6F.duration = $d.duration || 60;
        $6F.shadowType = "Fill";
        DayPilotScheduler.gTouchMove(ev);
        ev.preventDefault();
      }, $5l);
      ev.preventDefault();
    };
  };
  DayPilotScheduler.dragStop = function () {
    if (DayPilotScheduler.gShadow) {
      document.body.removeChild(DayPilotScheduler.gShadow);
      DayPilotScheduler.gShadow = null;
    }
    ;
    DayPilotScheduler.drag = null;
  };
  DayPilotScheduler.register = function ($e) {
    if (!DayPilotScheduler.registered) {
      DayPilotScheduler.registered = [];
    }
    ;
    for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
      if (DayPilotScheduler.registered[i] === $e) {
        return;
      }
    }
    ;
    DayPilotScheduler.registered.push($e);
  };
  DayPilotScheduler.unregister = function ($e) {
    var a = DayPilotScheduler.registered;
    if (a) {
      var i = DayPilot.indexOf(a, $e);
      if (i !== -1) {
        a.splice(i, 1);
      }
      ;
      if (a.length === 0) {
        a = null;
      }
    }
    ;
    if (!a) {
      DayPilot.ue(document, 'mousemove', DayPilotScheduler.gMouseMove);
      DayPilot.ue(document, 'mouseup', DayPilotScheduler.gMouseUp);
      DayPilot.ue(document, 'touchmove', DayPilotScheduler.gTouchMove);
      DayPilot.ue(document, 'touchend', DayPilotScheduler.gTouchEnd);
      DayPilotScheduler.globalHandlers = false;
    }
  };
  DayPilotScheduler.gTouchMove = function (ev) {
    if (DayPilotScheduler.drag) {
      ev.preventDefault();
      var x = ev.touches[0].pageX;
      var y = ev.touches[0].pageY;
      var $5M = {};
      $5M.x = x;
      $5M.y = y;
      var $e = (function () {
        var $6H = ev.touches[0].clientX;
        var $6I = ev.touches[0].clientY;
        var el = document.elementFromPoint($6H, $6I);
        while (el && el.parentNode) {
          el = el.parentNode;
          if (el.daypilotMainD) {
            return el.calendar;
          }
        }
        ;
        return false;
      })();
      if ($e) {
        if (DayPilotScheduler.gShadow) {
          document.body.removeChild(DayPilotScheduler.gShadow);
        }
        ;
        DayPilotScheduler.gShadow = null;
        $e.coords = $e.$bn.relativeCoords(ev);
        if (!DayPilotScheduler.movingShadow && $e.rowlist.length > 0) {
          if (!DayPilotScheduler.moving) {
            DayPilotScheduler.moving = {};
            var event = DayPilotScheduler.drag.event;
            if (!event) {
              var $5W = $e.itline[0].start;
              $e.debug.message("external start/touch:" + $5W);
              var ev = {
                'id': DayPilotScheduler.drag.id,
                'start': $5W,
                'end': $5W.addSeconds(DayPilotScheduler.drag.duration),
                'text': DayPilotScheduler.drag.text
              };
              event = new DayPilot.Event(ev);
              event.calendar = $e;
            }
            ;
            DayPilotScheduler.moving.event = event;
          }
          ;
          DayPilotScheduler.movingShadow = $e.$9l(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
        }
        ;
        if (DayPilotScheduler.moving) {
          $e.$bn.updateMoving();
        }
      } else {
        DayPilot.de(DayPilotScheduler.movingShadow);
        DayPilotScheduler.moving = null;
        DayPilotScheduler.movingShadow = null;
        if (!DayPilotScheduler.gShadow) {
          DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);
        }
        ;
        var $1k = DayPilotScheduler.gShadow;
        $1k.style.left = $5M.x + 'px';
        $1k.style.top = $5M.y + 'px';
      }
    }
  };
  DayPilotScheduler.gTouchEnd = function (ev) {
    DayPilotScheduler.gMouseUp(ev);
  };
  DayPilotScheduler.gMouseMove = function (ev) {
    if (typeof(DayPilotScheduler) === 'undefined') {
      return;
    }
    ;
    ev = ev || window.event;
    if (ev.insideMainD) {
      return;
    } else if (ev.srcElement) {
      if (ev.srcElement.inside) {
        return;
      }
    }
    ;
    var $5M = DayPilot.mc(ev);
    if (DayPilotScheduler.drag) {
      document.body.style.cursor = 'move';
      if (!DayPilotScheduler.gShadow) {
        DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);
      }
      ;
      var $1k = DayPilotScheduler.gShadow;
      $1k.style.left = $5M.x + 'px';
      $1k.style.top = $5M.y + 'px';
      DayPilotScheduler.moving = null;
      if (DayPilotScheduler.movingShadow) {
        DayPilotScheduler.movingShadow.calendar = null;
        DayPilot.de(DayPilotScheduler.movingShadow);
        DayPilotScheduler.movingShadow = null;
      }
    } else if (DayPilotScheduler.moving && DayPilotScheduler.moving.event.calendar.dragOutAllowed && !DayPilotScheduler.drag) {
      var $6J = DayPilotScheduler.moving.event.calendar;
      var ev = DayPilotScheduler.moving.event;
      DayPilotScheduler.moving.target = null;
      document.body.style.cursor = 'move';
      if (!DayPilotScheduler.gShadow) {
        DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow($6J.shadow);
      }
      ;
      var $1k = DayPilotScheduler.gShadow;
      $1k.style.left = $5M.x + 'px';
      $1k.style.top = $5M.y + 'px';
      DayPilotScheduler.drag = {};
      var $6F = DayPilotScheduler.drag;
      $6F.element = null;
      $6F.duration = (ev.end().getTime() - ev.start().getTime()) / 1000;
      $6F.text = ev.text();
      $6F.id = ev.value();
      $6F.shadowType = $6J.shadow;
      $6F.event = ev;
      DayPilot.de(DayPilotScheduler.movingShadow);
      DayPilotScheduler.movingShadow.calendar = null;
      DayPilotScheduler.movingShadow = null;
    }
    ;
    for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
      if (DayPilotScheduler.registered[i].$a2) {
        DayPilotScheduler.registered[i].$a2();
      }
    }
  };
  DayPilotScheduler.gUnload = function (ev) {
    if (!DayPilotScheduler.registered) {
      return;
    }
    ;
    for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
      var c = DayPilotScheduler.registered[i];
      DayPilotScheduler.unregister(c);
    }
  };
  DayPilotScheduler.gMouseUp = function (ev) {
    if (DayPilotScheduler.resizing) {
      if (!DayPilotScheduler.resizingShadow) {
        document.body.style.cursor = '';
        DayPilotScheduler.resizing = null;
        return;
      }
      ;
      var e = DayPilotScheduler.resizing.event;
      var $e = e.calendar;
      $e.$9N();
      var $0z = DayPilotScheduler.resizingShadow.start;
      var $0A = DayPilotScheduler.resizingShadow.end;
      var $2I = DayPilotScheduler.resizingShadow.overlapping;
      DayPilot.de(DayPilotScheduler.resizingShadow);
      DayPilotScheduler.resizing = null;
      DayPilotScheduler.resizingShadow = null;
      $e.$9S();
      document.body.style.cursor = '';
      if ($2I) {
        return;
      }
      ;
      $e.$8a(e, $0z, $0A);
    } else if (DayPilotScheduler.moving) {
      if (!DayPilotScheduler.movingShadow) {
        document.body.style.cursor = '';
        DayPilotScheduler.moving = null;
        return;
      }
      ;
      var e = DayPilotScheduler.moving.event;
      var $e = DayPilotScheduler.moving.target;
      if (!$e) {
        DayPilot.de(DayPilotScheduler.movingShadow);
        DayPilotScheduler.movingShadow.calendar = null;
        document.body.style.cursor = '';
        DayPilotScheduler.moving = null;
        return;
      }
      ;
      var $0z = DayPilotScheduler.movingShadow.start;
      var $0A = DayPilotScheduler.movingShadow.end;
      var $0B = ($e.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
      var external = DayPilotScheduler.drag ? true : false;
      var $09 = DayPilotScheduler.movingShadow.line;
      var $2I = DayPilotScheduler.movingShadow.overlapping;
      DayPilot.de(DayPilotScheduler.movingShadow);
      $e.$9S();
      if (DayPilotScheduler.drag) {
        if (!$e.todo) {
          $e.todo = {};
        }
        ;
        $e.todo.del = DayPilotScheduler.drag.element;
        DayPilotScheduler.drag = null;
      }
      ;
      DayPilotScheduler.movingShadow.calendar = null;
      document.body.style.cursor = '';
      DayPilotScheduler.moving = null;
      DayPilotScheduler.movingShadow = null;
      if ($2I) {
        return;
      }
      ;
      var ev = ev || window.event;
      $e.$8A(e, $0z, $0A, $0B, external, ev, $09);
    } else if (DayPilotScheduler.range) {
      ev = ev || window.event;
      var $5k = DayPilot.Util.mouseButton(ev);
      var $0R = DayPilotScheduler.range;
      var $e = $0R.calendar;
      if (DayPilotScheduler.timeRangeTimeout) {
        clearTimeout(DayPilotScheduler.timeRangeTimeout);
        DayPilotScheduler.timeRangeTimeout = null;
        $e.$aW(ev);
        return;
      }
      ;
      DayPilotScheduler.rangeHold = $0R;
      DayPilotScheduler.range = null;
      var $6u = function ($5m) {
        return function () {
          DayPilotScheduler.timeRangeTimeout = null;
          var $1k = $e.elements.range2;
          if ($1k.overlapping) {
            $e.clearSelection();
            return;
          }
          ;
          $e.$8E($5m.start, $5m.end, $5m.resource);
          if ($e.timeRangeSelectedHandling !== "Hold" && $e.timeRangeSelectedHandling !== "HoldForever") {
            $c();
          } else {
            DayPilotScheduler.rangeHold = $0R;
          }
        };
      };
      var $5m = $e.$bp($0R);
      if (!$5k.left) {
        DayPilotScheduler.timeRangeTimeout = null;
        return;
      }
      ;
      if ($e.timeRangeDoubleClickHandling === 'Disabled') {
        $6u($5m)();
        var ev = ev || window.event;
        ev.cancelBubble = true;
        return false;
      } else {
        DayPilotScheduler.timeRangeTimeout = setTimeout($6u($5m), $e.doubleClickTimeout);
      }
    } else if ($30.row) {
      var $e = $30.calendar;
      if ($e) {
        $e.$ap();
      }
    } else if ($1q.source) {
      var $e = $1q.calendar;
      $e.$9m.clearShadow();
      $e.$9m.hideLinkpoints();
      $1q.source = null;
      $1q.calendar = null;
    } else if (DayPilotScheduler.splitting) {
      var $4q = DayPilotScheduler.splitting;
      $4q.cleanup();
      DayPilotScheduler.splitting = null;
    }
    ;
    if (DayPilotScheduler.drag) {
      DayPilotScheduler.drag = null;
      document.body.style.cursor = '';
    }
    ;
    if (DayPilotScheduler.gShadow) {
      document.body.removeChild(DayPilotScheduler.gShadow);
      DayPilotScheduler.gShadow = null;
    }
    ;
    DayPilotScheduler.moveOffsetX = null;
    DayPilotScheduler.moveDragStart = null;
  };
  DayPilotScheduler.createGShadow = function ($B) {
    var $1k = document.createElement('div');
    $1k.setAttribute('unselectable', 'on');
    $1k.style.position = 'absolute';
    $1k.style.width = '100px';
    $1k.style.height = '20px';
    $1k.style.border = '2px dotted #666666';
    $1k.style.zIndex = 101;
    $1k.style.pointerEvents = "none";
    if ($B === 'Fill') {
      $1k.style.backgroundColor = "#aaaaaa";
      $1k.style.opacity = 0.5;
      $1k.style.filter = "alpha(opacity=50)";
      $1k.style.border = '2px solid #aaaaaa';
    }
    ;
    document.body.appendChild($1k);
    return $1k;
  };
  var $30 = {};
  DayPilot.Global.rowmoving = $30;
  var $1q = {};
  DayPilot.Global.linking = $1q;
  DayPilot.SchedulerVisible.dragStart = DayPilotScheduler.dragStart;
  DayPilot.SchedulerVisible.dragStop = DayPilotScheduler.dragStop;
  DayPilot.SchedulerVisible.Scheduler = DayPilotScheduler.Scheduler;
  DayPilot.SchedulerVisible.globalHandlers = DayPilotScheduler.globalHandlers;
  if (typeof jQuery !== 'undefined') {
    (function ($) {
      $.fn.daypilotScheduler = function ($d) {
        var $3I = null;
        var j = this.each(function () {
          if (this.daypilot) {
            return;
          }
          ;
          var $6K = new DayPilot.Scheduler(this.id, $d);
          $6K.init();
          this.daypilot = $6K;
          if (!$3I) {
            $3I = $6K;
          }
        });
        if (this.length === 1) {
          return $3I;
        } else {
          return j;
        }
      };
    })(jQuery);
  }
  ;
  (function registerAngularModule() {
    var $6L = DayPilot.am();
    if (!$6L) {
      return;
    }
    ;
    $6L.directive("daypilotScheduler", function () {
      return {
        "restrict": "E", "template": "<div id='{{id}};'></div>", "compile": function compile(element, $6M) {
          element.replaceWith(this["template"].replace("{{id}};", $6M["id"]));
          return function link($6N, element, $6M) {
            var $e = new DayPilot.Scheduler(element[0]);
            $e.$9y.scope = $6N;
            var $6O = $6M["id"];
            if ($6O) {
              $6N[$6O] = $e;
            }
            ;
            var $6P = $6N["$watch"];
            $6P.call($6N, $6M["daypilotConfig"], function ($6Q) {
              for (var name in $6Q) {
                $e[name] = $6Q[name];
              }
              $e.init();
              $e.update();
            }, true);
            $6P.call($6N, $6M["daypilotEvents"], function ($6Q) {
              $e.events.list = $6Q;
              $e.$8j({"eventsOnly": true});
            }, true);
          };
        }
      };
    });
  })();
  if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
    Sys.Application.notifyScriptLoaded();
  }
})();

if (typeof DayPilot === 'undefined') {
  var DayPilot = {};
}
;
if (typeof DayPilot.Global === 'undefined') {
  DayPilot.Global = {};
}
;
(function () {
  if (typeof DayPilot.Year !== 'undefined') {
    return;
  }
  ;
  DayPilot.Year = function (id, $a) {
    this.v = '1204';
    var $b = this;
    this.startDate = new DayPilot.Date();
    this.cssOnly = true;
    this.cssClassPrefix = null;
    this.columns = 4;
    this.cellWidth = 20;
    this.showWeekNumbers = false;
    this.$i = [];
    this.$j = function () {
      this.root.dp = this;
      this.$k = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us"));
    };
    this.$l = function ($c) {
      if (this.cssClassPrefix) {
        return this.cssClassPrefix + $c;
      } else {
        return "";
      }
    };
    this.$m = function () {
      if (this.showWeekNumbers) {
        return this.cellWidth;
      }
      ;
      return 0;
    };
    this.$n = function () {
      this.$i = [];
      var $d = this.columns;
      var $e = 12 / $d;
      this.root.className = this.$l('_main');
      this.root.style.width = $d * (this.cellWidth * 7 + this.$m()) + 'px';
      for (var y = 0; y < $e; y++) {
        for (var x = 0; x < $d; x++) {
          var m = y * $d + x;
          var id = id + "_nav_" + m;
          var $f = document.createElement("div");
          $f.id = id;
          $f.style.float = 'left';
          this.root.appendChild($f);
          var navigator = new DayPilot.Navigator(id);
          navigator.startDate = this.$k.addMonths(m);
          navigator.cssOnly = this.cssOnly;
          navigator.cssClassPrefix = this.cssClassPrefix;
          navigator.cellWidth = this.cellWidth;
          navigator.showWeekNumbers = this.showWeekNumbers;
          navigator.internal.showLinks = {};
          navigator.selectMode = 'none';
          navigator.timeRangeSelectedHandling = "JavaScript";
          navigator.onTimeRangeSelected = this.$o;
          navigator.init();
          navigator.root.className = '';
          this.$i.push(navigator);
        }
        ;
        var $g = document.createElement("div");
        $g.style.clear = 'left';
        this.root.appendChild($g);
      }
    };
    this.$o = function ($h) {
      alert("clicked: " + $h.day);
    };
    this.init = function () {
      this.root = document.getElementById(id);
      if (this.root.dp) {
        return;
      }
      ;
      this.$j();
      this.$n();
    };
  };
})();

